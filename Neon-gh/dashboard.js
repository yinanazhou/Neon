!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=88)}([function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,r,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var r,o,s,a;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=d(e))>0&&s.length>r&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function p(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function v(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var l=c.length,d=g(c,l);for(n=0;n<l;++n)o(d[n],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,o,s;if(l(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var i,r,o,s=[n(37),n(38),n(39),n(40),n(41),n(42)],a=-1,c=[],l=!1;function d(){i&&r&&(i=!1,r.length?c=r.concat(c):a=-1,c.length&&u())}function u(){if(!i){l=!1,i=!0;for(var e=c.length,t=setTimeout(d);e;){for(r=c,c=[];r&&++a<e;)r[a].run();a=-1,e=c.length}r=null,a=-1,i=!1,clearTimeout(t)}}for(var f=-1,h=s.length;++f<h;)if(s[f]&&s[f].test&&s[f].test()){o=s[f].install(u);break}function p(e,t){this.fun=e,this.array=t}p.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),l||i||(l=!0,o())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSettings=t.getSettings=void 0;let i=null;const r={zoom:100,glyphOpacity:100,imageOpacity:100,circleSize:25,highlightMode:"none",userMode:"edit",insertMode:"punctum",insertTab:"primitiveTab",selectionMode:"selBySyllable",debugMode:!1,displayBBox:!1,displayText:!1,displayInfo:!1,displayErrLog:!1,viewBox:null};t.getSettings=function(){return i.settings},t.setSettings=function(e){i.set(e)},t.default=class{constructor(e){i=this,this.id=e,this.load()}load(){try{const e=JSON.parse(window.localStorage.getItem(this.id));this.sync(e)}catch(e){this.sync({})}}set(e){this.settings=Object.assign(Object.assign({},this.settings),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}sync(e){this.settings=Object.assign(Object.assign({},r),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectAll=t.selectNn=t.selectBBox=t.getStaffBBox=t.isMultiStaveSelection=t.sharedSecondLevelParent=t.elementsHaveCorrectType=t.sharedLogicalParent=t.areAdjacent=t.isLigature=t.selectNcs=t.select=t.selectLayerElement=t.selectStaff=t.unselect=t.getSelectionType=void 0;const i=n(18),r=n(12),o=n(24),s=n(27),a=n(14),c=n(7);function l(){const e=document.getElementsByClassName("sel-by is-active");return 0!==e.length?e[0].id:null}function d(){document.querySelectorAll(".no-moving").forEach(e=>e.classList.remove("no-moving")),document.querySelectorAll(".selected").forEach(e=>{e.classList.remove("selected"),e.classList.contains("staff")?(e.removeAttribute("style"),i.unhighlight(e)):(e.removeAttribute("style"),e.style.fill=""),Array.from(e.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""}),Array.from(e.querySelectorAll(".sylTextRect-display")).forEach(e=>{e.style.fill="blue"}),e.parentElement.classList.contains("syllable-highlighted")&&(e.parentElement.style.fill="",e.parentElement.classList.add("syllable"),e.parentElement.classList.remove("syllable-highlighted"),Array.from(e.parentElement.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.parentElement.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""})),c.selectAll("#resizeRect").remove(),c.selectAll(".resizePoint").remove(),c.selectAll(".rotatePoint").remove()}),Array.from(document.querySelectorAll(".text-select")).forEach(e=>{e.style.color="",e.style.fontWeight="",e.classList.remove("text-select")}),document.getElementById("selByStaff").classList.contains("is-active")?a.endOptionsSelection():o.endGroupingSelection(),document.getElementById("extraEdit").innerHTML="",document.getElementById("extraEdit").parentElement.classList.add("hidden"),(0,r.updateHighlight)()}function u(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),a.triggerSingleStaffActions(),o.initGroupingListeners(),t.dragInit())}function f(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),t.dragInit())}function h(e,t,n=!0){if(e){if(e.classList.contains("staff"))return u(e,t);if(e.classList.contains("layer"))return f(e,t);if(!e.classList.contains("selected")&&!e.classList.contains("sylTextRect")&&!e.classList.contains("sylTextRect-display")){let t;if(e.classList.add("selected"),e.style.fill="#d00",e.style.stroke=e.classList.contains("divLine")?"#d00":"black",e.querySelectorAll(".sylTextRect-display").length&&e.querySelectorAll(".sylTextRect-display").forEach(e=>{e.style.fill="#d00"}),e.querySelectorAll(".divLine").length&&e.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"}),e.classList.contains("syllable")&&e.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),e.classList.contains("syllable")?t=e.id:null!==e.closest(".syllable")&&(t=e.closest(".syllable").id),void 0!==t){document.querySelectorAll("span."+t).forEach(e=>{e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select")})}}n&&(0,r.updateHighlight)()}}async function p(e,t){const n=await t.getElementAttr(e.id,t.view.getCurrentPageURI());return Boolean(n.ligated)}function m(e,t){if(t.length<2)return!1;switch(e){case"selBySyllable":t.forEach(e=>{if(!e.classList.contains("syllable"))return!1});break;case"selByNeume":t.forEach(e=>{if(!e.classList.contains("neume"))return!1});break;case"selByStaff":t.forEach(e=>{if(!e.classList.contains("staff"))return!1});break;default:return!1}return!0}function g(e){const t=Array.from(e),n=t.pop().parentElement.parentElement;for(const e of t){if(e.parentElement.parentElement.id!==n.id)return!1}return!0}function v(e,t,n){const i=e,r=i.closest(".syl");if(!r.classList.contains("selected")){r.classList.add("selected"),i.style.fill="#d00";const o=e.closest(".syllable");o.style.fill="#d00",o.classList.add("syllable-highlighted"),o.querySelectorAll(".divLine").length&&(o.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),o.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"})),void 0!==n&&(0,s.resize)(r,n,t),void 0!==t&&t.dragInit();const a=e.closest(".syllable").id;if(void 0!==a){const e=document.querySelector("span."+a);e&&(e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select"))}}a.triggerBBoxActions()}t.getSelectionType=l,t.unselect=d,t.selectStaff=u,t.selectLayerElement=f,t.select=h,t.selectNcs=async function(e,t,n){if(!e.parentElement.classList.contains("selected")){const i=e.parentElement;if(d(),h(i),await p(i,t)){const e=i.previousSibling;if(await p(e,t))h(e);else{const e=i.nextSibling;await p(e,t)?h(e):console.warn("Error: Neither prev or next nc are ligatures")}o.triggerGrouping("ligature")}else i.classList.contains("nc")?a.triggerNcActions(i):console.warn("No action triggered!");n.dragInit()}},t.isLigature=p,t.areAdjacent=function(e,t){if(t.length<2)return!1;let n;switch(e){case"selBySyllable":n=Array.from(document.querySelectorAll(".syllable"));break;case"selByNeume":return!0;case"selByNc":n=Array.from(document.querySelectorAll(".nc"));break;case"selByStaff":n=Array.from(document.querySelectorAll(".staff"));break;default:return!1}const i=[];for(let e=0;e<n.length;e++)for(let r=0;r<t.length;r++)n[e].isSameNode(t[r])&&i.push(t[r]);for(let e=0;e<i.length-1;e++){const t=i[e],r=i[e+1],o=n.indexOf(t),s=n.indexOf(r);if(1!==Math.abs(o-s))return!1}return!0},t.sharedLogicalParent=function(e,t){if(!m(e,t=t.filter(e=>!(e.classList.contains("divLine")||e.classList.contains("accid")||e.classList.contains("clef")))))return!1;switch(e){case"selBySyllable":const e=t[0].closest(".staff");for(let n=0;n<t.length;n++){if(!t[n].closest(".staff").isSameNode(e))return!1}return!0;case"selByNeume":const n=t[0].closest(".syllable");for(let e=0;e<t.length;e++){if(!t[e].closest(".syllable").isSameNode(n))return!1}return!0;case"selByStaff":return!0;default:return!1}},t.elementsHaveCorrectType=m,t.sharedSecondLevelParent=g,t.isMultiStaveSelection=function(e){const t=Array.from(e);for(let e=0;e<t.length;e++){const n=t[e].closest(".staff");for(let i=e;i<t.length;i++){const e=t[i].closest(".staff");if(!n.isSameNode(e))return!0}}return!1},t.getStaffBBox=function(e){let t,n,i,r,o;return e.querySelectorAll("path").forEach(e=>{const s=e.getAttribute("d").match(/\d+/g).map(e=>Number(e));void 0===o&&(o=Math.atan((s[3]-s[1])/(s[2]-s[0]))),(void 0===n||Math.min(s[1],s[3])<n)&&(n=Math.min(s[1],s[3])),(void 0===t||s[0]<t)&&(t=s[0]),(void 0===r||Math.max(s[1],s[3])>r)&&(r=Math.max(s[1],s[3])),(void 0===i||s[2]>i)&&(i=s[2])}),{id:e.id,ulx:t,uly:n,lrx:i,lry:r,rotate:o}},t.selectBBox=v,t.selectNn=function(e){return!(e.length>0)||(e.forEach(e=>{h(e)}),!1)},t.selectAll=async function(e,t,n){const i=l();if(d(),0===e.length)return;let r,c=!1,u=!1;switch(i){case"selBySyllable":r=".syllable";break;case"selByNeume":r=".neume";break;case"selByNc":r=".nc";break;case"selByStaff":r=".staff";break;case"selByBBox":r=".sylTextRect-display";break;case"selByLayerElement":r=".clef, .custos, .accid, .divLine";break;default:return void console.error("Unknown selection type "+i)}const f=new Set;for(const t of e){let e=t.closest(r);if(null===e){if(e=t.closest(".clef, .custos, .accid, .divLine"),null===e){console.warn("Element "+t.id+" is not part of specified group and is not a clef or custos or accid or divLine.");continue}c=c||!0}else u=u||!0;f.add(e);let n=e,i=n.getAttribute("mei:follows"),o=n.getAttribute("mei:precedes");for(;i||o;){if(i){if(n=document.querySelector("#"+i.slice(1)),f.has(n))break;n.classList.add("no-moving"),f.add(n),i=n.getAttribute("mei:follows")}if(o){if(n=document.querySelector("#"+o.slice(1)),f.has(n))break;n.classList.add("no-moving"),f.add(n),o=n.getAttribute("mei:precedes")}}}f.forEach(e=>h(e,n,!1));const p=Array.from(f.values());if(!c||u)switch(i){case"selByStaff":switch(p.length){case 1:a.triggerSingleStaffActions(),o.initGroupingListeners(),(0,s.resize)(p[0],t,n);break;default:a.triggerMultiStaffActions(),o.initGroupingListeners()}break;case"selByLayerElement":1===f.size?a.triggerLayerElementActions(p[0]):a.triggerDefaultActions();break;case"selBySyllable":switch(p.length){case 1:a.triggerSyllableActions("singleSelect");break;default:o.isLinkable("selBySyllable",p)?a.triggerSyllableActions("linkableSelect"):o.isGroupable("selBySyllable",p)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default")}break;case"selByNeume":switch(p.length){case 1:a.triggerNeumeActions(),o.initGroupingListeners();break;default:o.isGroupable("selByNeume",p)?o.triggerGrouping("neume"):a.triggerDefaultActions()}break;case"selByNc":switch(p.length){case 1:a.triggerNcActions(p[0]);break;case 2:if(g(p)){if(p[0].parentElement===p[1].parentElement){const e=Array.from(p[0].parentElement.children);if(1===Math.abs(e.indexOf(p[0])-e.indexOf(p[1]))){let e=p[0].children[0],t=p[1].children[0],n=e.x.baseVal.value,i=t.x.baseVal.value,r=e.y.baseVal.value,s=t.y.baseVal.value;if((n>i||n===i&&r<s)&&([e,t]=[t,e],[n,r,i,s]=[i,s,n,r]),n===i||r<s){o.triggerGrouping("ligature");break}}}o.triggerGrouping("nc")}else a.triggerDefaultActions();break;default:g(p)?o.triggerGrouping("nc"):a.triggerDefaultActions()}break;case"selByBBox":switch(p.length){case 1:v(p[0],n,t),a.triggerBBoxActions();break;default:p.forEach(e=>v(e,n,void 0))}break;default:console.error("Unknown selection type. This should not have occurred.")}else 1===f.size?a.triggerLayerElementActions(p[0]):"selBySyllable"==i?a.triggerDefaultSylActions():a.triggerDefaultActions()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queueNotification=t.Notification=void 0;const i=n(26),r=n(17),o=new Array(0);let s=null;const a={default:"",warning:"⚠️ ",error:"🔴 ",success:"✅ "};class c{constructor(e,t,n=null){this.message=a[t]+e,this.displayed=!1,this.id=(0,r.uuidv4)(),this.isModeMessage=-1!==e.search("Mode"),this.logInfo=n,this.timeoutID=-1,this.type=t}setTimeoutId(e){this.timeoutID=Math.max(e,-1)}display(){this.displayed=!0}getId(){return this.id}}function l(e){document.getElementById(e)&&document.getElementById(e).remove()}function d(e){!function(e){if(e.isModeMessage){if(null!==s)return void window.clearTimeout(s.timeoutID);s=e}if(o.push(e),o.length>3){l(o.shift().getId())}const t=document.getElementById("notification-content"),n=document.createElement("div");n.classList.add("neon-notification"),n.classList.add("neon-notification-"+e.type),n.id=e.getId(),n.innerHTML=e.message,t.append(n),t.style.display="",e.display()}(e),e.setTimeoutId(window.setTimeout(l,5e3,e.getId())),document.getElementById(e.getId()).addEventListener("click",()=>{window.clearTimeout(e.timeoutID),l(e.getId())})}function u(e,t="default",n=null){const r=new c(e,t,n);"error"!=r.type&&"warning"!=r.type||(0,i.recordNotification)(r),d(r)}t.Notification=c,t.queueNotification=u,t.default={queueNotification:u}},function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],i=-1;++i<t;)n[i]=arguments[i];return e.call(this,n)}return e.call(this,[])}}},function(e,t){e.exports=d3},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorLogsPanelContents=t.syllableActionsContent=t.hotkeysModal=t.editTextModal=t.groupingMenu=t.bboxActionContents=t.divLineActionContents=t.clefActionContents=t.columnActionContents=t.staffMergeActionContents=t.staffSplitActionContents=t.accidActionContents=t.layerElementInActionContents=t.layerElementOutActionContents=t.custosActionContents=t.defaultSylActionContents=t.defaultActionContents=t.neumeActionContents=t.defaultNeumeActionContents=t.ncActionContents=t.editControlsPanel=t.insertControlsPanel=t.insertTabHtml=void 0,t.insertTabHtml={primitiveTab:'<p class="insert-element-container">\n            <button id="punctum" class="side-panel-btn insertel smallel" aria-label="punctum" title="punctum"><img src="/Neon/Neon-gh/assets/img/punctum.png" class="image"/></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virga" class="side-panel-btn insertel smallel" aria-label="virga" title="virga"><img src="/Neon/Neon-gh/assets/img/virga.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virgaReversed" class="side-panel-btn insertel smallel" aria-label="Reversed Virga" title="Reversed Virga"><img src="/Neon/Neon-gh/assets/img/virga_reversed.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="diamond" class="side-panel-btn insertel smallel" aria-label="inclinatum" title="inclinatum"><img src="/Neon/Neon-gh/assets/img/diamond.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="custos" class="side-panel-btn insertel smallel" aria-label="custos" title="custos"><img src="/Neon/Neon-gh/assets/img/custos.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="cClef" class="side-panel-btn insertel smallel" aria-label="C Clef" title=" C Clef"><img src="/Neon/Neon-gh/assets/img/cClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="fClef" class="side-panel-btn insertel smallel" aria-label="F Clef" title="F Clef"><img src="/Neon/Neon-gh/assets/img/fClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentA" class="side-panel-btn insertel smallel" aria-label="Liquescent A" title="Liquescent A"><img src="/Neon/Neon-gh/assets/img/liquescentA.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentC" class="side-panel-btn insertel smallel" aria-label="Liquescent C" title="Liquescent C"><img src="/Neon/Neon-gh/assets/img/liquescentC.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="flat" class="side-panel-btn insertel smallel" aria-label="Flat" title="Flat"><img src="/Neon/Neon-gh/assets/img/accidFlat.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="natural" class="side-panel-btn insertel smallel" aria-label="Natural" title="Natural"><img src="/Neon/Neon-gh/assets/img/accidNatural.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="divLineMaxima" class="side-panel-btn insertel smallel" aria-label="DivLine Maxima" title="DivLine Maxima"><img src="/Neon/Neon-gh/assets/img/divisio.png" class="image"></button>\n        </p>',groupingTab:'<p class="insert-element-container">\n            <button id="pes" class="side-panel-btn insertel smallel" aria-label="pes" title="pes"><img src="/Neon/Neon-gh/assets/img/pes.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="clivis" class="side-panel-btn insertel smallel" aria-label="clivis" title="clivis"><img src="/Neon/Neon-gh/assets/img/clivis.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="scandicus" class="side-panel-btn insertel smallel" aria-label="scandicus" title="scandicus"><img src="/Neon/Neon-gh/assets/img/scandicus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="climacus" class="side-panel-btn insertel smallel" aria-label="climacus" title="climacus"><img src="/Neon/Neon-gh/assets/img/climacus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="torculus" class="side-panel-btn insertel smallel" aria-label="toculus" title="toculus"><img src="/Neon/Neon-gh/assets/img/torculus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="porrectus" class="side-panel-btn insertel smallel" aria-label="porrectus" title="porrectus"><img src="/Neon/Neon-gh/assets/img/porrectus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="pressus" class="side-panel-btn insertel smallel" aria-label="pressus" title="pressus"><img src="/Neon/Neon-gh/assets/img/pressus.png" class="image"></button>\n        </p>',systemTab:'<p class="insert-element-container">\n            <button id="staff" class="side-panel-btn insertel longel" aria-label="system" title="system"><img src="/Neon/Neon-gh/assets/img/staff.png" class="image"></button>\n        </p>\n        <p>Click upper left and lower right corners of new staff.</p>'},t.insertControlsPanel='<div class="panel-heading" id="insertMenu">\n        <div class="panel-heading-title">INSERT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleInsert" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n\t<div class="panel-content-subsection first-subsection">\n        <div id="insertContents" class="panel-contents" style="overflow-y: hidden;">\n            <p class="panel-tabs">\n                <a id="primitiveTab" class="insertTab">Primitive Elements</a>\n                <a id="groupingTab" class="insertTab">Grouping</a>\n                <a id="systemTab" class="insertTab">System</a>\n            </p>\n            <div id="insert_data"></div>\n        </div>\n    </div>',t.editControlsPanel='<div class="panel-heading" id="editMenu">\n        <div class="panel-heading-title focused">EDIT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleEdit" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div id="editContents" class="panel-contents">\n        <div class="panel-content-subsection first-subsection">\n            <div id="selection-mode-container">\n                <div class="panel-sub-title">Selection Mode:</div>\n                <div id="selection-mode-btns-container"  class="right-side-panel-btns-container" style="overflow-x: auto;">\n\n                        <button class="side-panel-btn sel-by" id="selBySyllable">Syllable</button>\n                        <button class="side-panel-btn sel-by" id="selByNeume">Neume</button>\n                        <button class="side-panel-btn sel-by" id="selByNc">Neume Component</button>\n                        <button class="side-panel-btn sel-by" id="selByStaff">Staff</button>\n                        <button class="side-panel-btn sel-by" id="selByLayerElement">Layer Element</button>\n\n                </div>\n            </div>\n        </div>\n\n        <div id="display-slider-actions-container">\n                <div class="panel-content-subsection hidden">\n                    <div id="moreEdit"></div>\n                </div>\n                <div class="panel-content-subsection hidden">\n                    <div id="extraEdit"></div>\n                </div>\n                    \x3c!--\n                    * The extraEdit panel is added for edit options that have dropdown menus\n                    * Like the Neume and Clef menus\n                    * This is done because the moreEdit menu needs to have overflow for cases where it has lots of buttons\n                    * But overflow ruins dropdown menus\n                    --\x3e\n                <div class="panel-content-subsection hidden">\n                    <div id="neumeEdit"></div>\n                </div>\n                <div class="panel-content-subsection">\n                    <div id="undoRedo_controls"></div>\n                </div>\n        </div>\n    </div>',t.ncActionContents='<label>Change Head Shape:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Head Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="Punctum" class="dropdown-item">Punctum</a>\n                <a id="Virga" class="dropdown-item">Virga</a>\n                <a id="VirgaReversed" class="dropdown-item">Reversed Virga</a>\n                <a id="Inclinatum" class="dropdown-item">Inclinatum</a>\n                <a id="LiquescentAnticlockwise" class="dropdown-item">Liquescent A</a>\n                <a id="LiquescentClockwise" class="dropdown-item">Liquescent C</a>\n            </div>\n        </div>\n    </div>',t.defaultNeumeActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="split-neume">Split Neumes</button>\n    </div>',t.neumeActionContents='<label>Grouping Options:</label>\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Groupings</span>\n                    <svg class="icon">\n                        <use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n                    </svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content scrollable-dropdown">\n                <a id="Climacus" class="dropdown-item grouping">Climacus</a>\n                <a id="ClimacusResupinus" class="dropdown-item grouping">Climacus Resupinus</a>\n                <a id="Clivis" class="dropdown-item grouping">Clivis</a>\n                <a id="Pes" class="dropdown-item grouping">Pes</a>\n                <a id="PesSubpunctis" class="dropdown-item grouping">Pes Subpunctis</a>\n                <a id="Porrectus" class="dropdown-item grouping">Porrectus</a>\n                <a id="PorrectusFlexus" class="dropdown-item grouping">Porrectus Flexus</a>\n                <a id="PorrectusSubpunctis" class="dropdown-item grouping">Porrectus Subpunctis</a>\n                <a id="Pressus" class="dropdown-item grouping">Pressus</a>\n                <a id="Scandicus" class="dropdown-item grouping">Scandicus</a>\n                <a id="ScandicusFlexus" class="dropdown-item grouping">Scandicus Flexus</a>\n                <a id="ScandicusSubpunctis" class="dropdown-item grouping">Scandicus Subpunctis</a>\n                <a id="Torculus" class="dropdown-item grouping">Torculus</a>\n                <a id="TorculusResupinus" class="dropdown-item grouping">Torculus Resupinus</a>\n            </div>\n        </div>\n    </div>\n    <button class="side-panel-btn" id="ungroupNcs">Ungroup</button>',t.defaultActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.defaultSylActionContents='<button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>',t.custosActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementOutActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="insertToSyllable">Insert to nearest syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementInActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="moveOutsideSyllable">Move outside syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.accidActionContents='<label>Change Accidental:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger"overflow="auto">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="ChangeToFlat" class="dropdown-item">Flat</a>\n                <a id="ChangeToNatural" class="dropdown-item">Natural</a>\n            </div>\n        </div>\n    </div>',t.staffSplitActionContents='<div>Split System:</div>\n    <div id="split-system-btns-container" class="right-side-panel-btns-container">\n        <button id="split-system" class="side-panel-btn">Split</button>\n        <button id="reset-rotate" class="side-panel-btn">Reset Rotate</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.staffMergeActionContents='<label>Merge Systems:</label>\n    <div id="merge-system-btns-container" class="right-side-panel-btns-container">\n        <button id="merge-systems" class="side-panel-btn">Merge</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.columnActionContents='<div class="col-edit-container">\n        Edit Column Information:\n        <div id="col-stepper-btns-container" class="right-side-panel-btns-container">\n            <button id="col-decrement" class="side-panel-btn col-stepper-btn">–</button>\n            <input type="text" id="col-input" class="side-panel-stepper-input" value="0">\n            <button id="col-increment" class="side-panel-btn col-stepper-btn">+</button>\n            <button id="col-confirm" class="side-panel-btn side-panel-confirm-btn" style="display:none">Confirm</button>\n            <div id="col-warning" class="side-panel-warning"></div>\n        </div>\n    </div>',t.clefActionContents='\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Displace Octave</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="increment-octave" class="dropdown-item">+1 Octave</a>\n                    <a id="decrement-octave" class="dropdown-item">-1 Octave</a>\n                </div>\n            </div>\n        </div>\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Change Clef Shape</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="CClef" class="dropdown-item">C Clef</a>\n                    <a id="FClef" class="dropdown-item">F Clef</a>\n                </div>\n            </div>\n        </div>\n    </div>\n    ',t.divLineActionContents='<label>Change DivLine:</label>\n<div class="drop_select dropdown">\n    <div class="dropdown-trigger"overflow="auto">\n        <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n            <span>Shapes</span>\n            <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n        </button>\n    </div>\n    <div class="dropdown-menu" id="dropdown-menu" role="menu">\n        <div class="dropdown-content">\n            <a id="ChangeToCaesura" class="dropdown-item">Caesura</a>\n            <a id="ChangeToFinalis" class="dropdown-item">Finalis</a>\n            <a id="ChangeToMinima" class="dropdown-item">Minima</a>\n            <a id="ChangeToMaior" class="dropdown-item">Maior</a>\n            <a id="ChangeToMaxima" class="dropdown-item">Maxima</a>\n            <a id="ChangeToVirgula" class="dropdown-item">Virgula</a>\n        </div>\n    </div>\n</div>',t.bboxActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="matchHeight">Match Height for Entire Row</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.groupingMenu={nc:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn more-edit-btn" id="groupNcs">Group Neume Components</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',neume:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="groupNeumes">Group Neumes</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',syl:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n                <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n            </div>\n\t\t</div>',ligatureNc:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="groupNcs">Group Neume Components</button>\n                        <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>',ligature:'<div class="more-edit-btn panel-btn">\n                <div class="right-side-panel-btns-container">\n                    <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                    <button class="side-panel-btn" id="delete">Delete</button>\n                </div>\n            </div>',splitSyllable:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>'},t.editTextModal='<div class="neon-modal-window-content" id="neon-modal-window-content-edit-text">\n        <label for="neon-modal-window-edit-text-input" id="neon-modal-window-edit-text-label">Enter Syllable Text:</label>\n        <input id="neon-modal-window-edit-text-input" type="text">\n        <div id="neon-modal-window-edit-text-btns">\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-cancel">Cancel</div>\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-save">Save</div>\n        </div>\n    </div>',t.hotkeysModal='\n    <div class="neon-modal-window-content" id="neon-modal-window-content-hotkeys">\n        \x3c!-- "Display" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Display</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">+</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom In</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">-</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Out</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">0</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Reset</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">h</div>\n                </div>\n                <div class="hotkey-entry-description">Hide Glyph</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">T</div>\n                </div>\n                <div class="hotkey-entry-description">Scroll To Syllable Text</div>\n            </div>\n        </div>\n\n        \x3c!-- "Edit" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Edit</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">⌘</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Undo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">⌘</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Redo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">q/w/e/r/t/y</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Highlight by Staff/Syllable/Neume/LayerElement/Selection/Off\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">1/2/3/4/5/6</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Select by Syllable/Neume/Neume Component/Staff/Layer Element/BBox\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Number</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Begin Insert for the <i>nth</i> Option in the Selected Tab\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">g</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Group/Ungroup Selected Element(s)\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- "Other" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Other</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">s</div>\n                </div>\n                <div class="hotkey-entry-description">Save File</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Esc</div>\n                </div>\n                <div class="hotkey-entry-description">Return to Edit Mode</div>\n            </div>\n        </div>\n    </div>',t.syllableActionsContent='\n  <div class="right-side-panel-btns-container">\n    <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n    <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n    <button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n  </div>\n',t.errorLogsPanelContents='<div class="panel-heading" id="errorLogHeading">\n        <div class="panel-heading-title">Error Log</div>\n        <svg class="icon">\n            <use id="toggleErrorLog" xlink:href="/Neon/Neon-gh//assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div class="panel-contents" id="errorLogContents" style="overflow: scroll; padding: 0.5em 0.75em; max-height: 300px;"><div>'},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";for(var i=n(11),r=[],o=0;o<256;++o)r.push((o+256).toString(16).substr(1));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!Object(i.a)(n))throw TypeError("Stringified UUID is invalid");return n}},function(e,t,n){"use strict";var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function(e){return"string"==typeof e&&i.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayControls=t.loadHighlightSettings=t.updateDisplayAllBtn=t.updateHighlight=t.setHighlightSelectionControls=t.setHighlightControls=t.setHighlightOption=t.getHighlightType=t.setCircleSizeControls=t.setBgOpacityFromSlider=t.setGlyphOpacityFromSlider=t.setZoomControls=void 0;const i=n(18),r=n(3),o=n(7);let s,a,c;function l(e){const t=document.getElementById("opacityOutput");document.getElementById("opacitySlider").value=t.value,(0,r.setSettings)({glyphOpacity:Number(t.value)});const n=document.querySelector("#toggle-glyph-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show glyph")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide glyph"));try{document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=(Number(t.value)/100).toString()})}catch(e){console.warn("Unable to properly set opacity to pages")}}function d(e){const t=document.querySelector("#bgOpacityOutput");(0,r.setSettings)({imageOpacity:Number(t.value)});const n=document.querySelector("#toggle-bg-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show background image")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide background image"));const i=document.querySelector("."+e);i&&(i.style.opacity=String(Number(t.value)/100))}function u(e){const t=document.getElementById("highlight-"+e),n=document.getElementById("highlight-dropdown"),o=document.getElementById("highlight-type");if((0,r.setSettings)({highlightMode:e}),n.classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),"none"===e)return o.textContent=" - Off",void i.unsetGroupingHighlight();t.classList.add("highlight-selected"),o.textContent=" - "+(e[0].toUpperCase()+e.slice(1)),i.setGroupingHighlight(e)}function f(e){document.getElementById("highlight-"+e).addEventListener("click",()=>{u(e)})}function h(){document.body.removeEventListener("click",h),document.getElementById("highlight-dropdown").classList.remove("is-active")}function p(){const e=document.getElementById("highlight-dropdown");document.getElementById("highlight-button").addEventListener("click",t=>{t.stopPropagation(),e.classList.toggle("is-active"),e.classList.contains("is-active")?(document.body.addEventListener("click",h),f("column"),f("staff"),f("syllable"),f("neume"),f("layerElement"),f("none")):document.body.removeEventListener("click",h)})}function m(){const{highlightMode:e}=(0,r.getSettings)();u(e)}t.setZoomControls=function(e){if(void 0===e)return;const t=document.getElementById("zoomSlider"),n=document.getElementById("zoomOutput"),{zoom:i}=(0,r.getSettings)();t.value=String(i),n.value=String(i),e.zoomTo(i/100),document.getElementById("reset-zoom").addEventListener("click",()=>{n.value="100",t.value="100",e.resetZoomAndPan()}),document.querySelector("#set-zoom-easy-edit").addEventListener("click",()=>{n.value="180",t.value="180",e.zoomTo(1.8)}),t.addEventListener("mouseup",(function(){n.value=t.value,e.zoomTo(Number(n.value)/100)})),t.disabled=!1,document.body.addEventListener("keydown",i=>{const r=parseInt(n.value);if("ArrowUp"===i.key||"ArrowDown"===i.key||"ArrowRight"===i.key||"ArrowLeft"===i.key)i.preventDefault();else if("+"===i.key){const i=Math.min(r+20,parseInt(t.getAttribute("max")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else if("_"===i.key){const i=Math.max(r-20,parseInt(t.getAttribute("min")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else"0"===i.key&&(n.value="100",t.value="100",e.resetZoomAndPan())})},t.setGlyphOpacityFromSlider=l,t.setBgOpacityFromSlider=d,t.setCircleSizeControls=function(){const e=document.getElementById("circleSlider"),t=document.getElementById("circleOutput"),{circleSize:n}=(0,r.getSettings)();function i(){t.value=e.value,c=Number(e.value),(0,r.setSettings)({circleSize:Number(c)});const n=o.selectAll(".resizePoint");n.empty()||n.attr("r",c)}c=n,e.value=String(n),t.value=String(n),document.getElementById("reset-circle-size").addEventListener("click",()=>{const n=o.selectAll(".resizePoint");n.empty()||n.attr("r",25),c=Number(25),e.value=String(25),t.value=String(25),(0,r.setSettings)({circleSize:Number(25)}),i()}),e.addEventListener("input",i),e.addEventListener("change",i),e.disabled=!1},t.getHighlightType=function(){return document.getElementById("highlight-type").textContent.slice(3).toLowerCase()},t.setHighlightOption=f,t.setHighlightControls=p,t.setHighlightSelectionControls=function(){const e=document.getElementById("highlight-selection");e.addEventListener("click",()=>{document.getElementById("highlight-dropdown").classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),e.classList.add("highlight-selected"),document.getElementById("highlight-type").textContent=" - Selection",i.setGroupingHighlight("selection")})},t.updateHighlight=function(){let e;try{e=document.querySelector(".highlight-selected").id}catch(t){e=""}switch(e){case"highlight-column":i.setGroupingHighlight("column");break;case"highlight-staff":i.setGroupingHighlight("staff");break;case"highlight-syllable":i.setGroupingHighlight("syllable");break;case"highlight-neume":i.setGroupingHighlight("neume");break;case"highlight-layerElement":i.setGroupingHighlight("layerElement");break;case"highlight-selection":i.setGroupingHighlight("selection");break;default:i.unsetGroupingHighlight()}},t.updateDisplayAllBtn=function(){const e=document.getElementById("display-all-btn"),t=document.getElementById("displayInfo"),n=document.getElementById("displayBBox"),i=document.getElementById("displayText"),r=document.getElementById("display-errors");(null==t?void 0:t.checked)&&(null==n?void 0:n.checked)&&(null==i?void 0:i.checked)&&(null==r?void 0:r.checked)?(e.classList.add("selected"),e.innerHTML="Hide All"):e.classList.contains("selected")&&(e.classList.remove("selected"),e.innerHTML="Display All")},t.loadHighlightSettings=m,t.initDisplayControls=function(e,t){!function(e){const t=document.getElementById("opacitySlider"),n=document.getElementById("opacityOutput"),{glyphOpacity:i}=(0,r.getSettings)();function o(){n.value=t.value,s=Number(t.value),l(e)}s=i,t.value=String(i),n.value=String(i);const a=document.getElementById("toggle-glyph-opacity");100==i&&a.classList.add("hide-icon"),null==a||a.addEventListener("click",()=>{let i;a.classList.contains("hide-icon")?(a.classList.remove("hide-icon"),i=0):(a.classList.add("hide-icon"),i=1),document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=i.toString()}),s=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({glyphOpacity:100*i}),o()}),t.addEventListener("input",o),t.addEventListener("change",o),t.disabled=!1}(e),function(e){const t=document.getElementById("bgOpacitySlider"),n=document.getElementById("bgOpacityOutput"),{imageOpacity:i}=(0,r.getSettings)();function o(){n.value=t.value,a=Number(t.value),d(e)}a=i,t.value=String(i),n.value=String(i);const s=document.getElementById("toggle-bg-opacity");100==i&&s.classList.add("hide-icon"),s.addEventListener("click",()=>{let i;s.classList.contains("hide-icon")?(s.classList.remove("hide-icon"),i=0):(s.classList.add("hide-icon"),i=1),document.getElementsByClassName(e)[0].style.opacity=i.toString(),a=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({imageOpacity:100*i}),o()}),t.addEventListener("input",o),t.addEventListener("change",o),t.disabled=!1}(t),p(),document.getElementById("burgerMenu").addEventListener("click",()=>{document.getElementById("burgerMenu").classList.toggle("is-active"),document.getElementById("navMenu").classList.toggle("is-active")}),document.body.addEventListener("keydown",e=>{if(!e.metaKey)switch(e.key){case"q":u("staff");break;case"w":u("syllable");break;case"e":u("neume");break;case"r":u("layerElement");break;case"t":u("selection");break;case"y":u("none")}}),function(){const e=document.querySelector("#display-all-btn");e.addEventListener("click",()=>{if(e.classList.contains("selected")){e.classList.remove("selected"),e.innerHTML="Display All";const t=document.querySelectorAll('.checkbox-container:not([style*="display: none;"]) > .checkbox');Array.from(t).forEach(e=>{e.checked&&e.click()})}else{e.classList.add("selected"),e.innerHTML="Hide All";const t=document.querySelectorAll('.checkbox-container:not([style*="display: none;"]) > .checkbox');Array.from(t).forEach(e=>{e.checked||e.click()})}})}(),m();const n=document.getElementById("displayContents"),i=document.getElementById("toggleDisplay");document.getElementById("displayHeader").addEventListener("click",e=>{e.stopPropagation(),n.classList.contains("closed")?(n.classList.remove("closed"),n.style.padding="0.5em 0.75em",setTimeout(()=>{n.style.overflow="visible"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(n.classList.add("closed"),n.style.overflow="hidden",setTimeout(()=>{n.style.padding="0px"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=t.ModalWindowView=void 0;const i=n(8),r=n(33),o=n(4);var s,a;!function(e){e[e.EDIT_TEXT=0]="EDIT_TEXT",e[e.HOTKEYS=1]="HOTKEYS",e[e.ERROR_LOG=2]="ERROR_LOG",e[e.DOCUMENT_UPLOAD=3]="DOCUMENT_UPLOAD",e[e.MOVE_TO=4]="MOVE_TO",e[e.NEW_FOLDER=5]="NEW_FOLDER",e[e.RENAME=6]="RENAME"}(s=t.ModalWindowView||(t.ModalWindowView={})),function(e){e[e.OPEN=0]="OPEN",e[e.CLOSED=1]="CLOSED"}(a||(a={}));t.ModalWindow=class{constructor(e){this.openEditSylTextModalWindow=function(){Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),document.getElementById("neon-modal-window-content-edit-text").classList.add("visible"),document.getElementById("neon-modal-window-edit-text-cancel").removeEventListener("click",this.hideModalWindow),document.getElementById("neon-modal-window-edit-text-cancel").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window-edit-text-save").removeEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-edit-text-save").addEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()},this.updateSylText=function(){const e=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0],t=e.textContent.replace(/\u{25CA}/u,"").trim(),n=document.getElementById("neon-modal-window-edit-text-input").value;if(null!==n&&n!==t){const t={action:"setText",param:{elementId:[...e.classList.entries()].filter(e=>"text-select"!==e[1]&&"selected-to-edit"!==e[1])[0][1],text:n}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(t=>{t&&this.neonView.updateForCurrentPage().then(()=>{this.updateSelectedBBox(e,this.dragHandler,this.neonView)})})}else this.updateSelectedBBox(e,this.dragHandler,this.neonView);this.hideModalWindow()},this.keydownListener=function(e){switch(e.stopImmediatePropagation(),this.modalWindowView){case s.EDIT_TEXT:"Enter"===e.key&&this.updateSylText();default:"Escape"===e.key&&this.hideModalWindow()}},this.focusModalWindow=function(){switch(this.modalWindowView){case s.EDIT_TEXT:document.getElementById("neon-modal-window-edit-text-input").select();break;case s.DOCUMENT_UPLOAD:case s.NEW_FOLDER:case s.RENAME:break;default:document.getElementById("neon-modal-window").focus()}},this.neonView=e,this.modalWindowState=a.CLOSED,this.setupEventListeners()}setupEventListeners(){document.getElementById("neon-modal-window-header-close").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").addEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").addEventListener("click",this.focusModalWindow.bind(this))}removeEventListeners(){document.getElementById("neon-modal-window-header-close").removeEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").removeEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").removeEventListener("click",this.focusModalWindow.bind(this))}setModalWindowView(e,t){this.modalWindowView=e,this.setModalWindowContent(t)}getModalWindowView(){return this.modalWindowView.toString()}openModalWindow(){switch(Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),this.modalWindowView){case s.EDIT_TEXT:this.openEditSylTextModalWindow();break;case s.HOTKEYS:document.getElementById("neon-modal-window-content-hotkeys").classList.add("visible");case s.DOCUMENT_UPLOAD:case s.MOVE_TO:case s.NEW_FOLDER:case s.RENAME:default:document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()}document.body.style.overflowX="hidden",document.body.style.overflowY="hidden",this.modalWindowState=a.OPEN}hideModalWindow(){switch(this.modalWindowView){case s.EDIT_TEXT:document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].classList.remove("selected-to-edit");break;case s.DOCUMENT_UPLOAD:case s.MOVE_TO:case s.NEW_FOLDER:case s.RENAME:document.getElementById("neon-modal-window-content-container").innerHTML=""}document.getElementById("neon-modal-window-container").style.display="none",document.body.style.overflowX="hidden",document.body.style.overflowY="scroll",this.modalWindowState=a.CLOSED,this.removeEventListeners()}setModalWindowContent(e){const t=document.getElementById("neon-modal-window-content-container"),n=document.getElementById("neon-modal-window-header-title");switch(this.modalWindowView){case s.EDIT_TEXT:t.innerHTML=i.editTextModal,n.innerText="EDIT SYLLABLE TEXT";const o=/\u{25CA}/u,a=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].textContent.replace(o,"").trim();document.getElementById("neon-modal-window-edit-text-input").value=a;break;case s.HOTKEYS:t.innerHTML=i.hotkeysModal,n.innerText="HOTKEYS";break;case s.ERROR_LOG:t.innerHTML=`<div style="margin-bottom: 30px;white-space: pre-line;">${e}</div>\n          <div class="neon-modal-window-btn">\n            <a href="data:text/plain;charset=utf-8,${encodeURI(e)}" download="error.log">\n              Export\n            </a>\n            </div>`,n.innerText="ERROR LOG";break;case s.DOCUMENT_UPLOAD:n.innerText="DOCUMENT UPLOAD",t.innerHTML=r.uploadAreaHTML;break;case s.MOVE_TO:n.innerText="MOVE TO";break;case s.NEW_FOLDER:n.innerText="NEW FOLDER",t.innerHTML=r.newFolderHTML;break;case s.RENAME:n.innerText="RENAME",t.innerHTML=r.renameHTML;break;default:console.error("Unknown selection type. This should not have occurred.")}}updateSelectedBBox(e,t,n){(0,o.unselect)();const i=Array.from(e.classList).find(e=>"text-select"!==e&&"selected-to-edit"!==e);if(document.getElementById("displayBBox").checked&&document.getElementById(i)){const e=document.getElementById(i).querySelector(".sylTextRect-display");(0,o.selectBBox)(e,t,n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerDefaultActions=t.triggerDefaultSylActions=t.triggerBBoxActions=t.triggerSingleStaffActions=t.triggerStaffSplitMode=t.triggerMultiStaffActions=t.triggerLayerElementActions=t.triggerSyllableActions=t.triggerNeumeActions=t.triggerNcActions=t.addChangeStaffListener=t.matchHeightHandler=t.moveOutsideSyllableHandler=t.insertToSyllableHandler=t.changeStaffHandler=t.removeHandler=t.endOptionsSelection=t.deleteButtonHandler=t.unsetLiquescentAnticlockwiseAction=t.unsetLiquescentClockwiseAction=t.unsetVirgaReversedAction=t.unsetVirgaAction=t.unsetInclinatumAction=t.initNeonView=void 0;const i=n(8),r=n(24),o=n(5),s=n(35),a=n(36),c=n(4);let l;function d(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function u(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function f(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function h(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function p(e){return{action:"setLiquescent",param:{elementId:e,curve:""}}}function m(e){"d"!==e.key&&"Backspace"!==e.key||(v(),e.preventDefault())}function g(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden")),document.body.removeEventListener("keydown",m)}function v(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{t.classList.contains("syl")&&(t=t.closest(".syllable")),t.classList.contains("accid")&&(t=t.closest(".accid")),t.classList.contains("divLine")&&(t=t.closest(".divLine")),e.push({action:"remove",param:{elementId:t.id}})});const t={action:"chain",param:e};g(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function y(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"changeStaff",param:{elementId:t.id}})});const t={action:"chain",param:e};g(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function b(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"insertToSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Insert Success","success"):o.default.queueNotification("Insert Failed XoX","error"),g(),l.updateForCurrentPage()})}function _(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"moveOutsideSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Move Success","success"):o.default.queueNotification("Move Failed XoX","error"),g(),l.updateForCurrentPage()})}function w(){const e=Array.from(document.getElementsByClassName("selected"));e.length>1&&o.default.queueNotification("Cannot match height to multiple bbox","error");const t={action:"matchHeight",param:{elementId:e[0].id}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Height Match Success","success"):o.default.queueNotification("Height Match Failed XoX","error"),g(),l.updateForCurrentPage()})}function E(){const e=document.getElementById("delete");e&&(e.removeEventListener("click",v),e.addEventListener("click",v),document.body.addEventListener("keydown",m))}function S(){const e=document.getElementById("changeStaff");null==e||e.removeEventListener("click",y),null==e||e.addEventListener("click",y)}function k(){const e=document.getElementById("col-input"),t=document.querySelectorAll(".staff.selected");let n;for(const e of t){const t=Array.from(e.classList).join(" ").match(/\bcolumn(\d+)\b/);if(t){const e=parseInt(t[1],10);if(n&&n!=e){document.getElementById("col-warning").innerText="The selected staves are not of the same column!",n=0;break}n=e}}n&&(e.value=n.toString())}function L(){const e=document.getElementById("col-decrement"),t=document.getElementById("col-increment"),n=document.getElementById("col-confirm"),i=document.getElementById("col-input");function r(e){let t=parseInt(i.value,10)||0;t+=e,t=Math.min(Math.max(t,1),5),t.toString()!=i.value&&(n.style.display=""),i.value=t.toString()}e.addEventListener("click",(function(){r(-1)})),t.addEventListener("click",(function(){r(1)})),n.addEventListener("click",(function(){const e=[];document.querySelectorAll(".staff.selected").forEach(t=>{e.push({action:"set",param:{elementId:t.id,attrType:"type",attrValue:"column"+i.value}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Column Value Update Success","success"):o.default.queueNotification("Column Value Update Failed XoX","error"),g(),l.updateForCurrentPage()})}))}function A(e,t,n=!0){const i=document.getElementById(e);i&&(i.parentElement.classList.remove("hidden"),n?i.innerHTML=t:i.innerHTML+=t)}function x(e){l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}function C(){const e=document.querySelector(".staff.selected");if(null!==e){new s.SplitStaffHandler(l,e).startSplit(),g()}else console.error("No staff was selected!"),g()}function N(){document.querySelectorAll(".drop_select").forEach(e=>{const t=()=>{document.body.removeEventListener("click",t),e.classList.remove("is-active")};e.addEventListener("click",n=>{e.classList.toggle("is-active"),Array.from(document.querySelectorAll(".drop_select")).filter(t=>t!==e).forEach(e=>e.classList.remove("is-active")),n.stopPropagation(),e.classList.contains("is-active")?document.body.addEventListener("click",t):document.body.removeEventListener("click",t)})})}t.initNeonView=function(e){l=e,r.initNeonView(e)},t.unsetInclinatumAction=d,t.unsetVirgaAction=u,t.unsetVirgaReversedAction=f,t.unsetLiquescentClockwiseAction=h,t.unsetLiquescentAnticlockwiseAction=p,t.deleteButtonHandler=m,t.endOptionsSelection=g,t.removeHandler=v,t.changeStaffHandler=y,t.insertToSyllableHandler=b,t.moveOutsideSyllableHandler=_,t.matchHeightHandler=w,t.addChangeStaffListener=S,t.triggerNcActions=function(e){g(),A("moreEdit",i.defaultActionContents),A("extraEdit",i.ncActionContents),E(),document.querySelector("#Punctum.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=u(e.id),i=f(e.id),r=h(e.id),s=p(e.id);l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#Inclinatum.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=f(e.id),i=h(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"se"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#Virga.dropdown-item").addEventListener("click",()=>{const t=f(e.id),n=d(e.id),i=h(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"s"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#VirgaReversed.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=u(e.id),i=h(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"n"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentClockwise.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=u(e.id),i=f(e.id),r=p(e.id),s={action:"setLiquescent",param:{elementId:e.id,curve:"c"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentAnticlockwise.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=u(e.id),i=f(e.id),r=h(e.id),s={action:"setLiquescent",param:{elementId:e.id,curve:"a"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),N()},t.triggerNeumeActions=function(){g(),A("moreEdit",i.defaultNeumeActionContents),A("extraEdit",i.neumeActionContents),E();const e=document.querySelectorAll(".selected");function t(t){const n={action:"changeGroup",param:{elementId:e[0].id,contour:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Grouping Changed","success"):o.default.queueNotification("Grouping Failed","error"),g(),l.updateForCurrentPage()})}1===e.length?(document.getElementById("split-neume").addEventListener("click",()=>{const e=document.querySelector(".neume.selected");if(null!==e){new a.SplitNeumeHandler(l,e).startSplit(),g()}else console.error("No staff was selected!"),g()}),document.querySelector("#Pes.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PesSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Clivis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Scandicus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Climacus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ClimacusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Torculus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#TorculusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Porrectus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Pressus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),N()):console.warn("More than one neume selected! Cannot trigger Neume ClickSelect actions.")},t.triggerSyllableActions=function(e){g(),A("moreEdit",i.syllableActionsContent);let t="";switch(e){case"singleSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"linkableSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"multiSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"default":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>'}A("moreEdit",t,!0),S(),E(),r.initGroupingListeners()},t.triggerLayerElementActions=function(e){var t,n,r,s;if(g(),e.classList.contains("custos"))return A("moreEdit",i.custosActionContents),S(),void E();A("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents,!1),e.classList.contains("accid")?(A("extraEdit",i.accidActionContents),function(e){document.querySelector("#ChangeToFlat.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"f"}})}),document.querySelector("#ChangeToNatural.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"n"}})}),N()}(e)):e.classList.contains("clef")?(A("extraEdit",i.clefActionContents),function(e){document.querySelector("#increment-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"above"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Clef octave incremented.","success"):o.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#decrement-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"below"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Clef octave decremented.","success"):o.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#CClef.dropdown-item").addEventListener("click",()=>{x({action:"setClef",param:{elementId:e.id,shape:"C"}})}),document.querySelector("#FClef.dropdown-item").addEventListener("click",()=>{x({action:"setClef",param:{elementId:e.id,shape:"F"}})}),N()}(e)):e.classList.contains("divLine")&&(A("extraEdit",i.divLineActionContents),function(e){document.querySelector("#ChangeToMinima.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"minima"}})}),document.querySelector("#ChangeToMaior.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"maior"}})}),document.querySelector("#ChangeToMaxima.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"maxima"}})}),document.querySelector("#ChangeToFinalis.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"finalis"}})}),document.querySelector("#ChangeToCaesura.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"caesura"}})}),document.querySelector("#ChangeToVirgula.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"virgula"}})}),N()}(e)),S(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",_),E(),S(),null===(r=document.getElementById("insertToSyllable"))||void 0===r||r.addEventListener("click",b),null===(s=document.getElementById("moveOutsideSyllable"))||void 0===s||s.addEventListener("click",_)},t.triggerMultiStaffActions=function(){g(),A("moreEdit",i.staffMergeActionContents),A("extraEdit",i.columnActionContents),E(),k(),L(),document.getElementById("merge-systems").addEventListener("click",()=>{r.mergeStaves()})},t.triggerStaffSplitMode=C,t.triggerSingleStaffActions=function(){g(),A("moreEdit",i.staffSplitActionContents),A("extraEdit",i.columnActionContents),E(),k(),L(),document.getElementById("split-system").addEventListener("click",()=>{C()}),document.getElementById("reset-rotate").addEventListener("click",()=>{const e=document.querySelector(".staff.selected"),t=(0,c.getStaffBBox)(e),n=Math.tan(t.rotate)*(t.lrx-t.ulx);if(null!==e){const i={action:"resizeRotate",param:{elementId:e.id,ulx:t.ulx,uly:t.rotate>0?t.uly+n/2:t.uly-n/2,lrx:t.lrx,lry:t.rotate>0?t.lry-n/2:t.lry+n/2,rotate:0}};l.edit(i,l.view.getCurrentPageURI()).then(async e=>{e&&await l.updateForCurrentPage()}),g()}else console.error("No staff was selected"),g()})},t.triggerBBoxActions=function(){g(),A("moreEdit",i.bboxActionContents),E(),document.getElementById("matchHeight").addEventListener("click",()=>{w()})},t.triggerDefaultSylActions=function(){g(),A("moreEdit",i.defaultSylActionContents),E(),S()},t.triggerDefaultActions=function(){g(),A("moreEdit",i.defaultActionContents),E()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlyphBBox=t.isOutOfSVGBounds=t.getStaffByCoords=t.getStaffIdByCoords=t.getSVGRelCoords=void 0;const i=n(4);function r(e,t){const n=new DOMPoint(e,t),i=document.querySelector(".active-page > .definition-scale").querySelector(".page-margin"),{x:r,y:o}=n.matrixTransform(i.getScreenCTM().inverse());return{x:r,y:o}}function o(e,t){const n=Array.from(document.querySelectorAll(".staff")).map(e=>(0,i.getStaffBBox)(e)),{x:o,y:s}=r(e,t),a=n.find(e=>o<=e.lrx&&o>=e.ulx&&s<=e.lry&&s>=e.uly);return a?a.id:null}t.getSVGRelCoords=r,t.getStaffIdByCoords=o,t.getStaffByCoords=function(e,t){const n=o(e,t);return document.querySelector("#"+n)},t.isOutOfSVGBounds=function(e,t){const n=document.querySelector("#bgimg");return e<=0||e>=Number(n.getAttribute("width"))||t<=0||t>=Number(n.getAttribute("height"))},t.getGlyphBBox=function(e){const t="rect"==e.tagName?e.getBBox():e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],r=e[2],o=e[3];i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&i)+t[2]+606105819|0)<<17|r>>>15)+o|0)&o|~r&n)+t[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&i)+t[6]-1473231341|0)<<17|r>>>15)+o|0)&o|~r&n)+t[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&i)+t[10]-42063|0)<<17|r>>>15)+o|0)&o|~r&n)+t[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&i)+t[14]-1502002290|0)<<17|r>>>15)+o|0)&o|~r&n)+t[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|r>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0)<<9|o>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|r>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|r>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0)<<9|o>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|r>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|r>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|r>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|r>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|r>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[14]-1416354905|0)<<15|r>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[10]-1051523|0)<<15|r>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[6]-1560198380|0)<<15|r>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[2]+718787259|0)<<15|r>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=o+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,r,o,s,a,c,l=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(d,i(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(d,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(d,o),d}function s(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function d(){this.reset()}return a(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,i){var r,o,s,a,c=this.byteLength,l=t(n,c),d=c;return i!==e&&(d=t(i,c)),l>d?new ArrayBuffer(0):(r=d-l,o=new ArrayBuffer(r),s=new Uint8Array(o),a=new Uint8Array(this,l,r),s.set(a),o)}}(),d.prototype.append=function(e){return this.appendBinary(c(e)),this},d.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},d.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},d.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},d.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},d.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},d.prototype._finish=function(e,t){var i,r,o,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,e),s=0;s<16;s+=1)e[s]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),o=parseInt(i[1],16)||0,e[14]=r,e[15]=o,n(this._hash,e)},d.hash=function(e,t){return d.hashBinary(c(e),t)},d.hashBinary=function(e,t){var n=a(o(e));return t?l(n):n},d.ArrayBuffer=function(){this.reset()},d.ArrayBuffer.prototype.append=function(e){var t,i,o,s,a,c=(i=this._buff.buffer,o=e,s=!0,(a=new Uint8Array(i.byteLength+o.byteLength)).set(new Uint8Array(i)),a.set(new Uint8Array(o),i.byteLength),s?a:a.buffer),l=c.length;for(this._length+=e.byteLength,t=64;t<=l;t+=64)n(this._hash,r(c.subarray(t-64,t)));return this._buff=t-64<l?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},d.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i[t]<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},d.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.ArrayBuffer.prototype.getState=function(){var e,t=d.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},d.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,i=e.length,r=new ArrayBuffer(i),o=new Uint8Array(r);for(n=0;n<i;n+=1)o[n]=e.charCodeAt(n);return t?o:r}(e.buff,!0),d.prototype.setState.call(this,e)},d.ArrayBuffer.prototype.destroy=d.prototype.destroy,d.ArrayBuffer.prototype._finish=d.prototype._finish,d.ArrayBuffer.hash=function(e,t){var i=a(function(e){var t,i,o,s,a,c,l=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(d,r(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),i=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(d,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(d,o),d}(new Uint8Array(e)));return t?l(i):i},d}()},function(e,t,n){"use strict";function i(e){if(16!==e.length)return"";function t(e,t){return e+t.toString(16).padStart(2,"0")}return e.slice(0,4).reduce(t,"")+"-"+e.slice(4,6).reduce(t,"")+"-"+e.slice(6,8).reduce(t,"")+"-"+e.slice(8,10).reduce(t,"")+"-"+e.slice(10).reduce(t,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.uuidv4=void 0,t.uuidv4=function(){if(void 0===window.crypto)return i(new Uint8Array(16));const e=new Uint8Array(16),t=Uint8Array.from([parseInt("01000000",2),parseInt("10000000",2),parseInt("00001111",2),parseInt("00111111",2)]);return window.crypto.getRandomValues(e),e[6]=e[6]&t[2]|t[0],e[8]=e[8]&t[3]|t[1],i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupingHighlight=t.setStaffHighlight=t.highlight=t.unsetGroupingHighlight=t.unsetStaffHighlight=t.unhighlight=void 0;const i=["rgb(230, 159, 0)","rgb(86, 180, 233)","rgb(0, 158, 115)","rgb(240, 228, 66)","rgb(0, 114, 178)","rgb(213, 94, 0)","rgb(204, 121, 167)"];function r(e){let t;t=e?e.querySelectorAll(":not(.selected) .highlighted"):document.querySelectorAll(":not(.selected) .highlighted"),t.forEach(e=>{if("path"!==e.tagName||e.closest(".staff").classList.contains("selected"))if(e.classList.contains("divLine")&&!e.closest(".staff").classList.contains("selected"))e.setAttribute("stroke","#000000");else{e.removeAttribute("fill");let t=e.querySelectorAll(".sylTextRect-display");if(!t.length)try{t=e.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(e){t=[]}t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")}))}else e.setAttribute("stroke","#000000");e.classList.remove("highlighted")})}function o(){r()}function s(){o();Array.from(document.getElementsByClassName("highlighted")).filter(e=>!e.parentElement.classList.contains("selected")).forEach(e=>{e.setAttribute("#d00",null);let t=e.querySelectorAll(".sylTextRect-display");t.length||null!==e.closest(".syllable")&&(t=e.closest(".syllable").querySelectorAll("sylTextRect-display")),t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")})),e.classList.remove("highlighted"),e.querySelectorAll("sylTextRect-display").forEach(e=>{e.classList.remove("highlighted")})}),Array.from(document.getElementsByClassName("selected")).forEach(e=>{e.setAttribute("fill","")})}function a(e,t){const n=Array.from(e.children);for(let e=0;e<n.length;e++){const i=n[e];if("path"===i.tagName)i.setAttribute("stroke",t);else if(i.classList.contains("divLine"))i.setAttribute("stroke",t),i.setAttribute("stroke-width","30px");else if(i.querySelectorAll(".divLine").length&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.querySelectorAll(".divLine")).forEach(e=>{n.push(e)});else{if(i.classList.contains("resizePoint")||"resizeRect"===i.id||i.classList.contains("rotatePoint"))return;if(i.classList.contains("layer"))Array.from(i.children).forEach(e=>{n.push(e)});else if(document.getElementsByClassName("highlight-selected").length&&"highlight-neume"===document.getElementsByClassName("highlight-selected")[0].id&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.classList.contains("neume")).forEach(e=>{n.push(e)});else{i.setAttribute("fill",t);let e=i.querySelectorAll(".sylTextRect-display");if(!e.length)try{e=i.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(t){e=[]}e.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t,e.classList.add("highlighted"))}))}}i.classList.add("highlighted")}let i;i="30px",e.querySelectorAll(".nc, .custos, .clef, .accid").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width",i)})}function c(){const e=Array.from(document.getElementsByClassName("staff"));for(let t=0;t<e.length;t++){const n=i[t%i.length];a(e[t],n)}}t.unhighlight=r,t.unsetStaffHighlight=o,t.unsetGroupingHighlight=s,t.highlight=a,t.setStaffHighlight=c,t.setGroupingHighlight=function e(t){if(s(),"staff"===t)return void c();if("column"===t)return void function(){const e={};document.querySelectorAll(".staff").forEach(t=>{const n=Array.from(t.classList).join(" ").match(/\bcolumn(\d+)\b/);let i=0;n&&(i=parseInt(n[1],10)-1),e[i]||(e[i]=[]),e[i].push(t)});for(const[t,n]of Object.entries(e)){const e=i[Number(t)%i.length];for(const t of n)a(t,e)}}();if("selection"===t){switch(document.querySelector(".sel-by.is-active").id){case"selBySyllable":case"selByBBox":t="syllable";break;case"selByColumn":t="column";break;case"selByStaff":t="staff";break;case"selByLayerElement":t="layerElement";break;case"selByNeume":default:t="neume"}return void e(t)}let n;n="layerElement"==t?document.querySelectorAll(".accid, .clef, .custos, .divLine"):document.getElementsByClassName(t),document.querySelectorAll(".nc, .custos, .clef, .accid, .divLine").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width","30px")});for(let e=0;e<n.length;e++){const t=i[e%i.length];if(null!==n[e].closest(".selected")||n[e].classList.contains("selected"))n[e].classList.contains("selected")?n[e].setAttribute("fill","#d00"):n[e].setAttribute("fill",null),n[e].classList.remove("highlighted");else{n[e].setAttribute("fill",t);n[e].querySelectorAll(".sylTextRect-display").forEach((function(e){e.closest(".syl").classList.contains("selected")||e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t)})),n[e].classList.add("highlighted"),n[e].querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("highlighted")})}const r=n[e].querySelectorAll(".divLine");if(r)for(let e=0;e<r.length;e++)r[e].setAttribute("stroke",t),r[e].setAttribute("stroke-width","30px")}}},,function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return o}));var r=new Uint8Array(16);function o(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}},function(e,t,n){"use strict";function i(e,t,n){var i=n[n.length-1];e===i.element&&(n.pop(),i=n[n.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(e);else if(o===t.length-2){r[t.pop()]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,i,r,o,s,a,c,l,d,u,f="";n=t.pop();)if(i=n.obj,f+=n.prefix||"",r=n.val||"")f+=r;else if("object"!=typeof i)f+=void 0===i?null:JSON.stringify(i);else if(null===i)f+="null";else if(Array.isArray(i)){for(t.push({val:"]"}),o=i.length-1;o>=0;o--)s=0===o?"":",",t.push({obj:i[o],prefix:s});t.push({val:"["})}else{for(c in a=[],i)i.hasOwnProperty(c)&&a.push(c);for(t.push({val:"}"}),o=a.length-1;o>=0;o--)d=i[l=a[o]],u=o>0?",":"",u+=JSON.stringify(l)+":",t.push({obj:d,prefix:u});t.push({val:"{"})}return f},t.parse=function(e){for(var t,n,r,o,s,a,c,l,d,u=[],f=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,i(null,u,f);break;case"t":h+=3,i(!0,u,f);break;case"f":h+=4,i(!1,u,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",h--;;){if(r=e[h++],!/[\d\.\-e\+]/.test(r)){h--;break}n+=r}i(parseFloat(n),u,f);break;case'"':for(o="",s=void 0,a=0;'"'!==(c=e[h++])||"\\"===s&&a%2==1;)o+=c,"\\"===(s=c)?a++:a=0;i(JSON.parse('"'+o+'"'),u,f);break;case"[":l={element:[],index:u.length},u.push(l.element),f.push(l);break;case"{":d={element:{},index:u.length},u.push(d.element),f.push(d);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===u.length)return u.pop();i(u.pop(),u,f)}}},function(e,t,n){"use strict";var i=n(20),r=n(10);t.a=function(e,t,n){var o=(e=e||{}).random||(e.rng||i.a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=o[s];return t}return Object(r.a)(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(7),r=n(15),o=n(5),s=n(4);t.default=class{constructor(e,t){this.dragStartCoords=[-1,-1],this.neonView=e,this.selector=t}dragInit(){const e=i.drag().on("start",function(){this.dragStartCoords=[i.event.x,i.event.y],this.dx=0,this.dy=0,i.event.sourceEvent.target.classList.contains("staff")&&i.select(this.selector).call(e)}.bind(this)).on("drag",this.dragging.bind(this)).on("end",this.dragEnded.bind(this));i.selectAll(".selected").call(e);let t=Array.from(document.querySelectorAll(".selected"));this.noMovePrecedes=t.filter(e=>e.classList.contains("no-moving")&&e.hasAttribute("mei:precedes")),t=t.filter(e=>!e.classList.contains("no-moving")),this.selection=t.concat(Array.from(document.querySelectorAll(".resizePoint")))}dragging(){this.dx=i.event.x-this.dragStartCoords[0],this.dy=i.event.y-this.dragStartCoords[1],this.moveElements(this.selection,this.dx,this.dy);if(0===this.selection.filter(e=>e.classList.contains("syl")).length&&0===this.noMovePrecedes.length){const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));this.moveElements(e,-this.dx,-this.dy)}}dragEnded(){const e=Math.abs(this.dx),t=Math.abs(this.dy);if(e<=5&&t<=5)return this.reset(),void this.dragInit();const n=this.selection.filter(e=>!e.classList.contains("resizePoint"));if(this.isCursorOutOfBounds()||this.isDragOutOfBounds(n)){this.returnElements(this.selection);const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));return this.returnElements(e),this.reset(),this.dragInit(),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Drag action failed.","error")}const i=[];n.forEach(e=>{const t={action:"drag",param:{elementId:"rect"===e.tagName?e.closest(".syl").id:e.id,x:this.dx,y:-this.dy}};i.push(t)});const r={action:"chain",param:i};this.neonView.edit(r,this.neonView.view.getCurrentPageURI()).then(async()=>{const e=Array.from(document.querySelectorAll(".selected")).filter(e=>!e.classList.contains("no-moving")).map(e=>e.id);await this.neonView.updateForCurrentPage(),this.endOptionsSelection(),this.reset(),await this.reselect(e),this.dragInit()})}async reselect(e){const t=e.map(e=>document.querySelector("#"+e));t.filter(e=>!e.classList.contains("syl")).forEach(async()=>await(0,s.selectAll)(t,this.neonView,this)),t.filter(e=>e.classList.contains("syl")).forEach(e=>(0,s.selectBBox)(e.querySelector(".sylTextRect-display"),this,this.neonView)),t.filter(e=>e.classList.contains("staff")).forEach(e=>(0,s.selectStaff)(e,this))}resetTo(e){this.resetToAction=e}reset(){void 0!==this.resetToAction&&i.select(this.selector).call(this.resetToAction)}endOptionsSelection(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden"))}moveElements(e,t,n){e.filter(e=>null!==e).forEach(e=>{e.setAttribute("transform",`translate(${t},${n})`)})}returnElements(e){e.filter(e=>null!==e).forEach(e=>{e.removeAttribute("transform")})}isCursorOutOfBounds(){const e=this.dragStartCoords[0]+this.dx,t=this.dragStartCoords[1]+this.dy;return(0,r.isOutOfSVGBounds)(e,t)}isDragOutOfBounds(e){let t=document.querySelector("#displayBBox").checked?"use, rect":"use";e[0].classList.contains("staff")&&(t="path");const n=e.reduce((e,n)=>e.concat(...n.querySelectorAll(t)),[]).map(r.getGlyphBBox).reduce((e,t)=>({ulx:Math.min(e.ulx,t.ulx),uly:Math.min(e.uly,t.uly),lrx:Math.max(e.lrx,t.lrx),lry:Math.max(e.lry,t.lry)}),{ulx:Number.MAX_VALUE,uly:Number.MAX_VALUE,lrx:Number.MIN_VALUE,lry:Number.MIN_VALUE}),{ulx:i,uly:o,lrx:s,lry:a}=n;return(0,r.isOutOfSVGBounds)(i+this.dx,o+this.dy)||(0,r.isOutOfSVGBounds)(s+this.dx,a+this.dy)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initGroupingListeners=t.endGroupingSelection=t.triggerGrouping=t.mergeStaves=t.isLinkable=t.canBeLinked=t.isLinked=t.isGroupable=t.initNeonView=void 0;const i=n(8),r=n(34),o=n(5),s=n(4),a=n(14),c=n(14);let l;function d(e,t){if(Array.from(t.values()).length<2)return!1;switch(e){case"selByNeume":if(s.sharedLogicalParent(e,t))return!1;default:return!!s.areAdjacent(e,t)}}function u(e,t){switch(t||(t=Array.from(document.querySelectorAll(".selected"))),e){case"selBySyllable":for(const e of t)if(e.hasAttribute("mei:follows")||e.hasAttribute("mei:precedes"))return o.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1;case"selByNeume":for(const e of t)if(e.parentElement.hasAttribute("mei:follows")||e.parentElement.hasAttribute("mei:precedes"))return o.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1;case"selByNc":for(const e of t)if(e.parentElement.parentElement.hasAttribute("mei:follows")||e.parentElement.parentElement.hasAttribute("mei:precedes"))return o.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1}}function f(e){for(const t of e)if(!t.hasAttribute("mei:precedes")&&!t.hasAttribute("mei:follows"))return!1;return!0}function h(e){e.sort((e,t)=>{const n=e.closest(".staff"),i=t.closest(".staff");return n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1});const t=Array.from(document.querySelectorAll(".staff")),n=Array.from(document.querySelectorAll(".syllable"));for(let i=0;i<e.length-1;i++){const r=e[i],o=e[i+1],s=n.indexOf(r);if(n.indexOf(o)-s!=1)return!1;const a=r.closest(".staff"),c=o.closest(".staff"),l=t.indexOf(a);if(t.indexOf(c)-l!=1)return!1}if(2===e.length)return e.every(e=>!e.hasAttribute("mei:precedes")&&!e.hasAttribute("mei:follows"));const i=e.filter(e=>!e.hasAttribute("mei:precedes")&&!e.hasAttribute("mei:follows"));if(1!==i.length)return!1;const r=i[0];return 0===e.indexOf(r)||e.indexOf(r)===e.length-1}function p(e,t){return!(t.length<2)&&("selBySyllable"===e&&(function(e){for(let t=0;t<e.length;t++){const n=e.at(t);if(n.hasAttribute("mei:precedes")){const i=n.getAttribute("mei:precedes").replace("#","");let r;const o=e.find((e,t)=>e.id===i&&(r=t,!0));if(!o)return!0;if(!o.hasAttribute("mei:follows"))return!0;if(o.getAttribute("mei:follows")!="#"+n.id)return!0;if(r!==t+1)return!0}if(n.hasAttribute("mei:follows")){const t=n.getAttribute("mei:follows").replace("#",""),i=e.find(e=>e.id===t);if(!i)return!0;if(!i.hasAttribute("mei:precedes"))return!0;if(i.getAttribute("mei:precedes")!="#"+n.id)return!0}return!1}}(t)?(o.queueNotification("The selected syllables include invalid linked syllable(s)!","warning"),!1):!!f(t)||!!h(t)))}function m(){const e=document.querySelectorAll(".staff.selected"),t=[];e.forEach(e=>{t.push(e.id)});const n={action:"merge",param:{elementIds:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?(o.queueNotification("Staff Merged","success"),a.endOptionsSelection(),l.updateForCurrentPage()):o.queueNotification("Merge Failed","error")})}function g(){const e=document.getElementById("moreEdit");e.innerHTML="",e.parentElement.classList.add("hidden"),document.body.removeEventListener("keydown",c.deleteButtonHandler),document.body.removeEventListener("keydown",y)}function v(){const e=document.getElementById("delete");e.removeEventListener("click",c.removeHandler),e.addEventListener("click",c.removeHandler),document.body.addEventListener("keydown",c.deleteButtonHandler),document.body.addEventListener("keydown",y);try{document.getElementById("mergeSyls").addEventListener("click",()=>{if(u(s.getSelectionType()))return;b("group","neume",S().filter(e=>document.getElementById(e).classList.contains("neume")))})}catch(e){}try{document.getElementById("groupNeumes").addEventListener("click",()=>{if(u(s.getSelectionType()))return;b("group","neume",E().filter(e=>document.getElementById(e).classList.contains("neume")))})}catch(e){}try{document.getElementById("groupNcs").addEventListener("click",()=>{b("group","nc",E().filter(e=>document.getElementById(e).classList.contains("nc")))})}catch(e){}try{document.getElementById("ungroupNeumes").addEventListener("click",()=>{b("ungroup","neume",S())})}catch(e){}try{document.getElementById("ungroupNcs").addEventListener("click",()=>{b("ungroup","nc",S())})}catch(e){}try{document.getElementById("toggle-ligature").addEventListener("click",async()=>{const e={action:"toggleLigature",param:{elementIds:E()}};l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?o.queueNotification("Ligature Toggled","success"):o.queueNotification("Ligature Toggle Failed","error"),g(),l.updateForCurrentPage()})})}catch(e){}try{document.getElementById("toggle-link").addEventListener("click",()=>{w()})}catch(e){}}t.initNeonView=function(e){l=e},t.isGroupable=d,t.isLinked=f,t.canBeLinked=h,t.isLinkable=p,t.mergeStaves=m,t.triggerGrouping=function(e){const t=document.getElementById("moreEdit");t.parentElement.classList.remove("hidden"),t.innerHTML+=i.groupingMenu[e],v()},t.endGroupingSelection=g,t.initGroupingListeners=v;const y=function(e){if("g"===e.key){const e=Array.from(document.querySelectorAll(".selected"));if(0==e.length)return;const t=s.getSelectionType();if(u(t,e))return;switch(t){case"selBySyllable":if(p(t,e))w();else if(d(t,e)){b("group","neume",S().filter(e=>document.getElementById(e).classList.contains("neume")))}else if(1===e.length){b("ungroup","neume",S())}break;case"selByNeume":if(d(t,e)){b("group","neume",E())}else{b("ungroup","nc",S())}break;case"selByNc":if(d(t,e)){b("group","nc",E())}else{b("ungroup","nc",S())}break;case"selByStaff":d(t,e)?m():a.triggerStaffSplitMode();break;default:return void console.error(`Can't perform grouping/ungrouping action on selection type ${t}.`)}}};function b(e,t,n){const i={action:e,param:{groupType:t,elementIds:n}};l.edit(i,l.view.getCurrentPageURI()).then(i=>{if(i?"group"===e?o.queueNotification("Grouping Success","success"):o.queueNotification("Ungrouping Success","success"):"group"===e?o.queueNotification("Grouping Failed","error"):o.queueNotification("Ungrouping Failed","error"),l.updateForCurrentPage(),"nc"===t){const e=document.getElementById(n[0]).parentElement,t=Array.from(e.children);void 0===l.info.getContour(t)&&r.groupingNotRecognized()}g()})}function _(e){const t=document.getElementById(e);return t instanceof SVGGraphicsElement?t:null}function w(){const e=E(),t={action:"chain",param:[]},n=new Array,i=e.map(_).filter(e=>null!==e);if(f(i))n.push(...function(e){const t=new Array;for(const n of e){const e=document.getElementById(n);e.getAttribute("mei:precedes")&&t.push({action:"set",param:{elementId:n,attrType:"precedes",attrValue:""}}),e.getAttribute("mei:follows")&&(t.push({action:"set",param:{elementId:n,attrType:"follows",attrValue:""}}),t.push({action:"setText",param:{elementId:n,text:""}}))}return t}(e));else{const[e,t]=function(e){if(e.sort((e,t)=>{const n=e.closest(".staff"),i=t.closest(".staff");return n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}),2===e.length)return[e[0],e[1]];const t=e.find(e=>!e.hasAttribute("mei:precedes")&&!e.hasAttribute("mei:follows"));if(t){const n=e.indexOf(t);if(0===n)return[e[n],e[n+1]];if(n===e.length-1)return[e[n-1],e[n]]}}(i);console.log(e.id,t.id),n.push({action:"set",param:{elementId:e.id,attrType:"precedes",attrValue:"#"+t.id}}),n.push({action:"set",param:{elementId:t.id,attrType:"follows",attrValue:"#"+e.id}});const r=t.querySelector(".syl");null!==r&&n.push({action:"remove",param:{elementId:r.id}})}t.param=n,l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.queueNotification("Toggled Syllable Link","success"):o.queueNotification("Failed to Toggle Syllable Link","error"),g(),l.updateForCurrentPage()})}function E(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push(t.id)}),e}function S(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{if(t.classList.contains("divLine")||t.classList.contains("accid")||t.classList.contains("clef"))return;Array.from(t.children).forEach(t=>{e.push(t.id)})}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemManager=t.FileSystemTools=t.EntryType=void 0;var i=n(89);Object.defineProperty(t,"EntryType",{enumerable:!0,get:function(){return i.EntryType}});var r=n(90);Object.defineProperty(t,"FileSystemTools",{enumerable:!0,get:function(){return r.FileSystemTools}});var o=n(91);Object.defineProperty(t,"FileSystemManager",{enumerable:!0,get:function(){return o.FileSystemManager}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateErrorLogVisibility=t.initDisplayListener=t.initErrorLogControls=t.initErrorLog=t.recordNotification=void 0;const i=n(8),r=n(3),o=n(13);function s(e){const t=document.createElement("div");t.classList.add("notification-container"),t.innerHTML=`\n      <div class="notification-wrapper">\n        <div class="log-main">${e.message}</div>\n        <div class="log-extra"></div>\n      </div>\n\n      <div class="notification-btn-container" style="display: flex;">\n        <div class="notif-log-info-icon-wrapper">\n          <img style="display: none;" class="notif-log-info-icon" src="/Neon/Neon-gh//assets/img/notification-info-icon-light.svg" title="Log Message">\n        </div>\n\n        <div class="notif-remove-icon-wrapper">\n          <img class="log-remove notif-remove-icon" src="/Neon/Neon-gh//assets/img/garbage-closed.svg" title="Remove">\n        </div>\n      </div>\n  `;const n=t.querySelector(".log-remove");if(n.onclick=()=>t.remove(),n.addEventListener("mouseover",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-open.svg")}),n.addEventListener("mouseout",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-closed.svg")}),e.logInfo){const i=t.querySelector(".notif-log-info-icon");i.style.display="",n.style.height="20px",i.addEventListener("mouseover",()=>{i.setAttribute("src","/Neon/Neon-gh//assets/img/notification-info-icon-dark.svg")}),i.addEventListener("mouseout",()=>{i.setAttribute("src","/Neon/Neon-gh//assets/img/notification-info-icon-light.svg")}),i.addEventListener("click",()=>function(e){const t=new o.ModalWindow;t.setModalWindowView(o.ModalWindowView.ERROR_LOG,e),t.openModalWindow()}(e.logInfo))}return t}function a(){const e=document.querySelector("#error_log"),t=document.querySelector("#errorLogHeading"),n=t.querySelector("svg > use"),i=document.querySelector("#errorLogContents"),{displayErrLog:o}=(0,r.getSettings)();o&&e.classList.add("visible"),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),c()}function c(){const e=document.querySelector("#display-single-container"),t=document.createElement("label"),n=document.createElement("input");n.classList.add("checkbox"),t.classList.add("checkbox-container","side-panel-btn"),t.textContent="Errors",n.id="display-errors",n.type="checkbox",n.checked=!1,t.appendChild(n),e.append(t);const{displayErrLog:i}=(0,r.getSettings)();n.checked=i,n.addEventListener("click",()=>{(0,r.setSettings)({displayErrLog:n.checked}),l()})}function l(){const e=document.querySelector("#error_log"),{debugMode:t,displayErrLog:n,displayInfo:i,displayBBox:o,displayText:s}=(0,r.getSettings)(),a=document.getElementById("display-all-btn");t?n?(e.classList.add("visible"),i&&o&&s&&n&&(a.classList.add("selected"),a.innerHTML="Hide All")):(e.classList.remove("visible"),a.classList.contains("selected")&&(a.classList.remove("selected"),a.innerHTML="Display All")):(e.classList.remove("visible"),i&&o&&s?(a.classList.add("selected"),a.innerHTML="Hide All"):(a.classList.remove("selected"),a.innerHTML="Display All"))}t.recordNotification=function(e){document.querySelector("#errorLogContents").prepend(s(e))},t.initErrorLog=function(){document.querySelector("#error_log").innerHTML=i.errorLogsPanelContents,a()},t.initErrorLogControls=a,t.initDisplayListener=c,t.updateErrorLogVisibility=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=void 0;const i=n(4),r=n(7),o=n(15),s=n(5),a=n(3),c={TopLeft:0,Top:1,TopRight:2,Right:3,BottomRight:4,Bottom:5,BottomLeft:6,Left:7};function l(e,t,n,i,r){let o;if(r>=0)o=[{x:e,y:t,name:c.TopLeft},{x:(e+n)/2,y:t+(n-e)/2*Math.sin(r),name:c.Top},{x:n,y:t+(n-e)*Math.sin(r),name:c.TopRight},{x:n,y:(t+i+(n-e)*Math.sin(r))/2,name:c.Right},{x:n,y:i,name:c.BottomRight},{x:(e+n)/2,y:i-(n-e)/2*Math.sin(r),name:c.Bottom},{x:e,y:i-(n-e)*Math.sin(r),name:c.BottomLeft},{x:e,y:(t+i-(n-e)*Math.sin(r))/2,name:c.Left}];else{const s=(n-e)*Math.tan(Math.abs(r)),a=i-t-s;o=[{x:e,y:t+s,name:c.TopLeft},{x:(e+n)/2,y:t+s/2,name:c.Top},{x:n,y:t,name:c.TopRight},{x:n,y:t+a/2,name:c.Right},{x:n,y:t+a,name:c.BottomRight},{x:(e+n)/2,y:i-s/2,name:c.Bottom},{x:e,y:i,name:c.BottomLeft},{x:e,y:i-a/2,name:c.Left}]}return o}t.resize=function(e,t,n){let d,u,f,h,p,m,g,v,y,b,_,w,E,S,k;function L(){const e=l(d,u,f,h,p),t=e.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");document.querySelector("#resizeRect").setAttribute("points",t);const n=document.querySelector(".syl.selected > .sylTextRect-display");n&&(n.setAttribute("x",String(Math.min(d,f))),n.setAttribute("y",String(Math.min(u,h))),n.setAttribute("width",String(Math.abs(f-d))),n.setAttribute("height",String(Math.abs(h-u))));for(const t in c){const n=e[c[t]];r.select("#p-"+t).filter(".resizePoint").attr("cx",n.x).attr("cy",n.y)}let i=e[3].x,o=e[3].y;const s=i+100+","+(o+85)+" "+(i+70)+","+(o+50)+" "+(i+100)+","+(o+15)+" "+(i+130)+","+(o+50);i=e[7].x,o=e[7].y;const a=i-100+","+(o-15)+" "+(i-130)+","+(o-50)+" "+(i-100)+","+(o-85)+" "+(i-70)+","+(o-50);r.select("#rotateLeft").attr("points",a),r.select("#rotateRight").attr("points",s)}!function A(){if(null===e)return;if(r.selectAll(".resizePoint").remove(),r.selectAll("#resizeRect").remove(),r.selectAll(".rotatePoint").remove(),e.classList.contains("syl")){const t=e.querySelector(".sylTextRect-display");if(null===t)return void console.warn("Tried to draw resize rect for a sylTextRect that doesn't exist (or isn't displaying)");d=Number(t.getAttribute("x")),u=Number(t.getAttribute("y")),f=+d+ +t.getAttribute("width"),h=+u+ +t.getAttribute("height"),p=0}if(e.classList.contains("staff")){const t=(0,i.getStaffBBox)(e);d=t.ulx,u=t.uly,f=t.lrx,h=t.lry;const n=e.querySelector("path").getAttribute("d").match(/\d+/g).map(e=>Number(e));p=Math.atan((n[3]-n[1])/(n[2]-n[0]))}let x;m=d,y=u,g=f,b=h;const C=l(d,u,f,h,p);E=C[2].x-C[0].x;const N=C.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");r.select("#"+e.id).append("polygon").attr("points",N).attr("id","resizeRect").attr("stroke","black").attr("stroke-width",10).attr("fill","none").style("cursor","move").style("stroke-dasharray","20 10");const{circleSize:q}=(0,a.getSettings)();for(const t in c){const n=C[c[t]];r.select(e.viewportElement).append("circle").attr("cx",n.x).attr("cy",n.y).attr("r",q).attr("stroke","black").attr("stroke-width",4).attr("fill","#0099ff").attr("class","resizePoint").attr("id","p-"+t)}for(const e in c)r.select("#p-"+e).filter(".resizePoint").call(r.drag().on("start",()=>{T(e)}).on("drag",O).on("end",I.bind(this)));if(e.classList.contains("staff")){let t=C[3].x,n=C[3].y;const i=t+100+","+(n+85)+" "+(t+70)+","+(n+50)+" "+(t+100)+","+(n+15)+" "+(t+130)+","+(n+50);t=C[7].x,n=C[7].y;const o=t-100+","+(n-15)+" "+(t-130)+","+(n-50)+" "+(t-100)+","+(n-85)+" "+(t-70)+","+(n-50);r.select("#"+e.id).append("polygon").attr("points",i).attr("id","rotateRight").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#"+e.id).append("polygon").attr("points",o).attr("id","rotateLeft").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#rotateLeft").call(r.drag().on("start",B).on("drag",(function(){const e=r.mouse(this)[1]-_,t=k-Math.atan(e/E);t>-.2&&t<.2&&(S=e,u=w+S,p=t,p>=0?(u=S+C.filter(e=>e.name===c.TopLeft)[0].y,h=C.filter(e=>e.name===c.BottomRight)[0].y):(u=C.filter(e=>e.name===c.TopRight)[0].y,h=S+C.filter(e=>e.name===c.BottomLeft)[0].y));L()})).on("end",M)),r.select("#rotateRight").call(r.drag().on("start",B).on("drag",(function(){const e=r.mouse(this)[1]-_,t=k+Math.atan(e/E);t>-.2&&t<.2&&(S=e,p=t,p>=0?(h=S+C.filter(e=>e.name===c.BottomRight)[0].y,u=C.filter(e=>e.name===c.TopLeft)[0].y):(u=S+C.filter(e=>e.name===c.TopRight)[0].y,h=C.filter(e=>e.name===c.BottomLeft)[0].y));L()})).on("end",M))}function T(e){x=e;const t=C.find(t=>t.name===c[e]);v=[t.x,t.y],y=u,b=h}function O(){const e=r.mouse(this);switch(c[x]){case c.TopLeft:d=e[0],u=e[1];break;case c.Top:u=e[1]-(f-d)*Math.tan(p)/2;break;case c.TopRight:f=e[0],u=e[1]-(f-d)*Math.tan(p);break;case c.Right:f=e[0],h=b+(e[0]-v[0])*Math.tan(p);break;case c.BottomRight:f=e[0],h=e[1];break;case c.Bottom:h=e[1]+(f-d)*Math.tan(p)/2;break;case c.BottomLeft:d=e[0],h=e[1]+(f-d)*Math.tan(p);break;case c.Left:d=e[0],u=y+(e[0]-v[0])*Math.tan(p);break;default:console.error("Something that wasn't a side of the rectangle was dragged. This shouldn't happen.")}L()}function I(){if((0,o.isOutOfSVGBounds)(d,u)||(0,o.isOutOfSVGBounds)(f,h))return d=m,u=y,f=g,h=b,L(),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Resize action failed.","error");const r={action:"resize",param:{elementId:e.id,ulx:d,uly:u,lrx:f,lry:h}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{if(r&&await t.updateForCurrentPage(),e=document.querySelector("#"+e.id),d=void 0,u=void 0,f=void 0,h=void 0,A(),e.classList.contains("syl"))(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this);else{(0,i.selectAll)([document.querySelector("#"+e.id)],t,n);const r=document.querySelector("moreEdit");r&&(r.innerHTML="",r.parentElement.classList.add("hidden"))}})}function B(){const e=r.event.sourceEvent.target.id;_=r.mouse(this)[1],b=h,y=u,w="rotateRight"===e?h:u,k=p}function M(){if(void 0===S&&(S=0),(0,o.isOutOfSVGBounds)(d,u)||(0,o.isOutOfSVGBounds)(f,h))return document.querySelectorAll(".resizePoint").forEach(e=>e.remove()),document.querySelectorAll("#resizeRect").forEach(e=>e.remove()),document.querySelectorAll(".rotatePoint").forEach(e=>e.remove()),e=document.getElementById(e.id),d=void 0,u=void 0,f=void 0,h=void 0,S=void 0,A(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Rotate action failed.","error");const r={action:"resizeRotate",param:{elementId:e.id,ulx:d,uly:u,lrx:f,lry:h,rotate:180*p/Math.PI}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{r&&await t.updateForCurrentPage(),e=document.getElementById(e.id),d=void 0,u=void 0,f=void 0,h=void 0,S=void 0,A(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n)})}}()}},function(e,t,n){"use strict";n.r(t),function(e){var i,r,o=n(2),s=n.n(o),a=n(22),c=n(16),l=n.n(c),d=n(21),u=n.n(d),f=n(6),h=n.n(f),p=n(1),m=n.n(p),g=n(0),v=n.n(g);function y(e){return"$"+e}function b(e){return e.substring(1)}function _(){this._store={}}function w(e){if(this._store=new _,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function E(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),i=new Uint8Array(e);return n.set(i),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}_.prototype.get=function(e){var t=y(e);return this._store[t]},_.prototype.set=function(e,t){var n=y(e);return this._store[n]=t,!0},_.prototype.has=function(e){return y(e)in this._store},_.prototype.keys=function(){return Object.keys(this._store).map(e=>b(e))},_.prototype.delete=function(e){var t=y(e),n=t in this._store;return delete this._store[t],n},_.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,i=t.length;n<i;n++){var r=t[n];e(this._store[r],r=b(r))}},Object.defineProperty(_.prototype,"size",{get:function(){return Object.keys(this._store).length}}),w.prototype.add=function(e){return this._store.set(e,!0)},w.prototype.has=function(e){return this._store.has(e)},w.prototype.forEach=function(e){this._store.forEach((function(t,n){e(n)}))},Object.defineProperty(w.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(i=w,r=_):(i=Set,r=Map);var S=Function.prototype.toString,k=S.call(Object);function L(e){var t,n,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,i=e.length;n<i;n++)t[n]=L(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return E(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==k}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=L(e[n]);void 0!==r&&(t[n]=r)}return t}function A(e){var t=!1;return h()((function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}))}function x(e){return h()((function(t){t=L(t);var n=this,i="function"==typeof t[t.length-1]&&t.pop(),r=new Promise((function(i,r){var o;try{var s=A((function(e,t){e?r(e):i(t)}));t.push(s),(o=e.apply(n,t))&&"function"==typeof o.then&&i(o)}catch(e){r(e)}}));return i&&r.then((function(e){i(null,e)}),i),r}))}function C(e,t){return x(h()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var i=["api",e.name,t],r=0;r<n.length-1;r++)i.push(n[r]);e.constructor.emit("debug",i);var o=n[n.length-1];n[n.length-1]=function(n,i){var r=["api",e.name,t];r=r.concat(n?["error",n]:["success",i]),e.constructor.emit("debug",r),o(n,i)}}}(i,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise((function(t,r){i.taskqueue.addTask((function(o){o?r(o):t(i[e].apply(i,n))}))}))})))}function N(e,t){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];o in e&&(n[o]=e[o])}return n}var q;function T(e){return e}function O(e){return[{ok:e}]}function I(e,t,n){var i=t.docs,o=new r;i.forEach((function(e){o.has(e.id)?o.get(e.id).push(e):o.set(e.id,[e])}));var s=o.size,a=0,c=new Array(s);function l(){var e;++a===s&&(e=[],c.forEach((function(t){t.docs.forEach((function(n){e.push({id:t.id,docs:[n]})}))})),n(null,{results:e}))}var d=[];o.forEach((function(e,t){d.push(t)}));var u=0;function f(){if(!(u>=d.length)){var n=Math.min(u+6,d.length),i=d.slice(u,n);!function(n,i){n.forEach((function(n,r){var s=i+r,a=o.get(n),d=N(a[0],["atts_since","attachments"]);d.open_revs=a.map((function(e){return e.rev})),d.open_revs=d.open_revs.filter(T);var u=T;0===d.open_revs.length&&(delete d.open_revs,u=O),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(d[e]=t[e])})),e.get(n,d,(function(e,t){var i,r,o;i=e?[{error:e}]:u(t),r=n,o=i,c[s]={id:r,docs:o},l(),f()}))}))}(i,u),u+=i.length}}f()}try{localStorage.setItem("_pouch_check_localstorage",1),q=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){q=!1}function B(){return q}function M(){v.a.call(this),this._listeners={},function(e){B()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function P(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function F(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function j(e,t){P("info","The above "+e+" is totally normal. "+t)}m()(M,v.a),M.prototype.addListener=function(e,t,n,i){if(!this._listeners[t]){var r=this,o=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(r._listeners[t])if(o)o="waiting";else{o=!0;var e=N(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>i.since&&!i.cancelled&&(i.since=e.seq,i.onChange(e))})).on("complete",(function(){"waiting"===o&&s()(a),o=!1})).on("error",(function(){o=!1}))}}},M.prototype.removeListener=function(e,t){t in this._listeners&&(v.a.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},M.prototype.notifyLocalWindows=function(e){B()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},M.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var D="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};function R(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}m()(R,Error),R.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new R(401,"unauthorized","Name or password is incorrect.");var H=new R(400,"bad_request","Missing JSON list of 'docs'"),$=new R(404,"not_found","missing"),U=new R(409,"conflict","Document update conflict"),V=new R(400,"bad_request","_id field must contain a string"),G=new R(412,"missing_id","_id is required for puts"),W=new R(400,"bad_request","Only reserved document ids may start with underscore."),z=(new R(412,"precondition_failed","Database not open"),new R(500,"unknown_error","Database encountered an unknown error")),J=new R(500,"badarg","Some query argument is invalid"),K=(new R(400,"invalid_request","Request was invalid"),new R(400,"query_parse_error","Some query parameter is invalid")),X=new R(500,"doc_validation","Bad special document member"),Y=new R(400,"bad_request","Something wrong with the request"),Q=new R(400,"bad_request","Document must be a JSON object"),Z=(new R(404,"not_found","Database not found"),new R(500,"indexed_db_went_bad","unknown")),ee=(new R(500,"web_sql_went_bad","unknown"),new R(500,"levelDB_went_went_bad","unknown"),new R(403,"forbidden","Forbidden by design doc validate_doc_update function"),new R(400,"bad_request","Invalid rev format")),te=(new R(412,"file_exists","The database could not be created, the file already exists."),new R(412,"missing_stub","A pre-existing attachment stub wasn't found"));new R(413,"invalid_url","Provided URL is invalid");function ne(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),i=0,r=n.length;i<r;i++)"function"!=typeof e[n[i]]&&(this[n[i]]=e[n[i]]);void 0===this.stack&&(this.stack=(new Error).stack),void 0!==t&&(this.reason=t)}return n.prototype=R.prototype,new n(t)}function ie(e){if("object"!=typeof e){var t=e;(e=z).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=(new Error).stack),e}function re(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var r=n&&function(e,t,n){try{return!e(t,n)}catch(e){var i="Filter function threw: "+e.toString();return ne(Y,i)}}(e.filter,i.doc,t);if("object"==typeof r)return r;if(r)return!1;if(e.include_docs){if(!e.attachments)for(var o in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,o)&&(i.doc._attachments[o].stub=!0)}else delete i.doc;return!0}}function oe(e){for(var t=[],n=0,i=e.length;n<i;n++)t=t.concat(e[n]);return t}function se(e){var t;if(e?"string"!=typeof e?t=ne(V):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=ne(W)):t=ne(G),t)throw t}function ae(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(P("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function ce(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function le(e){var t=ce(e);return t?t.join("/"):null}var de=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ue=/(?:^|&)([^&=]*)=?([^&]*)/g,fe=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function he(e){for(var t=fe.exec(e),n={},i=14;i--;){var r=de[i],o=t[i]||"",s=-1!==["user","password"].indexOf(r);n[r]=s?decodeURIComponent(o):o}return n.queryKey={},n[de[12]].replace(ue,(function(e,t,i){t&&(n.queryKey[t]=i)})),n}function pe(e,t){var n=[],i=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n.push(r),i.push(t[r]));return n.push(e),Function.apply(null,n).apply(null,i)}function me(e,t,n){return e.get(t).catch((function(e){if(404!==e.status)throw e;return{}})).then((function(i){var r=i._rev,o=n(i);return o?(o._id=t,o._rev=r,function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(i){if(409!==i.status)throw i;return me(e,t._id,n)}))}(e,o,n)):{updated:!1,rev:r}}))}var ge=function(e){return atob(e)},ve=function(e){return btoa(e)};function ye(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function be(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}function _e(e,t){return ye([be(e)],{type:t})}function we(e,t){return _e(ge(e),t)}function Ee(e,t){var n=new FileReader,i="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(i)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return t}(n))},i?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Se(e,t){Ee(e,(function(e){t(e)}))}function ke(e,t){Se(e,(function(e){t(ve(e))}))}var Le=self.setImmediate||self.setTimeout;function Ae(e,t,n,i,r){(n>0||i<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,i)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,(function(t){e.append(t),r()}))}function xe(e,t,n,i,r){(n>0||i<t.length)&&(t=t.substring(n,i)),e.appendBinary(t),r()}function Ce(e,t){var n="string"==typeof e,i=n?e.length:e.size,r=Math.min(32768,i),o=Math.ceil(i/r),s=0,a=n?new l.a:new l.a.ArrayBuffer,c=n?xe:Ae;function d(){Le(f)}function u(){var e=function(e){return ve(e)}(a.end(!0));t(e),a.destroy()}function f(){var t=s*r,n=t+r;s++,c(a,e,t,n,s<o?d:u)}f()}function Ne(e){return l.a.hash(e)}function qe(e,t){if(!t)return Object(a.a)().replace(/-/g,"").toLowerCase();var n=D({},e);return delete n._rev_tree,Ne(JSON.stringify(n))}var Te=a.a;function Oe(e){for(var t,n,i,r,o=e.rev_tree.slice();r=o.pop();){var s=r.ids,a=s[2],c=r.pos;if(a.length)for(var l=0,d=a.length;l<d;l++)o.push({pos:c+1,ids:a[l]});else{var u=!!s[1].deleted,f=s[0];t&&!(i!==u?i:n!==c?n<c:t<f)||(t=f,n=c,i=u)}}return n+"-"+t}function Ie(e,t){for(var n,i=e.slice();n=i.pop();)for(var r=n.pos,o=n.ids,s=o[2],a=t(0===s.length,r,o[0],n.ctx,o[1]),c=0,l=s.length;c<l;c++)i.push({pos:r+1,ids:s[c],ctx:a})}function Be(e,t){return e.pos-t.pos}function Me(e){var t=[];Ie(e,(function(e,n,i,r,o){e&&t.push({rev:n+"-"+i,pos:n,opts:o})})),t.sort(Be).reverse();for(var n=0,i=t.length;n<i;n++)delete t[n].pos;return t}function Pe(e){for(var t=Oe(e),n=Me(e.rev_tree),i=[],r=0,o=n.length;r<o;r++){var s=n[r];s.rev===t||s.opts.deleted||i.push(s.rev)}return i}function Fe(e){for(var t,n=[],i=e.slice();t=i.pop();){var r=t.pos,o=t.ids,s=o[0],a=o[1],c=o[2],l=0===c.length,d=t.history?t.history.slice():[];d.push({id:s,opts:a}),l&&n.push({pos:r+1-d.length,ids:d});for(var u=0,f=c.length;u<f;u++)i.push({pos:r+1,ids:c[u],history:d})}return n.reverse()}function je(e,t){return e.pos-t.pos}function De(e,t,n){var i=function(e,t,n){for(var i,r=0,o=e.length;r<o;)n(e[i=r+o>>>1],t)<0?r=i+1:o=i;return r}(e,t,n);e.splice(i,0,t)}function Re(e,t){for(var n,i,r=t,o=e.length;r<o;r++){var s=e[r],a=[s.id,s.opts,[]];i?(i[2].push(a),i=a):n=i=a}return n}function He(e,t){return e[0]<t[0]?-1:1}function $e(e,t){for(var n=[{tree1:e,tree2:t}],i=!1;n.length>0;){var r=n.pop(),o=r.tree1,s=r.tree2;(o[1].status||s[1].status)&&(o[1].status="available"===o[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(o[2][0]){for(var c=!1,l=0;l<o[2].length;l++)o[2][l][0]===s[2][a][0]&&(n.push({tree1:o[2][l],tree2:s[2][a]}),c=!0);c||(i="new_branch",De(o[2],s[2][a],He))}else i="new_leaf",o[2][0]=s[2][a]}return{conflicts:i,tree:e}}function Ue(e,t,n){var i,r=[],o=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,c=e.length;a<c;a++){var l=e[a];if(l.pos===t.pos&&l.ids[0]===t.ids[0])i=$e(l.ids,t.ids),r.push({pos:l.pos,ids:i.tree}),o=o||i.conflicts,s=!0;else if(!0!==n){var d=l.pos<t.pos?l:t,u=l.pos<t.pos?t:l,f=u.pos-d.pos,h=[],p=[];for(p.push({ids:d.ids,diff:f,parent:null,parentIdx:null});p.length>0;){var m=p.pop();if(0!==m.diff)for(var g=m.ids[2],v=0,y=g.length;v<y;v++)p.push({ids:g[v],diff:m.diff-1,parent:m.ids,parentIdx:v});else m.ids[0]===u.ids[0]&&h.push(m)}var b=h[0];b?(i=$e(b.ids,u.ids),b.parent[2][b.parentIdx]=i.tree,r.push({pos:d.pos,ids:d.ids}),o=o||i.conflicts,s=!0):r.push(l)}else r.push(l)}return s||r.push(t),r.sort(je),{tree:r,conflicts:o||"internal_node"}}function Ve(e,t,n){var i=Ue(e,t),r=function(e,t){for(var n,i,r=Fe(e),o=0,s=r.length;o<s;o++){var a,c=r[o],l=c.ids;if(l.length>t){n||(n={});var d=l.length-t;a={pos:c.pos+d,ids:Re(l,d)};for(var u=0;u<d;u++){var f=c.pos+u+"-"+l[u].id;n[f]=!0}}else a={pos:c.pos,ids:Re(l,0)};i=i?Ue(i,a,!0).tree:[a]}return n&&Ie(i,(function(e,t,i){delete n[t+"-"+i]})),{tree:i,revs:n?Object.keys(n):[]}}(i.tree,n);return{tree:r.tree,stemmedRevs:r.revs,conflicts:i.conflicts}}function Ge(e){return e.ids}function We(e,t){t||(t=Oe(e));for(var n,i=t.substring(t.indexOf("-")+1),r=e.rev_tree.map(Ge);n=r.pop();){if(n[0]===i)return!!n[1].deleted;r=r.concat(n[2])}}function ze(e){return/^_local/.test(e)}function Je(e,t,n){v.a.call(this);var i=this;this.db=e;var r=(t=t?L(t):{}).complete=A((function(t,n){var r,s;t?(s="error",("listenerCount"in(r=i)?r.listenerCount(s):v.a.listenerCount(r,s))>0&&i.emit("error",t)):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",o)}));function o(){i.cancel()}n&&(i.on("complete",(function(e){n(null,e)})),i.on("error",n)),e.once("destroyed",o),t.onChange=function(e,t,n){i.isCancelled||function(e,t,n,i){try{e.emit("change",t,n,i)}catch(e){P("error",'Error in .on("change", function):',e)}}(i,e,t,n)};var s=new Promise((function(e,n){t.complete=function(t,i){t?n(t):e(i)}}));i.once("cancel",(function(){e.removeListener("destroyed",o),t.complete(null,{status:"cancelled"})})),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then((function(e){r(null,e)}),r),e.taskqueue.isReady?i.validateChanges(t):e.taskqueue.addTask((function(e){e?t.complete(e):i.isCancelled?i.emit("cancel"):i.validateChanges(t)}))}function Ke(e,t,n){var i=[{rev:e._rev}];"all_docs"===n.style&&(i=Me(t.rev_tree).map((function(e){return{rev:e.rev}})));var r={id:t.id,changes:i,doc:e};return We(t,e._rev)&&(r.deleted=!0),n.conflicts&&(r.doc._conflicts=Pe(t),r.doc._conflicts.length||delete r.doc._conflicts),r}function Xe(e,t){return e<t?-1:e>t?1:0}function Ye(e,t){return function(n,i){n||i[0]&&i[0].error?((n=n||i[0]).docId=t,e(n)):e(null,i.length?i[0]:i)}}function Qe(e,t){var n=Xe(e._id,t._id);return 0!==n?n:Xe(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Ze(){for(var e in v.a.call(this),Ze.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function et(){this.isReady=!1,this.failed=!1,this.queue=[]}function tt(e,t){if(!(this instanceof tt))return new tt(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=L(t),n.auto_compaction=t.auto_compaction,n.prefix=tt.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var i=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var i=tt.adapters,r=tt.preferredAdapters,o=tt.prefix,s=t.adapter;if(!s)for(var a=0;a<r.length&&("idb"===(s=r[a])&&"websql"in i&&B()&&localStorage["_pouch__websqldb_"+o+e]);++a)P("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=i[s];return{name:!c||!("use_prefix"in c)||c.use_prefix?o+e:e,adapter:s}}((t.prefix||"")+e,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,n.name=e,n._adapter=t.adapter,tt.emit("debug",["adapter","Picked adapter: ",t.adapter]),!tt.adapters[t.adapter]||!tt.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);if(t.view_adapter&&(!tt.adapters[t.view_adapter]||!tt.adapters[t.view_adapter].valid()))throw new Error("Invalid View Adapter: "+t.view_adapter);Ze.call(n),n.taskqueue=new et,n.adapter=t.adapter,tt.adapters[t.adapter].call(n,t,(function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),tt.emit("created",n.name),n.taskqueue.ready(n)}))}m()(Je,v.a),Je.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Je.prototype.validateChanges=function(e){var t=e.complete,n=this;tt._changesFilterPlugin?tt._changesFilterPlugin.validate(e,(function(i){if(i)return t(i);n.doChanges(e)})):n.doChanges(e)},Je.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=L(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Ke,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(tt._changesFilterPlugin){if(tt._changesFilterPlugin.normalize(e),tt._changesFilterPlugin.shouldFilter(this,e))return tt._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&P("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var i=this.db._changes(e);if(i&&"function"==typeof i.cancel){var r=t.cancel;t.cancel=h()((function(e){i.cancel(),r.apply(this,e)}))}}else this.db.info().then((function(i){t.isCancelled?n(null,{status:"cancelled"}):(e.since=i.update_seq,t.doChanges(e))}),n)},m()(Ze,v.a),Ze.prototype.post=C("post",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(Q));this.bulkDocs({docs:[e]},t,Ye(n,e._id))})),Ze.prototype.put=C("put",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(Q));if(se(e._id),ze(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var i,r,o,s,a=this;function c(n){"function"==typeof a._put&&!1!==t.new_edits?a._put(e,t,n):a.bulkDocs({docs:[e]},t,Ye(n,e._id))}t.force&&e._rev?(i=e._rev.split("-"),r=i[1],o=parseInt(i[0],10)+1,s=qe(),e._revisions={start:o,ids:[s,r]},e._rev=o+"-"+s,t.new_edits=!1,c((function(t){var i=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,i)}))):c(n)})),Ze.prototype.putAttachment=C("putAttachment",(function(e,t,n,i,r){var o=this;function s(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:r,data:i,revpos:++n},o.put(e)}return"function"==typeof r&&(r=i,i=n,n=null),void 0===r&&(r=i,i=n,n=null),r||P("warn","Attachment",t,"on document",e,"is missing content_type"),o.get(e).then((function(e){if(e._rev!==n)throw ne(U);return s(e)}),(function(t){if(t.reason===$.message)return s({_id:e});throw t}))})),Ze.prototype.removeAttachment=C("removeAttachment",(function(e,t,n,i){var r=this;r.get(e,(function(e,o){if(e)i(e);else if(o._rev===n){if(!o._attachments)return i();delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,r.put(o,i)}else i(ne(U))}))})),Ze.prototype.remove=C("remove",(function(e,t,n,i){var r;"string"==typeof t?(r={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(r=e,"function"==typeof t?(i=t,n={}):(i=n,n=t)),(n=n||{}).was_delete=!0;var o={_id:r._id,_rev:r._rev||n.rev,_deleted:!0};if(ze(o._id)&&"function"==typeof this._removeLocal)return this._removeLocal(r,i);this.bulkDocs({docs:[o]},n,Ye(i,o._id))})),Ze.prototype.revsDiff=C("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var o=0,s=new r;function a(e,t){s.has(e)||s.set(e,{missing:[]}),s.get(e).missing.push(t)}i.map((function(t){this._getRevisionTree(t,(function(r,c){if(r&&404===r.status&&"missing"===r.message)s.set(t,{missing:e[t]});else{if(r)return n(r);!function(t,n){var i=e[t].slice(0);Ie(n,(function(e,n,r,o,s){var c=n+"-"+r,l=i.indexOf(c);-1!==l&&(i.splice(l,1),"available"!==s.status&&a(t,c))})),i.forEach((function(e){a(t,e)}))}(t,c)}if(++o===i.length){var l={};return s.forEach((function(e,t){l[t]=e})),n(null,l)}}))}),this)})),Ze.prototype.bulkGet=C("bulkGet",(function(e,t){I(this,e,t)})),Ze.prototype.compactDocument=C("compactDocument",(function(e,t,n){var i=this;this._getRevisionTree(e,(function(r,o){if(r)return n(r);var s=function(e){var t={},n=[];return Ie(e,(function(e,i,r,o){var s=i+"-"+r;return e&&(t[s]=0),void 0!==o&&n.push({from:o,to:s}),s})),n.reverse(),n.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])})),t}(o),a=[],c=[];Object.keys(s).forEach((function(e){s[e]>t&&a.push(e)})),Ie(o,(function(e,t,n,i,r){var o=t+"-"+n;"available"===r.status&&-1!==a.indexOf(o)&&c.push(o)})),i._doCompaction(e,c,n)}))})),Ze.prototype.compact=C("compact",(function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],i=n.opts,r=n.callback;t.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(i.last_seq=n.last_seq),t._compact(i,(function(n,i){n?r(n):r(null,i),s()((function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)}))}))}))}(this)})),Ze.prototype._compact=function(e,t){var n=this,i={return_docs:!1,last_seq:e.last_seq||0},r=[];n.changes(i).on("change",(function(e){r.push(n.compactDocument(e.id,0))})).on("complete",(function(e){var i=e.last_seq;Promise.all(r).then((function(){return me(n,"_local/compaction",(function(e){return(!e.last_seq||e.last_seq<i)&&(e.last_seq=i,e)}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)},Ze.prototype.get=C("get",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(ne(V));if(ze(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var i=[],r=this;function o(){var o=[],s=i.length;if(!s)return n(null,o);i.forEach((function(i){r.get(e,{rev:i,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)o.push({missing:i});else{for(var r,a=0,c=o.length;a<c;a++)if(o[a].ok&&o[a].ok._rev===t._rev){r=!0;break}r||o.push({ok:t})}--s||n(null,o)}))}))}if(!t.open_revs)return this._get(e,t,(function(i,o){if(i)return i.docId=e,n(i);var s=o.doc,a=o.metadata,c=o.ctx;if(t.conflicts){var l=Pe(a);l.length&&(s._conflicts=l)}if(We(a,s._rev)&&(s._deleted=!0),t.revs||t.revs_info){for(var d=s._rev.split("-"),u=parseInt(d[0],10),f=d[1],h=Fe(a.rev_tree),p=null,m=0;m<h.length;m++){var g=h[m],v=g.ids.map((function(e){return e.id})).indexOf(f);(v===u-1||!p&&-1!==v)&&(p=g)}if(!p)return(i=new Error("invalid rev tree")).docId=e,n(i);var y=p.ids.map((function(e){return e.id})).indexOf(s._rev.split("-")[1])+1,b=p.ids.length-y;if(p.ids.splice(y,b),p.ids.reverse(),t.revs&&(s._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map((function(e){return e.id}))}),t.revs_info){var _=p.pos+p.ids.length;s._revs_info=p.ids.map((function(e){return{rev:--_+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&s._attachments){var w=s._attachments,E=Object.keys(w).length;if(0===E)return n(null,s);Object.keys(w).forEach((function(e){this._getAttachment(s._id,e,w[e],{rev:s._rev,binary:t.binary,ctx:c},(function(t,i){var r=s._attachments[e];r.data=i,delete r.stub,delete r.length,--E||n(null,s)}))}),r)}else{if(s._attachments)for(var S in s._attachments)Object.prototype.hasOwnProperty.call(s._attachments,S)&&(s._attachments[S].stub=!0);n(null,s)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);i=Me(t).map((function(e){return e.rev})),o()}));else{if(!Array.isArray(t.open_revs))return n(ne(z,"function_clause"));i=t.open_revs;for(var s=0;s<i.length;s++){var a=i[s];if("string"!=typeof a||!/^\d+-/.test(a))return n(ne(ee))}o()}})),Ze.prototype.getAttachment=C("getAttachment",(function(e,t,n,i){var r=this;n instanceof Function&&(i=n,n={}),this._get(e,n,(function(o,s){return o?i(o):s.doc._attachments&&s.doc._attachments[t]?(n.ctx=s.ctx,n.binary=!0,void r._getAttachment(e,t,s.doc._attachments[t],n,i)):i(ne($))}))})),Ze.prototype.allDocs=C("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n)return void t(ne(K,"Query parameter `"+n+"` is not compatible with multi-get"));if(!ae(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})),Ze.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new Je(this,e,t)},Ze.prototype.close=C("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})),Ze.prototype.info=C("info",(function(e){var t=this;this._info((function(n,i){if(n)return e(n);i.db_name=i.db_name||t.name,i.auto_compaction=!(!t.auto_compaction||ae(t)),i.adapter=t.adapter,e(null,i)}))})),Ze.prototype.id=C("id",(function(e){return this._id(e)})),Ze.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Ze.prototype.bulkDocs=C("bulkDocs",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(ne(H));for(var i=0;i<e.docs.length;++i)if("object"!=typeof e.docs[i]||Array.isArray(e.docs[i]))return n(ne(Q));var r;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){r=r||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||P("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),r)return n(ne(Y,r));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var o=this;t.new_edits||ae(o)||e.docs.sort(Qe),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var i=Object.keys(n._attachments),r=0;r<i.length;r++){var o=i[r];n._attachments[o]=N(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var s=e.docs.map((function(e){return e._id}));return this._bulkDocs(e,t,(function(e,i){if(e)return n(e);if(t.new_edits||(i=i.filter((function(e){return e.error}))),!ae(o))for(var r=0,a=i.length;r<a;r++)i[r].id=i[r].id||s[r];n(null,i)}))})),Ze.prototype.registerDependentDatabase=C("registerDependentDatabase",(function(e,t){var n=L(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var i=new this.constructor(e,n);me(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:i})})).catch(t)})),Ze.prototype.destroy=C("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var n=this,i=!("use_prefix"in n)||n.use_prefix;function r(){n._destroy(e,(function(e,i){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,i||{ok:!0})}))}if(ae(n))return r();n.get("_local/_pouch_dependentDbs",(function(e,o){if(e)return 404!==e.status?t(e):r();var s=o.dependentDbs,a=n.constructor,c=Object.keys(s).map((function(e){var t=i?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,n.__opts).destroy()}));Promise.all(c).then(r,t)}))})),et.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},et.prototype.fail=function(e){this.failed=e,this.execute()},et.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},et.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},m()(tt,Ze);var nt="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},it=fetch,rt=Headers;tt.adapters={},tt.preferredAdapters=[],tt.prefix="_pouch_";var ot=new v.a;!function(e){Object.keys(v.a.prototype).forEach((function(t){"function"==typeof v.a.prototype[t]&&(e[t]=ot[t].bind(ot))}));var t=e._destructionListeners=new r;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var n=t.get(e.name),i=n.indexOf(e);i<0||(n.splice(i,1),n.length>1?t.set(e.name,n):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach((function(e){e.emit("destroyed",!0)}))}}))}(tt),tt.adapter=function(e,t,n){t.valid()&&(tt.adapters[e]=t,n&&tt.preferredAdapters.push(e))},tt.plugin=function(e){if("function"==typeof e)e(tt);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){tt.prototype[t]=e[t]}))}return this.__defaults&&(tt.__defaults=D({},this.__defaults)),tt},tt.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=D({},t.__defaults,n),tt.call(this,e,n)}return m()(t,tt),t.preferredAdapters=tt.preferredAdapters.slice(),Object.keys(tt).forEach((function(e){e in t||(t[e]=tt[e])})),t.__defaults=D({},this.__defaults,e),t},tt.fetch=function(e,t){return it(e,t)};function st(e,t){for(var n=e,i=0,r=t.length;i<r;i++){if(!(n=n[t[i]]))break}return n}function at(e){for(var t=[],n="",i=0,r=e.length;i<r;i++){var o=e[i];i>0&&"\\"===e[i-1]&&("$"===o||"."===o)?n=n.substring(0,n.length-1)+o:"."===o?(t.push(n),n=""):n+=o}return t.push(n),t}var ct=["$or","$nor","$not"];function lt(e){return ct.indexOf(e)>-1}function dt(e){return Object.keys(e)[0]}function ut(e){var t={},n={$or:!0,$nor:!0};return e.forEach((function(e){Object.keys(e).forEach((function(i){var r=e[i];if("object"!=typeof r&&(r={$eq:r}),lt(i))if(r instanceof Array){if(n[i])return n[i]=!1,void(t[i]=r);var o=[];t[i].forEach((function(e){Object.keys(r).forEach((function(t){var n=r[t],i=Math.max(Object.keys(e).length,Object.keys(n).length),s=ut([e,n]);Object.keys(s).length<=i||o.push(s)}))})),t[i]=o}else t[i]=ut([r]);else{var s=t[i]=t[i]||{};Object.keys(r).forEach((function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t}(e,t,s):"$lt"===e||"$lte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t}(e,t,s):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,s):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,s):"$regex"===e?function(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}(t,s):void(s[e]=t)}))}}))})),t}function ft(e){var t=L(e),n=!1;(function e(t,n){for(var i in t){"$and"===i&&(n=!0);var r=t[i];"object"==typeof r&&(n=e(r,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var i in t)t[i].$and&&(t[i]=ut(t[i].$and));var r=t[n];"object"==typeof r&&e(r)}return t}(t))&&(t=ut(t.$and)),n=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n],r=e[i];"object"==typeof r&&null!==r||(e[i]={$eq:r})}}))})),"$not"in t&&(t.$not=ut([t.$not]));for(var i=Object.keys(t),r=0;r<i.length;r++){var o=i[r],s=t[o];"object"!=typeof s||null===s?s={$eq:s}:n||("$ne"in s&&(s.$ne=[s.$ne]),"$regex"in s&&(s.$regex=[s.$regex])),t[o]=s}return t}function ht(e,t){if(e===t)return 0;e=pt(e),t=pt(t);var n=bt(e),i=bt(t);if(n-i!=0)return n-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var r=ht(e[i],t[i]);if(0!==r)return r}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),i=Object.keys(t),r=Math.min(n.length,i.length),o=0;o<r;o++){var s=ht(n[o],i[o]);if(0!==s)return s;if(0!==(s=ht(e[n[o]],t[i[o]])))return s}return n.length===i.length?0:n.length>i.length?1:-1}(e,t)}function pt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var i=0;i<n;i++)e[i]=pt(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var r in e={},t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r];void 0!==o&&(e[r]=pt(o))}}}return e}function mt(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),i=e<0,r=i?"0":"2",o=(s=((i?-n:n)- -324).toString(),a="0",c=3,function(e,t,n){for(var i="",r=n-e.length;i.length<r;)i+=t;return i}(s,a,c)+s);var s,a,c;r+=""+o;var l=Math.abs(parseFloat(t[0]));i&&(l=10-l);var d=l.toFixed(20);return d=d.replace(/\.?0+$/,""),r+=""+d}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),i=-1,r=n.length,o="";if(t)for(;++i<r;)o+=gt(n[i]);else for(;++i<r;){var s=n[i];o+=gt(s)+gt(e[s])}return o}return""}function gt(e){return bt(e=pt(e))+""+mt(e)+"\0"}function vt(e,t){var n,i=t;if("1"===e[t])n=0,t++;else{var r="0"===e[t];t++;var o="",s=e.substring(t,t+3),a=parseInt(s,10)+-324;for(r&&(a=-a),t+=3;;){var c=e[t];if("\0"===c)break;o+=c,t++}n=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),r&&(n-=10),0!==a&&(n=parseFloat(n+"e"+a))}return{num:n,length:t-i}}function yt(e,t){var n=e.pop();if(t.length){var i=t[t.length-1];n===i.element&&(t.pop(),i=t[t.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(n);else if(o===e.length-2){r[e.pop()]=n}else e.push(n)}}function bt(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function _t(e,t,n){if(e=e.filter((function(e){return wt(e.doc,t.selector,n)})),t.sort){var i=function(e){function t(t){return e.map((function(e){var n=at(dt(e));return st(t,n)}))}return function(e,n){var i,r,o=ht(t(e.doc),t(n.doc));return 0!==o?o:(i=e.doc._id,r=n.doc._id,i<r?-1:i>r?1:0)}}(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===(r=t.sort[0])[dt(r)]&&(e=e.reverse())}var r;if("limit"in t||"skip"in t){var o=t.skip||0,s=("limit"in t?t.limit:e.length)+o;e=e.slice(o,s)}return e}function wt(e,t,n){return n.every((function(n){var i=t[n],r=at(n),o=st(e,r);return lt(n)?function(e,t,n){if("$or"===e)return t.some((function(e){return wt(n,e,Object.keys(e))}));if("$not"===e)return!wt(n,t,Object.keys(t));return!t.find((function(e){return wt(n,e,Object.keys(e))}))}(n,i,e):Et(i,e,r,o)}))}function Et(e,t,n,i){return!e||("object"==typeof e?Object.keys(e).every((function(r){var o=e[r];if(0===r.indexOf("$"))return St(r,t,o,n,i);var s=at(r);if(void 0===i&&"object"!=typeof o&&s.length>0)return!1;var a=st(i,s);return"object"==typeof o?Et(o,t,n,a):St("$eq",t,o,s,a)})):e===i)}function St(e,t,n,i,r){if(!xt[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return xt[e](t,n,i,r)}function kt(e){return null!=e}function Lt(e){return void 0!==e}function At(e,t){return t.some((function(t){return e instanceof Array?e.some((function(e){return 0===ht(t,e)})):0===ht(t,e)}))}var xt={$elemMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.some((function(e){return wt(e,t,Object.keys(t))})):i.some((function(i){return Et(t,e,n,i)}))))},$allMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.every((function(e){return wt(e,t,Object.keys(t))})):i.every((function(i){return Et(t,e,n,i)}))))},$eq:function(e,t,n,i){return Lt(i)&&0===ht(i,t)},$gte:function(e,t,n,i){return Lt(i)&&ht(i,t)>=0},$gt:function(e,t,n,i){return Lt(i)&&ht(i,t)>0},$lte:function(e,t,n,i){return Lt(i)&&ht(i,t)<=0},$lt:function(e,t,n,i){return Lt(i)&&ht(i,t)<0},$exists:function(e,t,n,i){return t?Lt(i):!Lt(i)},$mod:function(e,t,n,i){return kt(i)&&function(e,t){return"number"==typeof e&&parseInt(e,10)===e&&e%t[0]===t[1]}(i,t)},$ne:function(e,t,n,i){return t.every((function(e){return 0!==ht(i,e)}))},$in:function(e,t,n,i){return kt(i)&&At(i,t)},$nin:function(e,t,n,i){return kt(i)&&!At(i,t)},$size:function(e,t,n,i){return kt(i)&&Array.isArray(i)&&function(e,t){return e.length===t}(i,t)},$all:function(e,t,n,i){return Array.isArray(i)&&function(e,t){return t.every((function(t){return e.some((function(e){return 0===ht(t,e)}))}))}(i,t)},$regex:function(e,t,n,i){return kt(i)&&"string"==typeof i&&t.every((function(e){return function(e,t){return new RegExp(t).test(e)}(i,e)}))},$type:function(e,t,n,i){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}}(i,t)}};function Ct(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function Nt(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=le(e.view):e.filter=le(e.filter))}function qt(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!ae(e.db)}function Tt(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var i=ne(Y,"`view` filter parameter not found or invalid.");return n(i)}var r=ce(t.view);e.db.get("_design/"+r[0],(function(i,o){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var s=o&&o.views&&o.views[r[1]]&&o.views[r[1]].map;if(!s)return n(ne($,o.views?"missing json key: "+r[1]:"missing json key: views"));t.filter=pe(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+s+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=_t([{doc:e}],{selector:t=ft(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var o=ce(t.filter);e.db.get("_design/"+o[0],(function(i,r){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var s=r&&r.filters&&r.filters[o[1]];if(!s)return n(ne($,r&&r.filters?"missing json key: "+o[1]:"missing json key: filters"));t.filter=pe('"use strict";\nreturn '+s+";",{}),e.doChanges(t)}))}}function Ot(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}tt.plugin((function(e){e._changesFilterPlugin={validate:Ct,normalize:Nt,shouldFilter:qt,filter:Tt}})),tt.version="7.3.0";var It=Ot(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Bt=Ot(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Mt(e){if(!/^\d+-/.test(e))return ne(ee);var t=e.indexOf("-"),n=e.substring(0,t),i=e.substring(t+1);return{prefix:parseInt(n,10),id:i}}function Pt(e,t,n){var i,r,o;n||(n={deterministic_revs:!0});var s={status:"available"};if(e._deleted&&(s.deleted=!0),t)if(e._id||(e._id=Te()),r=qe(e,n.deterministic_revs),e._rev){if((o=Mt(e._rev)).error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,s,[]]]]}],i=o.prefix+1}else e._rev_tree=[{pos:1,ids:[r,s,[]]}],i=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,i=e.ids,r=[i[0],t,[]],o=1,s=i.length;o<s;o++)r=[i[o],{status:"missing"},[r]];return[{pos:n,ids:r}]}(e._revisions,s),i=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if((o=Mt(e._rev)).error)return o;i=o.prefix,r=o.id,e._rev_tree=[{pos:i,ids:[r,s,[]]}]}se(e._id),e._rev=i+"-"+r;var a={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l="_"===c[0];if(l&&!It[c]){var d=ne(X,c);throw d.message=X.message+": "+c,d}l&&!Bt[c]?a.metadata[c.slice(1)]=e[c]:a.data[c]=e[c]}return a}function Ft(e,t,n){var i=function(e){try{return ge(e)}catch(e){return{error:ne(J,"Attachment is not a valid base64 string")}}}(e.data);if(i.error)return n(i.error);e.length=i.length,e.data="blob"===t?_e(i,e.content_type):"base64"===t?ve(i):i,Ce(i,(function(t){e.digest="md5-"+t,n()}))}function jt(e,t,n){if(e.stub)return n();"string"==typeof e.data?Ft(e,t,n):function(e,t,n){Ce(e.data,(function(i){e.digest="md5-"+i,e.length=e.data.size||e.data.length||0,"binary"===t?Se(e.data,(function(t){e.data=t,n()})):"base64"===t?ke(e.data,(function(t){e.data=t,n()})):n()}))}(e,t,n)}function Dt(e,t,n,i,r,o,s,a){if(function(e,t){for(var n,i=e.slice(),r=t.split("-"),o=parseInt(r[0],10),s=r[1];n=i.pop();){if(n.pos===o&&n.ids[0]===s)return!0;for(var a=n.ids[2],c=0,l=a.length;c<l;c++)i.push({pos:n.pos+1,ids:a[c]})}return!1}(t.rev_tree,n.metadata.rev)&&!a)return i[r]=n,o();var c=t.winningRev||Oe(t),l="deleted"in t?t.deleted:We(t,c),d="deleted"in n.metadata?n.metadata.deleted:We(n.metadata),u=/^1-/.test(n.metadata.rev);if(l&&!d&&a&&u){var f=n.data;f._rev=c,f._id=n.metadata.id,n=Pt(f,a)}var h=Ve(t.rev_tree,n.metadata.rev_tree[0],e);if(a&&(l&&d&&"new_leaf"!==h.conflicts||!l&&"new_leaf"!==h.conflicts||l&&!d&&"new_branch"===h.conflicts)){var p=ne(U);return i[r]=p,o()}var m=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var g=Oe(n.metadata),v=We(n.metadata,g),y=l===v?0:l<v?-1:1;s(n,g,v,m===g?v:We(n.metadata,m),!0,y,r,o)}function Rt(e,t,n,i,o,s,a,c,l){e=e||1e3;var d=c.new_edits,u=new r,f=0,h=t.length;function p(){++f===h&&l&&l()}t.forEach((function(e,t){if(e._id&&ze(e._id)){var i=e._deleted?"_removeLocal":"_putLocal";n[i](e,{ctx:o},(function(e,n){s[t]=e||n,p()}))}else{var r=e.metadata.id;u.has(r)?(h--,u.get(r).push([e,t])):u.set(r,[[e,t]])}})),u.forEach((function(t,n){var r=0;function o(){++r<t.length?l():p()}function l(){var l=t[r],u=l[0],f=l[1];if(i.has(n))Dt(e,i.get(n),u,s,f,o,a,d);else{var h=Ve([],u.metadata.rev_tree[0],e);u.metadata.rev_tree=h.tree,u.stemmedRevs=h.stemmedRevs||[],function(e,t,n){var i=Oe(e.metadata),r=We(e.metadata,i);if("was_delete"in c&&r)return s[t]=ne($,"deleted"),n();if(d&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var o=ne(U);return s[t]=o,n()}a(e,i,r,r,!1,r?0:1,t,n)}(u,f,o)}}l()}))}var Ht="document-store",$t="meta-store";function Ut(e){try{return JSON.stringify(e)}catch(t){return u.a.stringify(e)}}function Vt(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(ne(Z,n,t.type))}}function Gt(e,t,n){return{data:Ut(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function Wt(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return u.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function zt(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function Jt(e,t,n,i){n?i(e?"string"!=typeof e?e:we(e,t):ye([""],{type:t})):e?"string"!=typeof e?Ee(e,(function(e){i(ve(e))})):i(e):i("")}function Kt(e,t,n,i){var r=Object.keys(e._attachments||{});if(!r.length)return i&&i();var o=0;function s(){++o===r.length&&i&&i()}r.forEach((function(i){t.attachments&&t.include_docs?function(e,t){var i=e._attachments[t],r=i.digest;n.objectStore("attach-store").get(r).onsuccess=function(e){i.body=e.target.result.body,s()}}(e,i):(e._attachments[i].stub=!0,s())}))}function Xt(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map((function(n){var i=e.doc._attachments[n];if("body"in i){var r=i.body,o=i.content_type;return new Promise((function(s){Jt(r,o,t,(function(t){e.doc._attachments[n]=D(N(i,["digest","content_type"]),{data:t}),s()}))}))}})))}})))}function Yt(e,t,n){var i=[],r=n.objectStore("by-sequence"),o=n.objectStore("attach-store"),s=n.objectStore("attach-seq-store"),a=e.length;function c(){--a||function(){if(!i.length)return;i.forEach((function(e){s.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1)).onsuccess=function(t){t.target.result||o.delete(e)}}))}()}e.forEach((function(e){var n=r.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return c();r.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),s.delete(t.primaryKey),t.continue()}else c()}}}))}function Qt(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}var Zt=new M;function en(e,t,n,i,o,s){for(var a,c,l,d,u,f,h,p,m=t.docs,g=0,v=m.length;g<v;g++){var y=m[g];y._id&&ze(y._id)||(y=m[g]=Pt(y,n.new_edits,e)).error&&!h&&(h=y)}if(h)return s(h);var b=!1,_=0,w=new Array(m.length),E=new r,S=!1,k=i._meta.blobSupport?"blob":"base64";function L(){b=!0,A()}function A(){p&&b&&(p.docCount+=_,f.put(p))}function x(){S||(Zt.notify(i._meta.name),s(null,w))}function C(e,t,n,i,r,o,s,a){e.metadata.winningRev=t,e.metadata.deleted=n;var c=e.data;if(c._id=e.metadata.id,c._rev=e.metadata.rev,i&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return function(e,t,n,i,r,o){var s=e.data,a=0,c=Object.keys(s._attachments);function l(){a===c.length&&N(e,t,n,i,r,o)}function u(){a++,l()}c.forEach((function(n){var i=e.data._attachments[n];if(i.stub)a++,l();else{var r=i.data;delete i.data,i.revpos=parseInt(t,10),function(e,t,n){d.count(e).onsuccess=function(i){if(i.target.result)return n();var r={digest:e,body:t};d.put(r).onsuccess=n}}(i.digest,r,u)}}))}(e,t,n,r,s,a);_+=o,A(),N(e,t,n,r,s,a)}function N(e,t,n,r,o,s){var d=e.data,f=e.metadata;function h(o){var s=e.stemmedRevs||[];r&&i.auto_compaction&&(s=s.concat(function(e){var t=[];return Ie(e.rev_tree,(function(e,n,i,r,o){"available"!==o.status||e||(t.push(n+"-"+i),o.status="missing")})),t}(e.metadata))),s&&s.length&&Yt(s,e.metadata.id,a),f.seq=o.target.result;var l=Gt(f,t,n);c.put(l).onsuccess=p}function p(){w[o]={ok:!0,id:f.id,rev:f.rev},E.set(e.metadata.id,e.metadata),function(e,t,n){var i=0,r=Object.keys(e.data._attachments||{});if(!r.length)return n();function o(){++i===r.length&&n()}function s(n){var i=e.data._attachments[n].digest,r=u.put({seq:t,digestSeq:i+"::"+t});r.onsuccess=o,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),o()}}for(var a=0;a<r.length;a++)s(r[a])}(e,f.seq,s)}d._doc_id_rev=f.id+"::"+f.rev,delete d._id,delete d._rev;var m=l.put(d);m.onsuccess=h,m.onerror=function(e){e.preventDefault(),e.stopPropagation(),l.index("_doc_id_rev").getKey(d._doc_id_rev).onsuccess=function(e){l.put(d,e.target.result).onsuccess=h}}}!function(e,t,n){if(!e.length)return n();var i,r=0;function o(){r++,e.length===r&&(i?n(i):n())}e.forEach((function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!n.length)return o();function s(e){i=e,++r===n.length&&o()}for(var a in e.data._attachments)Object.prototype.hasOwnProperty.call(e.data._attachments,a)&&jt(e.data._attachments[a],t,s)}))}(m,k,(function(t){if(t)return s(t);!function(){var t=Qt(o,[Ht,"by-sequence","attach-store","local-store","attach-seq-store",$t],"readwrite");if(t.error)return s(t.error);(a=t.txn).onabort=Vt(s),a.ontimeout=Vt(s),a.oncomplete=x,c=a.objectStore(Ht),l=a.objectStore("by-sequence"),d=a.objectStore("attach-store"),u=a.objectStore("attach-seq-store"),(f=a.objectStore($t)).get($t).onsuccess=function(e){p=e.target.result,A()},function(e){var t=[];if(m.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var i=e.data._attachments[n];i.stub&&t.push(i.digest)}))})),!t.length)return e();var n,i=0;t.forEach((function(r){!function(e,t){d.get(e).onsuccess=function(n){if(n.target.result)t();else{var i=ne(te,"unknown stub attachment with digest "+e);i.status=412,t(i)}}}(r,(function(r){r&&!n&&(n=r),++i===t.length&&e(n)}))}))}((function(t){if(t)return S=!0,s(t);!function(){if(!m.length)return;var t=0;function r(){++t===m.length&&Rt(e.revs_limit,m,i,E,a,w,C,n,L)}function o(e){var t=Wt(e.target.result);t&&E.set(t.id,t),r()}for(var s=0,l=m.length;s<l;s++){var d=m[s];if(d._id&&ze(d._id))r();else c.get(d.metadata.id).onsuccess=o}}()}))}()}))}function tn(e,t,n,i,r){var o,s,a;function c(e){s=e.target.result,o&&r(o,s,a)}function l(e){o=e.target.result,s&&r(o,s,a)}function d(e){var t=e.target.result;if(!t)return r();r([t.key],[t.value],t)}-1===i&&(i=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&i>1&&!n?(a={continue:function(){if(!o.length)return r();var n,a=o[o.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return r()}else n=IDBKeyRange.lowerBound(a,!0);t=n,o=null,s=null,e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l}},e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l):n?e.openCursor(t,"prev").onsuccess=d:e.openCursor(t).onsuccess=d}function nn(e,t,n){var i,r,o="startkey"in e&&e.startkey,s="endkey"in e&&e.endkey,a="key"in e&&e.key,c="keys"in e&&e.keys,l=e.skip||0,d="number"==typeof e.limit?e.limit:-1,u=!1!==e.inclusive_end;if(!c&&(r=(i=function(e,t,n,i,r){try{if(e&&t)return r?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return r?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return r?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(i)return IDBKeyRange.only(i)}catch(e){return{error:e}}return null}(o,s,u,a,e.descending))&&i.error)&&("DataError"!==r.name||0!==r.code))return n(ne(Z,r.name,r.message));var f=[Ht,"by-sequence",$t];e.attachments&&f.push("attach-store");var h=Qt(t,f,"readonly");if(h.error)return n(h.error);var p=h.txn;p.oncomplete=function(){e.attachments?Xt(E,e.binary).then(A):A()},p.onabort=Vt(n);var m,g,v,y=p.objectStore(Ht),b=p.objectStore("by-sequence"),_=p.objectStore($t),w=b.index("_doc_id_rev"),E=[];function S(t,n){var i={id:n.id,key:n.id,value:{rev:t}};n.deleted?c&&(E.push(i),i.value.deleted=!0,i.doc=null):l--<=0&&(E.push(i),e.include_docs&&function(t,n,i){var r=t.id+"::"+i;w.get(r).onsuccess=function(i){if(n.doc=zt(i.target.result)||{},e.conflicts){var r=Pe(t);r.length&&(n.doc._conflicts=r)}Kt(n.doc,e,p)}}(n,i,t))}function k(e){for(var t=0,n=e.length;t<n&&E.length!==d;t++){var i=e[t];if(i.error&&c)E.push(i);else{var r=Wt(i);S(r.winningRev,r)}}}function L(e,t,n){n&&(k(t),E.length<d&&n.continue())}function A(){var t={total_rows:m,offset:e.skip,rows:E};e.update_seq&&void 0!==g&&(t.update_seq=g),n(null,t)}return _.get($t).onsuccess=function(e){m=e.target.result.docCount},e.update_seq&&(v=function(e){e.target.result&&e.target.result.length>0&&(g=e.target.result[0])},b.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),v({target:{result:[n]}})}),r||0===d?void 0:c?function(e,t,n){var i=new Array(e.length),r=0;e.forEach((function(o,s){t.get(o).onsuccess=function(t){t.target.result?i[s]=t.target.result:i[s]={key:o,error:"not_found"},++r===e.length&&n(e,i,{})}}))}(e.keys,y,L):-1===d?function(e,t,n){if("function"!=typeof e.getAll){var i=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(i.push(t.value),t.continue()):n({target:{result:i}})}}else e.getAll(t).onsuccess=n}(y,i,(function(t){var n=t.target.result;e.descending&&(n=n.reverse()),k(n)})):void tn(y,i,e.descending,d+l,L)}var rn=!1,on=[];function sn(){!rn&&on.length&&(rn=!0,on.shift()())}function an(e,t,n,o){if((e=L(e)).continuous){var s=n+":"+Te();return Zt.addListener(n,s,t,e),Zt.notify(n),{cancel:function(){Zt.removeListener(n,s)}}}var a=e.doc_ids&&new i(e.doc_ids);e.since=e.since||0;var c=e.since,l="limit"in e?e.limit:-1;0===l&&(l=1);var d,u,f,h,p=[],m=0,g=re(e),v=new r;function y(e,t,n,i){if(n.seq!==t)return i();if(n.winningRev===e._rev)return i(n,e);var r=e._id+"::"+n.winningRev;h.get(r).onsuccess=function(e){i(n,zt(e.target.result))}}function b(){e.complete(null,{results:p,last_seq:c})}var _=[Ht,"by-sequence"];e.attachments&&_.push("attach-store");var w=Qt(o,_,"readonly");if(w.error)return e.complete(w.error);(d=w.txn).onabort=Vt(e.complete),d.oncomplete=function(){!e.continuous&&e.attachments?Xt(p).then(b):b()},u=d.objectStore("by-sequence"),f=d.objectStore(Ht),h=u.index("_doc_id_rev"),tn(u,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,l,(function(t,n,i){if(i&&t.length){var r=new Array(t.length),o=new Array(t.length),s=0;n.forEach((function(n,c){!function(e,t,n){if(a&&!a.has(e._id))return n();var i=v.get(e._id);if(i)return y(e,t,i,n);f.get(e._id).onsuccess=function(r){i=Wt(r.target.result),v.set(e._id,i),y(e,t,i,n)}}(zt(n),t[c],(function(n,a){o[c]=n,r[c]=a,++s===t.length&&function(){for(var t=[],n=0,s=r.length;n<s&&m!==l;n++){var a=r[n];if(a){var c=o[n];t.push(u(c,a))}}Promise.all(t).then((function(t){for(var n=0,i=t.length;n<i;n++)t[n]&&e.onChange(t[n])})).catch(e.complete),m!==l&&i.continue()}()}))}))}function u(t,n){var i=e.processChange(n,t,e);c=i.seq=t.seq;var r=g(i);return"object"==typeof r?Promise.reject(r):r?(m++,e.return_docs&&p.push(i),e.attachments&&e.include_docs?new Promise((function(t){Kt(n,e,d,(function(){Xt([i],e.binary).then((function(){t(i)}))}))})):Promise.resolve(i)):Promise.resolve()}}))}var cn,ln=new r,dn=new r;function un(e,t){var n=this;!function(e,t,n){on.push((function(){e((function(e,i){!function(e,t,n,i){try{e(t,n)}catch(t){i.emit("error",t)}}(t,e,i,n),rn=!1,s()((function(){sn()}))}))})),sn()}((function(t){!function(e,t,n){var i=t.name,r=null,o=null;function a(e){return function(t,n){t&&t instanceof Error&&!t.reason&&o&&(t.reason=o),e(t,n)}}function c(e,t){var n=e.objectStore(Ht);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r=i.value,o=We(r);r.deletedOrLocal=o?"1":"0",n.put(r),i.continue()}else t()}}function l(e,t){var n=e.objectStore("local-store"),i=e.objectStore(Ht),r=e.objectStore("by-sequence");i.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var s=o.value,a=s.id,c=ze(a),l=Oe(s);if(c){var d=a+"::"+l,u=a+"::",f=a+"::~",h=r.index("_doc_id_rev"),p=IDBKeyRange.bound(u,f,!1,!1),m=h.openCursor(p);m.onsuccess=function(e){if(m=e.target.result){var t=m.value;t._doc_id_rev===d&&n.put(t),r.delete(m.primaryKey),m.continue()}else i.delete(o.primaryKey),o.continue()}}else o.continue()}else t&&t()}}function d(e,t){var n=e.objectStore("by-sequence"),i=e.objectStore("attach-store"),r=e.objectStore("attach-seq-store");i.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var i=n.value,o=n.primaryKey,s=Object.keys(i._attachments||{}),a={},c=0;c<s.length;c++){a[i._attachments[s[c]].digest]=!0}var l=Object.keys(a);for(c=0;c<l.length;c++){var d=l[c];r.put({seq:o,digestSeq:d+"::"+o})}n.continue()}}}function u(e){var t=e.objectStore("by-sequence"),n=e.objectStore(Ht);n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r,o=(r=i.value).data?Wt(r):(r.deleted="1"===r.deletedOrLocal,r);if(o.winningRev=o.winningRev||Oe(o),o.seq)return s();!function(){var e=o.id+"::",n=o.id+"::￿",i=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),r=0;i.onsuccess=function(e){var t=e.target.result;if(!t)return o.seq=r,s();var n=t.primaryKey;n>r&&(r=n),t.continue()}}()}function s(){var e=Gt(o,o.winningRev,o.deleted);n.put(e).onsuccess=function(){i.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=x((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(n,i,o){en(t,n,i,e,r,a(o))},e._get=function(e,t,n){var i,o,s,a=t.ctx;if(!a){var c=Qt(r,[Ht,"by-sequence","attach-store"],"readonly");if(c.error)return n(c.error);a=c.txn}function l(){n(s,{doc:i,metadata:o,ctx:a})}a.objectStore(Ht).get(e).onsuccess=function(e){if(!(o=Wt(e.target.result)))return s=ne($,"missing"),l();var n;if(t.rev)n=t.latest?function(e,t){for(var n,i=t.rev_tree.slice();n=i.pop();){var r=n.pos,o=n.ids,s=o[0],a=o[1],c=o[2],l=0===c.length,d=n.history?n.history.slice():[];if(d.push({id:s,pos:r,opts:a}),l)for(var u=0,f=d.length;u<f;u++){var h=d[u];if(h.pos+"-"+h.id===e)return r+"-"+s}for(var p=0,m=c.length;p<m;p++)i.push({pos:r+1,ids:c[p],history:d})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,o):t.rev;else if(n=o.winningRev,We(o))return s=ne($,"deleted"),l();var r=a.objectStore("by-sequence"),c=o.id+"::"+n;r.index("_doc_id_rev").get(c).onsuccess=function(e){if((i=e.target.result)&&(i=zt(i)),!i)return s=ne($,"missing"),l();l()}}},e._getAttachment=function(e,t,n,i,o){var s;if(i.ctx)s=i.ctx;else{var a=Qt(r,[Ht,"by-sequence","attach-store"],"readonly");if(a.error)return o(a.error);s=a.txn}var c=n.digest,l=n.content_type;s.objectStore("attach-store").get(c).onsuccess=function(e){Jt(e.target.result.body,l,i.binary,(function(e){o(null,e)}))}},e._info=function(t){var n,i,o=Qt(r,[$t,"by-sequence"],"readonly");if(o.error)return t(o.error);var s=o.txn;s.objectStore($t).get($t).onsuccess=function(e){i=e.target.result.docCount},s.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},s.oncomplete=function(){t(null,{doc_count:i,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){nn(e,r,a(t))},e._changes=function(t){return an(t,e,i,r)},e._close=function(e){r.close(),ln.delete(i),e()},e._getRevisionTree=function(e,t){var n=Qt(r,[Ht],"readonly");if(n.error)return t(n.error);n.txn.objectStore(Ht).get(e).onsuccess=function(e){var n=Wt(e.target.result);n?t(null,n.rev_tree):t(ne($))}},e._doCompaction=function(e,t,n){var i=Qt(r,[Ht,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(i.error)return n(i.error);var o=i.txn;o.objectStore(Ht).get(e).onsuccess=function(n){var i=Wt(n.target.result);Ie(i.rev_tree,(function(e,n,i,r,o){var s=n+"-"+i;-1!==t.indexOf(s)&&(o.status="missing")})),Yt(t,e,o);var r=i.winningRev,s=i.deleted;o.objectStore(Ht).put(Gt(i,r,s))},o.onabort=Vt(n),o.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=Qt(r,["local-store"],"readonly");if(n.error)return t(n.error);var i=n.txn.objectStore("local-store").get(e);i.onerror=Vt(t),i.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(ne($))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var i=e._rev,o=e._id;e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var s,a=t.ctx;if(!a){var c=Qt(r,["local-store"],"readwrite");if(c.error)return n(c.error);(a=c.txn).onerror=Vt(n),a.oncomplete=function(){s&&n(null,s)}}var l,d=a.objectStore("local-store");i?(l=d.get(o)).onsuccess=function(r){var o=r.target.result;o&&o._rev===i?d.put(e).onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,s)}:n(ne(U))}:((l=d.add(e)).onerror=function(e){n(ne(U)),e.preventDefault(),e.stopPropagation()},l.onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,s)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var i,o=t.ctx;if(!o){var s=Qt(r,["local-store"],"readwrite");if(s.error)return n(s.error);(o=s.txn).oncomplete=function(){i&&n(null,i)}}var a=e._id,c=o.objectStore("local-store"),l=c.get(a);l.onerror=Vt(n),l.onsuccess=function(r){var o=r.target.result;o&&o._rev===e._rev?(c.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(ne($))}},e._destroy=function(e,t){Zt.removeAllListeners(i);var n=dn.get(i);n&&n.result&&(n.result.close(),ln.delete(i));var r=indexedDB.deleteDatabase(i);r.onsuccess=function(){dn.delete(i),B()&&i in localStorage&&delete localStorage[i],t(null,{ok:!0})},r.onerror=Vt(t)};var f=ln.get(i);if(f)return r=f.idb,e._meta=f.global,s()((function(){n(null,e)}));var h=indexedDB.open(i,5);dn.set(i,h),h.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(Ht,{keyPath:"id"});e.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore("attach-store",{keyPath:"digest"}),e.createObjectStore($t,{keyPath:"id",autoIncrement:!1}),e.createObjectStore("detect-blob-support"),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore("local-store",{keyPath:"_id"});var n=e.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore("attach-seq-store",{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var i=[c,l,d,u],r=e.oldVersion;!function e(){var t=i[r-1];r++,t&&t(n,e)}()},h.onsuccess=function(t){(r=t.target.result).onversionchange=function(){r.close(),ln.delete(i)},r.onabort=function(e){P("error","Database has a global failure",e.target.error),o=e.target.error,r.close(),ln.delete(i)};var s,a,c,l,d=r.transaction([$t,"detect-blob-support",Ht],"readwrite"),u=!1;function f(){void 0!==c&&u&&(e._meta={name:i,instanceId:l,blobSupport:c},ln.set(i,{idb:r,global:e._meta}),n(null,e))}function h(){if(void 0!==a&&void 0!==s){var e=i+"_id";e in s?l=s[e]:s[e]=l=Te(),s.docCount=a,d.objectStore($t).put(s)}}d.objectStore($t).get($t).onsuccess=function(e){s=e.target.result||{id:$t},h()},function(e,t){e.objectStore(Ht).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(d,(function(e){a=e,h()})),cn||(cn=function(e){return new Promise((function(t){var n=ye([""]),i=e.objectStore("detect-blob-support").put(n,"key");i.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},i.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}})).catch((function(){return!1}))}(d)),cn.then((function(e){c=e,f()})),d.oncomplete=function(){u=!0,f()},d.onabort=Vt(n)},h.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",P("error",t),n(ne(Z,t))}}(n,e,t)}),t,n.constructor)}un.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var fn={};function hn(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach((function(e){var t=n[e];t.data=we(t.data,t.content_type)}))}function pn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function mn(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise((function(e){ke(n.data,e)})).then((function(e){n.data=e}))}))):Promise.resolve()}function gn(e,t){if(function(e){if(!e.prefix)return!1;var t=he(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var i=he(e);(i.user||i.password)&&(i.auth={username:i.user,password:i.password});var r=i.path.replace(/(^\/|\/$)/g,"").split("/");return i.db=r.pop(),-1===i.db.indexOf("%")&&(i.db=encodeURIComponent(i.db)),i.path=r.join("/"),i}function vn(e,t){return yn(e,e.db+"/"+t)}function yn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function bn(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function _n(t,n){var i=this,r=gn(t.name,t),o=vn(r,"");t=L(t);var a,c=function(e,n){if((n=n||{}).headers=n.headers||new rt,n.credentials="include",t.auth||r.auth){var i=t.auth||r.auth,o=i.username+":"+i.password,s=ve(unescape(encodeURIComponent(o)));n.headers.set("Authorization","Basic "+s)}var a=t.headers||{};return Object.keys(a).forEach((function(e){n.headers.append(e,a[e])})),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),i=-1!==t.indexOf("trident"),r=-1!==t.indexOf("edge"),o=!("method"in e)||"GET"===e.method;return(n||i||r)&&o}(n)&&(e+=(-1===e.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(t.fetch||it)(e,n)};function l(e,t){return C(e,h()((function(e){u().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))}))).bind(i)}function d(e,t,n){var i={};return(t=t||{}).headers=t.headers||new rt,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),c(e,t).then((function(e){return i.ok=e.ok,i.status=e.status,e.json()})).then((function(e){if(i.data=e,!i.ok){i.data.status=i.status;var t=ie(i.data);if(n)return n(t);throw t}if(Array.isArray(i.data)&&(i.data=i.data.map((function(e){return e.error||e.missing?ie(e):e}))),!n)return i;n(null,i.data)}))}function u(){return t.skip_setup?Promise.resolve():a||((a=d(o).catch((function(e){return e&&e.status&&404===e.status?(j(404,"PouchDB is just detecting if the remote exists."),d(o,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}))).catch((function(){a=null})),a)}function f(e){return e.split("/").map(encodeURIComponent).join("/")}s()((function(){n(null,i)})),i._remote=!0,i.type=function(){return"http"},i.id=l("id",(function(e){c(yn(r,"")).then((function(e){return e.json()})).catch((function(){return{}})).then((function(t){var n=t&&t.uuid?t.uuid+r.db:vn(r,"");e(null,n)}))})),i.compact=l("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=L(e),d(vn(r,"_compact"),{method:"POST"}).then((function(){!function n(){i.info((function(i,r){r&&!r.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)}))}()}))})),i.bulkGet=C("bulkGet",(function(e,t){var n=this;function i(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),d(vn(r,"_bulk_get"+bn(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then((function(n){e.attachments&&e.binary&&n.data.results.forEach((function(e){e.docs.forEach(hn)})),t(null,n.data)})).catch(t)}function o(){var i=Math.ceil(e.docs.length/50),r=0,o=new Array(i);function s(e){return function(n,s){o[e]=s.results,++r===i&&t(null,{results:oe(o)})}}for(var a=0;a<i;a++){var c=N(e,["revs","attachments","binary","latest"]);c.docs=e.docs.slice(50*a,Math.min(e.docs.length,50*(a+1))),I(n,c,s(a))}}var s=yn(r,""),a=fn[s];"boolean"!=typeof a?i((function(e,n){e?(fn[s]=!1,j(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(fn[s]=!0,t(null,n))})):a?i(t):o()})),i._info=function(e){u().then((function(){return c(vn(r,""))})).then((function(e){return e.json()})).then((function(t){t.host=vn(r,""),e(null,t)})).catch(e)},i.fetch=function(e,t){return u().then((function(){var n="/"===e.substring(0,1)?yn(r,e.substring(1)):vn(r,e);return c(n,t)}))},i.get=l("get",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i={};function o(e){var n=e._attachments,i=n&&Object.keys(n);if(n&&i.length)return function(e,t){return new Promise((function(n,i){var r,o=0,s=0,a=0,c=e.length;function l(){++a===c?r?i(r):n():f()}function d(){o--,l()}function u(e){o--,r=r||e,l()}function f(){for(;o<t&&s<c;)o++,e[s++]().then(d,u)}f()}))}(i.map((function(i){return function(){return function(i){var o=n[i],s=pn(e._id)+"/"+f(i)+"?rev="+e._rev;return c(vn(r,s)).then((function(e){return"buffer"in e?e.buffer():e.blob()})).then((function(e){if(t.binary){var n=Object.getOwnPropertyDescriptor(e.__proto__,"type");return n&&!n.set||(e.type=o.content_type),e}return new Promise((function(t){ke(e,t)}))})).then((function(e){delete o.stub,delete o.length,o.data=e}))}(i)}})),5)}(t=L(t)).revs&&(i.revs=!0),t.revs_info&&(i.revs_info=!0),t.latest&&(i.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),i.open_revs=t.open_revs),t.rev&&(i.rev=t.rev),t.conflicts&&(i.conflicts=t.conflicts),t.update_seq&&(i.update_seq=t.update_seq),e=pn(e),d(vn(r,e+bn(i))).then((function(e){return Promise.resolve().then((function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map((function(e){if(e.ok)return o(e.ok)}))):o(n);var n})).then((function(){n(null,e.data)}))})).catch((function(t){t.docId=e,n(t)}))})),i.remove=l("remove",(function(e,t,n,i){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(o=e,"function"==typeof t?(i=t,n={}):(i=n,n=t));var s=o._rev||n.rev;d(vn(r,pn(o._id))+"?rev="+s,{method:"DELETE"},i).catch(i)})),i.getAttachment=l("getAttachment",(function(t,n,i,o){"function"==typeof i&&(o=i,i={});var s,a=i.rev?"?rev="+i.rev:"",l=vn(r,pn(t))+"/"+f(n)+a;c(l,{method:"GET"}).then((function(t){if(s=t.headers.get("content-type"),t.ok)return void 0===e||e.browser||"function"!=typeof t.buffer?t.blob():t.buffer();throw t})).then((function(t){void 0===e||e.browser||(t.type=s),o(null,t)})).catch((function(e){o(e)}))})),i.removeAttachment=l("removeAttachment",(function(e,t,n,i){d(vn(r,pn(e)+"/"+f(t))+"?rev="+n,{method:"DELETE"},i).catch(i)})),i.putAttachment=l("putAttachment",(function(e,t,n,i,o,s){"function"==typeof o&&(s=o,o=i,i=n,n=null);var a=pn(e)+"/"+f(t),c=vn(r,a);if(n&&(c+="?rev="+n),"string"==typeof i){var l;try{l=ge(i)}catch(e){return s(ne(J,"Attachment is not a valid base64 string"))}i=l?_e(l,o):""}d(c,{headers:new rt({"Content-Type":o}),method:"PUT",body:i},s).catch(s)})),i._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,u().then((function(){return Promise.all(e.docs.map(mn))})).then((function(){return d(vn(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)})).catch(n)},i._put=function(e,t,n){u().then((function(){return mn(e)})).then((function(){return d(vn(r,pn(e._id)),{method:"PUT",body:JSON.stringify(e)})})).then((function(e){n(null,e.data)})).catch((function(t){t.docId=e&&e._id,n(t)}))},i.allDocs=l("allDocs",(function(e,t){"function"==typeof e&&(t=e,e={});var n,i={},o="GET";(e=L(e)).conflicts&&(i.conflicts=!0),e.update_seq&&(i.update_seq=!0),e.descending&&(i.descending=!0),e.include_docs&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.key&&(i.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(i.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(i.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(i.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(i.limit=e.limit),void 0!==e.skip&&(i.skip=e.skip);var s=bn(i);void 0!==e.keys&&(o="POST",n={keys:e.keys}),d(vn(r,"_all_docs"+s),{method:o,body:JSON.stringify(n)}).then((function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(hn),t(null,n.data)})).catch(t)})),i._changes=function(e){var t="batch_size"in e?e.batch_size:25;(e=L(e)).continuous&&!("heartbeat"in e)&&(e.heartbeat=1e4);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<5e3&&(n=e.timeout+5e3),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<5e3&&(n=e.heartbeat+5e3);var i={};"timeout"in e&&e.timeout&&(i.timeout=e.timeout);var o=void 0!==e.limit&&e.limit,a=o;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.seq_interval&&(i.seq_interval=e.seq_interval),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.update_seq&&(i.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(i.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var c in e.query_params)Object.prototype.hasOwnProperty.call(e.query_params,c)&&(i[c]=e.query_params[c]);var l,f="GET";e.doc_ids?(i.filter="_doc_ids",f="POST",l={doc_ids:e.doc_ids}):e.selector&&(i.filter="_selector",f="POST",l={selector:e.selector});var h,p=new nt,m=function(n,s){if(!e.aborted){i.since=n,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?o&&(i.limit=a):i.limit=!o||a>t?t:a;var c=vn(r,"_changes"+bn(i)),m={signal:p.signal,method:f,body:JSON.stringify(l)};h=n,e.aborted||u().then((function(){return d(c,m,s)})).catch(s)}},g={results:[]},v=function(n,i){if(!e.aborted){var r=0;if(i&&i.results){r=i.results.length,g.last_seq=i.last_seq;var c=null,l=null;"number"==typeof i.pending&&(c=i.pending),"string"!=typeof g.last_seq&&"number"!=typeof g.last_seq||(l=g.last_seq);e.query_params,i.results=i.results.filter((function(t){a--;var n=re(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&hn(t),e.return_docs&&g.results.push(t),e.onChange(t,c,l)),n}))}else if(n)return e.aborted=!0,void e.complete(n);i&&i.last_seq&&(h=i.last_seq);var d=o&&a<=0||i&&r<t||e.descending;(!e.continuous||o&&a<=0)&&d?e.complete(null,g):s()((function(){m(h,v)}))}};return m(e.since||0,v),{cancel:function(){e.aborted=!0,p.abort()}}},i.revsDiff=l("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={}),d(vn(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)})),i._close=function(e){e()},i._destroy=function(e,t){d(vn(r,""),{method:"DELETE"}).then((function(e){t(null,e)})).catch((function(e){404===e.status?t(null,{ok:!0}):t(e)}))}}function wn(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,wn)}catch(e){}}function En(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,En)}catch(e){}}function Sn(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Sn)}catch(e){}}function kn(e,t){return t&&e.then((function(e){s()((function(){t(null,e)}))}),(function(e){s()((function(){t(e)}))})),e}function Ln(e,t){return function(){var n=arguments,i=this;return e.add((function(){return t.apply(i,n)}))}}function An(e){var t=new i(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function xn(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,i){t[++n]=i})),t}function Cn(e){return new Sn("builtin "+e+" function requires map values to be numbers or number arrays")}function Nn(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];if("number"!=typeof r){if(!Array.isArray(r))throw Cn("_sum");t="number"==typeof t?[t]:t;for(var o=0,s=r.length;o<s;o++){var a=r[o];if("number"!=typeof a)throw Cn("_sum");void 0===t[o]?t.push(a):t[o]+=a}}else"number"==typeof t?t+=r:t[0]+=r}return t}_n.valid=function(){return!0},m()(wn,Error),m()(En,Error),m()(Sn,Error);var qn=P.bind(null,"log"),Tn=Array.isArray,On=JSON.parse;function In(e,t){return pe("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Nn,log:qn,isArray:Tn,toJSON:On})}function Bn(){this.promise=new Promise((function(e){e()}))}function Mn(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function Pn(e,t,n,i,r,o){var s,a=function(e,t){return Mn(e)+Mn(t)+"undefined"}(n,i);if(!r&&(s=e._cachedViews=e._cachedViews||{})[a])return s[a];var c=e.info().then((function(c){var l=c.db_name+"-mrview-"+(r?"temp":Ne(a));return me(e,"_local/"+o,(function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var i=e.views[n]=e.views[n]||{};if(!i[l])return i[l]=!0,e})).then((function(){return e.registerDependentDatabase(l).then((function(t){var r=t.db;r.auto_compaction=!0;var o={name:l,db:r,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:i};return o.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return o.seq=e?e.seq:0,s&&o.db.once("destroyed",(function(){delete s[a]})),o}))}))}))}));return s&&(s[a]=c),c}Bn.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},Bn.prototype.finish=function(){return this.promise};var Fn={},jn=new Bn;function Dn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Rn(e,t){try{e.emit("error",t)}catch(e){P("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),P("error",t)}}var Hn=function(e,t){return Nn(t)},$n=function(e,t){return t.length},Un=function(e,t){return{sum:Nn(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];t+=r*r}return t}(t)}};var Vn=function(e,t,n,o){function a(e,t,n){try{t(n)}catch(t){Rn(e,t)}}function c(e,t,n,i,r){try{return{output:t(n,i,r)}}catch(t){return Rn(e,t),{error:t}}}function l(e,t){var n=ht(e.key,t.key);return 0!==n?n:ht(e.value,t.value)}function d(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function u(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function f(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];t[e].data=we(n.data,n.content_type)}))}))}(t),t}}function p(e,t,n,i){var r=t[e];void 0!==r&&(i&&(r=encodeURIComponent(JSON.stringify(r))),n.push(e+"="+r))}function m(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function g(e,t){var n=e.descending?"endkey":"startkey",i=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[i]&&ht(e[n],e[i])>0)throw new wn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new wn("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new wn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!=typeof e)return new wn('Invalid value for integer: "'+e+'"');if(e<0)return new wn('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function v(e){return function(t){if(404===t.status)return e;throw t}}function y(e,t,n){var r="_local/doc_"+e,o={_id:r,keys:[]},s=n.get(e),a=s[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(s[1])?Promise.resolve(o):t.db.get(r).catch(v(o))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r=new i,o=0,s=t.rows.length;o<s;o++){var c=t.rows[o].doc;if(c&&(n.push(c),r.add(c._id),c._deleted=!a.has(c._id),!c._deleted)){var l=a.get(c._id);"value"in l&&(c.value=l.value)}}var d=xn(a);return d.forEach((function(e){if(!r.has(e)){var t={_id:e},i=a.get(e);"value"in i&&(t.value=i.value),n.push(t)}})),e.keys=An(d.concat(e.keys)),n.push(e),n}(e,t)}))}))}function b(e){var t="string"==typeof e?e:e.name,n=Fn[t];return n||(n=Fn[t]=new Bn),n}function _(e,n){return Ln(b(e),(function(){return function(e,n){var i,o;var s=t(e.mapFun,(function(e,t){var n={id:o._id,key:pt(e)};null!=t&&(n.value=pt(t)),i.push(n)})),c=e.seq||0;function d(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(v({_id:"_local/lastSeq",seq:0})).then((function(i){var r=xn(t);return Promise.all(r.map((function(n){return y(n,e,t)}))).then((function(t){var r=oe(t);return i.seq=n,r.push(i),e.db.bulkDocs({docs:r})}))}))}(e,t,n)}}let u=0,f={view:e.name,indexed_docs:u};e.sourceDB.emit("indexing",f);var h=new Bn;function p(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:n.changes_batch_size}).then(m)}function m(t){var f=t.results;if(!f.length)return;var m=function(t){for(var n=new r,d=0,u=t.length;d<u;d++){var f=t[d];if("_"!==f.doc._id[0]){i=[],(o=f.doc)._deleted||a(e.sourceDB,s,o),i.sort(l);var h=g(i);n.set(f.doc._id,[h,f.changes])}c=f.seq}return n}(f);h.add(d(m,c)),u+=f.length;let v={view:e.name,last_seq:t.last_seq,results_count:f.length,indexed_docs:u};return e.sourceDB.emit("indexing",v),f.length<n.changes_batch_size?void 0:p()}function g(e){for(var t,n=new r,i=0,o=e.length;i<o;i++){var s=e[i],a=[s.key,s.id];i>0&&0===ht(s.key,t)&&a.push(i),n.set(gt(a),s),t=s.key}return n}return p().then((function(){return h.finish()})).then((function(){e.seq=c}))}(e,n)}))()}function w(e,t){return Ln(b(e),(function(){return function(e,t){var i,o=e.reduceFun&&!1!==t.reduce,s=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);function a(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return i=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var i=function(e){for(var t=[],n=[],i=0;;){var r=e[i++];if("\0"!==r)switch(r){case"1":t.push(null);break;case"2":t.push("1"===e[i]),i++;break;case"3":var o=vt(e,i);t.push(o.num),i+=o.length;break;case"4":for(var s="";;){var a=e[i];if("\0"===a)break;s+=a,i++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===t.length)return t.pop();yt(t,n)}}}(e.doc._id);return{key:i[0],id:i[1],value:"value"in e.doc?e.doc.value:null}}))}))}function l(a){var l;if(l=o?function(e,t,i){0===i.group_level&&delete i.group_level;var r=i.group||i.group_level,o=n(e.reduceFun),s=[],a=isNaN(i.group_level)?Number.POSITIVE_INFINITY:i.group_level;t.forEach((function(e){var t=s[s.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===ht(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);s.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})})),t=[];for(var l=0,u=s.length;l<u;l++){var f=s[l],h=c(e.sourceDB,o,f.keys,f.values,!1);if(h.error&&h.error instanceof Sn)throw h.error;t.push({value:h.error?null:h.output,key:f.groupKey})}return{rows:d(t,i.limit,i.skip)}}(e,a,t):void 0===t.keys?{total_rows:i,offset:s,rows:a}:{total_rows:i,offset:s,rows:d(a,t.limit,t.skip)},t.update_seq&&(l.update_seq=e.seq),t.include_docs){var f=An(a.map(u));return e.sourceDB.allDocs({keys:f,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new r;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),a.forEach((function(e){var n=u(e),i=t.get(n);i&&(e.doc=i)})),l}))}return l}if(void 0!==t.keys){var f=t.keys.map((function(e){var n={startkey:gt([e]),endkey:gt([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)}));return Promise.all(f).then(oe).then(l)}var h,p,m={descending:t.descending};if(t.update_seq&&(m.update_seq=!0),"start_key"in t&&(h=t.start_key),"startkey"in t&&(h=t.startkey),"end_key"in t&&(p=t.end_key),"endkey"in t&&(p=t.endkey),void 0!==h&&(m.startkey=t.descending?gt([h,{}]):gt([h])),void 0!==p){var g=!1!==t.inclusive_end;t.descending&&(g=!g),m.endkey=gt(g?[p,{}]:[p])}if(void 0!==t.key){var v=gt([t.key]),y=gt([t.key,{}]);m.descending?(m.endkey=v,m.startkey=y):(m.startkey=v,m.endkey=y)}return o||("number"==typeof t.limit&&(m.limit=t.limit),m.skip=s),a(m).then(l)}(e,t)}))()}function E(t,n,i){if("function"==typeof t._query)return function(e,t,n){return new Promise((function(i,r){e._query(t,n,(function(e,t){if(e)return r(e);i(t)}))}))}(t,n,i);if(ae(t))return function(e,t,n){var i,r,o,s=[],a="GET";if(p("reduce",n,s),p("include_docs",n,s),p("attachments",n,s),p("limit",n,s),p("descending",n,s),p("group",n,s),p("group_level",n,s),p("skip",n,s),p("stale",n,s),p("conflicts",n,s),p("startkey",n,s,!0),p("start_key",n,s,!0),p("endkey",n,s,!0),p("end_key",n,s,!0),p("inclusive_end",n,s),p("key",n,s,!0),p("update_seq",n,s),s=""===(s=s.join("&"))?"":"?"+s,void 0!==n.keys){var c="keys="+encodeURIComponent(JSON.stringify(n.keys));c.length+s.length+1<=2e3?s+=("?"===s[0]?"&":"?")+c:(a="POST","string"==typeof t?i={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var l=Dn(t);return e.fetch("_design/"+l[0]+"/_view/"+l[1]+s,{headers:new rt({"Content-Type":"application/json"}),method:a,body:JSON.stringify(i)}).then((function(e){return r=e.ok,o=e.status,e.json()})).then((function(e){if(!r)throw e.status=o,ie(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(f(n))}return i=i||{},Object.keys(t).forEach((function(e){Array.isArray(t[e])?i[e]=t[e]:i[e]=t[e].toString()})),e.fetch("_temp_view"+s,{headers:new rt({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(i)}).then((function(e){return r=e.ok,o=e.status,e.json()})).then((function(e){if(!r)throw e.status=o,ie(e);return e})).then(f(n))}(t,n,i);var r={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof n)return g(i,n),jn.add((function(){return Pn(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then((function(e){return t=_(e,r).then((function(){return w(e,i)})),n=function(){return e.db.destroy()},t.then((function(e){return n().then((function(){return e}))}),(function(e){return n().then((function(){throw e}))}));var t,n}))})),jn.finish();var a=n,c=Dn(a),l=c[0],d=c[1];return t.get("_design/"+l).then((function(n){var c=n.views&&n.views[d];if(!c)throw new En("ddoc "+n._id+" has no view named "+d);return o(n,d),g(i,c),Pn(t,a,c.map,c.reduce,!1,e).then((function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&s()((function(){_(e,r)})),w(e,i)):_(e,r).then((function(){return w(e,i)}))}))}))}var S;return{query:function(e,t,n){var i=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=m(e.group_level),e.limit=m(e.limit),e.skip=m(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var r=Promise.resolve().then((function(){return E(i,e,t)}));return kn(r,n),r},viewCleanup:(S=function(){var t=this;return"function"==typeof t._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,i){if(e)return n(e);t(i)}))}))}(t):ae(t)?function(e){return e.fetch("_view_cleanup",{headers:new rt({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(t):function(t){return t.get("_local/"+e).then((function(e){var n=new r;Object.keys(e.views).forEach((function(e){var t=Dn(e),r="_design/"+t[0],o=t[1],s=n.get(r);s||(s=new i,n.set(r,s)),s.add(o)}));var o={keys:xn(n),include_docs:!0};return t.allDocs(o).then((function(i){var r={};i.rows.forEach((function(t){var i=t.key.substring(8);n.get(t.key).forEach((function(n){var o=i+"/"+n;e.views[o]||(o=n);var s=Object.keys(e.views[o]),a=t.doc&&t.doc.views&&t.doc.views[n];s.forEach((function(e){r[e]=r[e]||a}))}))}));var o=Object.keys(r).filter((function(e){return!r[e]})).map((function(e){return Ln(b(e),(function(){return new t.constructor(e,t.__opts).destroy()}))()}));return Promise.all(o).then((function(){return{ok:!0}}))}))}),v({ok:!0}))}(t)},h()((function(e){var t=e.pop(),n=S.apply(this,e);return"function"==typeof t&&kn(n,t),n})))}}("mrviews",(function(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return In(e.toString(),t)}),(function(e){var t=e.toString(),n=function(e){if(/^_sum/.test(e))return Hn;if(/^_count/.test(e))return $n;if(/^_stats/.test(e))return Un;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t);return n||In(t)}),(function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new En("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}));var Gn={query:function(e,t,n){return Vn.query.call(this,e,t,n)},viewCleanup:function(e){return Vn.viewCleanup.call(this,e)}};function Wn(e){return/^1-/.test(e)}function zn(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function Jn(e,t,n,i){n=L(n);var r=[],o=!0;function s(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then((function(e){if(i.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){var t;e.deleted||!e.doc||!Wn(e.value.rev)||(t=e.doc,t._attachments&&Object.keys(t._attachments).length>0)||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,r.push(e.doc),delete n[e.id])}))}))}return Promise.resolve().then((function(){var e=Object.keys(n).filter((function(e){var t=n[e].missing;return 1===t.length&&Wn(t[0])}));if(e.length>0)return s(e)})).then((function(){var s=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(n);if(s.docs.length)return e.bulkGet(s).then((function(n){if(i.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var i=n.ok;return n.error&&(o=!1),i&&i._attachments?function(e,t,n){var i=ae(t)&&!ae(e),r=Object.keys(n._attachments);return i?e.get(n._id).then((function(i){return Promise.all(r.map((function(r){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(i,n,r)?t.getAttachment(n._id,r):e.getAttachment(i._id,r)})))})).catch((function(e){if(404!==e.status)throw e;return zn(t,n)})):zn(t,n)}(t,e,i).then((function(e){var t=Object.keys(i._attachments);return e.forEach((function(e,n){var r=i._attachments[t[n]];delete r.stub,delete r.length,r.data=e})),i})):i})))}))).then((function(e){r=r.concat(oe(e).filter(Boolean))}))}))})).then((function(){return{ok:o,docs:r}}))}function Kn(e,t,n,i,r){return e.get(t).catch((function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||j(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:t,history:[],replicator:"pouchdb",version:1};throw n})).then((function(o){if(!r.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter((function(e){return e.session_id!==i})),o.history.unshift({last_seq:n,session_id:i}),o.history=o.history.slice(0,5),o.version=1,o.replicator="pouchdb",o.session_id=i,o.last_seq=n,e.put(o).catch((function(o){if(409===o.status)return Kn(e,t,n,i,r);throw o}))}))}function Xn(e,t,n,i,r){this.src=e,this.target=t,this.id=n,this.returnValue=i,this.opts=r||{}}Xn.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))},Xn.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Kn(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},Xn.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return Kn(this.src,this.id,e,t,this.returnValue).catch((function(e){if(Zn(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)};var Yn={undefined:function(e,t){return 0===ht(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,n){var i=t[0],r=t.slice(1),o=n[0],s=n.slice(1);if(!i||0===n.length)return{last_seq:0,history:[]};if(Qn(i.session_id,n))return{last_seq:i.last_seq,history:t};if(Qn(o.session_id,r))return{last_seq:o.last_seq,history:s};return e(r,s)}(e.history,t.history)}(t,e).last_seq}};function Qn(e,t){var n=t[0],i=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Qn(e,i))}function Zn(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}Xn.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in Yn?Yn[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){return Zn(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0}))};function ei(e,t,n){var i=n.doc_ids?n.doc_ids.sort(ht):"",r=n.filter?n.filter.toString():"",o="",s="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(o=JSON.stringify(function(e){return Object.keys(e).sort(ht).reduce((function(t,n){return t[n]=e[n],t}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(s=n.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+r+s+o+i+a;return new Promise((function(e){Ce(t,e)}))})).then((function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))}))}function ti(e,t,n,i,r){var o,a,c,l=[],d={seq:0,changes:[],docs:[]},u=!1,f=!1,h=!1,p=0,m=n.continuous||n.live||!1,g=n.batch_size||100,v=n.batches_limit||10,y=n.style||"all_docs",b=!1,_=n.doc_ids,w=n.selector,E=[],S=Te();r=r||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var k={};function A(){return c?Promise.resolve():ei(e,t,n).then((function(r){a=r;var o={};o=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},c=new Xn(e,t,a,i,o)}))}function x(){if(E=[],0!==o.docs.length){var e=o.docs,s={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},s).then((function(t){if(i.cancelled)throw I(),new Error("cancelled");var n=Object.create(null);t.forEach((function(e){e.error&&(n[e.id]=e)}));var o=Object.keys(n).length;r.doc_write_failures+=o,r.docs_written+=e.length-o,e.forEach((function(e){var t=n[e._id];if(t){r.errors.push(t);var o=(t.name||"").toLowerCase();if("unauthorized"!==o&&"forbidden"!==o)throw t;i.emit("denied",L(t))}else E.push(e)}))}),(function(t){throw r.doc_write_failures+=e.length,t}))}}function C(){if(o.error)throw new Error("There was a problem getting docs.");r.last_seq=p=o.seq;var e=L(r);return E.length&&(e.docs=E,"number"==typeof o.pending&&(e.pending=o.pending,delete o.pending),i.emit("change",e)),u=!0,c.writeCheckpoint(o.seq,S).then((function(){if(i.emit("checkpoint",{checkpoint:o.seq}),u=!1,i.cancelled)throw I(),new Error("cancelled");o=void 0,j()})).catch((function(e){throw R(e),e}))}function N(){return Jn(e,t,o.diffs,i).then((function(e){o.error=!e.ok,e.docs.forEach((function(e){delete o.diffs[e._id],r.docs_read++,o.docs.push(e)}))}))}function q(){var e;i.cancelled||o||(0!==l.length?(o=l.shift(),i.emit("checkpoint",{start_next_batch:o.seq}),(e={},o.changes.forEach((function(t){i.emit("checkpoint",{revs_diff:t}),"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(i.cancelled)throw I(),new Error("cancelled");o.diffs=e}))).then(N).then(x).then(C).then(q).catch((function(e){O("batch processing terminated with error",e)}))):T(!0))}function T(e){0!==d.changes.length?(e||f||d.changes.length>=g)&&(l.push(d),d={seq:0,changes:[],docs:[]},"pending"!==i.state&&"stopped"!==i.state||(i.state="active",i.emit("active")),q()):0!==l.length||o||((m&&k.live||f)&&(i.state="pending",i.emit("paused")),f&&I())}function O(e,t){h||(t.message||(t.message=e),r.ok=!1,r.status="aborting",l=[],d={seq:0,changes:[],docs:[]},I(t))}function I(o){if(!(h||i.cancelled&&(r.status="cancelled",u)))if(r.status=r.status||"complete",r.end_time=(new Date).toISOString(),r.last_seq=p,h=!0,o){(o=ne(o)).result=r;var s=(o.name||"").toLowerCase();"unauthorized"===s||"forbidden"===s?(i.emit("error",o),i.removeAllListeners()):function(e,t,n,i){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=F),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var r=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",r)})),t.once("active",r)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(i,e.current_back_off)}(n,i,o,(function(){ti(e,t,n,i)}))}else i.emit("complete",r),i.removeAllListeners()}function B(e,t,r){if(i.cancelled)return I();"number"==typeof t&&(d.pending=t),re(n)(e)&&(d.seq=e.seq||r,d.changes.push(e),i.emit("checkpoint",{pending_batch:d.seq}),s()((function(){T(0===l.length&&k.live)})))}function M(e){if(b=!1,i.cancelled)return I();if(e.results.length>0)k.since=e.results[e.results.length-1].seq,j(),T(!0);else{var t=function(){m?(k.live=!0,j()):f=!0,T(!0)};o||0!==e.results.length?t():(u=!0,c.writeCheckpoint(e.last_seq,S).then((function(){u=!1,r.last_seq=p=e.last_seq,t()})).catch(R))}}function P(e){if(b=!1,i.cancelled)return I();O("changes rejected",e)}function j(){if(!b&&!f&&l.length<v){b=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",r);var t=e.changes(k).on("change",B);t.then(o,o),t.then(M).catch(P),n.retry&&(i._changes=t,i._abortChanges=r)}function r(){t.cancel()}function o(){i.removeListener("cancel",r)}}function D(){A().then((function(){if(!i.cancelled)return c.getCheckpoint().then((function(e){k={since:p=e,limit:g,batch_size:g,style:y,doc_ids:_,selector:w,return_docs:!0},n.filter&&("string"!=typeof n.filter?k.include_docs=!0:k.filter=n.filter),"heartbeat"in n&&(k.heartbeat=n.heartbeat),"timeout"in n&&(k.timeout=n.timeout),n.query_params&&(k.query_params=n.query_params),n.view&&(k.view=n.view),j()}));I()})).catch((function(e){O("getCheckpoint rejected with ",e)}))}function R(e){u=!1,O("writeCheckpoint completed with error",e)}i.ready(e,t),i.cancelled?I():(i._addedListeners||(i.once("cancel",I),"function"==typeof n.complete&&(i.once("error",n.complete),i.once("complete",(function(e){n.complete(null,e)}))),i._addedListeners=!0),void 0===n.since?D():A().then((function(){return u=!0,c.writeCheckpoint(n.since,S)})).then((function(){u=!1,i.cancelled?I():(p=n.since,D())})).catch(R))}function ni(){v.a.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise((function(t,n){e.once("complete",t),e.once("error",n)}));e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch((function(){}))}function ii(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function ri(e,t,n,i){if("function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw ne(Y,"`doc_ids` filter parameter is not a list.");n.complete=i,(n=L(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var r=new ni(n);return ti(ii(e,n),ii(t,n),n,r),r}function oi(e,t,n,i){return"function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),(n=L(n)).PouchConstructor=n.PouchConstructor||this,new si(e=ii(e,n),t=ii(t,n),n,i)}function si(e,t,n,i){var r=this;this.canceled=!1;var o=n.push?D({},n,n.push):n,s=n.pull?D({},n,n.pull):n;function a(e){r.emit("change",{direction:"pull",change:e})}function c(e){r.emit("change",{direction:"push",change:e})}function l(e){r.emit("denied",{direction:"push",doc:e})}function d(e){r.emit("denied",{direction:"pull",doc:e})}function u(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function f(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function h(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function p(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}this.push=ri(e,t,o),this.pull=ri(t,e,s),this.pushPaused=!0,this.pullPaused=!0;var m={};function g(e){return function(t,n){("change"===t&&(n===a||n===c)||"denied"===t&&(n===d||n===l)||"paused"===t&&(n===f||n===u)||"active"===t&&(n===p||n===h))&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&r.removeAllListeners(t))}}function v(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push))),this.on("newListener",(function(e){"change"===e?(v(r.pull,"change",a),v(r.push,"change",c)):"denied"===e?(v(r.pull,"denied",d),v(r.push,"denied",l)):"active"===e?(v(r.pull,"active",p),v(r.push,"active",h)):"paused"===e&&(v(r.pull,"paused",f),v(r.push,"paused",u))})),this.on("removeListener",(function(e){"change"===e?(r.pull.removeListener("change",a),r.push.removeListener("change",c)):"denied"===e?(r.pull.removeListener("denied",d),r.push.removeListener("denied",l)):"active"===e?(r.pull.removeListener("active",p),r.push.removeListener("active",h)):"paused"===e&&(r.pull.removeListener("paused",f),r.push.removeListener("paused",u))})),this.pull.on("removeListener",g("pull")),this.push.on("removeListener",g("push"));var y=Promise.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};return r.emit("complete",t),i&&i(null,t),r.removeAllListeners(),t}),(function(e){if(r.cancel(),i?i(e):r.emit("error",e),r.removeAllListeners(),i)throw e}));this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}m()(ni,v.a),ni.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},ni.prototype.ready=function(e,t){var n=this;function i(){n.cancel()}function r(){e.removeListener("destroyed",i),t.removeListener("destroyed",i)}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",i),t.once("destroyed",i),n.once("complete",r),n.once("error",r))},m()(si,v.a),si.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},tt.plugin((function(e){e.adapter("idb",un,!0)})).plugin((function(e){e.adapter("http",_n,!1),e.adapter("https",_n,!1)})).plugin(Gn).plugin((function(e){e.replicate=ri,e.sync=oi,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,i){return e.constructor.replicate(t,e,n,i)},to:function(t,n,i){return e.constructor.replicate(e,t,n,i)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}})),t.default=tt}.call(this,n(29))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],d=!1,u=-1;function f(){d&&c&&(d=!1,c.length?l=c.concat(l):u=-1,l.length&&h())}function h(){if(!d){var e=a(f);d=!0;for(var t=l.length;t;){for(c=l,l=[];++u<t;)c&&c[u].run();u=-1,t=l.length}c=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||d||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t),n.d(t,"v1",(function(){return l})),n.d(t,"v3",(function(){return _})),n.d(t,"v4",(function(){return w.a})),n.d(t,"v5",(function(){return k})),n.d(t,"NIL",(function(){return L})),n.d(t,"version",(function(){return A})),n.d(t,"validate",(function(){return d.a})),n.d(t,"stringify",(function(){return s.a})),n.d(t,"parse",(function(){return u}));var i,r,o=n(20),s=n(10),a=0,c=0;var l=function(e,t,n){var l=t&&n||0,d=t||new Array(16),u=(e=e||{}).node||i,f=void 0!==e.clockseq?e.clockseq:r;if(null==u||null==f){var h=e.random||(e.rng||o.a)();null==u&&(u=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==f&&(f=r=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:c+1,g=p-a+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||p>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,c=m,r=f;var v=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;d[l++]=v>>>24&255,d[l++]=v>>>16&255,d[l++]=v>>>8&255,d[l++]=255&v;var y=p/4294967296*1e4&268435455;d[l++]=y>>>8&255,d[l++]=255&y,d[l++]=y>>>24&15|16,d[l++]=y>>>16&255,d[l++]=f>>>8|128,d[l++]=255&f;for(var b=0;b<6;++b)d[l+b]=u[b];return t||Object(s.a)(d)},d=n(11);var u=function(e){if(!Object(d.a)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var f=function(e,t,n){function i(e,i,r,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof i&&(i=u(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(i),a.set(e,i.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,r){o=o||0;for(var c=0;c<16;++c)r[o+c]=a[c];return r}return Object(s.a)(a)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i};function h(e){return 14+(e+64>>>9<<4)+1}function p(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function m(e,t,n,i,r,o){return p((s=p(p(t,e),p(i,o)))<<(a=r)|s>>>32-a,n);var s,a}function g(e,t,n,i,r,o,s){return m(t&n|~t&i,e,t,r,o,s)}function v(e,t,n,i,r,o,s){return m(t&i|n&~i,e,t,r,o,s)}function y(e,t,n,i,r,o,s){return m(t^n^i,e,t,r,o,s)}function b(e,t,n,i,r,o,s){return m(n^(t|~i),e,t,r,o,s)}var _=f("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,i=0;i<n;i+=8){var r=e[i>>5]>>>i%32&255,o=parseInt("0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[h(t)-1]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,c=i,l=r,d=o;n=g(n,i,r,o,e[s],7,-680876936),o=g(o,n,i,r,e[s+1],12,-389564586),r=g(r,o,n,i,e[s+2],17,606105819),i=g(i,r,o,n,e[s+3],22,-1044525330),n=g(n,i,r,o,e[s+4],7,-176418897),o=g(o,n,i,r,e[s+5],12,1200080426),r=g(r,o,n,i,e[s+6],17,-1473231341),i=g(i,r,o,n,e[s+7],22,-45705983),n=g(n,i,r,o,e[s+8],7,1770035416),o=g(o,n,i,r,e[s+9],12,-1958414417),r=g(r,o,n,i,e[s+10],17,-42063),i=g(i,r,o,n,e[s+11],22,-1990404162),n=g(n,i,r,o,e[s+12],7,1804603682),o=g(o,n,i,r,e[s+13],12,-40341101),r=g(r,o,n,i,e[s+14],17,-1502002290),i=g(i,r,o,n,e[s+15],22,1236535329),n=v(n,i,r,o,e[s+1],5,-165796510),o=v(o,n,i,r,e[s+6],9,-1069501632),r=v(r,o,n,i,e[s+11],14,643717713),i=v(i,r,o,n,e[s],20,-373897302),n=v(n,i,r,o,e[s+5],5,-701558691),o=v(o,n,i,r,e[s+10],9,38016083),r=v(r,o,n,i,e[s+15],14,-660478335),i=v(i,r,o,n,e[s+4],20,-405537848),n=v(n,i,r,o,e[s+9],5,568446438),o=v(o,n,i,r,e[s+14],9,-1019803690),r=v(r,o,n,i,e[s+3],14,-187363961),i=v(i,r,o,n,e[s+8],20,1163531501),n=v(n,i,r,o,e[s+13],5,-1444681467),o=v(o,n,i,r,e[s+2],9,-51403784),r=v(r,o,n,i,e[s+7],14,1735328473),i=v(i,r,o,n,e[s+12],20,-1926607734),n=y(n,i,r,o,e[s+5],4,-378558),o=y(o,n,i,r,e[s+8],11,-2022574463),r=y(r,o,n,i,e[s+11],16,1839030562),i=y(i,r,o,n,e[s+14],23,-35309556),n=y(n,i,r,o,e[s+1],4,-1530992060),o=y(o,n,i,r,e[s+4],11,1272893353),r=y(r,o,n,i,e[s+7],16,-155497632),i=y(i,r,o,n,e[s+10],23,-1094730640),n=y(n,i,r,o,e[s+13],4,681279174),o=y(o,n,i,r,e[s],11,-358537222),r=y(r,o,n,i,e[s+3],16,-722521979),i=y(i,r,o,n,e[s+6],23,76029189),n=y(n,i,r,o,e[s+9],4,-640364487),o=y(o,n,i,r,e[s+12],11,-421815835),r=y(r,o,n,i,e[s+15],16,530742520),i=y(i,r,o,n,e[s+2],23,-995338651),n=b(n,i,r,o,e[s],6,-198630844),o=b(o,n,i,r,e[s+7],10,1126891415),r=b(r,o,n,i,e[s+14],15,-1416354905),i=b(i,r,o,n,e[s+5],21,-57434055),n=b(n,i,r,o,e[s+12],6,1700485571),o=b(o,n,i,r,e[s+3],10,-1894986606),r=b(r,o,n,i,e[s+10],15,-1051523),i=b(i,r,o,n,e[s+1],21,-2054922799),n=b(n,i,r,o,e[s+8],6,1873313359),o=b(o,n,i,r,e[s+15],10,-30611744),r=b(r,o,n,i,e[s+6],15,-1560198380),i=b(i,r,o,n,e[s+13],21,1309151649),n=b(n,i,r,o,e[s+4],6,-145523070),o=b(o,n,i,r,e[s+11],10,-1120210379),r=b(r,o,n,i,e[s+2],15,718787259),i=b(i,r,o,n,e[s+9],21,-343485551),n=p(n,a),i=p(i,c),r=p(r,l),o=p(o,d)}return[n,i,r,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(h(t)),i=0;i<t;i+=8)n[i>>5]|=(255&e[i/8])<<i%32;return n}(e),8*e.length))})),w=n(22);function E(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:return t^n^i;case 2:return t&n^t&i^n&i;case 3:return t^n^i}}function S(e,t){return e<<t|e>>>32-t}var k=f("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var r=0;r<i.length;++r)e.push(i.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var l=new Uint32Array(16),d=0;d<16;++d)l[d]=e[64*c+4*d]<<24|e[64*c+4*d+1]<<16|e[64*c+4*d+2]<<8|e[64*c+4*d+3];a[c]=l}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var u=0;u<s;++u){for(var f=new Uint32Array(80),h=0;h<16;++h)f[h]=a[u][h];for(var p=16;p<80;++p)f[p]=S(f[p-3]^f[p-8]^f[p-14]^f[p-16],1);for(var m=n[0],g=n[1],v=n[2],y=n[3],b=n[4],_=0;_<80;++_){var w=Math.floor(_/20),k=S(m,5)+E(w,g,v,y)+b+t[w]+f[_]>>>0;b=y,y=v,v=S(g,30)>>>0,g=m,m=k}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),L="00000000-0000-0000-0000-000000000000";var A=function(e){if(!Object(d.a)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},,function(e,t){
/**
* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.
*
* Copyright (c) 2012 Vadim Kiryukhin
* vkiryukhin @ gmail.com
* http://www.eslinstructor.net/vkbeautify/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*   Pretty print
*
*        vkbeautify.xml(text [,indent_pattern]);
*        vkbeautify.json(text [,indent_pattern]);
*        vkbeautify.css(text [,indent_pattern]);
*        vkbeautify.sql(text [,indent_pattern]);
*
*        @text - String; text to beatufy;
*        @indent_pattern - Integer | String;
*                Integer:  number of white spaces;
*                String:   character string to visualize indentation ( can also be a set of white spaces )
*   Minify
*
*        vkbeautify.xmlmin(text [,preserve_comments]);
*        vkbeautify.jsonmin(text);
*        vkbeautify.cssmin(text [,preserve_comments]);
*        vkbeautify.sqlmin(text);
*
*        @text - String; text to minify;
*        @preserve_comments - Bool; [optional];
*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )
*
*   Examples:
*        vkbeautify.xml(text); // pretty print XML
*        vkbeautify.json(text, 4 ); // pretty print JSON
*        vkbeautify.css(text, '. . . .'); // pretty print CSS
*        vkbeautify.sql(text, '----'); // pretty print SQL
*
*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments
*        vkbeautify.jsonmin(text);// minify JSON
*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )
*        vkbeautify.sqlmin(text);// minify SQL
*
*/
function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],i=0;i<100;i++)n.push(n[i]+t);return n}function i(){this.step="    ",this.shift=n(this.step)}function r(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function o(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}i.prototype.xml=function(e,t){var i=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),r=i.length,o=!1,s=0,a="",c=0,l=t?n(t):this.shift;for(c=0;c<r;c++)i[c].search(/<!/)>-1?(a+=l[s]+i[c],o=!0,(i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1||i[c].search(/!DOCTYPE/)>-1)&&(o=!1)):i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1?(a+=i[c],o=!1):/^<\w/.exec(i[c-1])&&/^<\/\w/.exec(i[c])&&/^<[\w:\-\.\,]+/.exec(i[c-1])==/^<\/[\w:\-\.\,]+/.exec(i[c])[0].replace("/","")?(a+=i[c],o||s--):i[c].search(/<\w/)>-1&&-1==i[c].search(/<\//)&&-1==i[c].search(/\/>/)?a=a+=o?i[c]:l[s++]+i[c]:i[c].search(/<\w/)>-1&&i[c].search(/<\//)>-1?a=a+=o?i[c]:l[s]+i[c]:i[c].search(/<\//)>-1?a=a+=o?i[c]:l[--s]+i[c]:i[c].search(/\/>/)>-1?a=a+=o?i[c]:l[s]+i[c]:i[c].search(/<\?/)>-1||i[c].search(/xmlns\:/)>-1||i[c].search(/xmlns\=/)>-1?a+=l[s]+i[c]:a+=i[c];return"\n"==a[0]?a.slice(1):a},i.prototype.json=function(e,t){t=t||this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},i.prototype.css=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),r=i.length,o=0,s="",a=0,c=t?n(t):this.shift;for(a=0;a<r;a++)/\{/.exec(i[a])?s+=c[o++]+i[a]:/\}/.exec(i[a])?s+=c[--o]+i[a]:(/\*\\/.exec(i[a]),s+=c[o]+i[a]);return s.replace(/^\n{1,}/,"")},i.prototype.sql=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),s=i.length,a=[],c=0,l=this.step,d=0,u="",f=0,h=t?n(t):this.shift;for(f=0;f<s;f++)a=f%2?a.concat(i[f]):a.concat(o(i[f],l));for(s=a.length,f=0;f<s;f++){d=r(a[f],d),/\s{0,}\s{0,}SELECT\s{0,}/.exec(a[f])&&(a[f]=a[f].replace(/\,/g,",\n"+l+l)),/\s{0,}\s{0,}SET\s{0,}/.exec(a[f])&&(a[f]=a[f].replace(/\,/g,",\n"+l+l)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(a[f])?u+=h[++c]+a[f]:/\'/.exec(a[f])?(d<1&&c&&c--,u+=a[f]):(u+=h[c]+a[f],d<1&&c&&c--)}return u=u.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},i.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},i.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},i.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},i.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renameHTML=t.newFolderHTML=t.uploadAreaHTML=void 0,t.uploadAreaHTML='<div id="document-upload-container">\n\n    <div id="initial_upload_container">\n      <div id="initial_upload_area">\n        <div id="initial_upload_message">Upload Files</div>\n      </div>\n    </div>\n    \n    <div id="uploading_container">\n      <div class="file_container" id="unpaired_container">\n\n        <div class="file-container-title">Unpaired Documents</div>\n\n        <div id="files_container">\n\n          <div id="mei_container">\n            <div class="file_heading">MEI</div>\n            <div class="file_sort_name">\n              <div>Name</div>\n              <div class="sort_name arrow_btn">&#x22C0;</div>\n            </div>\n            <div class="file_list" id="mei_list">\n              <div class="unpaired_item_container" style="width: 100%; background: #DAEAF1; border-radius: 5px;">\n                <label class="unpaired_item_label">\n                  <input type="radio" class="unpaired_item_radio" name="mei_radio_group" value="create_mei">\n                    <span style="margin-top: auto;margin-left: 3px;">\n                      Create new MEI file\n                    </span>\n                </label>\n              </div>\n            </div>\n          </div>\n\n          <div id="image_container">\n            <div class="file_heading">Images</div>\n            <div class="file_sort_name">\n              <div>Name</div>\n              <div class="sort_name arrow_btn">&#x22C0;</div>\n            </div>\n            <div class="file_list" id="image_list"></div>\n          </div>\n\n        </div>\n\n        <div id="generate-pair-button-container">\n          <div class="action_button" id="make_pair">Make Pair</div>\n        </div>\n      </div>\n\n      <div class="file_container" id="paired_container">\n\n        <div class="file-container-title">Paired Folios</div>\n        <div class="file_sort_name">\n          <div>Name</div>\n          <div class="sort_name arrow_btn">&#x22C0;</div>\n        </div>\n        <div class="folio_list" id="paired_list"></div>\n\n        <div id="upload_button_container">\n          <div class="action_button" id="upload_button">\n            Upload\n            <div id="uploading_spinner">↻</div>\n          </div>\n        </div>\n\n      </div>\n\n      \x3c!--\n      <div class="file_container" id="manuscripts_container">\n        <h2 class="file_heading">Manuscripts</h2>\n        <div class="folio_list" id="manuscript_list"></div>\n      </div>\n      --\x3e\n\n    </div>\n  </div>',t.newFolderHTML='\n    <div id="rename_container">\n      <div id="dashboard_input_container">\n      </div>\n      <div id="rename_buttons_container">\n        <button id="cancel_dashboard">Cancel</button>\n        <button id="confirm_dashboard">Create</button>\n      </div>\n    </div>\n  ',t.renameHTML='\n    <div id="rename_container">\n      <div id="dashboard_input_container">\n      </div>\n      <div id="rename_buttons_container">\n        <button id="cancel_dashboard">Cancel</button>\n        <button id="confirm_dashboard">Confirm</button>\n      </div>\n    </div>\n  '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupingNotRecognized=void 0,t.groupingNotRecognized=function(){window.confirm("Neon does not recognize this neume grouping. Would you like to create a compound neume?")||document.getElementById("undo").click()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitStaffHandler=void 0;const i=n(5),r=n(4),o=n(23),s=n(15);t.SplitStaffHandler=class{constructor(e,t){this.handler=(e=>{const t=this.staff.id,n=(0,s.getSVGRelCoords)(e.clientX,e.clientY),a={action:"split",param:{elementId:t,x:n.x}};this.neonView.edit(a,this.neonView.view.getCurrentPageURI()).then(async e=>{e&&(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success"));const n=new o.default(this.neonView,".staff");this.splitDisable(),(0,r.selectAll)([document.querySelector("#"+t)],this.neonView,n);const s=document.getElementById("moreEdit");s&&(s.innerHTML="",s.parentElement.classList.add("hidden"))})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.staff=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click Where to Split")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitNeumeHandler=void 0;const i=n(5);t.SplitNeumeHandler=class{constructor(e,t){this.handler=(e=>{const t={action:"splitNeume",param:{elementId:this.neume.id,ncId:e.target.parentElement.id}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(async e=>{e?(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success")):(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action failed","error")),this.splitDisable()})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.neume=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click The Beginning of The Second Neume")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t){},function(e,t,n){"use strict";(function(e){t.test=function(){return"function"==typeof e.queueMicrotask},t.install=function(t){return function(){e.queueMicrotask(t)}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){var n=e.MutationObserver||e.WebKitMutationObserver;t.test=function(){return n},t.install=function(t){var i=0,r=new n(t),o=e.document.createTextNode("");return r.observe(o,{characterData:!0}),function(){o.data=i=++i%2}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){t.test=function(){return!e.setImmediate&&void 0!==e.MessageChannel},t.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){t.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},t.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,n(9))},function(e,t,n){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDocName=t.deleteDocument=t.addDocument=t.createManifest=t.fetchUploads=t.db=void 0;const i=n(30),r=n(28),o=n(92);t.db=new r.default("Neon-User-Storage"),t.fetchUploads=async function(){try{return(await new Promise((e,n)=>{t.db.allDocs({include_docs:!0}).then(t=>e(t)).catch(e=>n(e))})).rows.map(e=>({id:e.id,name:e.doc?e.doc.name:"undefined"}))}catch(e){return console.log("Couldn't fetch uploaded documents",e.message),[]}},t.createManifest=function(e,t,n,r){return new Promise(async s=>{const a=JSON.parse(JSON.stringify(o));a["@id"]=e,a.title=t,a.timestamp=(new Date).toISOString();const c=new Promise(e=>{const t=new FileReader;t.addEventListener("load",()=>{e(t.result)}),t.readAsDataURL(n)}),l=new Promise(e=>{const t=new FileReader;t.addEventListener("load",()=>{e(t.result)}),t.readAsDataURL(r)}),d=await c,u=await l;a.image=u,a.mei_annotations=[{id:(0,i.v4)(),type:"Annotation",body:d,target:u}],s(a)})},t.addDocument=function(e,n,i,r){return new Promise((o,s)=>{t.db.put({_id:e,name:n,type:r?"page":"manuscript",_attachments:{manifest:{content_type:"application/ld+json",data:i}}}).then(()=>{o(!0)}).catch(t=>{window.alert(`Error Uploading Document: ${t.message}, title: ${n}, id: ${e}.`),s(!1)})})},t.deleteDocument=function(e){return new Promise((n,i)=>{t.db.get(e).then(e=>{t.db.remove(e).then(e=>{n(!0)}).catch(e=>{console.log(e),i(e)})}).catch(e=>{console.log(e),i(e)})})},t.updateDocName=function(e,n){return new Promise((i,r)=>{t.db.get(e).then(o=>{t.db.getAttachment(e,"manifest").then(e=>{e.text().then(e=>{const s=JSON.parse(e);o.name=n,s.title=n;const a=new Blob([JSON.stringify(s,null,2)],{type:"application/ld+json"});o._attachments.manifest={content_type:"application/ld+json",data:a},t.db.put(o).then(()=>i(!0)).catch(e=>r(e))}).catch(e=>r(e))}).catch(e=>r(e))}).catch(e=>r(e))})}},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadDashboard=t.updateDashboard=void 0;const i=n(25),r=n(46),o=n(25),s=n(94),a=n(95),c=n(98),l=n(13),d=document.querySelector("#fs-content-container"),u=document.querySelector("#main-section-content"),f=document.querySelector("#open-doc"),h=document.querySelector("#remove-doc"),p=document.querySelector("#nav-path-container");let m=document.querySelector("#fs-back-btn"),g=document.querySelector("#fs-empty-btn"),v=document.querySelector("#fs-delete-btn");const y=document.querySelector("#upload-new-doc-button"),b=document.querySelector("#add-folder-button"),_=new s.ShiftSelectionManager,w=(0,o.FileSystemManager)(),E=(0,s.dashboardState)(),S=document.querySelector(".main-section-content"),k=document.querySelector(".right-click-file-menu"),L=document.querySelector(".context-menu-items-wrapper");let A=!1,x=!1,C=null,N=!1;function q(){y.classList.contains("active")&&(0,a.InitUploadArea)(E.getParentFolder())}function T(e,t){const n=(i=t?{manifest:e}:{storage:e},Object.keys(i).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(i[e])).join("&"));var i;window.open("./editor.html?"+n,"_blank")}function O(e){const t=E.getEntries().at(e);E.setSelection(e,!0);document.getElementById(t.id).classList.add("selected")}function I(e){const t=E.getEntries().at(e).id;E.setSelection(e,!1);document.getElementById(t).classList.remove("selected")}function B(){Array.from(document.querySelectorAll(".document-entry.selected")).forEach(e=>e.classList.remove("selected")),E.resetSelection()}async function M(e,t,n){if("folder"===t.type){n.addEventListener("dblclick",(async function(){return await z([...E.getFolderPath(),t])}),!1)}else n.addEventListener("dblclick",F,!1);!function(e,t){e.addEventListener("click",(function(e){P(t)}),!1)}(n,e),function(e,t){e.addEventListener("contextmenu",e=>{e.stopPropagation(),e.preventDefault(),(N||1===E.getSelectedEntries().length)&&B(),O(t),ne("selection-options",e.clientX,e.clientY),k.classList.remove("hidden"),N=!0}),S.addEventListener("click",e=>{if(N){let t=e.target;if(t.parentElement.classList.contains("document-entry")&&(t=t.parentElement),k.classList.add("hidden"),N=!1,t.classList.contains("document-entry")){const e=W(t.id);P(E.getIndexByEntryName(e.name))}else B()}})}(n,e)}function P(e){A||x?A?E.getSelection()[e]?(I(e),_.setStart(E.getSelection().lastIndexOf(!0))):(O(e),_.setStart(e)):x&&(_.getPrevSelection().forEach(e=>{I(e)}),_.setEnd(e),_.getSelection(E.getSelection()).forEach(e=>{O(e)})):(B(),O(e),_.setStart(e)),U(),V()}function F(){if(f.classList.contains("active"))if(1!==E.getSelectedFolders().length&&1!==E.getSelectedTrash().length)E.getSelectedFiles().forEach(e=>function(e){const t=e.metadata.document;if(void 0!==typeof t){const n="sample"===t;T(e.id,n)}}(e)),_.reset(),B(),U();else{z([...E.getFolderPath(),E.getSelectedEntries()[0]])}}function j(){if(!h.classList.contains("active"))return;const e=E.getSelectedEntries(),t=E.getParentFolder(),n=E.getTrashFolder(),r=(new Date).toLocaleString();for(let t of e)t=i.FileSystemTools.addMetadata(t,{removed_on:r,recover_folder:E.getFolderPathNames()});K(e,t,n)}function D(e,t){return new Promise((n,o)=>{(0,r.deleteDocument)(e.id).then(()=>{i.FileSystemTools.removeEntry(e,t),n(!0)}).catch(()=>o(!1))})}function R(e,t){return new Promise(n=>{const r=e.children.map(t=>"file"===t.type?D(t,e):"folder"===t.type?R(t,e):Promise.resolve(!1));Promise.all(r).then(()=>{i.FileSystemTools.removeEntry(e,t),n(!0)}).catch(()=>n(!1))})}function H(){const e=E.getSelectedEntries(),t=`Are you sure you want to delete:\n${n=e,n.map(e=>`- ${e.name} (${e.type})`).join("\n")}\nThis action is irreversible.`;var n;if(window.confirm(t)){const t=e.map(e=>"file"===e.type?D(e,E.getParentFolder()):"folder"===e.type?R(e,E.getParentFolder()):void 0);Promise.all(t).then(()=>{z(E.getFolderPath())}).catch(e=>console.debug("failed to delete files: ",e))}}function $(){const e=E.getTrashFolder();if(!e)return void console.error("Trash folder not found.");if(window.confirm("Are you sure you want to delete all the files in Trash Folder?\nThis action is irreversible.")){const t=e.children.map(t=>"file"===t.type?D(t,e):"folder"===t.type?R(t,e):Promise.resolve(!1));Promise.all(t).then(()=>{z(E.getFolderPath())}).catch(e=>console.debug("failed to delete files: ",e))}}function U(){E.getParentFolder().metadata.immutable||E.getSelectedEntries()[0]&&E.getSelectedEntries()[0].metadata.immutable?(y.classList.remove("active"),b.classList.remove("active"),h.classList.remove("active"),E.getSelectedEntries().length?f.classList.add("active"):f.classList.remove("active")):E.isInTrash()?(y.classList.remove("active"),b.classList.remove("active"),h.classList.remove("active"),f.classList.remove("active")):E.getSelectedTrash().length?(f.classList.add("active"),h.classList.remove("active"),y.classList.remove("active"),b.classList.remove("active")):E.getSelectedEntries().length?(f.classList.add("active"),h.classList.add("active"),y.classList.remove("active"),b.classList.remove("active")):(f.classList.remove("active"),h.classList.remove("active"),y.classList.add("active"),b.classList.add("active"))}function V(){!function(){const e=m.cloneNode(!0);m.parentNode.replaceChild(e,m),1===E.getFolderPath().length?(e.classList.remove("active"),e.setAttribute("disabled","true")):(e.classList.add("active"),e.removeAttribute("disabled"),e.addEventListener("click",G),e.addEventListener("ondragenter",()=>e.classList.add("active")),e.addEventListener("ondragleave",()=>e.classList.remove("active")),J(e,E.getParentFolder(),E.getFolderPath().at(-2))),m=e}(),function(){const e=g.cloneNode(!0);g.parentNode.replaceChild(e,g);const t=E.getParentFolder();"trash"===t.type||E.isInTrash()?(e.style.display="",t.children.length&&!E.getSelectedEntries().length&&"trash"===t.type?(e.classList.add("active"),e.removeAttribute("disabled"),e.addEventListener("click",$)):(e.classList.remove("active"),e.setAttribute("disabled","true"))):e.style.display="none",g=e}(),function(){const e=v.cloneNode(!0);v.parentNode.replaceChild(e,v),"trash"===E.getParentFolder().type||E.isInTrash()?(e.style.display="",E.getSelectedEntries().length?(e.classList.add("active"),e.removeAttribute("disabled"),e.addEventListener("click",H)):(e.classList.remove("active"),e.setAttribute("disabled","true"))):e.style.display="none",v=e}()}async function G(){const e=E.getFolderPath().slice(0,-1);await z(e)}function W(e){return E.getEntries().find(t=>t.id===e)}async function z(e){e||(e=E.getFolderPath()),E.setFolderPath(e);const t=E.getParentFolder();d.innerHTML="",_.reset(),E.setEntries(t.children),t.children.forEach(async(e,t)=>{const n=function(e){const t=document.createElement("div");t.classList.add("document-entry"),t.setAttribute("draggable","true");const n=document.createElement("img");n.classList.add("document-icon");const i=document.createElement("div");switch(i.innerText=e.name,e.type){case"folder":t.classList.add("folder-entry"),t.setAttribute("id",e.id),n.src="./Neon-gh/assets/img/folder-icon.svg",t.setAttribute("drop-id",e.id),t.classList.add("drop-target");break;case"trash":t.classList.add("folder-entry"),t.setAttribute("id",e.id),n.src="./Neon-gh/assets/img/trash-icon.svg",t.setAttribute("drop-id",e.id),t.classList.add("drop-target");break;case"file":t.classList.add("file-entry"),t.setAttribute("id",e.id),"manuscript"===e.metadata.type?(t.classList.add("manuscript-entry"),n.src="./Neon-gh/assets/img/manuscript-icon.svg"):"folio"===e.metadata.type?(t.classList.add("folio-entry"),n.src="./Neon-gh/assets/img/folio-icon.svg"):n.src="./Neon-gh/assets/img/folio-icon.svg"}return t.appendChild(n),t.appendChild(i),t}(e);d.appendChild(n),await M(t,e,n)}),U(),function(){p.innerHTML="";const e=E.getFolderPath().map((e,t)=>{const n=document.createElement("div");n.classList.add("nav-path-section"),n.innerHTML=e.name;const i=E.getFolderPath().slice(0,t+1);return n.addEventListener("click",async()=>await z(i)),J(n,E.getParentFolder(),i.at(-1)),n});e.forEach((t,n)=>{if(p.appendChild(t),n!==e.length-1){const e=document.createElement("div");e.classList.add("nav-path-seperator"),e.innerHTML=" / ",p.appendChild(e)}})}(),V();const n=document.getElementById("info-badge");E.isInTrash()?(n.textContent="Files will be deleted after 30 days",n.style.background="#9DB2BF"):(n.textContent="",n.style.background=""),t.children.forEach(e=>{const n=document.getElementById(e.id);n.addEventListener("dragstart",e=>{e.dataTransfer.effectAllowed="move",C=e.target}),"folder"!==e.type&&"trash"!==e.type||J(n,t,e)}),w.setFileSystem(E.getFolderPath().at(0))}function J(e,t,n){e.addEventListener("dragenter",t=>{t.preventDefault(),e.classList.add("dragenter")}),e.addEventListener("dragleave",t=>{t.preventDefault(),e.classList.remove("dragenter")}),e.addEventListener("dragover",e=>e.preventDefault()),e.addEventListener("drop",function(e,t){return n=>{n.preventDefault();const i=W(C.getAttribute("id"));i&&i!==t&&K([i],e,t)}}(t,n))}function K(e,t,n){const r=[];e.forEach(e=>{"trash"===n.type&&n.children.some(t=>t.name===e.name)&&(e.name=function(e){const t=(new Date).toLocaleString();return e+" - "+t}(e.name));const o=i.FileSystemTools.canMoveEntry(e,t,n);o.succeeded?i.FileSystemTools.moveEntry(e,t,n):r.push(o.error)}),r.filter((e,t,n)=>n.indexOf(e)===t),r.length>0&&window.alert(r.join("\n")),z()}function X(){const e=new l.ModalWindow;e.setModalWindowView(l.ModalWindowView.MOVE_TO),e.openModalWindow();const t=E.getSelectedEntries(),n=E.getParentFolder(),i=function(e){const t=document.createElement("ul");return t.id="tree-root",t.appendChild(function e(t,n,i){const r=document.createElement("li"),o=document.createElement("div");o.classList.add("tree-li-container");const s=document.createElement("div");s.classList.add("tree-name"),s.innerHTML=t.name,s.addEventListener("click",()=>{document.querySelectorAll(".tree-name").forEach(e=>e.classList.remove("selected")),s.classList.add("selected")}),s.addEventListener("dblclick",()=>{n(t)});if(t.children.every(e=>"folder"!==e.type))return r.appendChild(o),o.appendChild(s),r;const a=document.createElement("ul"),c=document.createElement("div");c.classList.add("tree-arrow"),c.innerHTML="▶",i<2&&a.classList.add("active");i<2&&c.classList.add("active");return c.addEventListener("click",()=>{c.classList.toggle("active"),a.classList.toggle("active")}),r.appendChild(o),o.appendChild(c),o.appendChild(s),r.appendChild(a),t.children.forEach(t=>{if("folder"===t.type){const r=e(t,n,i+1);a.appendChild(r)}}),r}(E.root(),e,0)),t}(i=>{e.hideModalWindow(),K(t,n,i)}),r=document.createElement("div");r.classList.add("tree-container"),r.appendChild(i);const o=document.getElementById("neon-modal-window-content-container");o.innerHTML='<span class="move-menu-msg">Double-click the folder you want to move your items to!</span>',o.appendChild(r)}function Y(){if(!b.classList.contains("active"))return;const e=new l.ModalWindow;e.setModalWindowView(l.ModalWindowView.NEW_FOLDER),e.openModalWindow();const t=document.getElementById("dashboard_input_container"),n=document.getElementById("cancel_dashboard"),i=document.getElementById("confirm_dashboard"),r=document.createElement("input");r.id="dashboard_input",r.type="text",r.placeholder="Untitled Folder",r.value="Untitled Folder",t.appendChild(r),r.select(),r.focus(),n.addEventListener("click",()=>e.hideModalWindow()),i.addEventListener("click",()=>Q(e,r.value)),t.addEventListener("keydown",t=>{"Escape"===t.key?e.hideModalWindow():"Enter"===t.key&&Q(e,r.value)})}function Q(e,t){te(t)?(window.alert("The folder name already exists in the current folder!"),Y()):(e.hideModalWindow(),function(e){const t=document.createElement("div");t.classList.add("document-entry"),t.classList.add("folder-entry"),t.setAttribute("id","new-folder");const n=i.FileSystemTools.createFolder(e);i.FileSystemTools.addEntry(n,E.getParentFolder())?(t.setAttribute("id",e),z()):t.remove()}(t))}function Z(){const e=new l.ModalWindow;e.setModalWindowView(l.ModalWindowView.RENAME),e.openModalWindow();const t=document.getElementById("dashboard_input_container"),n=document.getElementById("cancel_dashboard"),i=document.getElementById("confirm_dashboard"),r=document.createElement("input");r.id="dashboard_input",r.type="text";const o=E.getSelectedEntries()[0].name;r.placeholder=o,r.value=o,t.appendChild(r),r.select(),r.focus(),n.addEventListener("click",()=>e.hideModalWindow()),i.addEventListener("click",()=>ee(e,r.value,o)),t.addEventListener("keydown",t=>{"Escape"===t.key?e.hideModalWindow():"Enter"===t.key&&ee(e,r.value,o)})}function ee(e,t,n){if(t===n)e.hideModalWindow();else if(te(t))window.alert("The filename already exists in the current folder!"),Z();else{e.hideModalWindow();!function(e,t){if(i.FileSystemTools.renameEntry(e,E.getParentFolder(),t))if("file"===e.type){const n=e;(0,r.updateDocName)(n.id,t).then(()=>{z()})}else z()}(E.getSelectedEntries()[0],t)}}function te(e){return E.getParentFolder().children.some(t=>t.name===e)}function ne(e,t,n){switch(e){case"selection-options":const e=E.getSelectedFiles().length,t=E.getSelectedFolders().length,n=E.getSelectedTrash().length;e||t||!n?E.getFolderPath().length>1&&"Trash"==E.getFolderPath().at(1).name?(L.innerHTML=c.trashEntryOptions,ie("trash-entry-options")):1!==e||t||n?e>1&&!t&&!n?(L.innerHTML=c.multiFileOptions,ie("multi-file-options")):e>=1&&t>=1&&!n?(L.innerHTML=c.folderAndFileOptions,ie("folder-and-file-options")):e||1!==t||n?!e&&t>1&&!n&&(L.innerHTML=c.multiFolderOptions,ie("multi-folder-options")):(L.innerHTML=c.singleFolderOptions,ie("single-folder-options")):(L.innerHTML=c.singleFileOptions,ie("single-file-options")):(L.innerHTML=c.trashFolderOptions,ie("trash-folder-options"));break;default:L.innerHTML=c.defaultOptions,ie("default")}if(E.getParentFolder().metadata.immutable||E.getSelectedEntries()[0]&&E.getSelectedEntries()[0].metadata.immutable||E.isInTrash()){const e=document.getElementById("cm-remove-btn"),t=document.getElementById("cm-rename-btn"),n=document.getElementById("cm-move-btn"),i=document.getElementById("cm-upload-doc-btn"),r=document.getElementById("cm-new-folder-btn");e&&e.classList.add("disabled"),t&&t.classList.add("disabled"),n&&n.classList.add("disabled"),i&&i.classList.add("disabled"),r&&r.classList.add("disabled")}k.style.left=t+"px",k.style.top=n+"px",k.classList.remove("hidden")}function ie(e){const t="context-menu-item-wrapper";switch(e){case"single-file-options":document.querySelector(`.${t}#cm-open-btn`).addEventListener("click",e=>{k.classList.add("hidden"),F()}),document.querySelector(`.${t}#cm-remove-btn`).addEventListener("click",e=>{k.classList.add("hidden"),j()}),document.querySelector(`.${t}#cm-rename-btn`).addEventListener("click",e=>{k.classList.add("hidden"),Z()}),document.querySelector(`.${t}#cm-move-btn`).addEventListener("click",e=>{k.classList.add("hidden"),X()});break;case"multi-file-options":document.querySelector(`.${t}#cm-open-btn`).addEventListener("click",e=>{k.classList.add("hidden"),F()}),document.querySelector(`.${t}#cm-remove-btn`).addEventListener("click",e=>{k.classList.add("hidden"),j()}),document.querySelector(`.${t}#cm-move-btn`).addEventListener("click",e=>{k.classList.add("hidden"),X()});break;case"folder-and-file-options":document.querySelector(`.${t}#cm-remove-btn`).addEventListener("click",e=>{k.classList.add("hidden"),j()}),document.querySelector(`.${t}#cm-move-btn`).addEventListener("click",e=>{k.classList.add("hidden"),X()});break;case"single-folder-options":document.querySelector(`.${t}#cm-open-btn`).addEventListener("click",e=>{k.classList.add("hidden"),F()}),document.querySelector(`.${t}#cm-remove-btn`).addEventListener("click",e=>{k.classList.add("hidden"),j()}),document.querySelector(`.${t}#cm-rename-btn`).addEventListener("click",e=>{k.classList.add("hidden"),Z()}),document.querySelector(`.${t}#cm-move-btn`).addEventListener("click",e=>{k.classList.add("hidden"),X()});break;case"multi-folder-options":document.querySelector(`.${t}#cm-remove-btn`).addEventListener("click",e=>{k.classList.add("hidden"),j()}),document.querySelector(`.${t}#cm-move-btn`).addEventListener("click",e=>{k.classList.add("hidden"),X()});break;case"trash-folder-options":document.querySelector(`.${t}#cm-empty-trash-btn`).addEventListener("click",e=>{k.classList.add("hidden"),$()});break;case"trash-entry-options":document.querySelector(`.${t}#cm-recover-btn`).addEventListener("click",e=>{k.classList.add("hidden"),function(){const e=E.getSelectedEntries(),t=E.getParentFolder();for(let n of e){const e=n.metadata.recover_folder,r=E.getFolderPathByNames(e);if(r){n=i.FileSystemTools.removeMetadata(n,["removed_on","recover_folder"]);const e=/ - \d{1,2}\/\d{1,2}\/\d{4}, \d{1,2}:\d{2}:\d{2} [APMapm]{2}$/;e.test(n.name)&&(n.name=n.name.replace(e,"")),K([n],t,r)}}}()}),document.querySelector(`.${t}#cm-delete-btn`).addEventListener("click",e=>{k.classList.add("hidden"),H()});break;default:document.querySelector(`.${t}#cm-upload-doc-btn`).addEventListener("click",e=>{k.classList.add("hidden"),q()}),document.querySelector(`.${t}#cm-new-folder-btn`).addEventListener("click",e=>{k.classList.add("hidden"),Y()})}}function re(e){E.getTrashFolder()||w.newTrash(e);const t=E.getTrashFolder(),n=new Date,i=new Date(n.getTime()-2592e6);t.children.forEach(e=>{(e=>{if(e.metadata&&e.metadata.removed_on){return new Date(e.metadata.removed_on)<=i}return!1})(e)&&("file"===e.type?D(e,t):"folder"===e.type&&R(e,t))})}null==f||f.addEventListener("click",F),null==h||h.addEventListener("click",j),null==y||y.addEventListener("click",q),null==b||b.addEventListener("click",Y),window.addEventListener("keydown",e=>{e.metaKey&&(A=!0),e.shiftKey&&(x=!0),"Escape"===e.key&&(B(),_.reset(),U(),V())}),window.addEventListener("keyup",e=>{e.metaKey||(A=!1),e.shiftKey||(x=!1)}),null==u||u.addEventListener("click",e=>{const t=e.target;Boolean(t.closest(".document-entry"))||(B(),_.reset(),U(),V())}),t.updateDashboard=z;t.loadDashboard=async()=>{const e=await w.getRoot();E.root(e),re(e),z([e]),document.querySelector(".main-section").addEventListener("contextmenu",e=>{e.preventDefault(),B(),ne("default",e.clientX,e.clientY)}),document.querySelector(".main-section").addEventListener("click",e=>{k.classList.add("hidden")})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0});(0,n(56).loadDashboard)(),null===(i=document.querySelector("#home-link"))||void 0===i||i.setAttribute("href","https://ddmal.music.mcgill.ca/Neon")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryType=void 0,function(e){e.Folder="folder",e.Trash="trash",e.File="file"}(t.EntryType||(t.EntryType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemTools=void 0;const i=n(25),r=n(17),o=(e,t,n,r)=>{const o={};return t===i.EntryType.File?{name:e,type:t,id:n,metadata:o}:{name:e,type:t,id:n,children:r,metadata:o}};const s=(e,t)=>{const n=t.children.some(t=>t.name===e.name),i=t.metadata.immutable,r={succeeded:!1,error:""};return n?r.error=`Duplicate name: ${e.name} already exists in ${t.name}.`:i?r.error=t.name+" is immutable.":r.succeeded=!0,r},a=(e,t)=>{const n=-1!==t.children.findIndex(t=>t.id===e.id),i=t.metadata.immutable,r=e.metadata.immutable,o={succeeded:!1,error:""};return n?i?o.error=t.name+" is immutable.":r?o.error=e.name+" is immutable.":o.succeeded=!0:o.error=`${e.name} does not exist in ${t.name}.`,o},c=(e,t,n)=>{const r=e===n,o=n.children.some(t=>t.name===e.name),s=t.metadata.immutable,a=n.metadata.immutable,c=-1!==t.children.findIndex(t=>t.id===e.id),l=e.type==i.EntryType.Folder&&function e(t,n){return n.children.filter(e=>e.type===i.EntryType.Folder).map(n=>n===t||e(t,n)).some(e=>!0===e)}(n,e),d={succeeded:!1,error:""};return r?d.error=`Cannot move ${e.name} to itself.`:o?d.error=`Duplicate name: ${e.name} already exists in ${n.name}.`:s?d.error=t.name+" is immutable.":a?d.error=n.name+" is immutable.":c?l?d.error=`Cannot move ${e.name} into a its own subfolder, ${n.name}.`:d.succeeded=!0:d.error=`${e.name} does not exist in ${t.name}.`,d},l=(e,t,n)=>{const i={succeeded:!1,error:""};return t.children.some((t,n,i)=>t.name===e.name&&n!==i.indexOf(t))?i.error=`Duplicate name: ${n} already exists in ${t.name}.`:i.succeeded=!0,i},d=(e,t)=>{const{succeeded:n,error:r}=s(e,t);return n?(t.children.push(e),(o=t).children.sort((e,t)=>e.name.localeCompare(t.name)),o.children.sort((e,t)=>e.type===i.EntryType.File&&t.type===i.EntryType.Folder?1:e.type===i.EntryType.Folder&&t.type===i.EntryType.File?-1:0),!0):(console.error(r),!1);var o},u=(e,t,n=!1)=>{const{succeeded:i,error:r}=a(e,t);if(i||n){const n=t.children.indexOf(e);return t.children.splice(n,1),!0}return console.error(r),!1};t.FileSystemTools={createFolder:e=>o(e,i.EntryType.Folder,(0,r.uuidv4)(),[]),createTrash:e=>o(e,i.EntryType.Trash,(0,r.uuidv4)(),[]),createFile:(e,t)=>o(e,i.EntryType.File,t),moveEntry:function(e,t,n){const i=c(e,t,n);if(i.succeeded){if(u(e,t,!0)){if(d(e,n))return!0;console.error(`Moving: failed to add ${e.name} to ${n.name}`)}else console.error(`Moving: failed to remove ${e.name} from ${t.name}`)}else console.error(i.error);return!1},canAddEntry:s,canRemoveEntry:a,canMoveEntry:c,canRenameEntry:l,addEntry:d,removeEntry:u,addMetadata:function(e,t){return Object.entries(t).forEach(([t,n])=>{e.metadata[t]=n}),e},removeMetadata:function(e,t){return t.forEach(t=>{delete e.metadata[t]}),e},getAllNames:e=>e.children.map(e=>e.name),renameEntry:(e,t,n)=>{const{succeeded:i,error:r}=l(e,t,n);return i?(e.name=n,!0):(console.error(r),!1)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemManager=void 0;const i=n(25),r=n(46),o=n(93);t.FileSystemManager=()=>{function e(e){try{window.localStorage.setItem("neon-fs",JSON.stringify(e))}catch(e){return console.error(e),window.alert("Error saving file system"),!1}return!0}async function t(){try{const t=window.localStorage.getItem("neon-fs");if(t){return JSON.parse(t)}{const t=i.FileSystemTools.createFolder("Home");return function(e){const t=o.samples.map(([e,t])=>{const n=i.FileSystemTools.createFile(e,e);return"folio"===t?i.FileSystemTools.addMetadata(n,{type:"folio",document:"sample",immutable:!0}):"manuscript"===t&&i.FileSystemTools.addMetadata(n,{type:"manuscript",document:"sample",immutable:!0}),n}),n=i.FileSystemTools.createFolder("Samples");t.forEach(e=>{i.FileSystemTools.addEntry(e,n)}),i.FileSystemTools.addEntry(n,e),i.FileSystemTools.addMetadata(n,{immutable:!0})}(t),n(t),await async function(e){const t=await(0,r.fetchUploads)();return t.map(e=>i.FileSystemTools.createFile(e.name,e.id)).forEach(t=>{i.FileSystemTools.addEntry(t,e)}),e}(t),e(t),t}}catch(e){console.error(e),window.alert("Error loading file system")}}function n(e){const t=i.FileSystemTools.createTrash("Trash");i.FileSystemTools.addEntry(t,e)}return{getRoot:async function(){return await t()},setFileSystem:e,getFileSystem:t,newTrash:n}}},function(e){e.exports=JSON.parse('{"@context":["http://www.w3.org/ns/anno.jsonld",{"schema":"http://schema.org/","title":"schema:name","timestamp":"schema:dateModified","image":{"@id":"schema:image","@type":"@id"},"mei_annotations":{"@id":"Annotation","@type":"@id","@container":"@list"}}]}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.samples=void 0,t.samples=[["CDN-Hsmu_M2149.L4_001r","folio"],["CDN-Hsmu_M2149.L4_002r","folio"],["CH-E_611_024r","folio"],["CH-E_611_026r","folio"],["CH-E_611_028r","folio"],["Salzinnes","manuscript"]]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dashboardState=t.ShiftSelectionManager=void 0;t.ShiftSelectionManager=class{constructor(){this.prevSelection=[],this.reset()}setStart(e){this.reset(),this.start=Math.max(e,0)}setEnd(e){this.end=e}reset(){this.start=0,this.end=-1,this.prevSelection.splice(0)}getPrevSelection(){return this.prevSelection}getSelection(e){let t,n;if(-1===this.end)return[];this.end<this.start?(t=this.end,n=this.start+1):(t=this.start,n=this.end+1);const i=Array.from({length:n-t},(e,n)=>n+t).filter(t=>!e[t]);return this.prevSelection=i,i}},t.dashboardState=function(){let e=[],t=[],n=[],i=null;function r(e){return e&&(i=e),i}function o(){return e.filter((e,n)=>t[n])}return{root:r,setEntries:function(n){e=n,t=Array(n.length).fill(!1)},getEntries:function(){return e},getIndexByEntryName:function(t){return e.findIndex(e=>e.name===t)},setSelection:function(e,n){t[e]=n},getSelection:function(){return t},resetSelection:function(){t.fill(!1)},setFolderPath:function(e){n=e},getFolderPath:function(){return n},getFolderPathNames:function(){return n.map(e=>e.name)},getFolderPathByNames:function(e){let t=r();e=e.slice(1);for(const n of e){const e=t.children.find(e=>e.name===n);if(!e||"folder"!==e.type)return void console.debug("failed to find folder: ",n);t=e}return t},getParentFolder:function(){return n.at(-1)},getTrashFolder:function(){return r().children.filter(e=>"trash"===e.type)[0]},getSelectedEntries:o,getSelectedFolders:function(){return o().filter(e=>"folder"===e.type)},getSelectedTrash:function(){return o().filter(e=>"trash"===e.type)},getSelectedFiles:function(){return o().filter(e=>"file"===e.type)},isInTrash:function(){return n.some(e=>"trash"===e.type)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InitUploadArea=void 0;const i=n(13),r=n(96),o=n(56);t.InitUploadArea=function(e){const t=new i.ModalWindow;t.setModalWindowView(i.ModalWindowView.DOCUMENT_UPLOAD),t.openModalWindow();const n=document.querySelector("#make_pair"),s=document.querySelector("#upload_button");n.addEventListener("click",r.handleMakePair),s.addEventListener("click",()=>async function(e,t){const n=document.querySelector("#uploading_spinner");n.classList.add("visible"),(0,r.handleUploadAllDocuments)(t).then(()=>{setTimeout(async()=>{await(0,o.updateDashboard)(),n.classList.remove("visible"),e.hideModalWindow()},2e3)}).catch(t=>{console.log("One or more uploads rejected: ",t),setTimeout(async()=>{await(0,o.updateDashboard)(),n.classList.remove("visible"),e.hideModalWindow()},2e3)})}(t,e));const a=document.createElement("input");a.type="file",a.multiple=!0,a.addEventListener("change",(function(){const e=a.files,t=Array.from(e),n=(0,r.addNewFiles)(t);if(0!==n.length){const e=n.map(e=>e.name);window.alert("The following files are not .mei, .png, .jpeg, or .jsonld files: \n\n"+e.join("\n"))}a.value=null}));const c=document.querySelector("#initial_upload_area");c.onclick=()=>a.click(),c.ondragleave=()=>c.classList.remove("over"),c.ondragover=e=>{e.stopPropagation(),e.preventDefault(),c.classList.add("over"),e.dataTransfer.dropEffect="copy"},c.ondrop=e=>{e.stopPropagation(),e.preventDefault(),c.classList.remove("over");const t=e.dataTransfer.files,n=Array.from(t),i=(0,r.addNewFiles)(n);if(0!==i.length){const e=i.map(e=>e.name);window.alert("The following files are not .mei, .png, .jpeg, or .jsonld files: \n\n"+e.join("\n"))}},document.querySelectorAll(".sort_name").forEach(e=>{e.addEventListener("click",()=>(0,r.sortFileByName)(e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fnConflictHandler=t.formatFilename=t.sortFileByName=t.handleUploadAllDocuments=t.handleMakePair=t.addNewFiles=void 0;const i=n(30),r=n(97),o=n(46),s=n(25),a=r.default.getInstance();function c(e,t){if("mei"!==t&&"image"!==t)return;const n="mei"===t?"mei_radio_group":"image_radio_group",r=(0,i.v4)(),o=document.createElement("div");o.className="unpaired_item_container";const s=document.createElement("input");s.type="radio",s.className="unpaired_item_radio",s.name=n,s.value=e,s.id=r;const a=document.createElement("label");a.className="unpaired_item_label",a.setAttribute("for",r);const c=document.createElement("span");c.innerText=l(e,50),c.setAttribute("style","margin-top: auto; margin-left: 3px;");const d=document.createElement("img");return d.className="unpaired_del_btn",d.src="/Neon/Neon-gh/assets/img/unpaired-remove-doc.svg",d.title="delete",a.appendChild(s),a.appendChild(c),o.appendChild(a),o.appendChild(d),d.addEventListener("click",(function(){o.remove()})),o}function l(e,t){const n=Math.floor(t/2),i=e.length;return i<=t?e:`${e.substring(0,n-1)}...${e.substring(i-n+2,i)}`}function d(e,t){let n=e,i=1;for(;t.includes(n);)n=`${e}(${i})`,i++;return n}a.setMeiTemplate("samples/mei/mei_template.mei"),t.addNewFiles=function(e){const t=document.querySelector("#mei_list"),n=document.querySelector("#image_list"),i=[];return e.forEach(e=>{const r=e.name.split(".").pop();if("mei"===r){const n=c(e.name,"mei");t.appendChild(n),a.addFile(e)}else if(["png","jpg","jpeg"].includes(r)){const t=c(e.name,"image");n.appendChild(t),a.addFile(e)}else"jsonld"===r||i.push(e)}),i},t.handleMakePair=function(){const e=document.querySelector("#paired_list"),t=document.querySelector('input[name="mei_radio_group"]:checked'),n=document.querySelector('input[name="image_radio_group"]:checked');if(null===t||null===n)return;let i=t.value;const r=n.value;let o=!1;if("create_mei"===t.value){o=!0;const e=r.split(".");e.length>1&&e.pop(),e.push("mei"),i=e.join("."),a.getImgDimension(r).then(e=>{const{width:t,height:n,staffSpace:r}=e,o=a.createMeiFile(i,t,n,r);a.addFile(o)}).catch(e=>{console.error(e.message)})}const s=i.substring(0,i.length-4),d=function(e,t,n){const i=document.querySelector("#mei_list"),r=document.querySelector("#image_list"),o=document.createElement("div");o.className="folio_item",o.setAttribute("mei",t),o.setAttribute("image",n);const s=document.createElement("div");function d(){o.remove();const s=a.isCreatedFolio(e);if(a.removeFolio(e),!s){const e=c(t,"mei");i.appendChild(e)}const l=c(n,"image");r.appendChild(l)}s.classList.add("folio-filename"),s.innerHTML=l(e,50),o.appendChild(s);const u=document.createElement("img");return u.className="unpair_btn",u.src="/Neon/Neon-gh/assets/img/unpair-doc.svg",u.title="unpair",u.addEventListener("click",d),o.appendChild(u),o}(s,i,r);e.appendChild(d),a.addFolio(s,i,r,o),o||t.parentElement.parentElement.remove(),n.parentElement.parentElement.remove()},t.handleUploadAllDocuments=async function(e){const t=[...a.getFolios().map(async([t,n,r])=>{const a=(0,i.v4)();return await async function(e,t,n,i,r){const a=d(t,s.FileSystemTools.getAllNames(r));return(0,o.createManifest)(e,a,n,i).then(t=>{const n=new Blob([JSON.stringify(t,null,2)],{type:"application/ld+json"});return(0,o.addDocument)(e,a,n,!0)}).then(n=>{if(n){const t=(new Date).toLocaleString(),n=s.FileSystemTools.createFile(a,e),i=s.FileSystemTools.addMetadata(n,{type:"folio",created_on:t});return s.FileSystemTools.addEntry(i,r)}return console.log("failed to uploadFolio: "+t),!1})}(a,t,n,r,e)})].map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e})));return a.clear(),Promise.all(t)},t.sortFileByName=async function(e){const t=e.parentElement.nextElementSibling,n=Array.from(t.children);let i=e.classList.contains("arrow-up");i?(e.classList.remove("arrow-up"),e.classList.add("arrow-down"),e.innerHTML="&#x22C1;"):(e.classList.remove("arrow-down"),e.classList.add("arrow-up"),e.innerHTML="&#x22C0;"),i=!i,n.sort((e,t)=>{const n=e.textContent.trim(),r=t.textContent.trim();return i?n.localeCompare(r):r.localeCompare(n)}),n.forEach(e=>{t.appendChild(e)}),e.setAttribute("style","color: black")},t.formatFilename=l,t.fnConflictHandler=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(17),r=n(32);class o{constructor(){this.allFiles=new Map,this.folios=new Array}static getInstance(){return o.instance||(o.instance=new o),o.instance}addFile(e){if(this.allFiles.has(e.name)){const t={file:e,count:this.getFileCount(e.name)+1};this.allFiles.set(e.name,t)}else{const t={file:e,count:1};this.allFiles.set(e.name,t)}}async setMeiTemplate(e){try{const t=await fetch(e);if(!t.ok)throw new Error("Failed to load MEI template from "+e);this.meiTemplate=await t.text()}catch(e){console.error(e)}}createMeiFile(e,t,n,o){try{if(!this.meiTemplate)throw new Error("Cannot find MEI template");const s=new DOMParser,a=new XMLSerializer,c=s.parseFromString(this.meiTemplate,"text/xml"),l=c.documentElement;l.querySelector("meiHead").setAttribute("xml:id","m-"+(0,i.uuidv4)());l.querySelector("fileDesc").setAttribute("xml:id","m-"+(0,i.uuidv4)());l.querySelector("titleStmt").setAttribute("xml:id","m-"+(0,i.uuidv4)());l.querySelector("title").setAttribute("xml:id","m-"+(0,i.uuidv4)());l.querySelector("pubStmt").setAttribute("xml:id","m-"+(0,i.uuidv4)());l.querySelector("facsimile").setAttribute("xml:id","m-"+(0,i.uuidv4)());const d=l.querySelector("surface"),u="m-"+(0,i.uuidv4)();d.setAttribute("xml:id",u),d.setAttribute("lrx",t.toString()),d.setAttribute("lry",n.toString());const f=l.querySelector("zone"),h="m-"+(0,i.uuidv4)();f.setAttribute("xml:id",h);const p=.1,m=.15,g=Math.round(p*t),v=Math.round(m*t);f.setAttribute("ulx",v.toString()),f.setAttribute("uly",g.toString()),f.setAttribute("lrx",(t-v).toString()),f.setAttribute("lry",(g+3*o).toString());l.querySelector("mdiv").setAttribute("xml:id","m-"+(0,i.uuidv4)());l.querySelector("score").setAttribute("xml:id","m-"+(0,i.uuidv4)());l.querySelector("scoreDef").setAttribute("xml:id","m-"+(0,i.uuidv4)());l.querySelector("staffGrp").setAttribute("xml:id","m-"+(0,i.uuidv4)());l.querySelector("staffDef").setAttribute("xml:id","m-"+(0,i.uuidv4)());l.querySelector("section").setAttribute("xml:id","m-"+(0,i.uuidv4)());const y=l.querySelector("pb");y.setAttribute("xml:id","m-"+(0,i.uuidv4)()),y.setAttribute("facs","#"+u);const b=l.querySelector("sb");b.setAttribute("xml:id","m-"+(0,i.uuidv4)()),b.setAttribute("facs","#"+h);const _=r.xml(a.serializeToString(c)),w=new Blob([_],{type:"text/xml"});return new File([w],e,{type:"text/xml"})}catch(e){console.error(e)}}getImgDimension(e){return new Promise((t,n)=>{const i=this.getFile(e);if(!i)return void n(new Error("File not found: "+e));const r=new FileReader;r.onload=i=>{const r=new Image;r.onload=()=>{const e=document.createElement("canvas"),i=e.getContext("2d",{willReadFrequently:!0});if(!i)return void n(new Error("Could not get 2D context"));e.width=r.width,e.height=r.height,i.drawImage(r,0,0);const o=i.getImageData(0,0,e.width,e.height),s=o.data;for(let e=0;e<s.length;e+=4){const t=(s[e]+s[e+1]+s[e+2])/3<127?0:255;s[e]=t,s[e+1]=t,s[e+2]=t}i.putImageData(o,0,0);const a=[];let c=0;for(let t=0;t<e.width;t++){const n=i.getImageData(t,0,1,e.height).data;for(let e=0;e<n.length;e+=4)0===n[e]&&c>0?(a.push(c),c=0):c++}const l=a.length>0?this.findSecondMode(a):0;t({width:r.width,height:r.height,staffSpace:l})},r.onerror=()=>{n(new Error("Failed to load image: "+e))},r.src=i.target.result},r.readAsDataURL(i)})}findSecondMode(e){const t=new Map;e.forEach(e=>{const n=(t.get(e)||0)+1;t.set(e,n)});return Array.from(t.entries()).sort((e,t)=>t[1]-e[1])[1][0]}getFile(e){if(this.allFiles.has(e))return this.allFiles.get(e).file}removeFile(e){const t=this.getFileCount(e);if(0!==t)if(1===t)this.allFiles.delete(e);else{const n={file:this.allFiles.get(e).file,count:t-1};this.allFiles.set(e,n)}}getFileCount(e){return this.allFiles.has(e)?this.allFiles.get(e).count:0}addFolio(e,t,n,i){const r={filename:e,mei_filename:t,image_filename:n,isCreated:i};this.folios.push(r)}isCreatedFolio(e){const t=this.folios.find(t=>t.filename===e);return!!t&&t.isCreated}removeFolio(e){const t=this.folios.findIndex(t=>t.filename===e);this.folios.splice(t,1)}getFolios(){return this.folios.map(e=>{const t=e.filename,n=e.mei_filename,i=e.image_filename;return[t,this.getFile(n),this.getFile(i)]})}clear(){this.allFiles.clear(),this.folios.splice(0)}print(){console.log(this.allFiles),console.log(this.folios)}}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trashEntryOptions=t.trashFolderOptions=t.multiFolderOptions=t.singleFolderOptions=t.folderAndFileOptions=t.multiFileOptions=t.singleFileOptions=t.defaultOptions=void 0,t.defaultOptions='<div id="cm-upload-doc-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Upload document</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/new-doc.svg">\n    </div>\n    <div id="cm-new-folder-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">New folder</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/new-folder.svg">\n    </div>',t.singleFileOptions='<div id="cm-open-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Open</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/open-doc.svg">\n    </div>\n    <div id="cm-remove-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move to Trash</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>\n    <div id="cm-rename-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Rename</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/rename-doc.svg">\n    </div>\n    <div id="cm-move-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/move-doc-icon.svg">\n    </div>',t.multiFileOptions='<div id="cm-open-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Open</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/open-doc.svg">\n    </div>\n    <div id="cm-remove-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move to Trash</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>\n    <div id="cm-move-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/move-doc-icon.svg">\n    </div>',t.folderAndFileOptions='<div id="cm-remove-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Delete</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>\n    <div id="cm-move-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/move-doc-icon.svg">\n    </div>',t.singleFolderOptions='<div id="cm-open-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Open</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/open-doc.svg">\n    </div>\n    <div id="cm-remove-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move to Trash</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>\n    <div id="cm-rename-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Rename</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/rename-doc.svg">\n    </div>\n    <div id="cm-move-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/move-doc-icon.svg">\n    </div>',t.multiFolderOptions='<div id="cm-remove-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move to Trash</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>\n    <div id="cm-move-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/move-doc-icon.svg">\n    </div>',t.trashFolderOptions='<div id="cm-empty-trash-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Empty Trash</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>',t.trashEntryOptions='<div id="cm-recover-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Put Back</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/recover-doc.svg">\n    </div>\n    <div id="cm-delete-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Delete</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>'}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ltbWVkaWF0ZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0xvY2FsU2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1NlbGVjdFRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Ob3RpZmljYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FyZ3NhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkM1wiIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L0NvbnRlbnRzLnRzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9yZWdleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZhbGlkYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Nb2RhbFdpbmRvdy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9TZWxlY3RPcHRpb25zLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db29yZGluYXRlcy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3BhcmstbWQ1L3NwYXJrLW1kNS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvcmFuZG9tLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db2xvci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnV2dXplbGEvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvRHJhZ0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvR3JvdXBpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9GaWxlU3lzdGVtL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9FcnJvckxvZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvUmVzaXplLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wb3VjaGRiL2xpYi9pbmRleC1icm93c2VyLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92MS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3BhcnNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjM1LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbWQ1LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zaGExLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9uaWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92ZXJzaW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy92a2JlYXV0aWZ5L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvRGFzaGJvYXJkQ29udGVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvV2FybmluZ3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvU3RhZmZUb29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9OZXVtZVRvb2xzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL3F1ZXVlTWljcm90YXNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL211dGF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL21lc3NhZ2VDaGFubmVsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL3N0YXRlQ2hhbmdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL3RpbWVvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9TdG9yYWdlLnRzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvRGFzaGJvYXJkLnRzIiwid2VicGFjazovLy8uL2RlcGxveW1lbnQvc2NyaXB0cy9kYXNoYm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9GaWxlU3lzdGVtL0ZpbGVTeXN0ZW1JbnRlcmZhY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvRmlsZVN5c3RlbS9GaWxlU3lzdGVtVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9GaWxlU3lzdGVtL0ZpbGVTeXN0ZW1NYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvc2FtcGxlc19maWxlbmFtZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9EYXNoYm9hcmRUb29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL1VwbG9hZEFyZWEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9VcGxvYWRUb29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL1VwbG9hZEZpbGVNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvQ29udGV4dE1lbnVDb250ZW50LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUmVmbGVjdE93bktleXMiLCJSIiwiUmVmbGVjdCIsIlJlZmxlY3RBcHBseSIsImFwcGx5IiwidGFyZ2V0IiwicmVjZWl2ZXIiLCJhcmdzIiwiRnVuY3Rpb24iLCJvd25LZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImNvbmNhdCIsIk51bWJlcklzTmFOIiwiTnVtYmVyIiwiaXNOYU4iLCJFdmVudEVtaXR0ZXIiLCJpbml0IiwidGhpcyIsIm9uY2UiLCJlbWl0dGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJlcnJvckxpc3RlbmVyIiwiZXJyIiwicmVtb3ZlTGlzdGVuZXIiLCJyZXNvbHZlciIsInNsaWNlIiwiYXJndW1lbnRzIiwiZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyIiwiaGFuZGxlciIsImZsYWdzIiwib24iLCJhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlciIsIl9ldmVudHMiLCJ1bmRlZmluZWQiLCJfZXZlbnRzQ291bnQiLCJfbWF4TGlzdGVuZXJzIiwiZGVmYXVsdE1heExpc3RlbmVycyIsImNoZWNrTGlzdGVuZXIiLCJsaXN0ZW5lciIsIlR5cGVFcnJvciIsIl9nZXRNYXhMaXN0ZW5lcnMiLCJ0aGF0IiwiX2FkZExpc3RlbmVyIiwidHlwZSIsInByZXBlbmQiLCJldmVudHMiLCJleGlzdGluZyIsIndhcm5pbmciLCJuZXdMaXN0ZW5lciIsImVtaXQiLCJ1bnNoaWZ0IiwicHVzaCIsImxlbmd0aCIsIndhcm5lZCIsInciLCJFcnJvciIsIlN0cmluZyIsImNvdW50IiwiY29uc29sZSIsIndhcm4iLCJvbmNlV3JhcHBlciIsImZpcmVkIiwid3JhcEZuIiwiX29uY2VXcmFwIiwic3RhdGUiLCJ3cmFwcGVkIiwiX2xpc3RlbmVycyIsInVud3JhcCIsImV2bGlzdGVuZXIiLCJhcnIiLCJyZXQiLCJBcnJheSIsInVud3JhcExpc3RlbmVycyIsImFycmF5Q2xvbmUiLCJsaXN0ZW5lckNvdW50IiwiY29weSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ3cmFwTGlzdGVuZXIiLCJhcmciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0IiwiUmFuZ2VFcnJvciIsImdldFByb3RvdHlwZU9mIiwic2V0TWF4TGlzdGVuZXJzIiwiZ2V0TWF4TGlzdGVuZXJzIiwiZG9FcnJvciIsImVycm9yIiwiZXIiLCJtZXNzYWdlIiwiY29udGV4dCIsImxlbiIsImxpc3RlbmVycyIsImFkZExpc3RlbmVyIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3QiLCJwb3NpdGlvbiIsIm9yaWdpbmFsTGlzdGVuZXIiLCJzaGlmdCIsImluZGV4IiwicG9wIiwic3BsaWNlT25lIiwib2ZmIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwia2V5cyIsInJhd0xpc3RlbmVycyIsImV2ZW50TmFtZXMiLCJjdG9yIiwic3VwZXJDdG9yIiwic3VwZXJfIiwiY29uc3RydWN0b3IiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsIlRlbXBDdG9yIiwiZHJhaW5pbmciLCJjdXJyZW50UXVldWUiLCJzY2hlZHVsZURyYWluIiwidHlwZXMiLCJxdWV1ZUluZGV4IiwicXVldWUiLCJzY2hlZHVsZWQiLCJjbGVhblVwTmV4dFRpY2siLCJuZXh0VGljayIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwicnVuIiwiY2xlYXJUaW1lb3V0IiwidGVzdCIsImluc3RhbGwiLCJJdGVtIiwiZnVuIiwiYXJyYXkiLCJ0YXNrIiwibG9jYWxTZXR0aW5ncyIsIkRFRkFVTFRfU0VUVElOR1MiLCJ6b29tIiwiZ2x5cGhPcGFjaXR5IiwiaW1hZ2VPcGFjaXR5IiwiY2lyY2xlU2l6ZSIsImhpZ2hsaWdodE1vZGUiLCJ1c2VyTW9kZSIsImluc2VydE1vZGUiLCJpbnNlcnRUYWIiLCJzZWxlY3Rpb25Nb2RlIiwiZGVidWdNb2RlIiwiZGlzcGxheUJCb3giLCJkaXNwbGF5VGV4dCIsImRpc3BsYXlJbmZvIiwiZGlzcGxheUVyckxvZyIsInZpZXdCb3giLCJzZXR0aW5ncyIsInBhcmFtcyIsImZvbGlvSWQiLCJpZCIsImxvYWQiLCJzdG9yZWQiLCJKU09OIiwicGFyc2UiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3luYyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJnZXRTZWxlY3Rpb25UeXBlIiwiZWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInVuc2VsZWN0IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJzZWxlY3RlZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImNvbnRhaW5zIiwicmVtb3ZlQXR0cmlidXRlIiwiQ29sb3IiLCJ1bmhpZ2hsaWdodCIsInN0eWxlIiwiZmlsbCIsImZyb20iLCJkaXZMaW5lIiwic3Ryb2tlIiwic2V0QXR0cmlidXRlIiwibmV1bWUiLCJzeWxSZWN0IiwicGFyZW50RWxlbWVudCIsImFkZCIsImQzIiwic2VsZWN0QWxsIiwiZWwiLCJjb2xvciIsImZvbnRXZWlnaHQiLCJnZXRFbGVtZW50QnlJZCIsIlNlbGVjdE9wdGlvbnMiLCJlbmRPcHRpb25zU2VsZWN0aW9uIiwiR3JvdXBpbmciLCJlbmRHcm91cGluZ1NlbGVjdGlvbiIsImlubmVySFRNTCIsInVwZGF0ZUhpZ2hsaWdodCIsInNlbGVjdFN0YWZmIiwic3RhZmYiLCJkcmFnSGFuZGxlciIsImhpZ2hsaWdodCIsInRyaWdnZXJTaW5nbGVTdGFmZkFjdGlvbnMiLCJpbml0R3JvdXBpbmdMaXN0ZW5lcnMiLCJkcmFnSW5pdCIsInNlbGVjdExheWVyRWxlbWVudCIsImxheWVyRWxlbWVudCIsInNlbGVjdCIsIm5lZWRzSGlnaGxpZ2h0VXBkYXRlIiwic3lsSWQiLCJlbGVtIiwiY2xvc2VzdCIsInNwYW4iLCJhc3luYyIsImlzTGlnYXR1cmUiLCJuYyIsIm5lb25WaWV3IiwiYXR0cmlidXRlcyIsImdldEVsZW1lbnRBdHRyIiwidmlldyIsImdldEN1cnJlbnRQYWdlVVJJIiwiQm9vbGVhbiIsImxpZ2F0ZWQiLCJlbGVtZW50c0hhdmVDb3JyZWN0VHlwZSIsInNlbGVjdGlvblR5cGUiLCJlbGVtZW50cyIsInNoYXJlZFNlY29uZExldmVsUGFyZW50IiwidGVtcEVsZW1lbnRzIiwic2Vjb25kUGFyZW50Iiwic2VsZWN0QkJveCIsImJib3giLCJzeWwiLCJyZXNpemUiLCJxdWVyeVNlbGVjdG9yIiwidHJpZ2dlckJCb3hBY3Rpb25zIiwicGFyZW50IiwicHJldk5jIiwicHJldmlvdXNTaWJsaW5nIiwibmV4dE5jIiwibmV4dFNpYmxpbmciLCJ0cmlnZ2VyR3JvdXBpbmciLCJ0cmlnZ2VyTmNBY3Rpb25zIiwiYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUiLCJzb3J0ZWRFbGVtZW50cyIsImoiLCJpc1NhbWVOb2RlIiwiZmlyc3RFbGVtIiwic2Vjb25kRWxlbSIsImluZGV4MSIsImluZGV4T2YiLCJpbmRleDIiLCJNYXRoIiwiYWJzIiwiZmlsdGVyIiwicmVmZXJlbmNlUGFyZW50U3RhZmYiLCJyZWZlcmVuY2VQYXJlbnRTeWxsYWJsZSIsImVsZW1lbnRzQXJyYXkiLCJhbm90aGVyU3RhZmYiLCJ1bHgiLCJ1bHkiLCJscngiLCJscnkiLCJyb3RhdGUiLCJwYXRoIiwiY29vcmRpbmF0ZXMiLCJnZXRBdHRyaWJ1dGUiLCJtYXRjaCIsIm1hcCIsImF0YW4iLCJtaW4iLCJtYXgiLCJub3ROZXVtZXMiLCJubiIsInNlbGVjdGlvbkNsYXNzIiwiY29udGFpbnNMYXllckVsZW1lbnRzIiwiY29udGFpbnNOYyIsImdyb3Vwc1RvU2VsZWN0IiwiU2V0IiwiZ3JvdXBpbmciLCJmb2xsb3dzIiwicHJlY2VkZXMiLCJoYXMiLCJncm91cCIsImdyb3VwcyIsInZhbHVlcyIsInRyaWdnZXJNdWx0aVN0YWZmQWN0aW9ucyIsInNpemUiLCJ0cmlnZ2VyTGF5ZXJFbGVtZW50QWN0aW9ucyIsInRyaWdnZXJEZWZhdWx0QWN0aW9ucyIsInRyaWdnZXJTeWxsYWJsZUFjdGlvbnMiLCJpc0xpbmthYmxlIiwiaXNHcm91cGFibGUiLCJ0cmlnZ2VyTmV1bWVBY3Rpb25zIiwiY2hpbGRyZW4iLCJmaXJzdE5DIiwic2Vjb25kTkMiLCJmaXJzdE5DWCIsIngiLCJiYXNlVmFsIiwic2Vjb25kTkNYIiwiZmlyc3ROQ1kiLCJ5Iiwic2Vjb25kTkNZIiwiZyIsInRyaWdnZXJEZWZhdWx0U3lsQWN0aW9ucyIsIm5vdGlmaWNhdGlvbnMiLCJjdXJyZW50TW9kZU1lc3NhZ2UiLCJub3RpZmljYXRpb25JY29uIiwiZGVmYXVsdCIsInN1Y2Nlc3MiLCJOb3RpZmljYXRpb24iLCJsb2dJbmZvIiwiZGlzcGxheWVkIiwidXVpZHY0IiwiaXNNb2RlTWVzc2FnZSIsInNlYXJjaCIsInRpbWVvdXRJRCIsImNsZWFyTm90aWZpY2F0aW9uIiwiY3VycmVudElkIiwic3RhcnROb3RpZmljYXRpb24iLCJub3RpZmljYXRpb24iLCJnZXRJZCIsIm5vdGlmaWNhdGlvbkNvbnRlbnQiLCJuZXdOb3RpZmljYXRpb24iLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kIiwiZGlzcGxheSIsImRpc3BsYXlOb3RpZmljYXRpb24iLCJzZXRUaW1lb3V0SWQiLCJxdWV1ZU5vdGlmaWNhdGlvbiIsInJlY29yZE5vdGlmaWNhdGlvbiIsImluc2VydFRhYkh0bWwiLCJwcmltaXRpdmVUYWIiLCJncm91cGluZ1RhYiIsInN5c3RlbVRhYiIsImluc2VydENvbnRyb2xzUGFuZWwiLCJlZGl0Q29udHJvbHNQYW5lbCIsIm5jQWN0aW9uQ29udGVudHMiLCJkZWZhdWx0TmV1bWVBY3Rpb25Db250ZW50cyIsIm5ldW1lQWN0aW9uQ29udGVudHMiLCJkZWZhdWx0QWN0aW9uQ29udGVudHMiLCJkZWZhdWx0U3lsQWN0aW9uQ29udGVudHMiLCJjdXN0b3NBY3Rpb25Db250ZW50cyIsImxheWVyRWxlbWVudE91dEFjdGlvbkNvbnRlbnRzIiwibGF5ZXJFbGVtZW50SW5BY3Rpb25Db250ZW50cyIsImFjY2lkQWN0aW9uQ29udGVudHMiLCJzdGFmZlNwbGl0QWN0aW9uQ29udGVudHMiLCJzdGFmZk1lcmdlQWN0aW9uQ29udGVudHMiLCJjb2x1bW5BY3Rpb25Db250ZW50cyIsImNsZWZBY3Rpb25Db250ZW50cyIsImRpdkxpbmVBY3Rpb25Db250ZW50cyIsImJib3hBY3Rpb25Db250ZW50cyIsImdyb3VwaW5nTWVudSIsImxpZ2F0dXJlTmMiLCJsaWdhdHVyZSIsInNwbGl0U3lsbGFibGUiLCJlZGl0VGV4dE1vZGFsIiwiaG90a2V5c01vZGFsIiwic3lsbGFibGVBY3Rpb25zQ29udGVudCIsImVycm9yTG9nc1BhbmVsQ29udGVudHMiLCJlIiwiYnl0ZVRvSGV4IiwidG9TdHJpbmciLCJzdWJzdHIiLCJvZmZzZXQiLCJ1dWlkIiwidG9Mb3dlckNhc2UiLCJsYXN0R2x5cGhPcGFjaXR5IiwibGFzdEltYWdlT3BhY2l0eSIsImxhc3RDaXJjbGVTaXplIiwic2V0R2x5cGhPcGFjaXR5RnJvbVNsaWRlciIsIm1laUNsYXNzTmFtZSIsIm9wYWNpdHlPdXRwdXQiLCJzZXRTZXR0aW5ncyIsImhpZGVHbHlwaEltZyIsIm9wYWNpdHkiLCJzZXRCZ09wYWNpdHlGcm9tU2xpZGVyIiwiYmFja2dyb3VuZCIsImJnT3BhY2l0eU91dHB1dCIsImhpZGVCZ0ltZyIsImJnIiwidXBkYXRlSGlnaGxpZ2h0T3B0aW9uIiwib3B0aW9uIiwiZHJvcGRvd24iLCJoaWdobGlnaHRUeXBlIiwidGV4dENvbnRlbnQiLCJ1bnNldEdyb3VwaW5nSGlnaGxpZ2h0IiwidG9VcHBlckNhc2UiLCJzZXRHcm91cGluZ0hpZ2hsaWdodCIsInNldEhpZ2hsaWdodE9wdGlvbiIsImhpZ2hsaWdodENsaWNrYXdheSIsImJvZHkiLCJzZXRIaWdobGlnaHRDb250cm9scyIsImV2dCIsInN0b3BQcm9wYWdhdGlvbiIsInRvZ2dsZSIsImxvYWRIaWdobGlnaHRTZXR0aW5ncyIsImdldFNldHRpbmdzIiwiem9vbUhhbmRsZXIiLCJ6b29tU2xpZGVyIiwiem9vbU91dHB1dCIsInpvb21UbyIsInJlc2V0Wm9vbUFuZFBhbiIsImRpc2FibGVkIiwiY3VycmVudFpvb20iLCJwYXJzZUludCIsInByZXZlbnREZWZhdWx0IiwibmV3Wm9vbSIsImNpcmNsZVNsaWRlciIsImNpcmNsZU91dHB1dCIsImNpcmNsZVNpemVJbnB1dENoYW5nZUhhbmRsZXIiLCJyZXNpemVQb2ludHMiLCJlbXB0eSIsImF0dHIiLCJoaWdobGlnaHRTZWxlY3Rpb24iLCJoaWdobGlnaHRJZCIsImRpc3BsYXlBbGxCdG4iLCJkaXNwbGF5QkJveGVzIiwiY2hlY2tlZCIsIm9wYWNpdHlTbGlkZXIiLCJpbnB1dENoYW5nZU9wYWNpdHkiLCJ0b2dnbGVPcGFjaXR5QnRuIiwibmV3T3BhY2l0eSIsInJvdW5kIiwic2V0R2x5cGhPcGFjaXR5Q29udHJvbHMiLCJiZ09wYWNpdHlTbGlkZXIiLCJiZ0lucHV0Q2hhbmdlSGFuZGxlciIsInRvZ2dsZUJnT3BhY2l0eUJ0biIsInNldEJnT3BhY2l0eUNvbnRyb2xzIiwibWV0YUtleSIsInNlbGVjdEFsbEJ0biIsIm9wdGlvbnMiLCJjbGljayIsInNldERpc3BsYXlBbGxMaXN0ZW5lciIsImRpc3BsYXlDb250ZW50cyIsInRvZ2dsZURpc3BsYXkiLCJwYWRkaW5nIiwib3ZlcmZsb3ciLCJNb2RhbFdpbmRvd1ZpZXciLCJNb2RhbFdpbmRvd1N0YXRlIiwib3BlbkVkaXRTeWxUZXh0TW9kYWxXaW5kb3ciLCJoaWRlTW9kYWxXaW5kb3ciLCJ1cGRhdGVTeWxUZXh0IiwiZm9jdXNNb2RhbFdpbmRvdyIsIm9yaWciLCJyZXBsYWNlIiwidHJpbSIsInVwZGF0ZWRTeWxUZXh0IiwiZWRpdG9yQWN0aW9uIiwiYWN0aW9uIiwicGFyYW0iLCJlbGVtZW50SWQiLCJlbnRyaWVzIiwiY2xhc3NOYW1lIiwidGV4dCIsImVkaXQiLCJ0aGVuIiwicmVzcG9uc2UiLCJ1cGRhdGVGb3JDdXJyZW50UGFnZSIsInVwZGF0ZVNlbGVjdGVkQkJveCIsImtleWRvd25MaXN0ZW5lciIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIm1vZGFsV2luZG93VmlldyIsIkVESVRfVEVYVCIsIkRPQ1VNRU5UX1VQTE9BRCIsIk5FV19GT0xERVIiLCJSRU5BTUUiLCJmb2N1cyIsIm1vZGFsV2luZG93U3RhdGUiLCJDTE9TRUQiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwiY29udGVudCIsInNldE1vZGFsV2luZG93Q29udGVudCIsIkhPVEtFWVMiLCJNT1ZFX1RPIiwib3ZlcmZsb3dYIiwib3ZlcmZsb3dZIiwiT1BFTiIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiY29udGFpbmVyIiwidGl0bGUiLCJpbm5lclRleHQiLCJyZW1vdmVTeW1ib2wiLCJFUlJPUl9MT0ciLCJlbmNvZGVVUkkiLCJ1cGxvYWRBcmVhSFRNTCIsIm5ld0ZvbGRlckhUTUwiLCJyZW5hbWVIVE1MIiwiYmJveElkIiwiZmluZCIsImRpc3BsYXlSZWN0IiwidW5zZXRJbmNsaW5hdHVtQWN0aW9uIiwiYXR0clR5cGUiLCJhdHRyVmFsdWUiLCJ1bnNldFZpcmdhQWN0aW9uIiwidW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uIiwidW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uIiwidW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbiIsImN1cnZlIiwiZGVsZXRlQnV0dG9uSGFuZGxlciIsInJlbW92ZUhhbmRsZXIiLCJtb3JlRWRpdCIsImV4dHJhRWRpdCIsInRvUmVtb3ZlIiwiY2hhaW5BY3Rpb24iLCJjaGFuZ2VTdGFmZkhhbmRsZXIiLCJ0b0NoYW5nZSIsImluc2VydFRvU3lsbGFibGVIYW5kbGVyIiwidG9JbnNlcnQiLCJyZXN1bHQiLCJtb3ZlT3V0c2lkZVN5bGxhYmxlSGFuZGxlciIsInRvTW92ZSIsIm1hdGNoSGVpZ2h0SGFuZGxlciIsImFkZERlbGV0ZUxpc3RlbmVyIiwiZGVsIiwiYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lciIsImNoYW5nZVN0YWZmIiwidXBkYXRlQ29sdW1uSW5mbyIsImNvbElucHV0Iiwic3RhdmVzIiwiY29sSW5mbyIsImhhc0NvbHVtbiIsImpvaW4iLCJzdGFmZkNvbCIsImFkZENvbHVtbkluZm9TdGVwSGFuZGxlciIsImRlY3JlbWVudEJ1dHRvbiIsImluY3JlbWVudEJ1dHRvbiIsImNvbmZpcm1CdXR0b24iLCJ1cGRhdGVOdW1iZXIiLCJjaGFuZ2UiLCJjdXJyZW50VmFsdWUiLCJ0b1NldENvbHVtbiIsInNldEVkaXRDb250cm9scyIsImVkaXRUeXBlIiwiY29udGVudHMiLCJwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uIiwidHJpZ2dlclN0YWZmU3BsaXRNb2RlIiwiU3BsaXRTdGFmZkhhbmRsZXIiLCJzdGFydFNwbGl0IiwiaW5pdE9wdGlvbnNMaXN0ZW5lcnMiLCJkcm9wIiwib3B0aW9uc0NsaWNrYXdheSIsIm90aGVyIiwiaW5pdE5lb25WaWV3IiwiQ29udGVudHMiLCJ1bnNldEluY2xpbmF0dW0iLCJ1bnNldFZpcmdhIiwidW5zZXRWaXJnYVJldmVyc2VkIiwidW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlIiwidW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSIsInNldEluY2xpbmF0dW0iLCJzZXRWaXJnYSIsInNldFZpcmdhUmV2ZXJzZWQiLCJzZXRMaXF1ZXNjZW50Q2xvY2t3aXNlIiwic2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UiLCJ0cmlnZ2VyQ2hhbmdlR3JvdXAiLCJjb250b3VyIiwiY2hhbmdlR3JvdXBpbmdBY3Rpb24iLCJTcGxpdE5ldW1lSGFuZGxlciIsImluZm8iLCJnZXRDb250b3VyQnlWYWx1ZSIsImV4dHJhQWN0aW9uc0hUTUwiLCJhY2NpZE9wdGlvbnNMaXN0ZW5lciIsImluY3JlbWVudE9jdGF2ZSIsImRpcmVjdGlvbiIsInNoYXBlIiwiY2xlZk9wdGlvbnNMaXN0ZW5lciIsImRpdkxpbmVPcHRpb25zTGlzdGVuZXIiLCJtZXJnZVN0YXZlcyIsInBvaW50cyIsImdldFN0YWZmQkJveCIsInlfY2hhbmdlIiwidGFuIiwiZ2V0U1ZHUmVsQ29vcmRzIiwiY2xpZW50WCIsImNsaWVudFkiLCJwdCIsIkRPTVBvaW50IiwicGFnZU1hcmdpbiIsIm1hdHJpeFRyYW5zZm9ybSIsImdldFNjcmVlbkNUTSIsImludmVyc2UiLCJnZXRTdGFmZklkQnlDb29yZHMiLCJzdGFmZkJCb3hlcyIsInN0YWZmSWQiLCJiZ0ltZyIsInJlY3QiLCJ0YWdOYW1lIiwiZ2V0QkJveCIsInBhcmVudE5vZGUiLCJ3aWR0aCIsImhlaWdodCIsImhleF9jaHIiLCJtZDVjeWNsZSIsImsiLCJhIiwiYiIsIm1kNWJsayIsIm1kNWJsa3MiLCJjaGFyQ29kZUF0IiwibWQ1YmxrX2FycmF5IiwibWQ1MSIsInRhaWwiLCJ0bXAiLCJsbyIsImhpIiwic3Vic3RyaW5nIiwicmhleCIsImhleCIsInRvVXRmOCIsInN0ciIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaGV4VG9CaW5hcnlTdHJpbmciLCJieXRlcyIsImZyb21DaGFyQ29kZSIsIlNwYXJrTUQ1IiwicmVzZXQiLCJBcnJheUJ1ZmZlciIsImNsYW1wIiwidmFsIiwidG8iLCJudW0iLCJ0YXJnZXRBcnJheSIsInNvdXJjZUFycmF5IiwiYnl0ZUxlbmd0aCIsImJlZ2luIiwiZW5kIiwiVWludDhBcnJheSIsImFwcGVuZEJpbmFyeSIsIl9idWZmIiwiX2xlbmd0aCIsIl9oYXNoIiwicmF3IiwiYnVmZiIsIl9maW5pc2giLCJnZXRTdGF0ZSIsImhhc2giLCJzZXRTdGF0ZSIsImRlc3Ryb3kiLCJoYXNoQmluYXJ5IiwiZmlyc3QiLCJzZWNvbmQiLCJyZXR1cm5VSW50OEFycmF5IiwiYnVmZmVyIiwic3ViYXJyYXkiLCJ1dGY4U3RyMkFycmF5QnVmZmVyIiwibWQ1MV9hcnJheSIsImZhY3RvcnkiLCJ1aW50OFRvVXVpZCIsImRhdGEiLCJjYiIsInByZXZpb3VzIiwiY3VycmVudCIsInBhZFN0YXJ0IiwicmVkdWNlIiwiY3J5cHRvIiwib2N0ZXRzIiwibW9kaWZpZXJzIiwiZ2V0UmFuZG9tVmFsdWVzIiwiQ29sb3JQYWxldHRlIiwicmVjdHMiLCJ1bnNldFN0YWZmSGlnaGxpZ2h0IiwiY2hpbGQiLCJjY2hpbGQiLCJzZXRTdGFmZkhpZ2hsaWdodCIsInN0YWZmQ29sb3IiLCJjb2x1bW5OdW0iLCJjb2x1bW4iLCJzZXRDb2x1bW5IaWdobGlnaHQiLCJncm91cENvbG9yIiwiZGl2TGluZUNoaWxkcmVuIiwicm5kczgiLCJybmciLCJtc0NyeXB0byIsIm9iaiIsInN0YWNrIiwibWV0YVN0YWNrIiwibGFzdE1ldGFFbGVtZW50IiwibGFzdEVsZW1lbnRJbmRleCIsImlzQXJyYXkiLCJpbnB1dCIsIm5leHQiLCJhcnJheVByZWZpeCIsIm9ialByZWZpeCIsInJlcyIsInByZWZpeCIsImNvbGxhdGlvbkluZGV4IiwicGFyc2VkTnVtIiwibnVtQ2hhciIsInBhcnNlZFN0cmluZyIsImxhc3RDaCIsIm51bUNvbnNlY3V0aXZlU2xhc2hlcyIsImNoIiwiYXJyYXlFbGVtZW50Iiwib2JqRWxlbWVudCIsInBhcnNlRmxvYXQiLCJidWYiLCJybmRzIiwicmFuZG9tIiwic2VsZWN0b3IiLCJkcmFnU3RhcnRDb29yZHMiLCJkcmFnQmVoYXZpb3VyIiwiZHJhZyIsImV2ZW50IiwiZHgiLCJkeSIsInNvdXJjZUV2ZW50IiwiZHJhZ2dpbmciLCJkcmFnRW5kZWQiLCJzZWxlY3Rpb24iLCJub01vdmVQcmVjZWRlcyIsImhhc0F0dHJpYnV0ZSIsIm1vdmVFbGVtZW50cyIsImJib3hlcyIsInhEaWZmIiwieURpZmYiLCJpc0N1cnNvck91dE9mQm91bmRzIiwiaXNEcmFnT3V0T2ZCb3VuZHMiLCJyZXR1cm5FbGVtZW50cyIsInBhcmFtQXJyYXkiLCJkcmFnQWN0aW9uIiwidG9SZXNlbGVjdCIsInJlc2VsZWN0IiwicmVzZWxlY3RlZCIsInJlc2V0VG9BY3Rpb24iLCJlbmRYIiwiZW5kWSIsImlzT3V0T2ZTVkdCb3VuZHMiLCJnbHlwaFNlbGVjdG9yIiwic2VsZWN0aW9uQkJveCIsImFjYyIsImdldEdseXBoQkJveCIsImN1cnIiLCJNQVhfVkFMVUUiLCJNSU5fVkFMVUUiLCJTZWxlY3RUb29scyIsInNoYXJlZExvZ2ljYWxQYXJlbnQiLCJhcmVBZGphY2VudCIsImNvbnRhaW5zTGlua2VkIiwiaXNMaW5rZWQiLCJjYW5CZUxpbmtlZCIsInNvcnQiLCJzdGFmZkEiLCJzdGFmZkIiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsIk5vZGUiLCJET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkciLCJzeWxsYWJsZXMiLCJjdXJyZW50U3lsbGFibGVJbmRleCIsImN1cnJlbnRTdGFmZiIsIm5leHRTdGFmZiIsImN1cnJlbnRTdGFmZkluZGV4IiwiZXZlcnkiLCJ1bmxpbmtlZEVsZW1lbnRzIiwiZmlyc3RVbmxpbmtlZCIsImlkeCIsInN5bGxhYmxlIiwiYXQiLCJuZXh0U3lsbGFibGVJZCIsIm5leHRTeWxsYWJsZUlkeCIsIm5leHRTeWxsYWJsZSIsInByZXZTeWxsYWJsZUlkIiwicHJldlN5bGxhYmxlIiwiaGFzSW52YWxpZExpbmtlZFN5bGxhYmxlIiwic3lzdGVtcyIsImVsZW1lbnRJZHMiLCJncm91cGluZ0FjdGlvbiIsImdldENoaWxkcmVuSWRzIiwiZ2V0SWRzIiwidG9nZ2xlTGlua2VkU3lsbGFibGVzIiwiZ3JvdXBUeXBlIiwibmV1bWVQYXJlbnQiLCJuY3MiLCJnZXRDb250b3VyIiwiV2FybmluZ3MiLCJncm91cGluZ05vdFJlY29nbml6ZWQiLCJnZXRTVkdHcmFwaGljc0VsZW1lbnRCeUlkIiwiU1ZHR3JhcGhpY3NFbGVtZW50IiwidW5saW5rIiwiZmlyc3RTeWxsYWJsZSIsInNlY29uZFN5bGxhYmxlIiwidW5saW5rZWRFbGVtZW50IiwiZ2V0VG9nZ2xlU3lsbGFibGVJZHMiLCJsb2ciLCJpZHMiLCJjaGlsZHJlbklkcyIsIkVudHJ5VHlwZSIsIkZpbGVTeXN0ZW1Ub29scyIsIkZpbGVTeXN0ZW1NYW5hZ2VyIiwiY3JlYXRlTG9nTWVzc2FnZSIsIm5vdGlmIiwibm90aWZEaXYiLCJyZW1vdmVCdG4iLCJvbmNsaWNrIiwiaW5mb0J0biIsIm1vZGFsV2luZG93IiwiTW9kYWxXaW5kb3ciLCJzZXRNb2RhbFdpbmRvd1ZpZXciLCJvcGVuTW9kYWxXaW5kb3ciLCJvcGVuRXJyb3JMb2dXaW5kb3ciLCJpbml0RXJyb3JMb2dDb250cm9scyIsImVycm9yUGFuZWwiLCJoZWFkaW5nIiwiZHJvcGRvd25JY29uIiwiaW5pdERpc3BsYXlMaXN0ZW5lciIsImNoZWNrYm94ZXNDb250YWluZXIiLCJlcnJvcnNMYWJlbCIsImVyb3Jyc0J0biIsImFwcGVuZENoaWxkIiwidXBkYXRlRXJyb3JMb2dWaXNpYmlsaXR5Iiwibm90aWZQYW5lbCIsIlBvaW50TmFtZXMiLCJUb3BMZWZ0IiwiVG9wIiwiVG9wUmlnaHQiLCJSaWdodCIsIkJvdHRvbVJpZ2h0IiwiQm90dG9tIiwiQm90dG9tTGVmdCIsIkxlZnQiLCJnZXRQb2ludHMiLCJzaW4iLCJpbml0aWFsVWx4IiwiaW5pdGlhbExyeCIsImluaXRpYWxQb2ludCIsImluaXRpYWxVbHkiLCJpbml0aWFsTHJ5IiwiaW5pdGlhbFkiLCJpbml0aWFsUmVjdFkiLCJwb2x5TGVuIiwiaW5pdGlhbFJvdGF0ZSIsInJlZHJhdyIsInBvaW50U3RyaW5nIiwiX2VsZW0iLCJ0ZXh0UmVjdCIsInBvaW50TmFtZSIsInBvaW50IiwicG9pbnRTdHJpbmdSaWdodCIsInBvaW50U3RyaW5nTGVmdCIsImRyYXdJbml0aWFsUmVjdCIsIndoaWNoUG9pbnQiLCJfIiwidmlld3BvcnRFbGVtZW50IiwicmVzaXplU3RhcnQiLCJyZXNpemVEcmFnIiwicmVzaXplRW5kIiwicm90YXRlU3RhcnQiLCJ0ZW1wIiwibW91c2UiLCJ0ZW1wUm90YXRlIiwicm90YXRlRW5kIiwiY3VycmVudFBvaW50Iiwid2hpY2giLCJQSSIsIkV4cG9ydGVkU2V0IiwiRXhwb3J0ZWRNYXAiLCJtYW5nbGUiLCJ1bm1hbmdsZSIsIk1hcCQxIiwiX3N0b3JlIiwiU2V0JDEiLCJjbG9uZUJpbmFyeU9iamVjdCIsImNsb25lQXJyYXlCdWZmZXIiLCJ3ZWJraXRTbGljZSIsIm1hbmdsZWQiLCJkZWxldGUiLCJNYXAiLCJwcm9wIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwic3BlY2llcyIsInN1cHBvcnRzTWFwQW5kU2V0IiwiZnVuY1RvU3RyaW5nIiwib2JqZWN0Q3RvclN0cmluZyIsImNsb25lIiwibmV3T2JqZWN0IiwiRGF0ZSIsImlzRmluaXRlIiwidG9JU09TdHJpbmciLCJCbG9iIiwiaXNCaW5hcnlPYmplY3QiLCJwcm90byIsIkN0b3IiLCJpc1BsYWluT2JqZWN0IiwiY2FsbGVkIiwidG9Qcm9taXNlIiwiZnVuYyIsInNlbGYiLCJ1c2VkQ0IiLCJwcm9taXNlIiwiZnVsZmlsbCIsInJlc3AiLCJjYWxsYmFjayIsIm1lc2ciLCJhZGFwdGVyRnVuIiwiX2Nsb3NlZCIsIl9kZXN0cm95ZWQiLCJsb2dBcmdzIiwib3JpZ0NhbGxiYWNrIiwicmVzcG9uc2VBcmdzIiwibG9nQXBpQ2FsbCIsInRhc2txdWV1ZSIsImlzUmVhZHkiLCJhZGRUYXNrIiwiZmFpbGVkIiwicGljayIsImhhc0xvY2FsIiwiaWRlbnRpdHlGdW5jdGlvbiIsImZvcm1hdFJlc3VsdEZvck9wZW5SZXZzR2V0Iiwib2siLCJidWxrR2V0IiwiZGIiLCJvcHRzIiwicmVxdWVzdHMiLCJkb2NzIiwicmVxdWVzdHNCeUlkIiwicmVxdWVzdCIsIm51bURvY3MiLCJudW1Eb25lIiwicGVyRG9jUmVzdWx0cyIsImNoZWNrRG9uZSIsInJlc3VsdHMiLCJhbGxSZXF1ZXN0cyIsIm5leHRCYXRjaCIsInVwVG8iLCJiYXRjaCIsImRvY0lkIiwiZG9jSWR4IiwiZG9jUmVxdWVzdHMiLCJkb2NPcHRzIiwib3Blbl9yZXZzIiwicmV2IiwiZm9ybWF0UmVzdWx0IiwicHJvY2Vzc0JhdGNoIiwiaGFzTG9jYWxTdG9yYWdlIiwiQ2hhbmdlcyIsImF0dGFjaEJyb3dzZXJFdmVudHMiLCJndWFyZGVkQ29uc29sZSIsIm1ldGhvZCIsImRlZmF1bHRCYWNrT2ZmIiwibWF4VGltZW91dCIsInJhbmRvbU51bWJlciIsImV4cGxhaW5FcnJvciIsInN0YXR1cyIsImRiTmFtZSIsImlucHJvZ3Jlc3MiLCJldmVudEZ1bmN0aW9uIiwiY2hhbmdlc09wdHMiLCJjaGFuZ2VzIiwic2VxIiwic2luY2UiLCJjYW5jZWxsZWQiLCJvbkNoYW5nZSIsIm5vdGlmeUxvY2FsV2luZG93cyIsIm5vdGlmeSIsIiRpbmplY3RfT2JqZWN0X2Fzc2lnbiIsImFzc2lnbiIsIm5leHRTb3VyY2UiLCJuZXh0S2V5IiwiUG91Y2hFcnJvciIsInJlYXNvbiIsIk1JU1NJTkdfQlVMS19ET0NTIiwiTUlTU0lOR19ET0MiLCJSRVZfQ09ORkxJQ1QiLCJJTlZBTElEX0lEIiwiTUlTU0lOR19JRCIsIlJFU0VSVkVEX0lEIiwiVU5LTk9XTl9FUlJPUiIsIkJBRF9BUkciLCJRVUVSWV9QQVJTRV9FUlJPUiIsIkRPQ19WQUxJREFUSU9OIiwiQkFEX1JFUVVFU1QiLCJOT1RfQU5fT0JKRUNUIiwiSURCX0VSUk9SIiwiSU5WQUxJRF9SRVYiLCJNSVNTSU5HX1NUVUIiLCJjcmVhdGVFcnJvciIsIkN1c3RvbVBvdWNoRXJyb3IiLCJuYW1lcyIsImdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UiLCJmaWx0ZXJDaGFuZ2UiLCJyZXEiLCJoYXNGaWx0ZXIiLCJxdWVyeSIsInF1ZXJ5X3BhcmFtcyIsImRvYyIsImZpbHRlclJldHVybiIsIm1zZyIsInRyeUZpbHRlciIsImluY2x1ZGVfZG9jcyIsImF0dGFjaG1lbnRzIiwiYXR0IiwiX2F0dGFjaG1lbnRzIiwic3R1YiIsImZsYXR0ZW4iLCJhcnJzIiwiaW52YWxpZElkRXJyb3IiLCJpc1JlbW90ZSIsIl9yZW1vdGUiLCJwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZSIsInBhcnRzIiwic3BsaXQiLCJub3JtYWxpemVEZXNpZ25Eb2NGdW5jdGlvbk5hbWUiLCJub3JtYWxpemVkIiwicVBhcnNlciIsInBhcnNlciIsInBhcnNlVXJpIiwiZXhlYyIsInVyaSIsImVuY29kZWQiLCJkZWNvZGVVUklDb21wb25lbnQiLCIkMCIsIiQxIiwiJDIiLCJzY29wZUV2YWwiLCJzb3VyY2UiLCJzY29wZSIsInVwc2VydCIsImRpZmZGdW4iLCJjYXRjaCIsImRvY1JldiIsIl9yZXYiLCJuZXdEb2MiLCJfaWQiLCJwdXQiLCJ1cGRhdGVkIiwidHJ5QW5kUHV0IiwidGhpc0F0b2IiLCJhdG9iIiwidGhpc0J0b2EiLCJidG9hIiwiY3JlYXRlQmxvYiIsInByb3BlcnRpZXMiLCJidWlsZGVyIiwiQmxvYkJ1aWxkZXIiLCJNU0Jsb2JCdWlsZGVyIiwiTW96QmxvYkJ1aWxkZXIiLCJXZWJLaXRCbG9iQnVpbGRlciIsImdldEJsb2IiLCJiaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyIiwiYmluIiwiYmluU3RyaW5nVG9CbHVmZmVyIiwiYmluU3RyaW5nIiwiYjY0VG9CbHVmZmVyIiwiYjY0IiwicmVhZEFzQmluYXJ5U3RyaW5nIiwiYmxvYiIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJoYXNCaW5hcnlTdHJpbmciLCJvbmxvYWRlbmQiLCJiaW5hcnkiLCJhcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJibG9iVG9CaW5hcnlTdHJpbmciLCJibG9iT3JCdWZmZXIiLCJibG9iVG9CYXNlNjQiLCJiYXNlNjQiLCJzZXRJbW1lZGlhdGVTaGltIiwic2V0SW1tZWRpYXRlIiwiYXBwZW5kQmxvYiIsInN0YXJ0Iiwic2xpY2VCbG9iIiwiYXJyYXlCdWZmZXIiLCJhcHBlbmRTdHJpbmciLCJzdHJpbmciLCJiaW5hcnlNZDUiLCJpbnB1dElzU3RyaW5nIiwiY2h1bmtTaXplIiwiY2h1bmtzIiwiY2VpbCIsImN1cnJlbnRDaHVuayIsImxvYWROZXh0Q2h1bmsiLCJkb25lIiwicmF3VG9CYXNlNjQiLCJzdHJpbmdNZDUiLCJyZXYkJDEiLCJkZXRlcm1pbmlzdGljX3JldnMiLCJtdXRhdGVhYmxlRG9jIiwiX3Jldl90cmVlIiwid2lubmluZ1JldiIsIm1ldGFkYXRhIiwid2lubmluZ0lkIiwid2lubmluZ1BvcyIsIndpbm5pbmdEZWxldGVkIiwibm9kZSIsInRvVmlzaXQiLCJyZXZfdHJlZSIsInRyZWUiLCJicmFuY2hlcyIsInBvcyIsImRlbGV0ZWQiLCJ0cmF2ZXJzZVJldlRyZWUiLCJyZXZzIiwibmV3Q3R4IiwiY3R4Iiwic29ydEJ5UG9zIiwiY29sbGVjdExlYXZlcyIsImxlYXZlcyIsImlzTGVhZiIsInJldmVyc2UiLCJjb2xsZWN0Q29uZmxpY3RzIiwid2luIiwiY29uZmxpY3RzIiwibGVhZiIsInJvb3RUb0xlYWYiLCJwYXRocyIsImhpc3RvcnkiLCJzb3J0QnlQb3MkMSIsImluc2VydFNvcnRlZCIsIml0ZW0iLCJjb21wYXJhdG9yIiwibWlkIiwibG93IiwiaGlnaCIsImJpbmFyeVNlYXJjaCIsInNwbGljZSIsInBhdGhUb1RyZWUiLCJudW1TdGVtbWVkIiwicm9vdCIsImN1cnJlbnRMZWFmIiwiY29tcGFyZVRyZWUiLCJtZXJnZVRyZWUiLCJpbl90cmVlMSIsImluX3RyZWUyIiwidHJlZTEiLCJ0cmVlMiIsIm1lcmdlZCIsImRvTWVyZ2UiLCJkb250RXhwYW5kIiwicmVzdHJlZSIsImJyYW5jaCIsInQxIiwidDIiLCJkaWZmIiwiY2FuZGlkYXRlUGFyZW50cyIsInRyZWVzIiwicGFyZW50SWR4IiwiZWxlbWVudHNMZW4iLCJtZXJnZSIsImRlcHRoIiwibmV3VHJlZSIsInN0ZW1tZWQiLCJzdGVtbWVkUmV2cyIsInJldkhhc2giLCJzdGVtIiwiZ2V0VHJlZXMiLCJpc0RlbGV0ZWQiLCJpc0xvY2FsSWQiLCJDaGFuZ2VzJDEiLCJjb21wbGV0ZSIsImVlIiwib25EZXN0cm95IiwiY2FuY2VsIiwicGVuZGluZyIsImxhc3RTZXEiLCJpc0NhbmNlbGxlZCIsInRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lciIsInZhbGlkYXRlQ2hhbmdlcyIsInByb2Nlc3NDaGFuZ2UiLCJjaGFuZ2VMaXN0IiwiX2NvbmZsaWN0cyIsImNvbXBhcmUiLCJsZWZ0IiwicmlnaHQiLCJ5YW5rRXJyb3IiLCJjb21wYXJlQnlJZFRoZW5SZXYiLCJpZENvbXBhcmUiLCJfcmV2aXNpb25zIiwiQWJzdHJhY3RQb3VjaERCIiwiVGFza1F1ZXVlIiwiUG91Y2hEQiIsIl9fb3B0cyIsImF1dG9fY29tcGFjdGlvbiIsImJhY2tlbmQiLCJhZGFwdGVyIiwiYWRhcHRlcnMiLCJwcmVmZXJyZWRBZGFwdGVycyIsImFkYXB0ZXJOYW1lIiwidXNlX3ByZWZpeCIsInBhcnNlQWRhcHRlciIsIl9hZGFwdGVyIiwidmFsaWQiLCJ2aWV3X2FkYXB0ZXIiLCJmYWlsIiwib25EZXN0cm95ZWQiLCJmcm9tX2NvbnN0cnVjdG9yIiwib25DbG9zZWQiLCJwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24iLCJyZWFkeSIsIl9jaGFuZ2VzRmlsdGVyUGx1Z2luIiwidmFsaWRhdGUiLCJkb0NoYW5nZXMiLCJjb250aW51b3VzIiwibGl2ZSIsIm5vcm1hbGl6ZSIsInNob3VsZEZpbHRlciIsImRlc2NlbmRpbmciLCJsaW1pdCIsIm5ld1Byb21pc2UiLCJfY2hhbmdlcyIsInVwZGF0ZV9zZXEiLCJwb3N0IiwiYnVsa0RvY3MiLCJfcHV0TG9jYWwiLCJfZGVsZXRlZCIsIl9yZW1vdmVMb2NhbCIsIm9sZFJldklkIiwibmV3UmV2TnVtIiwibmV3UmV2SWQiLCJwdXREb2MiLCJfcHV0IiwibmV3X2VkaXRzIiwiZm9yY2UiLCJwdXRBdHRhY2htZW50IiwiYXR0YWNobWVudElkIiwiYXBpIiwiY3JlYXRlQXR0YWNobWVudCIsInByZXZyZXZwb3MiLCJjb250ZW50X3R5cGUiLCJyZXZwb3MiLCJyZW1vdmVBdHRhY2htZW50IiwiZG9jT3JJZCIsIm9wdHNPclJldiIsIndhc19kZWxldGUiLCJyZXZzRGlmZiIsIm1pc3NpbmciLCJhZGRUb01pc3NpbmciLCJyZXZJZCIsIl9nZXRSZXZpc2lvblRyZWUiLCJtaXNzaW5nRm9ySWQiLCJwcm9jZXNzRG9jIiwibWlzc2luZ09iaiIsImNvbXBhY3REb2N1bWVudCIsIm1heEhlaWdodCIsInJldlRyZWUiLCJlZGdlcyIsInBybnQiLCJlZGdlIiwiY29tcHV0ZUhlaWdodCIsImNhbmRpZGF0ZXMiLCJfZG9Db21wYWN0aW9uIiwiY29tcGFjdCIsIl9jb21wYWN0aW9uUXVldWUiLCJkb05leHRDb21wYWN0aW9uIiwibGFzdF9zZXEiLCJfY29tcGFjdCIsInJldHVybl9kb2NzIiwicHJvbWlzZXMiLCJyb3ciLCJhbGwiLCJfZ2V0TG9jYWwiLCJmaW5pc2hPcGVuUmV2cyIsImxhdGVzdCIsIl9nZXQiLCJyZXZzX2luZm8iLCJzcGxpdHRlZFJldiIsInJldk5vIiwiY3VycmVudFBhdGgiLCJoYXNoSW5kZXgiLCJpbmRleE9mUmV2IiwiaG93TWFueSIsIl9yZXZzX2luZm8iLCJfZ2V0QXR0YWNobWVudCIsImdldEF0dGFjaG1lbnQiLCJhbGxEb2NzIiwic2tpcCIsInN0YXJ0X2tleSIsInN0YXJ0a2V5IiwiZW5kX2tleSIsImVuZGtleSIsImluY29tcGF0aWJsZU9wdCIsImFsbERvY3NLZXlzUGFyc2UiLCJfYWxsRG9jcyIsImNsb3NlIiwiX2Nsb3NlIiwiX2luZm8iLCJkYl9uYW1lIiwiX3R5cGUiLCJhdHRhY2htZW50RXJyb3IiLCJjaGFyQXQiLCJhdHRhY2htZW50TmFtZUVycm9yIiwiYXR0cyIsImNsZWFuRG9jcyIsIl9idWxrRG9jcyIsInJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UiLCJkZXBlbmRlbnREYiIsImRiT3B0aW9ucyIsImRlcERCIiwiZGVwZW5kZW50RGJzIiwidXNlUHJlZml4IiwiZGVzdHJveURiIiwiX2Rlc3Ryb3kiLCJsb2NhbERvYyIsImRlbGV0ZWRNYXAiLCJ0cnVlTmFtZSIsIlJlZ0V4cCIsImV4ZWN1dGUiLCJBYm9ydENvbnRyb2xsZXIiLCJhYm9ydCIsImYkMSIsImZldGNoIiwiaCIsIkhlYWRlcnMiLCJldmVudEVtaXR0ZXIiLCJQb3VjaCIsImRlc3RydWN0TGlzdGVuZXJzIiwiX2Rlc3RydWN0aW9uTGlzdGVuZXJzIiwiZGJMaXN0Iiwic2V0VXBFdmVudEVtaXR0ZXIiLCJhZGRUb1ByZWZlcnJlZEFkYXB0ZXJzIiwicGx1Z2luIiwiX19kZWZhdWx0cyIsImRlZmF1bHRzIiwiZGVmYXVsdE9wdHMiLCJQb3VjaEFsdCIsInVybCIsImdldEZpZWxkRnJvbURvYyIsInBhcnNlZEZpZWxkIiwicGFyc2VGaWVsZCIsImZpZWxkTmFtZSIsImZpZWxkcyIsImNvbWJpbmF0aW9uRmllbGRzIiwiaXNDb21iaW5hdGlvbmFsRmllbGQiLCJmaWVsZCIsImdldEtleSIsIm1lcmdlQW5kZWRTZWxlY3RvcnMiLCJzZWxlY3RvcnMiLCIkb3IiLCIkbm9yIiwibWF0Y2hlciIsIiRlcSIsImxvbmdlc3QiLCJmaWVsZE1hdGNoZXJzIiwib3BlcmF0b3IiLCIkZ3RlIiwiJGd0IiwibWVyZ2VHdEd0ZSIsIiRsdGUiLCIkbHQiLCJtZXJnZUx0THRlIiwiJG5lIiwibWVyZ2VOZSIsIm1lcmdlRXEiLCIkcmVnZXgiLCJtZXJnZVJlZ2V4IiwibWFzc2FnZVNlbGVjdG9yIiwid2FzQW5kZWQiLCJpc0FuZEluU2VsZWN0b3IiLCJpc0FuZCIsIm1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQiLCJvck9yTm9yIiwic3ViU2VsZWN0b3IiLCJjb2xsYXRlIiwibm9ybWFsaXplS2V5IiwiYWkiLCJiaSIsInN0cmluZ0NvbGxhdGUiLCJhcnJheUNvbGxhdGUiLCJhayIsImJrIiwib2JqZWN0Q29sbGF0ZSIsIkluZmluaXR5Iiwib3JpZ0tleSIsInRvSlNPTiIsImluZGV4aWZ5IiwiZXhwRm9ybWF0IiwidG9FeHBvbmVudGlhbCIsIm1hZ25pdHVkZSIsIm5lZyIsIm1hZ1N0cmluZyIsInBhZFdpdGgiLCJ1cFRvTGVuZ3RoIiwidGFyZ2V0TGVuZ3RoIiwicGFkIiwiZmFjdG9yIiwiZmFjdG9yU3RyIiwidG9GaXhlZCIsIm51bVRvSW5kZXhhYmxlU3RyaW5nIiwidG9JbmRleGFibGVTdHJpbmciLCJvYmpLZXkiLCJwYXJzZU51bWJlciIsIm9yaWdpbmFsSWR4IiwibnVtQXNTdHJpbmciLCJtYWdBc1N0cmluZyIsImZpbHRlckluTWVtb3J5RmllbGRzIiwicm93cyIsInJlcXVlc3REZWYiLCJpbk1lbW9yeUZpZWxkcyIsInJvd0ZpbHRlciIsImZpZWxkU29ydGVyIiwiZ2V0RmllbGRWYWx1ZXNBc0FycmF5Iiwic29ydGluZyIsImFSb3ciLCJiUm93IiwiY29sbGF0aW9uIiwiY3JlYXRlRmllbGRTb3J0ZXIiLCJkb2NGaWVsZFZhbHVlIiwic29tZSIsIm9yTWF0Y2hlcnMiLCJtYXRjaENvbWluYXRpb25hbFNlbGVjdG9yIiwibWF0Y2hTZWxlY3RvciIsIm1heWJlVXNlck9wZXJhdG9yIiwidXNlclZhbHVlIiwic3ViUGFyc2VkRmllbGQiLCJzdWJEb2NGaWVsZFZhbHVlIiwidXNlck9wZXJhdG9yIiwibWF0Y2hlcnMiLCJmaWVsZEV4aXN0cyIsImZpZWxkSXNOb3RVbmRlZmluZWQiLCJhcnJheUNvbnRhaW5zVmFsdWUiLCJkb2NGaWVsZFZhbHVlSXRlbSIsIm1vZEZpZWxkIiwibmVWYWx1ZSIsImFycmF5U2l6ZSIsImFycmF5Q29udGFpbnNBbGxWYWx1ZXMiLCJyZWdleFZhbHVlIiwicmVnZXhNYXRjaCIsInR5cGVNYXRjaCIsImZpbHRlck5hbWUiLCJjaGFuZ2VzSGFuZGxlciIsImRvY19pZHMiLCJ2aWV3TmFtZSIsImRkb2MiLCJtYXBGdW4iLCJ2aWV3cyIsInJvd3NNYXRjaGVkIiwibWF0Y2hlc1NlbGVjdG9yIiwiZmlsdGVyRnVuIiwiZmlsdGVycyIsInRvT2JqZWN0IiwidmVyc2lvbiIsInJlc2VydmVkV29yZHMiLCJkYXRhV29yZHMiLCJwYXJzZVJldmlzaW9uSW5mbyIsInBhcnNlRG9jIiwibmV3RWRpdHMiLCJkYk9wdHMiLCJuUmV2TnVtIiwicmV2SW5mbyIsInJldmlzaW9ucyIsInJldmlzaW9uSWRzIiwibWFrZVJldlRyZWVGcm9tUmV2aXNpb25zIiwic3BlY2lhbEtleSIsInByZXByb2Nlc3NTdHJpbmciLCJibG9iVHlwZSIsImFzQmluYXJ5IiwicGFyc2VCYXNlNjQiLCJkaWdlc3QiLCJwcmVwcm9jZXNzQXR0YWNobWVudCIsIm1kNSIsInByZXByb2Nlc3NCbG9iIiwidXBkYXRlRG9jIiwicmV2TGltaXQiLCJwcmV2IiwiZG9jSW5mbyIsIndyaXRlRG9jIiwic3BsaXRSZXYiLCJ0YXJnZXRQb3MiLCJ0YXJnZXRJZCIsInJldkV4aXN0cyIsInByZXZpb3VzV2lubmluZ1JldiIsInByZXZpb3VzbHlEZWxldGVkIiwiaXNSb290IiwibmV3UmV2IiwicmV2X21hcCIsIndpbm5pbmdSZXYkJDEiLCJ3aW5uaW5nUmV2SXNEZWxldGVkIiwiZGVsdGEiLCJwcm9jZXNzRG9jcyIsImRvY0luZm9zIiwiZmV0Y2hlZERvY3MiLCJ0eCIsIm92ZXJhbGxDYWxsYmFjayIsImlkc1RvRG9jcyIsImRvY3NEb25lIiwiZG9jc1RvRG8iLCJjaGVja0FsbERvY3NEb25lIiwiY3VycmVudERvYyIsInJlc3VsdHNJZHgiLCJkb2NXcml0dGVuIiwibmV4dERvYyIsInJvb3RJc01pc3NpbmciLCJpbnNlcnREb2MiLCJET0NfU1RPUkUiLCJNRVRBX1NUT1JFIiwic2FmZUpzb25TdHJpbmdpZnkiLCJqc29uIiwiaWRiRXJyb3IiLCJlbmNvZGVNZXRhZGF0YSIsImRlbGV0ZWRPckxvY2FsIiwiZGVjb2RlTWV0YWRhdGEiLCJzdG9yZWRPYmplY3QiLCJzYWZlSnNvblBhcnNlIiwiZGVjb2RlRG9jIiwiX2RvY19pZF9yZXYiLCJsYXN0SW5kZXhPZiIsInJlYWRCbG9iRGF0YSIsImFzQmxvYiIsImZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeSIsInR4biIsImF0dE9iaiIsIm9iamVjdFN0b3JlIiwib25zdWNjZXNzIiwiZmV0Y2hBdHRhY2htZW50IiwicG9zdFByb2Nlc3NBdHRhY2htZW50cyIsImF0dE5hbWVzIiwiY29tcGFjdFJldnMiLCJwb3NzaWJseU9ycGhhbmVkRGlnZXN0cyIsInNlcVN0b3JlIiwiYXR0U3RvcmUiLCJhdHRBbmRTZXFTdG9yZSIsIklEQktleVJhbmdlIiwiYm91bmQiLCJkZWxldGVPcnBoYW5lZEF0dGFjaG1lbnRzIiwib3BlbkN1cnNvciIsIm9ubHkiLCJjdXJzb3IiLCJkaWdlc3RTZXEiLCJwcmltYXJ5S2V5IiwiY29udGludWUiLCJvcGVuVHJhbnNhY3Rpb25TYWZlbHkiLCJpZGIiLCJzdG9yZXMiLCJ0cmFuc2FjdGlvbiIsImlkYkJ1bGtEb2NzIiwiZG9jU3RvcmUiLCJieVNlcVN0b3JlIiwiYXR0YWNoU3RvcmUiLCJhdHRhY2hBbmRTZXFTdG9yZSIsIm1ldGFTdG9yZSIsImRvY0luZm9FcnJvciIsIm1ldGFEb2MiLCJhbGxEb2NzUHJvY2Vzc2VkIiwiZG9jQ291bnREZWx0YSIsInByZWNvbmRpdGlvbkVycm9yZWQiLCJfbWV0YSIsImJsb2JTdXBwb3J0Iiwib25BbGxEb2NzUHJvY2Vzc2VkIiwidXBkYXRlRG9jQ291bnRJZlJlYWR5IiwiZG9jQ291bnQiLCJuZXdSZXZJc0RlbGV0ZWQiLCJpc1VwZGF0ZSIsImNvbGxlY3RSZXN1bHRzIiwiZmluaXNoRG9jIiwiYXR0YWNobWVudFNhdmVkIiwibmV3QXR0Iiwic2F2ZUF0dGFjaG1lbnQiLCJ3cml0ZUF0dGFjaG1lbnRzIiwiYWZ0ZXJQdXREb2MiLCJyZXZzVG9EZWxldGUiLCJjb21wYWN0VHJlZSIsIm1ldGFkYXRhVG9TdG9yZSIsImFmdGVyUHV0TWV0YWRhdGEiLCJhdHRzQWRkZWQiLCJhdHRzVG9BZGQiLCJvbmVycm9yIiwiaW5zZXJ0QXR0YWNobWVudE1hcHBpbmdzIiwicHV0UmVxIiwib3ZlcmFsbEVyciIsImRvY3YiLCJyZWN2IiwicHJvY2Vzc2VkQXR0YWNobWVudCIsInByZXByb2Nlc3NBdHRhY2htZW50cyIsInR4blJlc3VsdCIsIm9uYWJvcnQiLCJvbnRpbWVvdXQiLCJvbmNvbXBsZXRlIiwiZmluaXNoIiwiZGlnZXN0cyIsImZpbGVuYW1lIiwidmVyaWZ5QXR0YWNobWVudCIsImF0dEVyciIsInZlcmlmeUF0dGFjaG1lbnRzIiwibnVtRmV0Y2hlZCIsInJldnNfbGltaXQiLCJyZWFkTWV0YWRhdGEiLCJmZXRjaEV4aXN0aW5nRG9jcyIsInN0YXJ0VHJhbnNhY3Rpb24iLCJydW5CYXRjaGVkQ3Vyc29yIiwia2V5UmFuZ2UiLCJiYXRjaFNpemUiLCJvbkJhdGNoIiwia2V5c0JhdGNoIiwidmFsdWVzQmF0Y2giLCJwc2V1ZG9DdXJzb3IiLCJvbkdldEFsbCIsIm9uR2V0QWxsS2V5cyIsIm9uQ3Vyc29yIiwiZ2V0QWxsIiwiZ2V0QWxsS2V5cyIsIm5ld0tleVJhbmdlIiwibGFzdEtleSIsInVwcGVyIiwidXBwZXJPcGVuIiwiY29kZSIsImxvd2VyQm91bmQiLCJpZGJBbGxEb2NzIiwia2V5UmFuZ2VFcnJvciIsImluY2x1c2l2ZUVuZCIsImluY2x1c2l2ZV9lbmQiLCJ1cHBlckJvdW5kIiwiY3JlYXRlS2V5UmFuZ2UiLCJvblJlc3VsdHNSZWFkeSIsInVwZGF0ZVNlcSIsIm9uU3VjY2VzcyIsImRvY0lkUmV2SW5kZXgiLCJhbGxEb2NzSW5uZXIiLCJmZXRjaERvY0FzeW5jaHJvbm91c2x5IiwiYmF0Y2hWYWx1ZXMiLCJiYXRjaFZhbHVlIiwiYmF0Y2hLZXlzIiwicmV0dXJuVmFsIiwidG90YWxfcm93cyIsIm1heEtleSIsImFsbERvY3NLZXlzIiwicnVubmluZyIsImFwcGx5TmV4dCIsImRvY0lkcyIsIm51bVJlc3VsdHMiLCJkb2NJZHNUb01ldGFkYXRhIiwib25HZXRNZXRhZGF0YSIsImRvY0lkUmV2Iiwib2JqZWN0U3RvcmVzIiwid2lubmluZ0RvY3MiLCJtZXRhZGF0YXMiLCJmZXRjaFdpbm5pbmdEb2NBbmRNZXRhZGF0YSIsIndpbm5pbmdEb2MiLCJwcm9jZXNzTWV0YWRhdGFBbmRXaW5uaW5nRG9jIiwib25CYXRjaERvbmUiLCJmaWx0ZXJlZCIsImJsb2JTdXBwb3J0UHJvbWlzZSIsImNhY2hlZERCcyIsIm9wZW5SZXFMaXN0IiwiSWRiUG91Y2giLCJ0cnlDb2RlIiwiZW5xdWV1ZVRhc2siLCJ0aGlzQ2FsbGJhY2siLCJpZGJHbG9iYWxGYWlsdXJlRXJyb3IiLCJlbnJpY2hDYWxsYmFja0Vycm9yIiwiYWRkRGVsZXRlZE9yTG9jYWxJbmRleCIsImNyZWF0ZUluZGV4IiwidW5pcXVlIiwibWlncmF0ZUxvY2FsU3RvcmUiLCJsb2NhbFN0b3JlIiwibG9jYWwiLCJyYW5nZSIsInNlcUN1cnNvciIsIm1pZ3JhdGVBdHRzQW5kU2VxcyIsImRpZ2VzdE1hcCIsIm1pZ3JhdGVNZXRhZGF0YSIsIm9uR2V0TWV0YWRhdGFTZXEiLCJtZXRhZGF0YVNlcSIsImZldGNoTWV0YWRhdGFTZXEiLCJpbnN0YW5jZUlkIiwicmVxT3B0cyIsImhpc3RvcnlOb2RlIiwiYXR0YWNoSWQiLCJhdHRhY2htZW50IiwiYmxvYkRhdGEiLCJkb2NfY291bnQiLCJpZGJfYXR0YWNobWVudF9mb3JtYXQiLCJvbGRSZXYiLCJvU3RvcmUiLCJvbGREb2MiLCJvcGVuUmVxIiwiaW5kZXhlZERCIiwiZGVsZXRlRGF0YWJhc2UiLCJjYWNoZWQiLCJnbG9iYWwiLCJvcGVuIiwib251cGdyYWRlbmVlZGVkIiwib2xkVmVyc2lvbiIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImF1dG9JbmNyZW1lbnQiLCJjcmVhdGVTY2hlbWEiLCJjdXJyZW50VGFyZ2V0IiwiY3JlYXRlTG9jYWxTdG9yZVNjaGVtYSIsImFkZEF0dGFjaEFuZFNlcVN0b3JlIiwibWlncmF0aW9ucyIsIm1pZ3JhdGlvbiIsIm9udmVyc2lvbmNoYW5nZSIsInN0b3JlZE1ldGFEb2MiLCJjb21wbGV0ZVNldHVwIiwic3RvcmVNZXRhRG9jSWZSZWFkeSIsImluc3RhbmNlS2V5IiwiY291bnREb2NzIiwiYmxvYiQkMSIsIm1hdGNoZWRDaHJvbWUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtYXRjaGVkRWRnZSIsImNoZWNrQmxvYlN1cHBvcnQiLCJzdXBwb3J0c0J1bGtHZXRNYXAiLCJyZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlciIsImVuY29kZURvY0lkIiwicHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEiLCJnZXRIb3N0IiwicHJvdG9jb2wiLCJoYXNVcmxQcmVmaXgiLCJ1c2VyIiwicGFzc3dvcmQiLCJhdXRoIiwidXNlcm5hbWUiLCJnZW5EQlVybCIsImdlblVybCIsInBhdGhEZWwiLCJob3N0IiwicG9ydCIsInBhcmFtc1RvU3RyIiwiSHR0cFBvdWNoIiwiZGJVcmwiLCJzZXR1cFByb21pc2UiLCJvdXJGZXRjaCIsImhlYWRlcnMiLCJjcmVkZW50aWFscyIsIm5BdXRoIiwidG9rZW4iLCJ1YSIsImlzSUUiLCJpc1RyaWRlbnQiLCJpc0VkZ2UiLCJpc0dFVCIsInNob3VsZENhY2hlQnVzdCIsIm5vdyIsImFkYXB0ZXJGdW4kJDEiLCJzZXR1cCIsImZldGNoSlNPTiIsInYiLCJza2lwX3NldHVwIiwiZW5jb2RlQXR0YWNobWVudElkIiwidXVpZCQkMSIsInBpbmciLCJjb21wYWN0X3J1bm5pbmciLCJpbnRlcnZhbCIsImRvQnVsa0dldCIsImRvQnVsa0dldFNoaW0iLCJudW1CYXRjaGVzIiwib25SZXN1bHQiLCJiYXRjaE51bSIsInN1Yk9wdHMiLCJzdXBwb3J0c0J1bGtHZXQiLCJmZXRjaEF0dGFjaG1lbnRzIiwiZmlsZW5hbWVzIiwicHJvbWlzZUZhY3RvcmllcyIsImRvTmV4dCIsInJ1bk5leHRCYXRjaCIsIm9uRXJyb3IiLCJ0aGlzRXJyIiwicG9vbCIsInR5cGVGaWVsZERlc2NyaXB0b3IiLCJfX3Byb3RvX18iLCJmZXRjaERhdGEiLCJkb2NPckRvY3MiLCJjb250ZW50VHlwZSIsInByb2Nlc3MiLCJicm93c2VyIiwicGFyYW1TdHIiLCJiYXRjaF9zaXplIiwiaGVhcnRiZWF0IiwicmVxdWVzdFRpbWVvdXQiLCJsZWZ0VG9GZXRjaCIsImZlZWQiLCJzZXFfaW50ZXJ2YWwiLCJwYXJhbV9uYW1lIiwibGFzdEZldGNoZWRTZXEiLCJjb250cm9sbGVyIiwiYWJvcnRlZCIsImZldGNoT3B0cyIsInNpZ25hbCIsImZldGNoZWQiLCJyYXdfcmVzdWx0c19sZW5ndGgiLCJmaW5pc2hlZCIsIlF1ZXJ5UGFyc2VFcnJvciIsImNhcHR1cmVTdGFja1RyYWNlIiwiTm90Rm91bmRFcnJvciIsIkJ1aWx0SW5FcnJvciIsInByb21pc2VkQ2FsbGJhY2siLCJzZXF1ZW50aWFsaXplIiwicHJvbWlzZUZhY3RvcnkiLCJ1bmlxIiwidGhlU2V0IiwibWFwVG9LZXlzQXJyYXkiLCJjcmVhdGVCdWlsdEluRXJyb3IiLCJzdW0iLCJqTGVuIiwiak51bSIsImV2YWxGdW5jdGlvbldpdGhFdmFsIiwiVGFza1F1ZXVlJDEiLCJjcmVhdGVWaWV3Iiwic291cmNlREIiLCJyZWR1Y2VGdW4iLCJ0ZW1wb3JhcnkiLCJsb2NhbERvY05hbWUiLCJjYWNoZWRWaWV3cyIsInZpZXdTaWduYXR1cmUiLCJjcmVhdGVWaWV3U2lnbmF0dXJlIiwiX2NhY2hlZFZpZXdzIiwicHJvbWlzZUZvclZpZXciLCJkZXBEYk5hbWUiLCJmdWxsVmlld05hbWUiLCJkZXBEYnMiLCJsYXN0U2VxRG9jIiwicGVyc2lzdGVudFF1ZXVlcyIsInRlbXBWaWV3UXVldWUiLCJwYXJzZVZpZXdOYW1lIiwiZW1pdEVycm9yIiwiYnVpbHRJblJlZHVjZSIsInN1bXNxciIsIl9zdW1zcXIiLCJhYnN0cmFjdCIsIm1hcHBlciIsInJlZHVjZXIiLCJkZG9jVmFsaWRhdG9yIiwidHJ5TWFwIiwidHJ5UmVkdWNlIiwicmVyZWR1Y2UiLCJvdXRwdXQiLCJzb3J0QnlLZXlUaGVuVmFsdWUiLCJrZXlDb21wYXJlIiwic2xpY2VSZXN1bHRzIiwicm93VG9Eb2NJZCIsInBvc3Rwcm9jZXNzQXR0YWNobWVudHMiLCJhZGRIdHRwUGFyYW0iLCJwYXJhbU5hbWUiLCJhc0pzb24iLCJjb2VyY2VJbnRlZ2VyIiwiaW50ZWdlckNhbmRpZGF0ZSIsImFzTnVtYmVyIiwiY2hlY2tRdWVyeVBhcnNlRXJyb3IiLCJzdGFydGtleU5hbWUiLCJlbmRrZXlOYW1lIiwiZ3JvdXBfbGV2ZWwiLCJvcHRpb25OYW1lIiwibnVtYmVyIiwiY2hlY2tQb3NpdGl2ZUludGVnZXIiLCJkZWZhdWx0c1RvIiwiZ2V0RG9jc1RvUGVyc2lzdCIsImRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzIiwibWV0YURvY0lkIiwiZGVmYXVsdE1ldGFEb2MiLCJkb2NEYXRhIiwiaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzIiwiaXNHZW5PbmUiLCJnZXRLZXlWYWx1ZURvY3MiLCJrdkRvY3NSZXMiLCJrdkRvY3MiLCJvbGRLZXlzIiwia2V5VmFsdWUiLCJuZXdLZXlzIiwia3ZEb2MiLCJwcm9jZXNzS2V5VmFsdWVEb2NzIiwiZ2V0UXVldWUiLCJ1cGRhdGVWaWV3IiwibWFwUmVzdWx0cyIsImN1cnJlbnRTZXEiLCJsaXN0T2ZEb2NzVG9QZXJzaXN0IiwiZG9jc1RvUGVyc2lzdCIsInNhdmVLZXlWYWx1ZXMiLCJpbmRleGVkX2RvY3MiLCJwcm9ncmVzcyIsInByb2Nlc3NOZXh0QmF0Y2giLCJjaGFuZ2VzX2JhdGNoX3NpemUiLCJjcmVhdGVJbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMiLCJjcmVhdGVEb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyIsInJlc3VsdHNfY291bnQiLCJlbWl0dGVkS2V5VmFsdWUiLCJjb21wbGV4S2V5IiwidXBkYXRlVmlld0luUXVldWUiLCJxdWVyeVZpZXciLCJ0b3RhbFJvd3MiLCJzaG91bGRSZWR1Y2UiLCJmZXRjaEZyb21WaWV3Iiwidmlld09wdHMiLCJleHBlY3RlZEtleXMiLCJwYXJzZWRLZXlBbmREb2NJZCIsInBhcnNlZFN0ciIsInBhcnNlSW5kZXhhYmxlU3RyaW5nIiwib25NYXBSZXN1bHRzUmVhZHkiLCJmaW5hbFJlc3VsdHMiLCJzaG91bGRHcm91cCIsImx2bCIsIlBPU0lUSVZFX0lORklOSVRZIiwibGFzdCIsImdyb3VwS2V5IiwicmVkdWNlVHJ5IiwicmVkdWNlVmlldyIsImFsbERvY3NSZXMiLCJkb2NJZHNUb0RvY3MiLCJmZXRjaFByb21pc2VzIiwia2V5U3RhcnQiLCJrZXlFbmQiLCJxdWVyeVZpZXdJblF1ZXVlIiwicXVlcnlQcm9taXNlZCIsIl9xdWVyeSIsImN1c3RvbVF1ZXJ5Iiwia2V5c0FzU3RyaW5nIiwiaHR0cFF1ZXJ5IiwidXBkYXRlVmlld09wdHMiLCJ2aWV3X3VwZGF0ZV9jaGFuZ2VzX2JhdGNoX3NpemUiLCJmaW5hbFByb21pc2VGYWN0b3J5IiwiZGVzaWduRG9jTmFtZSIsInN0YWxlIiwiY29lcmNlT3B0aW9ucyIsInZpZXdDbGVhbnVwIiwiX3ZpZXdDbGVhbnVwIiwiY3VzdG9tVmlld0NsZWFudXAiLCJodHRwVmlld0NsZWFudXAiLCJkb2NzVG9WaWV3cyIsInZpZXdzVG9TdGF0dXMiLCJkZG9jTmFtZSIsInZpZXdEQk5hbWVzIiwic3RhdHVzSXNHb29kIiwidmlld0RCTmFtZSIsImRlc3Ryb3lQcm9taXNlcyIsImxvY2FsVmlld0NsZWFudXAiLCJjcmVhdGVBYnN0cmFjdE1hcFJlZHVjZSIsIm9yaWdNYXAiLCJyZWR1Y2VGdW5TdHJpbmciLCJidWlsdEluIiwiZ2V0QnVpbHRJbiIsIm1hcHJlZHVjZSIsImlzR2VuT25lJDEiLCJnZXREb2NBdHRhY2htZW50cyIsImdldERvY3MiLCJzcmMiLCJkaWZmcyIsInJlc3VsdERvY3MiLCJmZXRjaFJldmlzaW9uT25lRG9jcyIsImhhc0NvbmZsaWN0cyIsImJ1bGtHZXRPcHRzIiwibWlzc2luZ1JldiIsImNyZWF0ZUJ1bGtHZXRPcHRzIiwiYnVsa0dldFJlc3BvbnNlIiwiYnVsa0dldEluZm8iLCJyZW1vdGVEb2MiLCJkb0NoZWNrRm9yTG9jYWxBdHRhY2htZW50cyIsImZpbGVIYXNDaGFuZ2VkIiwiZ2V0RG9jQXR0YWNobWVudHNGcm9tVGFyZ2V0T3JTb3VyY2UiLCJ1cGRhdGVDaGVja3BvaW50IiwiY2hlY2twb2ludCIsInNlc3Npb24iLCJyZXR1cm5WYWx1ZSIsInNlc3Npb25faWQiLCJyZXBsaWNhdG9yIiwiQ2hlY2twb2ludGVyIiwid3JpdGVDaGVja3BvaW50IiwidXBkYXRlVGFyZ2V0IiwidXBkYXRlU291cmNlIiwid3JpdGVUYXJnZXRDaGVja3BvaW50Iiwid3JpdGVTb3VyY2VDaGVja3BvaW50IiwiaXNGb3JiaWRkZW5FcnJvciIsImNvbXBhcmlzb25zIiwidGFyZ2V0RG9jIiwic291cmNlRG9jIiwic3JjRG9jIiwidGd0RG9jIiwiY29tcGFyZVJlcGxpY2F0aW9uSGlzdG9yeSIsInNvdXJjZUhpc3RvcnkiLCJ0YXJnZXRIaXN0b3J5IiwiUyIsInNvdXJjZVJlc3QiLCJUIiwidGFyZ2V0UmVzdCIsImhhc1Nlc3Npb25JZCIsImNvbXBhcmVSZXBsaWNhdGlvbkxvZ3MiLCJzZXNzaW9uSWQiLCJwcm9wcyIsInJlc3QiLCJmbG9vciIsImdldENoZWNrcG9pbnQiLCJnZW5lcmF0ZVJlcGxpY2F0aW9uSWQiLCJxdWVyeVBhcmFtcyIsImZpbHRlclZpZXdOYW1lIiwic29ydE9iamVjdFByb3BlcnRpZXNCeUtleSIsInF1ZXJ5RGF0YSIsIm1kNXN1bSIsInJlcGxpY2F0ZSIsImN1cnJlbnRCYXRjaCIsInJlcElkIiwiY2hlY2twb2ludGVyIiwiYmF0Y2hlcyIsInBlbmRpbmdCYXRjaCIsIndyaXRpbmdDaGVja3BvaW50IiwiY2hhbmdlc0NvbXBsZXRlZCIsInJlcGxpY2F0aW9uQ29tcGxldGVkIiwiYmF0Y2hlc19saW1pdCIsImNoYW5nZXNQZW5kaW5nIiwiY2hhbmdlZERvY3MiLCJzdGFydF90aW1lIiwiZG9jc19yZWFkIiwiZG9jc193cml0dGVuIiwiZG9jX3dyaXRlX2ZhaWx1cmVzIiwiZXJyb3JzIiwiaW5pdENoZWNrcG9pbnRlciIsImNoZWNrcG9pbnRPcHRzIiwid3JpdGVEb2NzIiwiYnVsa09wdHMiLCJjb21wbGV0ZVJlcGxpY2F0aW9uIiwiZXJyb3JzQnlJZCIsImVycm9yc05vIiwiZXJyb3JOYW1lIiwiZmluaXNoQmF0Y2giLCJvdXRSZXN1bHQiLCJnZXRDaGFuZ2VzIiwib25DaGVja3BvaW50RXJyb3IiLCJnZXRCYXRjaERvY3MiLCJnb3QiLCJzdGFydE5leHRCYXRjaCIsImFib3J0UmVwbGljYXRpb24iLCJwcm9jZXNzUGVuZGluZ0JhdGNoIiwiaW1tZWRpYXRlJCQxIiwiZmF0YWxFcnJvciIsImVuZF90aW1lIiwicmV0cnkiLCJiYWNrX29mZl9mdW5jdGlvbiIsImJhY2tPZmZTZXQiLCJjdXJyZW50X2JhY2tfb2ZmIiwiYmFja09mZiIsIm9uQ2hhbmdlc0NvbXBsZXRlIiwib25DaGFuZ2VzRXJyb3IiLCJfYWJvcnRDaGFuZ2VzIiwiYWJvcnRDaGFuZ2VzIiwic3RhcnRDaGFuZ2VzIiwiX2FkZGVkTGlzdGVuZXJzIiwiUmVwbGljYXRpb24iLCJ0b1BvdWNoIiwiUG91Y2hDb25zdHJ1Y3RvciIsInJlcGxpY2F0ZVdyYXBwZXIiLCJyZXBsaWNhdGVSZXQiLCJTeW5jIiwiY2FuY2VsZWQiLCJvcHRzUHVzaCIsIm9wdHNQdWxsIiwicHVsbCIsInB1bGxDaGFuZ2UiLCJwdXNoQ2hhbmdlIiwicHVzaERlbmllZCIsInB1bGxEZW5pZWQiLCJwdXNoUGF1c2VkIiwicHVsbFBhdXNlZCIsInB1c2hBY3RpdmUiLCJwdWxsQWN0aXZlIiwicmVtb3ZlZCIsInJlbW92ZUFsbCIsImFkZE9uZUxpc3RlbmVyIiwib3V0IiwiY2xlYW51cCIsIl9yZWFkeUNhbGxlZCIsInJlcGxpY2F0ZU1ldGhvZHMiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZHJhaW5RdWV1ZSIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIm5vb3AiLCJlbnYiLCJhcmd2IiwidmVyc2lvbnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsIl9ub2RlSWQiLCJfY2xvY2tzZXEiLCJfbGFzdE1TZWNzIiwiX2xhc3ROU2VjcyIsImNsb2Nrc2VxIiwic2VlZEJ5dGVzIiwibXNlY3MiLCJuc2VjcyIsImR0IiwidGwiLCJ0bWgiLCJnZW5lcmF0ZVVVSUQiLCJuYW1lc3BhY2UiLCJzdHJpbmdUb0J5dGVzIiwiaGFzaGZ1bmMiLCJETlMiLCJVUkwiLCJnZXRPdXRwdXRMZW5ndGgiLCJpbnB1dExlbmd0aDgiLCJzYWZlQWRkIiwibHN3IiwibWQ1Y21uIiwicSIsImNudCIsIm1kNWZmIiwibWQ1Z2ciLCJtZDVoaCIsIm1kNWlpIiwidjM1IiwibGVuZ3RoMzIiLCJtZDVUb0hleEVuY29kZWRBcnJheSIsIm9sZGEiLCJvbGRiIiwib2xkYyIsIm9sZGQiLCJ3b3Jkc1RvTWQ1IiwibGVuZ3RoOCIsIlVpbnQzMkFycmF5IiwiYnl0ZXNUb1dvcmRzIiwiZiIsInoiLCJST1RMIiwiSyIsIkgiLCJOIiwiTSIsIl9pIiwicG93IiwiX2kyIiwiVyIsIl90IiwiX3QyIiwiY3JlYXRlU2hpZnRBcnIiLCJzdGVwIiwic3BhY2UiLCJpeCIsInZrYmVhdXRpZnkiLCJpc1N1YnF1ZXJ5IiwicGFyZW50aGVzaXNMZXZlbCIsInNwbGl0X3NxbCIsInRhYiIsInhtbCIsImFyIiwiaW5Db21tZW50IiwiZGVlcCIsImNzcyIsInNxbCIsImFyX2J5X3F1b3RlIiwieG1sbWluIiwicHJlc2VydmVDb21tZW50cyIsImpzb25taW4iLCJjc3NtaW4iLCJzcWxtaW4iLCJjb25maXJtIiwic3BsaXREaXNhYmxlIiwiY2FwdHVyZSIsImNsaWNrYXdheUhhbmRsZXIiLCJyZXNldEhhbmRsZXIiLCJuY0lkIiwicXVldWVNaWNyb3Rhc2siLCJNdXRhdGlvbiIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyIiwiaGFuZGxlIiwib2JzZXJ2ZXIiLCJjcmVhdGVUZXh0Tm9kZSIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwiTWVzc2FnZUNoYW5uZWwiLCJjaGFubmVsIiwicG9ydDEiLCJvbm1lc3NhZ2UiLCJwb3J0MiIsInBvc3RNZXNzYWdlIiwic2NyaXB0RWwiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZW1vdmVDaGlsZCIsImRvY3VtZW50RWxlbWVudCIsIm1laSIsIm1hbmlmZXN0IiwibG9jYWxNYW5pZmVzdCIsIm1laVByb21pc2UiLCJtZWlSZWFkZXIiLCJyZWFkQXNEYXRhVVJMIiwiYmdQcm9taXNlIiwiYmdSZWFkZXIiLCJtZWlVcmkiLCJiZ1VyaSIsInNpbmdsZSIsImFsZXJ0IiwibmV3TmFtZSIsIm1hbmlmZXN0QmxvYiIsIm1hbmlmZXN0VGV4dCIsIm5ld01hbmlmZXN0QmxvYiIsImRvY3VtZW50c0NvbnRhaW5lciIsImJhY2tncm91bmRBcmVhIiwib3BlbkJ1dHRvbiIsInJlbW92ZUJ1dHRvbiIsIm5hdlBhdGhDb250YWluZXIiLCJiYWNrQnV0dG9uIiwiZW1wdHlCdXR0b24iLCJkZWxldGVCdXR0b24iLCJ1cGxvYWREb2N1bWVudHNCdXR0b24iLCJuZXdGb2xkZXJCdXR0b24iLCJzaGlmdFNlbGVjdGlvbiIsIlNoaWZ0U2VsZWN0aW9uTWFuYWdlciIsImZzbSIsImRhc2hib2FyZFN0YXRlIiwibWFpblNlY3Rpb24iLCJjb250ZXh0TWVudSIsImNvbnRleHRNZW51Q29udGVudFdyYXBwZXIiLCJtZXRhS2V5SXNQcmVzc2VkIiwic2hpZnRLZXlJc1ByZXNzZWQiLCJjdXJyZW50RHJhZ1RhcmdldCIsInJpZ2h0Q2xpY2tlZCIsIm9wZW5VcGxvYWRBcmVhSGFuZGxlciIsIkluaXRVcGxvYWRBcmVhIiwiZ2V0UGFyZW50Rm9sZGVyIiwib3BlbkVkaXRvclRhYiIsImlzU2FtcGxlIiwic3RvcmFnZSIsImVudHJ5IiwiZ2V0RW50cmllcyIsInNldFNlbGVjdGlvbiIsInVuc2VsZWN0QWxsIiwidGlsZSIsInJlc2V0U2VsZWN0aW9uIiwiYWRkVGlsZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGVEYXNoYm9hcmQiLCJnZXRGb2xkZXJQYXRoIiwib3BlbkRvY3NIYW5kbGVyIiwiX2UiLCJzaGlmdFNlbGVjdGlvbkhhbmRsZXIiLCJhZGRTaGlmdFNlbGVjdGlvbkxpc3RlbmVyIiwiZ2V0U2VsZWN0ZWRFbnRyaWVzIiwic2hvd0NvbnRleHRNZW51IiwiY2xpY2tlZEVsZW1lbnQiLCJjbGlja2VkRW50cnkiLCJnZXRFbnRyeUJ5SWQiLCJnZXRJbmRleEJ5RW50cnlOYW1lIiwiYWRkU3BlY2lmaWNDb250ZXh0TWVudUxpc3RlbmVycyIsImdldFNlbGVjdGlvbiIsInNldFN0YXJ0IiwiZ2V0UHJldlNlbGVjdGlvbiIsInNldEVuZCIsInVwZGF0ZUFjdGlvbkJhckJ1dHRvbnMiLCJ1cGRhdGVGU0J1dHRvbnMiLCJnZXRTZWxlY3RlZEZvbGRlcnMiLCJnZXRTZWxlY3RlZFRyYXNoIiwiZ2V0U2VsZWN0ZWRGaWxlcyIsImRvY3VtZW50VHlwZSIsIm9wZW5GaWxlIiwicmVtb3ZlRG9jc0hhbmRsZXIiLCJzZWxlY3RlZEVudHJpZXMiLCJwYXJlbnRGb2xkZXIiLCJ0cmFzaEZvbGRlciIsImdldFRyYXNoRm9sZGVyIiwiZGF0ZXRpbWUiLCJ0b0xvY2FsZVN0cmluZyIsImFkZE1ldGFkYXRhIiwicmVtb3ZlZF9vbiIsInJlY292ZXJfZm9sZGVyIiwiZ2V0Rm9sZGVyUGF0aE5hbWVzIiwibW92ZVRvRm9sZGVyIiwiZGVsZXRlRmlsZUVudHJ5IiwiZmlsZSIsImRlbGV0ZURvY3VtZW50IiwicmVtb3ZlRW50cnkiLCJkZWxldGVGb2xkZXJFbnRyeSIsImZvbGRlciIsImRlbGV0ZVByb21pc2VzIiwiZGVsZXRlRG9jc0hhbmRsZXIiLCJhbGxFbnRyaWVzIiwiYWxlcnRNZXNzYWdlIiwiZW50cnlBcnJheSIsImRlYnVnIiwiZW1wdHlUcmFzaEhhbmRsZXIiLCJpc0luVHJhc2giLCJidXR0b25DbG9uZSIsImNsb25lTm9kZSIsInJlcGxhY2VDaGlsZCIsImhhbmRsZU5hdmlnYXRlQmFjayIsImFkZERyb3BUYXJnZXRMaXN0ZW5lcnMiLCJ1cGRhdGVCYWNrQnV0dG9uIiwidXBkYXRlRW1wdHlCdXR0b24iLCJ1cGRhdGVEZWxldGVCdXR0b24iLCJuZXdQYXRoIiwic2V0Rm9sZGVyUGF0aCIsImN1cnJlbnRGb2xkZXIiLCJzZXRFbnRyaWVzIiwiaWNvbiIsImNyZWF0ZVRpbGUiLCJuYXZFbGVtZW50cyIsIm5hdlNlY3Rpb24iLCJ0YXJnZXRQYXRoIiwibmF2RWxlbWVudCIsInNlcGVyYXRvciIsInVwZGF0ZU5hdlBhdGgiLCJpbmZvQmFkZ2UiLCJkYXRhVHJhbnNmZXIiLCJlZmZlY3RBbGxvd2VkIiwic2V0RmlsZVN5c3RlbSIsImRlc3RpbmF0aW9uRm9sZGVyIiwiZHJhZ0VudHJ5IiwiY3JlYXRlSGFuZGxlRHJvcCIsIm5ld0ZvbGRlciIsImVycm9yTWVzc2FnZXMiLCJ0cmFzaEZOQ29uZmxpY3RIYW5kbGVyIiwiY2FuTW92ZUVudHJ5Iiwic3VjY2VlZGVkIiwibW92ZUVudHJ5Iiwib3Blbk1vdmVUb1dpbmRvdyIsInJvb3RUcmVlIiwibW92ZVRvQ2FsbGJhY2siLCJnZW5lcmF0ZUZvbGRlclRyZWUiLCJkZWdyZWUiLCJsaUNvbnRhaW5lciIsImZvbGRlck5hbWUiLCJ1bCIsImFycm93IiwiZm9sZGVyVHJlZSIsImdlbmVyYXRlUm9vdFRyZWUiLCJuZXdQYXJlbnRGb2xkZXIiLCJ0cmVlQ29udGFpbmVyIiwibW9kYWxDb250YWluZXIiLCJvcGVuTmV3Rm9sZGVyV2luZG93IiwiaW5wdXRDb250YWluZXIiLCJjYW5jZWxCdXR0b24iLCJwbGFjZWhvbGRlciIsImNvbmZpcm1OZXdGb2xkZXJBY3Rpb24iLCJuYW1lRXhpc3RzIiwibmV3Rm9sZGVyVGlsZSIsImNyZWF0ZUZvbGRlciIsImFkZEVudHJ5IiwiaGFuZGxlQWRkRm9sZGVyIiwib3BlblJlbmFtZVdpbmRvdyIsInByZXZOYW1lIiwiY29uZmlybVJlbmFtZUFjdGlvbiIsInJlbmFtZUVudHJ5IiwidXBkYXRlRG9jTmFtZSIsIm51bWJlck9mU2VsZWN0ZWRGaWxlcyIsIm51bWJlck9mU2VsZWN0ZWRGb2xkZXJzIiwic2VsZWN0ZWRUcmFzaCIsImNvbnRleHRNZW51Q29udGVudCIsInRyYXNoRW50cnlPcHRpb25zIiwic2V0Q29udGV4dE1lbnVJdGVtc0V2ZW50TGlzdGVuZXJzIiwibXVsdGlGaWxlT3B0aW9ucyIsImZvbGRlckFuZEZpbGVPcHRpb25zIiwibXVsdGlGb2xkZXJPcHRpb25zIiwic2luZ2xlRm9sZGVyT3B0aW9ucyIsInNpbmdsZUZpbGVPcHRpb25zIiwidHJhc2hGb2xkZXJPcHRpb25zIiwiZGVmYXVsdE9wdGlvbnMiLCJkZWxldGVCdG4iLCJyZW5hbWVCdG4iLCJtb3ZlQnRuIiwidXBkYXRlRG9jQnRuIiwibmV3Rm9sZGVyQnRuIiwidG9wIiwiYnRuQ2xhc3NuYW1lIiwiZm9sZGVyUGF0aE5hbWVzIiwidGFyZ2V0Rm9sZGVyIiwiZ2V0Rm9sZGVyUGF0aEJ5TmFtZXMiLCJyZW1vdmVNZXRhZGF0YSIsImRhdGVUaW1lUGF0dGVybiIsInB1dEJhY2tEb2NzSGFuZGxlciIsInVwZGF0ZVRyYXNoIiwibmV3VHJhc2giLCJjdXJyZW50RGF0ZSIsInRoaXJ0eURheXNBZ28iLCJnZXRUaW1lIiwidG9EZWxldGUiLCJzaGlmdEtleSIsImxvYWREYXNoYm9hcmQiLCJnZXRSb290IiwiY3JlYXRlRW50cnkiLCJGaWxlIiwiY2FuQWRkRW50cnkiLCJpc0ltbXV0YWJsZSIsInJldHVybk9iaiIsImNhblJlbW92ZUVudHJ5IiwiZXhpc3RzSW5QYXJlbnQiLCJmaW5kSW5kZXgiLCJpc0ltbXV0YWJsZVBhcmVudCIsImlzSW1tdXRhYmxlRW50cnkiLCJuZXdQYXJlbnQiLCJpc1NhbWUiLCJpc0ltbXV0YWJsZU5ld1BhcmVudCIsIm5ld1BhcmVudElzQ2hpbGRPZkVudHJ5IiwiRm9sZGVyIiwiaXNDaGlsZE9mIiwiY2FuUmVuYW1lRW50cnkiLCJsb2NhbGVDb21wYXJlIiwiY3JlYXRlVHJhc2giLCJUcmFzaCIsImNyZWF0ZUZpbGUiLCJtb3ZlUmVzcG9uc2UiLCJnZXRBbGxOYW1lcyIsImdldEZpbGVTeXN0ZW0iLCJmcyIsInNhbXBsZUVudHJpZXMiLCJzYW1wbGVzIiwiaW1tdXRhYmxlIiwic2FtcGxlc0ZvbGRlciIsInNhbXBsZSIsImxvYWRTYW1wbGVzIiwidXBsb2FkcyIsImZldGNoVXBsb2FkcyIsInVwbG9hZCIsImxvYWRQcmV2aW91c1VwbG9hZHMiLCJwcmV2U2VsZWN0aW9uIiwib3JkZXJlZFNlbGVjdGlvbiIsInNwZWNpZmljU2VsZWN0aW9uIiwib3JkZXJlZEVudHJpZXMiLCJmb2xkZXJQYXRoIiwiX3Jvb3QiLCJyb290Rm9sZGVyIiwiYm9vbCIsImZvbGRlck5hbWVzIiwicGFpckJ1dHRvbiIsInVwbG9hZEJ1dHRvbiIsImhhbmRsZU1ha2VQYWlyIiwic3Bpbm5lciIsImhhbmRsZVVwbG9hZEFsbERvY3VtZW50cyIsImhhbmRsZVVwbG9hZFVwZGF0ZSIsImZpbGVTZWxlY3RvciIsIm11bHRpcGxlIiwiZmlsZUxpc3QiLCJmaWxlcyIsInJlamVjdEZpbGVzIiwiYWRkTmV3RmlsZXMiLCJ1cGxvYWRfYXJlYSIsIm9uZHJhZ2xlYXZlIiwib25kcmFnb3ZlciIsImRyb3BFZmZlY3QiLCJvbmRyb3AiLCJzb3J0QnlOYW1lQnRuIiwic29ydEZpbGVCeU5hbWUiLCJmbSIsImdldEluc3RhbmNlIiwiY3JlYXRlVW5wYWlyZWRJdGVtIiwicmFkaW9OYW1lIiwicmFkaW8iLCJsYWJlbCIsImZvcm1hdEZpbGVuYW1lIiwiZGVsQnRuIiwibWF4TGVuIiwiY2h1bmtMZW4iLCJmbkNvbmZsaWN0SGFuZGxlciIsImV4aXN0aW5nTmFtZXMiLCJuZXdGaWxlbmFtZSIsImNvdW50ZXIiLCJpbmNsdWRlcyIsInNldE1laVRlbXBsYXRlIiwibWVpX2NvbnRhaW5lciIsImltYWdlX2NvbnRhaW5lciIsImV4dCIsInVucGFpcmVkSXRlbSIsImFkZEZpbGUiLCJwYWlyZWRfY29udGFpbmVyIiwic2VsZWN0ZWRNZWlFbGVtZW50Iiwic2VsZWN0ZWRJbWFnZUVsZW1lbnQiLCJtZWlfZmlsZW5hbWUiLCJpbWFnZV9maWxlbmFtZSIsImlzQ3JlYXRlZCIsImZuIiwiZ2V0SW1nRGltZW5zaW9uIiwiZGltZW5zaW9ucyIsInN0YWZmU3BhY2UiLCJuZXdNZWlGaWxlIiwiY3JlYXRlTWVpRmlsZSIsInBhaXJlZF9lbCIsImZvbGlvIiwiZm9saW9fZmlsZW5hbWUiLCJoYW5kbGVVbnBhaXIiLCJpc0NyZWF0ZWRGb2xpbyIsInJlbW92ZUZvbGlvIiwibWVpSXRlbSIsImltYWdlSXRlbSIsInVucGFpckJ0biIsImNyZWF0ZVBhaXJlZEZvbGlvIiwiYWRkRm9saW8iLCJnZXRGb2xpb3MiLCJpbWFnZSIsImNyZWF0ZU1hbmlmZXN0IiwiYWRkRG9jdW1lbnQiLCJmaWxlRW50cnkiLCJmb2xpb0VudHJ5IiwiY3JlYXRlZF9vbiIsInVwbG9hZEZvbGlvIiwiY2xlYXIiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJmaWxlRWxlbWVudHMiLCJpc0FzY2VuZGluZyIsIm5hbWVBIiwibmFtZUIiLCJVcGxvYWRGaWxlTWFuYWdlciIsImFsbEZpbGVzIiwiZm9saW9zIiwiaW5zdGFuY2UiLCJ1cGRhdGVkRW50cnkiLCJnZXRGaWxlQ291bnQiLCJuZXdFbnRyeSIsInRlbXBsYXRlUGF0aCIsIm1laVRlbXBsYXRlIiwiRE9NUGFyc2VyIiwic2VyaWFsaXplciIsIlhNTFNlcmlhbGl6ZXIiLCJtZWlEb2MiLCJwYXJzZUZyb21TdHJpbmciLCJzdXJmYWNlIiwic3VyZmFjZUlkIiwiem9uZSIsInpvbmVJZCIsIm1hcmdpblJhdGVWIiwibWFyZ2luUmF0ZUgiLCJtYXJnaW5WIiwibWFyZ2luSCIsInBiIiwic2IiLCJtZWlGaWxlQ29udGVudCIsInNlcmlhbGl6ZVRvU3RyaW5nIiwibWVpQmxvYiIsImltZ0ZpbGUiLCJnZXRGaWxlIiwib25sb2FkIiwiaW1nIiwiSW1hZ2UiLCJjYW52YXMiLCJnZXRDb250ZXh0Iiwid2lsbFJlYWRGcmVxdWVudGx5IiwiZHJhd0ltYWdlIiwiaW1hZ2VEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwiYmluYXJ5VmFsdWUiLCJwdXRJbWFnZURhdGEiLCJ3aGl0ZVJ1bkxlbmd0aHMiLCJjdXJyU3BhY2VDb3VudCIsImZpbmRTZWNvbmRNb2RlIiwiY291bnRNYXAiLCJuZXdGb2xpbyJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNB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QUFRLzRFLEtBQUt5NkUsT0FBTzc4RCxLQUFNbTdELEdBQVVBLEVBQU0xM0IsV0FBYUEsR0FDN0QsUUFBTzAzQixHQUFRQSxFQUFNUixVQUdoQixZQUFZbDNCLEdBQ2pCLE1BQU05eUIsRUFBTXZ1QixLQUFLeTZFLE9BQU9wSCxVQUFXMEYsR0FBU0EsRUFBTTEzQixXQUFhQSxHQUMvRHJoRCxLQUFLeTZFLE9BQU8xMUMsT0FBT3hXLEVBQUssR0FTbkIsWUFDTCxPQUFPdnVCLEtBQUt5NkUsT0FBTzNxRSxJQUFLaXBFLElBQ3RCLE1BQU0xM0IsRUFBVzAzQixFQUFNMTNCLFNBQ2pCZzNCLEVBQWVVLEVBQU1WLGFBQ3JCQyxFQUFpQlMsRUFBTVQsZUFDN0IsTUFBTyxDQUFDajNCLEVBQVVyaEQsS0FBS204RSxRQUFROUQsR0FBZXI0RSxLQUFLbThFLFFBQVE3RCxNQWV4RCxRQUNMdDRFLEtBQUt3NkUsU0FBU1AsUUFDZGo2RSxLQUFLeTZFLE9BQU8xMUMsT0FBTyxHQUdkLFFBQ0xwaUMsUUFBUXd0QixJQUFJbndCLEtBQUt3NkUsVUFDakI3M0UsUUFBUXd0QixJQUFJbndCLEtBQUt5NkUsU0FLckIsVUFBZUYsRyx3UENqU0YsRUFBQWhKLGVBQ1QseWNBVVMsRUFBQUYsa0JBQ1QsaTNCQWtCUyxFQUFBSixpQkFDVCxvcEJBY1MsRUFBQUMscUJBQ1Qsc2JBVVMsRUFBQUUsb0JBQ1QsaTNCQWtCUyxFQUFBRCxtQkFDVCw2YkFVUyxFQUFBRyxtQkFDVCxvT0FNUyxFQUFBUCxrQkFDVCIsImZpbGUiOiJkYXNoYm9hcmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gODgpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpIHtcbiAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgcmVzb2x2ZXIpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoKSB7XG4gICAgICBpZiAodHlwZW9mIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuXG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIHJlc29sdmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgaWYgKG5hbWUgIT09ICdlcnJvcicpIHtcbiAgICAgIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGVycm9yTGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBoYW5kbGVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgJ2Vycm9yJywgaGFuZGxlciwgZmxhZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCBsaXN0ZW5lciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgIGVtaXR0ZXIub25jZShuYW1lLCBsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXR0ZXIub24obmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gRXZlbnRUYXJnZXQgZG9lcyBub3QgaGF2ZSBgZXJyb3JgIGV2ZW50IHNlbWFudGljcyBsaWtlIE5vZGVcbiAgICAvLyBFdmVudEVtaXR0ZXJzLCB3ZSBkbyBub3QgbGlzdGVuIGZvciBgZXJyb3JgIGV2ZW50cyBoZXJlLlxuICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jdGlvbiB3cmFwTGlzdGVuZXIoYXJnKSB7XG4gICAgICAvLyBJRSBkb2VzIG5vdCBoYXZlIGJ1aWx0aW4gYHsgb25jZTogdHJ1ZSB9YCBzdXBwb3J0IHNvIHdlXG4gICAgICAvLyBoYXZlIHRvIGRvIGl0IG1hbnVhbGx5LlxuICAgICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHdyYXBMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICBsaXN0ZW5lcihhcmcpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZW1pdHRlcik7XG4gIH1cbn1cbiIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcbnZhciB0eXBlcyA9IFtcbiAgcmVxdWlyZSgnLi9uZXh0VGljaycpLFxuICByZXF1aXJlKCcuL3F1ZXVlTWljcm90YXNrJyksXG4gIHJlcXVpcmUoJy4vbXV0YXRpb24uanMnKSxcbiAgcmVxdWlyZSgnLi9tZXNzYWdlQ2hhbm5lbCcpLFxuICByZXF1aXJlKCcuL3N0YXRlQ2hhbmdlJyksXG4gIHJlcXVpcmUoJy4vdGltZW91dCcpXG5dO1xudmFyIGRyYWluaW5nO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG52YXIgcXVldWUgPSBbXTtcbnZhciBzY2hlZHVsZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGRyYWluaW5nID0gZmFsc2U7XG4gIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZUluZGV4ID0gLTE7XG4gIH1cbiAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgIG5leHRUaWNrKCk7XG4gIH1cbn1cblxuLy9uYW1lZCBuZXh0VGljayBmb3IgbGVzcyBjb25mdXNpbmcgc3RhY2sgdHJhY2VzXG5mdW5jdGlvbiBuZXh0VGljaygpIHtcbiAgaWYgKGRyYWluaW5nKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNjaGVkdWxlZCA9IGZhbHNlO1xuICBkcmFpbmluZyA9IHRydWU7XG4gIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICB3aGlsZSAobGVuKSB7XG4gICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgcXVldWUgPSBbXTtcbiAgICB3aGlsZSAoY3VycmVudFF1ZXVlICYmICsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgIH1cbiAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICB9XG4gIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gIHF1ZXVlSW5kZXggPSAtMTtcbiAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxudmFyIHNjaGVkdWxlRHJhaW47XG52YXIgaSA9IC0xO1xudmFyIGxlbiA9IHR5cGVzLmxlbmd0aDtcbndoaWxlICgrK2kgPCBsZW4pIHtcbiAgaWYgKHR5cGVzW2ldICYmIHR5cGVzW2ldLnRlc3QgJiYgdHlwZXNbaV0udGVzdCgpKSB7XG4gICAgc2NoZWR1bGVEcmFpbiA9IHR5cGVzW2ldLmluc3RhbGwobmV4dFRpY2spO1xuICAgIGJyZWFrO1xuICB9XG59XG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgdGhpcy5mdW4gPSBmdW47XG4gIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZ1biA9IHRoaXMuZnVuO1xuICB2YXIgYXJyYXkgPSB0aGlzLmFycmF5O1xuICBzd2l0Y2ggKGFycmF5Lmxlbmd0aCkge1xuICBjYXNlIDA6XG4gICAgcmV0dXJuIGZ1bigpO1xuICBjYXNlIDE6XG4gICAgcmV0dXJuIGZ1bihhcnJheVswXSk7XG4gIGNhc2UgMjpcbiAgICByZXR1cm4gZnVuKGFycmF5WzBdLCBhcnJheVsxXSk7XG4gIGNhc2UgMzpcbiAgICByZXR1cm4gZnVuKGFycmF5WzBdLCBhcnJheVsxXSwgYXJyYXlbMl0pO1xuICBkZWZhdWx0OlxuICAgIHJldHVybiBmdW4uYXBwbHkobnVsbCwgYXJyYXkpO1xuICB9XG5cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGltbWVkaWF0ZTtcbmZ1bmN0aW9uIGltbWVkaWF0ZSh0YXNrKSB7XG4gIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgfVxuICBxdWV1ZS5wdXNoKG5ldyBJdGVtKHRhc2ssIGFyZ3MpKTtcbiAgaWYgKCFzY2hlZHVsZWQgJiYgIWRyYWluaW5nKSB7XG4gICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICBzY2hlZHVsZURyYWluKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEdyb3VwaW5nVHlwZSwgU2VsZWN0aW9uVHlwZSwgVXNlclR5cGUsIEluc2VydFR5cGUsIEluc2VydFRhYlR5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5cbi8qKlxuICogVGhlIG9uZSBpbnN0YW5jZSBvZiBMb2NhbFNldHRpbmdzIHRoYXQgd2lsbCBiZSBjcmVhdGVkIGFuZFxuICogdXNlZCBieSB0aGUgZWRpdG9yLlxuICogXG4gKiBVc2UgdGhlIGZ1bmN0aW9ucyBgZ2V0U2V0dGluZ3MoKWAgYW5kIGBzZXRTZXR0aW5ncygpYFxuICogdG8gYWNjZXNzIHRoaXMgaW5zdGFuY2UuXG4gKi9cbmxldCBsb2NhbFNldHRpbmdzOiBMb2NhbFNldHRpbmdzID0gbnVsbDtcblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHRoZSBzZXR0aW5ncyBmb3IgZWFjaCBmb2xpb1xuICogc3RvcmVkIGluIGxvY2FsU3RvcmFnZS5cbiAqXG4gKiBFdmVyeSBrZXkgaXMgb3B0aW9uYWwgc28gdGhhdCB0aGlzIHNhbWUgdHlwaW5nXG4gKiBjYW4gYmUgdXNlZCBmb3IgYHNldFNldHRpbmdzKClgIC8gYExvY2FsU2V0dGluZ3Muc2V0KClgLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNldHRpbmdzIHtcbiAgem9vbTogbnVtYmVyO1xuICBnbHlwaE9wYWNpdHk6IG51bWJlcjtcbiAgaW1hZ2VPcGFjaXR5OiBudW1iZXI7XG4gIGNpcmNsZVNpemU6IG51bWJlcjtcbiAgaGlnaGxpZ2h0TW9kZTogR3JvdXBpbmdUeXBlO1xuICB1c2VyTW9kZTogVXNlclR5cGU7XG4gIGluc2VydE1vZGU6IEluc2VydFR5cGU7XG4gIGluc2VydFRhYjogSW5zZXJ0VGFiVHlwZTtcbiAgc2VsZWN0aW9uTW9kZTogU2VsZWN0aW9uVHlwZTtcbiAgZGVidWdNb2RlOiBib29sZWFuO1xuICBkaXNwbGF5QkJveDogYm9vbGVhbjtcbiAgZGlzcGxheVRleHQ6IGJvb2xlYW47XG4gIGRpc3BsYXlJbmZvOiBib29sZWFuO1xuICBkaXNwbGF5RXJyTG9nOiBib29sZWFuO1xuICB2aWV3Qm94OiBzdHJpbmc7XG59XG5cbi8qKlxuICogRGVmYXVsdCBzZXR0aW5ncywgd2hpY2ggc2hvdWxkIGJlIHNldCBmb3IgYSBmb2xpbyB3aXRoIG5vXG4gKiBsb2NhbFN0b3JhZ2UgdmFsdWUuXG4gKlxuICogVGhpcyBzaG91bGQgYmUgdXBkYXRlZCBhbG9uZ3NpZGUgdGhlIGludGVyZmFjZSBgU2V0dGluZ3NgXG4gKiBhbnkgdGltZSB3ZSB3YW50IHRvIGFkZCBhIG5ldyBzZXR0aW5nIHRvIHN0b3JlIGluIGxvY2FsU3RvcmFnZS5cbiAqL1xuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogU2V0dGluZ3MgPSB7XG4gIHpvb206IDEwMCxcbiAgZ2x5cGhPcGFjaXR5OiAxMDAsXG4gIGltYWdlT3BhY2l0eTogMTAwLFxuICBjaXJjbGVTaXplOiAyNSxcbiAgaGlnaGxpZ2h0TW9kZTogJ25vbmUnLFxuICB1c2VyTW9kZTogJ2VkaXQnLFxuICBpbnNlcnRNb2RlOiAncHVuY3R1bScsXG4gIGluc2VydFRhYjogJ3ByaW1pdGl2ZVRhYicsXG4gIHNlbGVjdGlvbk1vZGU6ICdzZWxCeVN5bGxhYmxlJyxcbiAgZGVidWdNb2RlOiBmYWxzZSxcbiAgZGlzcGxheUJCb3g6IGZhbHNlLFxuICBkaXNwbGF5VGV4dDogZmFsc2UsXG4gIGRpc3BsYXlJbmZvOiBmYWxzZSxcbiAgZGlzcGxheUVyckxvZzogZmFsc2UsXG4gIHZpZXdCb3g6IG51bGxcbn07XG5cbmNsYXNzIExvY2FsU2V0dGluZ3Mge1xuICBpZDogc3RyaW5nO1xuICBzZXR0aW5nczogU2V0dGluZ3M7XG5cbiAgY29uc3RydWN0b3IgKGZvbGlvSWQ6IHN0cmluZykge1xuICAgIGxvY2FsU2V0dGluZ3MgPSB0aGlzO1xuICAgIHRoaXMuaWQgPSBmb2xpb0lkO1xuICAgIHRoaXMubG9hZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgc2V0dGluZ3MgZnJvbSBsb2NhbFN0b3JhZ2UsIGFuZCBzeW5jIGxvYWRlZCBzZXR0aW5ncyB3aXRoXG4gICAqIG5ldyBmaWVsZHMgdGhhdCBtYXkgbm90IGJlIGluIGxvY2FsU3RvcmFnZS5cbiAgICovXG4gIGxvYWQgKCk6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdG9yZWQ6IFBhcnRpYWw8U2V0dGluZ3M+ID0gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5pZCkpO1xuICAgICAgdGhpcy5zeW5jKHN0b3JlZCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIElmIGxvY2FsU3RvcmFnZSB2YWx1ZSBpcyBub3QgYSBKU09OIG9iamVjdCAoZm9yIGluc3RhbmNlLCBhbiBlbXB0eSBzdHJpbmcpLFxuICAgICAgLy8gYSBTeW50YXhFcnJvciB3aWxsIGJlIHRocm93bi4gV2UgbXVzdCBoYW5kbGUgaXQgYnkgY2FsbGluZyBzeW5jKClcbiAgICAgIC8vIHdpdGggYW4gZW1wdHkgSlNPTiBvYmplY3QuXG4gICAgICB0aGlzLnN5bmMoe30pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbmV3IGZpZWxkcyBpbiBsb2NhbFN0b3JhZ2UsIGFzIGEgXCJ1bmlvblwiIG9mIG9sZCBhbmQgbmV3IHNldHRpbmdzLlxuICAgKi9cbiAgc2V0IChwYXJhbXM6IFBhcnRpYWw8U2V0dGluZ3M+KTogdm9pZCB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHsgLi4udGhpcy5zZXR0aW5ncywgLi4ucGFyYW1zIH07XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuaWQsIEpTT04uc3RyaW5naWZ5KHRoaXMuc2V0dGluZ3MpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTeW5jIHNldHRpbmdzIHRoYXQgbWF5IG5vdCBiZSBpbmNsdWRlZCBpbiB1c2VyJ3MgbG9jYWxTdG9yYWdlLFxuICAgKiBzdWNoIGFzIGZpZWxkcyB0aGF0IGhhdmUgYmVlbiBhZGRlZCB0byBsb2NhbFN0b3JhZ2UgaW4gYSBuZXdcbiAgICogdXBkYXRlIG9mIE5lb24uXG4gICAqL1xuICBzeW5jIChzdG9yZWQ6IFBhcnRpYWw8U2V0dGluZ3M+KTogdm9pZCB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHsgLi4uREVGQVVMVF9TRVRUSU5HUywgLi4uc3RvcmVkIH07XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuaWQsIEpTT04uc3RyaW5naWZ5KHRoaXMuc2V0dGluZ3MpKTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBsb2NhbFN0b3JhZ2Ugc2V0dGluZ3MgZm9yIHRoZSBmb2xpby5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNldHRpbmdzICgpOiBTZXR0aW5ncyB7XG4gIHJldHVybiBsb2NhbFNldHRpbmdzLnNldHRpbmdzO1xufVxuXG4vKipcbiAqIFNldCBzcGVjaWZpYyBsb2NhbFN0b3JhZ2Ugc2V0dGluZ3MgZm9yIHRoZSBmb2xpby5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFNldHRpbmdzIChwYXJhbXM6IFBhcnRpYWw8U2V0dGluZ3M+KTogdm9pZCB7XG4gIGxvY2FsU2V0dGluZ3Muc2V0KHBhcmFtcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvY2FsU2V0dGluZ3M7XG4iLCJpbXBvcnQgKiBhcyBDb2xvciBmcm9tICcuL0NvbG9yJztcbmltcG9ydCB7XG4gIHVwZGF0ZUhpZ2hsaWdodCxcbiAgZ2V0SGlnaGxpZ2h0VHlwZSxcbn0gZnJvbSAnLi4vRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyc7XG5pbXBvcnQgKiBhcyBHcm91cGluZyBmcm9tICcuLi9TcXVhcmVFZGl0L0dyb3VwaW5nJztcbmltcG9ydCB7IHJlc2l6ZSB9IGZyb20gJy4vUmVzaXplJztcbmltcG9ydCB7IEF0dHJpYnV0ZXMsIFNlbGVjdGlvblR5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vRHJhZ0hhbmRsZXInO1xuaW1wb3J0ICogYXMgU2VsZWN0T3B0aW9ucyBmcm9tICcuLi9TcXVhcmVFZGl0L1NlbGVjdE9wdGlvbnMnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBzZWxlY3Rpb24gbW9kZSBjaG9zZW4gYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Rpb25UeXBlKCk6IFNlbGVjdGlvblR5cGUge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsLWJ5IGlzLWFjdGl2ZScpO1xuICBpZiAoZWxlbWVudC5sZW5ndGggIT09IDApIHtcbiAgICByZXR1cm4gZWxlbWVudFswXS5pZCBhcyBTZWxlY3Rpb25UeXBlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogVW5zZWxlY3QgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGFuZCBydW4gdW5kbyBhbnkgZXh0cmFcbiAqIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNlbGVjdCgpOiB2b2lkIHtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvckFsbCgnLm5vLW1vdmluZycpXG4gICAgLmZvckVhY2goKHNlbGVjdGVkOiBTVkdHRWxlbWVudCkgPT4gc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnbm8tbW92aW5nJykpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKS5mb3JFYWNoKChzZWxlY3RlZDogU1ZHR0VsZW1lbnQpID0+IHtcbiAgICBzZWxlY3RlZC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgIGlmIChzZWxlY3RlZC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHtcbiAgICAgIHNlbGVjdGVkLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIENvbG9yLnVuaGlnaGxpZ2h0KHNlbGVjdGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0ZWQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgc2VsZWN0ZWQuc3R5bGUuZmlsbCA9ICcnO1xuICAgIH1cblxuICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKSkuZm9yRWFjaChcbiAgICAgIChkaXZMaW5lOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBkaXZMaW5lLnN0eWxlLnN0cm9rZSA9ICcnO1xuICAgICAgICBkaXZMaW5lLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMwcHgnKTtcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykpLmZvckVhY2goXG4gICAgICAobmV1bWU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIG5ldW1lLnN0eWxlLmZpbGwgPSAnJztcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKSkuZm9yRWFjaChcbiAgICAgIChzeWxSZWN0OiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBzeWxSZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICBpZiAoc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJykpIHtcbiAgICAgIHNlbGVjdGVkLnBhcmVudEVsZW1lbnQuc3R5bGUuZmlsbCA9ICcnO1xuICAgICAgc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzeWxsYWJsZScpO1xuICAgICAgc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzeWxsYWJsZS1oaWdobGlnaHRlZCcpO1xuXG4gICAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKSkuZm9yRWFjaChcbiAgICAgICAgKGRpdkxpbmU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgZGl2TGluZS5zdHlsZS5zdHJva2UgPSAnJztcbiAgICAgICAgICBkaXZMaW5lLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMwcHgnKTtcbiAgICAgICAgfSxcbiAgICAgICk7XG5cbiAgICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUnKSkuZm9yRWFjaChcbiAgICAgICAgKG5ldW1lOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICAgIG5ldW1lLnN0eWxlLmZpbGwgPSAnJztcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZDMuc2VsZWN0QWxsKCcjcmVzaXplUmVjdCcpLnJlbW92ZSgpO1xuICAgIGQzLnNlbGVjdEFsbCgnLnJlc2l6ZVBvaW50JykucmVtb3ZlKCk7XG4gICAgZDMuc2VsZWN0QWxsKCcucm90YXRlUG9pbnQnKS5yZW1vdmUoKTtcbiAgfSk7XG5cbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGV4dC1zZWxlY3QnKSkuZm9yRWFjaChcbiAgICAoZWw6IFNWR0VsZW1lbnQpID0+IHtcbiAgICAgIGVsLnN0eWxlLmNvbG9yID0gJyc7XG4gICAgICBlbC5zdHlsZS5mb250V2VpZ2h0ID0gJyc7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LXNlbGVjdCcpO1xuICAgIH0sXG4gICk7XG5cbiAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICBHcm91cGluZy5lbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICB9IGVsc2Uge1xuICAgIFNlbGVjdE9wdGlvbnMuZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIHVwZGF0ZUhpZ2hsaWdodCgpO1xufVxuXG4vKipcbiAqIFNlbGVjdCBhIHN0YWZmIGVsZW1lbnQuXG4gKiBAcGFyYW0gc3RhZmYgLSBUaGUgc3RhZmYgZWxlbWVudCBpbiB0aGUgRE9NLlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gVGhlIGRyYWcgaGFuZGxlciBpbiB1c2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RTdGFmZihcbiAgc3RhZmY6IFNWR0dFbGVtZW50LFxuICBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsXG4pOiB2b2lkIHtcbiAgaWYgKCFzdGFmZi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBzdGFmZi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIENvbG9yLnVuaGlnaGxpZ2h0KHN0YWZmKTtcbiAgICBDb2xvci5oaWdobGlnaHQoc3RhZmYsICcjZDAwJyk7XG4gICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU2luZ2xlU3RhZmZBY3Rpb25zKCk7XG4gICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIFNlbGVjdCBhIGxheWVyIGVsZW1lbnQuXG4gKiBAcGFyYW0gbGF5ZXJFbGVtZW50IC0gVGhlIGxheWVyIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIFRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0TGF5ZXJFbGVtZW50KFxuICBsYXllckVsZW1lbnQ6IFNWR0dFbGVtZW50LFxuICBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsXG4pOiB2b2lkIHtcbiAgaWYgKCFsYXllckVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgbGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgQ29sb3IudW5oaWdobGlnaHQobGF5ZXJFbGVtZW50KTtcbiAgICBDb2xvci5oaWdobGlnaHQobGF5ZXJFbGVtZW50LCAnI2QwMCcpO1xuICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmljIHNlbGVjdCBmdW5jdGlvbi5cbiAqIEBwYXJhbSBlbCAtIEVsZW1lbnQgdG8gc2VsZWN0LlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gT25seSB1c2VkIGZvciBzdGF2ZXMuXG4gKiBAcGFyYW0gbmVlZHNIaWdobGlnaHRVcGRhdGUgLSBXaGV0aGVyIGFsbCB0aGUgZ3JvdXAncyBoaWdobGlnaHRzIHNob3VsZCBiZSB1cGRhdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3QoXG4gIGVsOiBTVkdHcmFwaGljc0VsZW1lbnQsXG4gIGRyYWdIYW5kbGVyPzogRHJhZ0hhbmRsZXIsXG4gIG5lZWRzSGlnaGxpZ2h0VXBkYXRlID0gdHJ1ZSxcbik6IHZvaWQge1xuICAvLyBJZiBlbGVtZW50IGRvZXMgbm90IGV4aXN0LCBleGl0XG4gIGlmICghZWwpIHJldHVybjtcblxuICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgcmV0dXJuIHNlbGVjdFN0YWZmKGVsLCBkcmFnSGFuZGxlcik7XG4gIH1cbiAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnbGF5ZXInKSkge1xuICAgIHJldHVybiBzZWxlY3RMYXllckVsZW1lbnQoZWwsIGRyYWdIYW5kbGVyKTtcbiAgfVxuXG4gIGlmIChcbiAgICAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpICYmXG4gICAgIWVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsVGV4dFJlY3QnKSAmJlxuICAgICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bFRleHRSZWN0LWRpc3BsYXknKVxuICApIHtcbiAgICBlbC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIC8vIHNldCBmaWxsIHRvIHJlZFxuICAgIC8vIHNldCBzdHJva2UgdG8gcmVkIG9ubHkgaWYgc2VsZWN0ZWQgZWxlbSBpcyBhIGRpdkxpbmVcbiAgICBlbC5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgIGVsLnN0eWxlLnN0cm9rZSA9IGVsLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpID8gJyNkMDAnIDogJ2JsYWNrJztcblxuICAgIGlmIChlbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLmxlbmd0aCkge1xuICAgICAgZWwucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKFxuICAgICAgICAoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICBlbGVtLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChlbC5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpLmxlbmd0aCkge1xuICAgICAgZWwucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLnN0cm9rZSA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW0uc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNldCBjb2xvciBvZiB0aGUgY29ycmVzcG9uZGluZyB0ZXh0IGluIHRoZSB0ZXh0IHBhbmVsIHRvIHJlZFxuICAgIGxldCBzeWxJZDtcbiAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSB7XG4gICAgICBzeWxJZCA9IGVsLmlkO1xuICAgIH0gZWxzZSBpZiAoZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykgIT09IG51bGwpIHtcbiAgICAgIHN5bElkID0gZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykuaWQ7XG4gICAgfVxuICAgIGlmIChzeWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzcGFucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uJyArIHN5bElkKTtcbiAgICAgIHNwYW5zLmZvckVhY2goKHNwYW46IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIHNwYW4uc3R5bGUuY29sb3IgPSAnI2QwMCc7XG4gICAgICAgIHNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNlbGVjdCcpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmIChuZWVkc0hpZ2hsaWdodFVwZGF0ZSkge1xuICAgIHVwZGF0ZUhpZ2hsaWdodCgpO1xuICB9XG59XG5cbi8qKlxuICogU2VsZWN0IGFuIG5jLlxuICogQHBhcmFtIGVsIC0gVGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdE5jcyhcbiAgZWw6IFNWR0dyYXBoaWNzRWxlbWVudCxcbiAgbmVvblZpZXc6IE5lb25WaWV3LFxuICBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCFlbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsLnBhcmVudEVsZW1lbnQgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgdW5zZWxlY3QoKTtcbiAgICBzZWxlY3QocGFyZW50KTtcbiAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShwYXJlbnQsIG5lb25WaWV3KSkge1xuICAgICAgY29uc3QgcHJldk5jID0gcGFyZW50LnByZXZpb3VzU2libGluZyBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgIGlmIChhd2FpdCBpc0xpZ2F0dXJlKHByZXZOYywgbmVvblZpZXcpKSB7XG4gICAgICAgIHNlbGVjdChwcmV2TmMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbmV4dE5jID0gcGFyZW50Lm5leHRTaWJsaW5nIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShuZXh0TmMsIG5lb25WaWV3KSkge1xuICAgICAgICAgIHNlbGVjdChuZXh0TmMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3I6IE5laXRoZXIgcHJldiBvciBuZXh0IG5jIGFyZSBsaWdhdHVyZXMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgR3JvdXBpbmcudHJpZ2dlckdyb3VwaW5nKCdsaWdhdHVyZScpO1xuICAgIH0gZWxzZSBpZiAocGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnbmMnKSkge1xuICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTmNBY3Rpb25zKHBhcmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignTm8gYWN0aW9uIHRyaWdnZXJlZCEnKTtcbiAgICB9XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBuYyAtIFRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcGFyYW0gbmVvblZpZXcgLSBUaGUgW1tOZW9uVmlld11dIGZvciB0aGlzIGluc3RhbmNlLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgbmV1bWUgY29tcG9uZW50IGlzIHBhcnQgb2YgYSBsaWdhdHVyZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzTGlnYXR1cmUoXG4gIG5jOiBTVkdHcmFwaGljc0VsZW1lbnQsXG4gIG5lb25WaWV3OiBOZW9uVmlldyxcbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICBjb25zdCBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzID0gYXdhaXQgbmVvblZpZXcuZ2V0RWxlbWVudEF0dHIoXG4gICAgbmMuaWQsXG4gICAgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpLFxuICApO1xuICByZXR1cm4gQm9vbGVhbihhdHRyaWJ1dGVzLmxpZ2F0ZWQpO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGxpc3Qgb2YgZWxlbWVudHMgb2YgYSBjZXJ0YWluIHR5cGUgYXJlIGxvZ2ljYWxseSBhZGphY2VudCB0byBlYWNoIG90aGVyLlxuICogSW5jbHVkZXMgZWxlbWVudHMgdGhhdCBhcmUgb24gc2VwYXJhdGUgc3RhdmVzIGJ1dCB3b3VsZCBvdGhlcndpc2UgYmUgbmV4dCB0byBlYWNoIG90aGVyLlxuICogQ2FuIG5vdCBhcHBseSB0byBlbGVtZW50cyBvZiB0eXBlIG5ldW1lIGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gc2VsZWN0aW9uVHlwZSB1c2VyIHNlbGVjdGlvbiBtb2RlXG4gKiBAcGFyYW0gZWxlbWVudHMgdGhlIGVsZW1lbnRzIG9mIGludGVyZXN0XG4gKiBAcmV0dXJucyB0cnVlIGlmIGVsZW1lbnRzIGFyZSBhZGphY2VudCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcmVBZGphY2VudChcbiAgc2VsZWN0aW9uVHlwZTogc3RyaW5nLFxuICBlbGVtZW50czogU1ZHR3JhcGhpY3NFbGVtZW50W10sXG4pOiBib29sZWFuIHtcbiAgLy8gMiBlbGVtZW50cyBjYW5ub3QgYmUgYWRqYWNlbnQgaWYgdGhlcmUgaXMgb25seSAxIGVsZW1lbnRcbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiBmYWxzZTtcblxuICAvLyBnZXQgYWxsIGVsZW1lbnRzIHRoYXQgYXJlIG9mIHRoZSBzYW1lIHR5cGUgYXMgc2VsZWN0aW9uVHlwZVxuICBsZXQgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGU6IEhUTUxFbGVtZW50W107XG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsbGFibGUnKSxcbiAgICAgICk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgLy8gV2UgYXV0b21hdGljYWxseSByZXR1cm4gJ3RydWUnIGZvciBuZXVtZXMgYmVjYXVzZSB3ZSB3YW50IHRoZSB1c2VyIHRvIGJlXG4gICAgICAvLyBhbGxvd2VkIHRvIGdyb3VwIHR3byBuZXVtZXMgaW4gc2VwYXJhdGUgc3lsbGFiZXMgd2l0aG91dCBoYXZpbmcgdG8gcGFyZm9ybSBvdGhlclxuICAgICAgLy8gc3RlcHMgZmlyc3QuIFllcywgdGhlcmUgaXMgYSB0cmFkZS1vZmYgLSB0aGlzIGFsbG93cyB1c2VycyB0byB0cnkgYW5kIGdyb3VwIGFueVxuICAgICAgLy8gdHdvIG5vbi1hZGphY2VudCBuZXVtZXMsIGJ1dCBpdCB3YXMgZGVjaWRlZCB0aGF0IHRoZSBiZW5lZml0cyAoc3BlZWQgYW5kIGVmZmljaWVuY3kpXG4gICAgICAvLyBvdXR3ZWlnaCB0aGUgY29zdHMgKHVzZXIgdHJ5aW5nIGFuIGlsbGVnYWwgZWRpdCkuXG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYycpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICBhbGxFbGVtc09mU2VsZWN0aW9uVHlwZSA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0YWZmJykpO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gU29ydCBTRUxFQ1RFRCBlbGVtZW50cyBpbiBvcmRlciBvZiBhcHBlYXJhbmNlIGJ5XG4gIC8vIG1hdGNoaW5nIHRvIG9yZGVyIG9mIEFMTCBlbGVtZW50cyBvZiBzZWxlY3Rpb24gdHlwZVxuICBjb25zdCBzb3J0ZWRFbGVtZW50cyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBlbGVtZW50cy5sZW5ndGg7IGorKykge1xuICAgICAgaWYgKGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlW2ldLmlzU2FtZU5vZGUoZWxlbWVudHNbal0pKSB7XG4gICAgICAgIHNvcnRlZEVsZW1lbnRzLnB1c2goZWxlbWVudHNbal0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIE5vdyBjaGVjayBpZiBTRUxFQ1RFRCBlbGVtZW50cyBhcmUgYWxsIGFkamFjZW50IChpbiBhIHJvdykgYnlcbiAgLy8gZmluZGluZyBhbmQgY29tcGFyaW5nIHRoZWlyIGluZGVjZXMgaW4gdGhlIGFycmF5IG9mIEFMTCBlbGVtZW50cyBvZiBzZWxlY3Rpb24gdHlwZVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNvcnRlZEVsZW1lbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIGNvbnN0IGZpcnN0RWxlbSA9IHNvcnRlZEVsZW1lbnRzW2ldO1xuICAgIGNvbnN0IHNlY29uZEVsZW0gPSBzb3J0ZWRFbGVtZW50c1tpICsgMV07XG5cbiAgICBjb25zdCBpbmRleDEgPSBhbGxFbGVtc09mU2VsZWN0aW9uVHlwZS5pbmRleE9mKGZpcnN0RWxlbSk7XG4gICAgY29uc3QgaW5kZXgyID0gYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUuaW5kZXhPZihzZWNvbmRFbGVtKTtcblxuICAgIGlmIChNYXRoLmFicyhpbmRleDEgLSBpbmRleDIpICE9PSAxKSByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDaGVjayB0byBzZWUgaWYgdGhlIGFycmF5IG9mIGVsZW1lbnRzIGFsbCBzaGFyZSB0aGUgc2FtZSBsb2dpY2FsIHBhcmVudC5cbiAqIEZvciBleGFtcGxlOiBJZiBhbGwgbmV1bWVzIGFyZSBpbiB0aGUgc2FtZSBzeWxsYWJsZS5cbiAqXG4gKiBOb3RlISEgVGhlcmUgaXMgY3VycmVudGx5IG5vIGxvZ2ljIGZvciB0cmVhdGluZyBsYXllciBlbGVtZW50cyBhbmQgYmJveGVzIVxuICogTm90ZSEhIEZ1bmN0aW9uIHdpbGwgYWx3YXlzIHJldHVybiB0cnVlIGZvciBzdGF2ZSBlbGVtZW50cy4gKFNob3VsZCBpdD8/PylcbiAqXG4gKiBAcGFyYW0gc2VsZWN0aW9uVHlwZSB0aGUgY3VycmVudCBOZW9uIHNlbGVjdGlvbiBtb2RlXG4gKiBAcGFyYW0gZWxlbWVudHMgdGhlIGVsZW1lbnRzIGluIHF1ZXN0aW9uXG4gKiBAcmV0dXJucyB0cnVlIGlmIGFsbCBlbGVtZW50cyBzaGFyZSB0aGUgc2FtZSBsb2dpY2FsIHBhcmVudCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hhcmVkTG9naWNhbFBhcmVudChcbiAgc2VsZWN0aW9uVHlwZTogc3RyaW5nLFxuICBlbGVtZW50czogU1ZHR3JhcGhpY3NFbGVtZW50W10sXG4pOiBib29sZWFuIHtcbiAgZWxlbWVudHMgPSBlbGVtZW50cy5maWx0ZXIoXG4gICAgKGVsZW0pID0+XG4gICAgICAhKFxuICAgICAgICBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpIHx8XG4gICAgICAgIGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NpZCcpIHx8XG4gICAgICAgIGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJylcbiAgICAgICksXG4gICk7XG5cbiAgaWYgKCFlbGVtZW50c0hhdmVDb3JyZWN0VHlwZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHJldHVybiBmYWxzZTtcblxuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgIGNvbnN0IHJlZmVyZW5jZVBhcmVudFN0YWZmID0gZWxlbWVudHNbMF0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW0gPSBlbGVtZW50c1tpXTtcbiAgICAgICAgaWYgKCFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmlzU2FtZU5vZGUocmVmZXJlbmNlUGFyZW50U3RhZmYpKVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBjb25zdCByZWZlcmVuY2VQYXJlbnRTeWxsYWJsZSA9IGVsZW1lbnRzWzBdLmNsb3Nlc3QoJy5zeWxsYWJsZScpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlbGVtID0gZWxlbWVudHNbaV07XG4gICAgICAgIGlmICghZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKS5pc1NhbWVOb2RlKHJlZmVyZW5jZVBhcmVudFN5bGxhYmxlKSlcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGhhdmUgdGhlIHNhbWUgdHlwZSBhcyBjdXJyZW50IHNlbGVjdGlvbiBtb2RlLlxuICogRm9yIGV4YW1wbGUsIGNoZWNrIGlmIGFsbCBzZWxlY3RlZCBlbGVtZW50cyBhcmUgb2YgdHlwZSBuZXVtZSwgb3Igc3lsbGFibGUsIGV0Yy5cbiAqXG4gKiBOb3RlISEgVGhlcmUgaXMgbm8gbG9naWMgY3VycmVudGx5IGltcGxlbWVudGVkIGZvciBsYXllciBlbGVtZW50cyBvciBiYm94ZXMuXG4gKlxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgdGhhdCBhcmUgYmVpbmcgY2hlY2tlZFxuICogQHJldHVybnMgdHJ1ZSBpZiBhbGwgZWxlbWVudHMgbWF0Y2ggc2VsZWN0aW9uIG1vZGUsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRzSGF2ZUNvcnJlY3RUeXBlKFxuICBzZWxlY3Rpb25UeXBlOiBzdHJpbmcsXG4gIGVsZW1lbnRzOiBTVkdHcmFwaGljc0VsZW1lbnRbXSxcbik6IGJvb2xlYW4ge1xuICBpZiAoZWxlbWVudHMubGVuZ3RoIDwgMikgcmV0dXJuIGZhbHNlO1xuXG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBpZiAoIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJykpIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gZWxlbWVudHMgLSBUaGUgZWxlbWVudHMgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGVsZW1lbnRzIGhhdmUgdGhlIHNhbWUgcGFyZW50IHVwIHR3byBsZXZlbHMsIG90aGVyd2lzZSBmYWxzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNoYXJlZFNlY29uZExldmVsUGFyZW50KFxuICBlbGVtZW50czogU1ZHR3JhcGhpY3NFbGVtZW50W10sXG4pOiBib29sZWFuIHtcbiAgY29uc3QgdGVtcEVsZW1lbnRzID0gQXJyYXkuZnJvbShlbGVtZW50cyk7XG4gIGNvbnN0IGZpcnN0RWxlbWVudCA9IHRlbXBFbGVtZW50cy5wb3AoKTtcbiAgY29uc3Qgc2Vjb25kUGFyZW50ID0gZmlyc3RFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRlbXBFbGVtZW50cykge1xuICAgIGNvbnN0IHNlY1BhciA9IGVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIGlmIChzZWNQYXIuaWQgIT09IHNlY29uZFBhcmVudC5pZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB1c2VyIHNlbGVjdGVkIGVsZW1lbnRzIGFjY3Jvc3MgbXVsdGlwbGUgc3RhdmVzXG4gKiBAcGFyYW0gZWxlbWVudHMgdGhlIHVzZXItc2VsZWN0ZWQgZWxlbWVudHNcbiAqIEByZXR1cm5zIHRydWUgaWYgc2VsZWN0aW9uIGlzIGFjY3Jvc3MgbXVsdGlwbGUgc3RhdmVzLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTXVsdGlTdGF2ZVNlbGVjdGlvbihlbGVtZW50czogU1ZHRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGNvbnN0IGVsZW1lbnRzQXJyYXkgPSBBcnJheS5mcm9tKGVsZW1lbnRzKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFmZiA9IGVsZW1lbnRzQXJyYXlbaV0uY2xvc2VzdCgnLnN0YWZmJyk7XG5cbiAgICBmb3IgKGxldCBqID0gaTsgaiA8IGVsZW1lbnRzQXJyYXkubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IGFub3RoZXJTdGFmZiA9IGVsZW1lbnRzQXJyYXlbal0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICAvLyBjb21wYXJlIHdpdGggb3RoZXIgc3RhdmVzXG4gICAgICBpZiAoIXN0YWZmLmlzU2FtZU5vZGUoYW5vdGhlclN0YWZmKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJvdW5kaW5nIGJveCBvYmplY3QgaW50ZXJmYWNlIGZvciBnZXRTdGFmZkJCb3goKVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YWZmQkJveCB7XG4gIGlkOiBzdHJpbmc7XG4gIHVseDogbnVtYmVyO1xuICB1bHk6IG51bWJlcjtcbiAgbHJ4OiBudW1iZXI7XG4gIGxyeTogbnVtYmVyO1xuICByb3RhdGU6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGJvdW5kaW5nIGJveCBvZiBhIHN0YWZmIGJhc2VkIG9uIGl0cyBzdGFmZiBsaW5lcy5cbiAqIFJvdGF0ZSBpcyBpbmNsdWRlZCBpbiByYWRpYW5zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhZmZCQm94KHN0YWZmOiBTVkdHRWxlbWVudCk6IFN0YWZmQkJveCB7XG4gIGxldCB1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZTtcbiAgc3RhZmYucXVlcnlTZWxlY3RvckFsbCgncGF0aCcpLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICBjb25zdCBjb29yZGluYXRlczogbnVtYmVyW10gPSBwYXRoXG4gICAgICAuZ2V0QXR0cmlidXRlKCdkJylcbiAgICAgIC5tYXRjaCgvXFxkKy9nKVxuICAgICAgLm1hcCgoZWxlbWVudCkgPT4gTnVtYmVyKGVsZW1lbnQpKTtcbiAgICBpZiAocm90YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJvdGF0ZSA9IE1hdGguYXRhbihcbiAgICAgICAgKGNvb3JkaW5hdGVzWzNdIC0gY29vcmRpbmF0ZXNbMV0pIC8gKGNvb3JkaW5hdGVzWzJdIC0gY29vcmRpbmF0ZXNbMF0pLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodWx5ID09PSB1bmRlZmluZWQgfHwgTWF0aC5taW4oY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKSA8IHVseSkge1xuICAgICAgdWx5ID0gTWF0aC5taW4oY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKTtcbiAgICB9XG4gICAgaWYgKHVseCA9PT0gdW5kZWZpbmVkIHx8IGNvb3JkaW5hdGVzWzBdIDwgdWx4KSB7XG4gICAgICB1bHggPSBjb29yZGluYXRlc1swXTtcbiAgICB9XG4gICAgaWYgKGxyeSA9PT0gdW5kZWZpbmVkIHx8IE1hdGgubWF4KGNvb3JkaW5hdGVzWzFdLCBjb29yZGluYXRlc1szXSkgPiBscnkpIHtcbiAgICAgIGxyeSA9IE1hdGgubWF4KGNvb3JkaW5hdGVzWzFdLCBjb29yZGluYXRlc1szXSk7XG4gICAgfVxuICAgIGlmIChscnggPT09IHVuZGVmaW5lZCB8fCBjb29yZGluYXRlc1syXSA+IGxyeCkge1xuICAgICAgbHJ4ID0gY29vcmRpbmF0ZXNbMl07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4geyBpZDogc3RhZmYuaWQsIHVseCwgdWx5LCBscngsIGxyeSwgcm90YXRlIH07XG59XG5cbi8qKlxuICogc2VsZWN0IGEgYm91bmRpbmdib3ggZWxlbWVudFxuICogQHBhcmFtIGVsIC0gdGhlIGJib3ggKHN5bFRleHRSZWN0KSBlbGVtZW50IGluIHRoZSBET01cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIHRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RCQm94KFxuICBlbDogU1ZHR3JhcGhpY3NFbGVtZW50LFxuICBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsXG4gIG5lb25WaWV3OiBOZW9uVmlldyxcbik6IHZvaWQge1xuICBjb25zdCBiYm94ID0gZWw7XG4gIGNvbnN0IHN5bCA9IGJib3guY2xvc2VzdCgnLnN5bCcpO1xuICBpZiAoIXN5bC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBzeWwuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBiYm94LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgY29uc3QgY2xvc2VzdCA9IGVsLmNsb3Nlc3QoJy5zeWxsYWJsZScpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNsb3Nlc3Quc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICBjbG9zZXN0LmNsYXNzTGlzdC5hZGQoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJyk7XG4gICAgaWYgKGNsb3Nlc3QucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5sZW5ndGgpIHtcbiAgICAgIGNsb3Nlc3QucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbS5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgICAgfSk7XG4gICAgICBjbG9zZXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbS5zdHlsZS5zdHJva2UgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobmVvblZpZXcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVzaXplKHN5bCBhcyBTVkdHcmFwaGljc0VsZW1lbnQsIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgfVxuICAgIGlmIChkcmFnSGFuZGxlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgIH1cbiAgICBjb25zdCBzeWxJZCA9IGVsLmNsb3Nlc3QoJy5zeWxsYWJsZScpLmlkO1xuICAgIGlmIChzeWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzcGFuOiBIVE1MU3BhbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuLicgKyBzeWxJZCk7XG4gICAgICBpZiAoc3Bhbikge1xuICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gJyNkMDAnO1xuICAgICAgICBzcGFuLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG4gICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgndGV4dC1zZWxlY3QnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyQkJveEFjdGlvbnMoKTtcbn1cblxuLyoqXG4gKiBTZWxlY3Qgbm90IG5ldW1lIGVsZW1lbnRzLlxuICogQHBhcmFtIG5vdE5ldW1lcyAtIEFuIGFycmF5IG9mIG5vdCBuZXVtZXMgZWxlbWVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RObihub3ROZXVtZXM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGlmIChub3ROZXVtZXMubGVuZ3RoID4gMCkge1xuICAgIG5vdE5ldW1lcy5mb3JFYWNoKChubikgPT4ge1xuICAgICAgc2VsZWN0KG5uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBIYW5kbGUgc2VsZWN0aW5nIGFuIGFycmF5IG9mIGVsZW1lbnRzIGJhc2VkIG9uIHRoZSBzZWxlY3Rpb24gdHlwZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdEFsbChcbiAgZWxlbWVudHM6IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4sXG4gIG5lb25WaWV3OiBOZW9uVmlldyxcbiAgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHNlbGVjdGlvblR5cGUgPSBnZXRTZWxlY3Rpb25UeXBlKCk7XG4gIHVuc2VsZWN0KCk7XG4gIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHNlbGVjdGlvbkNsYXNzO1xuICBsZXQgY29udGFpbnNMYXllckVsZW1lbnRzID0gZmFsc2U7XG4gIGxldCBjb250YWluc05jID0gZmFsc2U7XG5cbiAgc3dpdGNoIChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuc3lsbGFibGUnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcubmV1bWUnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlOYyc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcubmMnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuc3RhZmYnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlCQm94JzpcbiAgICAgIHNlbGVjdGlvbkNsYXNzID0gJy5zeWxUZXh0UmVjdC1kaXNwbGF5JztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TGF5ZXJFbGVtZW50JzpcbiAgICAgIHNlbGVjdGlvbkNsYXNzID0gJy5jbGVmLCAuY3VzdG9zLCAuYWNjaWQsIC5kaXZMaW5lJztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zb2xlLmVycm9yKCdVbmtub3duIHNlbGVjdGlvbiB0eXBlICcgKyBzZWxlY3Rpb25UeXBlKTtcbiAgICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEdldCB0aGUgZ3JvdXBpbmdzIHNwZWNpZmllZCBieSBzZWxlY3Rpb25DbGFzc1xuICAvLyB0aGF0IGNvbnRhaW4gdGhlIHByb3ZpZGVkIGVsZW1lbnRzIHRvIHNlbGVjdC5cbiAgY29uc3QgZ3JvdXBzVG9TZWxlY3QgPSBuZXcgU2V0PFNWR0dFbGVtZW50PigpO1xuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICBsZXQgZ3JvdXBpbmcgPSBlbGVtZW50LmNsb3Nlc3Q8U1ZHR0VsZW1lbnQ+KHNlbGVjdGlvbkNsYXNzKTtcbiAgICBpZiAoZ3JvdXBpbmcgPT09IG51bGwpIHtcbiAgICAgIC8vIENoZWNrIGlmIHdlIGNsaWNrLXNlbGVjdGVkIGEgY2xlZiBvciBhIGN1c3RvcyBvciBhbiBhY2NpZCBvciBhIGRpdkxpbmVcbiAgICAgIGdyb3VwaW5nID0gZWxlbWVudC5jbG9zZXN0KCcuY2xlZiwgLmN1c3RvcywgLmFjY2lkLCAuZGl2TGluZScpO1xuICAgICAgaWYgKGdyb3VwaW5nID09PSBudWxsKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnRWxlbWVudCAnICtcbiAgICAgICAgICAgIGVsZW1lbnQuaWQgK1xuICAgICAgICAgICAgJyBpcyBub3QgcGFydCBvZiBzcGVjaWZpZWQgZ3JvdXAgYW5kIGlzIG5vdCBhIGNsZWYgb3IgY3VzdG9zIG9yIGFjY2lkIG9yIGRpdkxpbmUuJyxcbiAgICAgICAgKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb250YWluc0xheWVyRWxlbWVudHMgPSBjb250YWluc0xheWVyRWxlbWVudHMgfHwgdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbnNOYyA9IGNvbnRhaW5zTmMgfHwgdHJ1ZTtcbiAgICB9XG4gICAgZ3JvdXBzVG9TZWxlY3QuYWRkKGdyb3VwaW5nKTtcblxuICAgIC8vIENoZWNrIGZvciBwcmVjZWRlcy9mb2xsb3dzXG4gICAgbGV0IHNlbGVjdGVkID0gZ3JvdXBpbmc7XG4gICAgbGV0IGZvbGxvd3MgPSBzZWxlY3RlZC5nZXRBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJyk7XG4gICAgbGV0IHByZWNlZGVzID0gc2VsZWN0ZWQuZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKTtcbiAgICB3aGlsZSAoZm9sbG93cyB8fCBwcmVjZWRlcykge1xuICAgICAgaWYgKGZvbGxvd3MpIHtcbiAgICAgICAgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIGZvbGxvd3Muc2xpY2UoMSkpO1xuICAgICAgICBpZiAoZ3JvdXBzVG9TZWxlY3QuaGFzKHNlbGVjdGVkKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNlbGVjdGVkLmNsYXNzTGlzdC5hZGQoJ25vLW1vdmluZycpO1xuICAgICAgICBncm91cHNUb1NlbGVjdC5hZGQoc2VsZWN0ZWQpO1xuICAgICAgICBmb2xsb3dzID0gc2VsZWN0ZWQuZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpO1xuICAgICAgfVxuICAgICAgaWYgKHByZWNlZGVzKSB7XG4gICAgICAgIHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBwcmVjZWRlcy5zbGljZSgxKSk7XG4gICAgICAgIGlmIChncm91cHNUb1NlbGVjdC5oYXMoc2VsZWN0ZWQpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZWN0ZWQuY2xhc3NMaXN0LmFkZCgnbm8tbW92aW5nJyk7XG4gICAgICAgIGdyb3Vwc1RvU2VsZWN0LmFkZChzZWxlY3RlZCk7XG4gICAgICAgIHByZWNlZGVzID0gc2VsZWN0ZWQuZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gU2VsZWN0IHRoZSBlbGVtZW50c1xuICBncm91cHNUb1NlbGVjdC5mb3JFYWNoKChncm91cDogU1ZHR3JhcGhpY3NFbGVtZW50KSA9PlxuICAgIHNlbGVjdChncm91cCwgZHJhZ0hhbmRsZXIsIGZhbHNlKSxcbiAgKTtcblxuICAvKiBEZXRlcm1pbmUgdGhlIGNvbnRleHQgbWVudSB0byBkaXNwbGF5IChpZiBhbnkpICovXG5cbiAgY29uc3QgZ3JvdXBzID0gQXJyYXkuZnJvbShncm91cHNUb1NlbGVjdC52YWx1ZXMoKSkgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG5cbiAgLy8gSGFuZGxlIG9jY3VyYW5jZSBvZiBjbGVmIG9yIGN1c3RvcyBvciBhY2NpZCBvciBkaXZMaW5lXG4gIGlmIChjb250YWluc0xheWVyRWxlbWVudHMgJiYgIWNvbnRhaW5zTmMpIHtcbiAgICAvLyBBIGNvbnRleHQgbWVudSB3aWxsIG9ubHkgYmUgZGlzcGxheWVkIGlmIHRoZXJlIGlzIGEgc2luZ2xlIGNsZWZcbiAgICBpZiAoZ3JvdXBzVG9TZWxlY3Quc2l6ZSA9PT0gMSkge1xuICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTGF5ZXJFbGVtZW50QWN0aW9ucyhncm91cHNbMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc2VsZWN0aW9uVHlwZSA9PSAnc2VsQnlTeWxsYWJsZScpIHtcbiAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdFN5bEFjdGlvbnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTaW5nbGVTdGFmZkFjdGlvbnMoKTtcbiAgICAgICAgICBHcm91cGluZy5pbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbiAgICAgICAgICByZXNpemUoZ3JvdXBzWzBdLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlck11bHRpU3RhZmZBY3Rpb25zKCk7XG4gICAgICAgICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TGF5ZXJFbGVtZW50JzpcbiAgICAgIGlmIChncm91cHNUb1NlbGVjdC5zaXplID09PSAxKSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckxheWVyRWxlbWVudEFjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAvLyBUT0RPIGNoYW5nZSBjb250ZXh0IGlmIGl0IGlzIG9ubHkgYSBuZXVtZS9uYy5cbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ3NpbmdsZVNlbGVjdCcpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGxpbmtlZCBzeWxsYWJsZSBzcGxpdCBieSBhIHN0YWZmIGJyZWFrXG4gICAgICAgICAgLy8gaWYgdGhleSBhcmUgbGlua2FibGUsIHVzZXIgY2FuIHRvZ2dsZSBsaW5rZWQtc3lsbHNcbiAgICAgICAgICBpZiAoR3JvdXBpbmcuaXNMaW5rYWJsZSgnc2VsQnlTeWxsYWJsZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnbGlua2FibGVTZWxlY3QnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gaWYgc3lsbGFibGVzIGFyZSBhbGwgbG9jYXRlZCBvbiBvbmUgc3RhdmUsIHRoZXkgc2hvdWxkIGJlIGdyb3VwYWJsZVxuICAgICAgICAgIGVsc2UgaWYgKEdyb3VwaW5nLmlzR3JvdXBhYmxlKCdzZWxCeVN5bGxhYmxlJywgZ3JvdXBzKSkge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdtdWx0aVNlbGVjdCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBpZiBzeWxscyBhcmUgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXNcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnZGVmYXVsdCcpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBzd2l0Y2ggKGdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIFRPRE8gY2hhbmdlIGNvbnRleHQgaWYgaXQgaXMgb25seSBhIG5jLlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlck5ldW1lQWN0aW9ucygpO1xuICAgICAgICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChHcm91cGluZy5pc0dyb3VwYWJsZSgnc2VsQnlOZXVtZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmV1bWUnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJOY0FjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmIChzaGFyZWRTZWNvbmRMZXZlbFBhcmVudChncm91cHMpKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIHNlbGVjdGlvbiBpcyBhIGxpZ2F0dXJlIG9yIGNhbiBiZSBhIGxpZ2F0dXJlXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVzZSBuZXVtZSBjb21wb25lbnRzIGFyZSBwYXJ0IG9mIHRoZSBzYW1lIG5ldW1lXG4gICAgICAgICAgICBpZiAoZ3JvdXBzWzBdLnBhcmVudEVsZW1lbnQgPT09IGdyb3Vwc1sxXS5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShncm91cHNbMF0ucGFyZW50RWxlbWVudC5jaGlsZHJlbik7XG5cbiAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBuZXVtZSBjb21wb25lbnRzIGFyZSBhZGphY2VudFxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbi5pbmRleE9mKGdyb3Vwc1swXSkgLSBjaGlsZHJlbi5pbmRleE9mKGdyb3Vwc1sxXSksXG4gICAgICAgICAgICAgICAgKSA9PT0gMVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHNlY29uZCBuZXVtZSBjb21wb25lbnQgaXMgbG93ZXIgdGhhbiBmaXJzdC5cbiAgICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhlIG9yZGVyIGluIHRoZSBsaXN0IG1heSBub3QgYmUgdGhlIHNhbWUgYXMgdGhlXG4gICAgICAgICAgICAgICAgLy8gb3JkZXIgYnkgeC1wb3NpdGlvbi5cbiAgICAgICAgICAgICAgICBsZXQgZmlyc3ROQyA9IGdyb3Vwc1swXS5jaGlsZHJlblswXSBhcyBTVkdVc2VFbGVtZW50O1xuICAgICAgICAgICAgICAgIGxldCBzZWNvbmROQyA9IGdyb3Vwc1sxXS5jaGlsZHJlblswXSBhcyBTVkdVc2VFbGVtZW50O1xuXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0TkNYID0gZmlyc3ROQy54LmJhc2VWYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZE5DWCA9IHNlY29uZE5DLnguYmFzZVZhbC52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgZmlyc3ROQ1kgPSBmaXJzdE5DLnkuYmFzZVZhbC52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgc2Vjb25kTkNZID0gc2Vjb25kTkMueS5iYXNlVmFsLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgLy8gb3JkZXIgbmMncyBieSB4IGNvb3JkIChsZWZ0IHRvIHJpZ2h0KVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGZpcnN0TkNYID4gc2Vjb25kTkNYIHx8XG4gICAgICAgICAgICAgICAgICAoZmlyc3ROQ1ggPT09IHNlY29uZE5DWCAmJiBmaXJzdE5DWSA8IHNlY29uZE5DWSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIFtmaXJzdE5DLCBzZWNvbmROQ10gPSBbc2Vjb25kTkMsIGZpcnN0TkNdO1xuICAgICAgICAgICAgICAgICAgW2ZpcnN0TkNYLCBmaXJzdE5DWSwgc2Vjb25kTkNYLCBzZWNvbmROQ1ldID0gW1xuICAgICAgICAgICAgICAgICAgICBzZWNvbmROQ1gsXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZE5DWSxcbiAgICAgICAgICAgICAgICAgICAgZmlyc3ROQ1gsXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0TkNZLFxuICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBzdGFja2VkIG5jJ3MvbGlnYXR1cmUgKGlkZW50aWNhbCB4KSwgb3IgZGVzY2VuZGluZyBuYydzICh5IGRlc2NlbmRzKVxuICAgICAgICAgICAgICAgIGlmIChmaXJzdE5DWCA9PT0gc2Vjb25kTkNYIHx8IGZpcnN0TkNZIDwgc2Vjb25kTkNZKSB7XG4gICAgICAgICAgICAgICAgICBHcm91cGluZy50cmlnZ2VyR3JvdXBpbmcoJ2xpZ2F0dXJlJyk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmMnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKHNoYXJlZFNlY29uZExldmVsUGFyZW50KGdyb3VwcykpIHtcbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmMnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeUJCb3gnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBzZWxlY3RCQm94KGdyb3Vwc1swXSwgZHJhZ0hhbmRsZXIsIG5lb25WaWV3KTtcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJCQm94QWN0aW9ucygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGdyb3Vwcy5mb3JFYWNoKChnKSA9PiBzZWxlY3RCQm94KGcsIGRyYWdIYW5kbGVyLCB1bmRlZmluZWQpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zb2xlLmVycm9yKCdVbmtub3duIHNlbGVjdGlvbiB0eXBlLiBUaGlzIHNob3VsZCBub3QgaGF2ZSBvY2N1cnJlZC4nKTtcbiAgfVxuXG4gIC8vIGZ1bmN0aW9uIGNoYW5nZVN0YWZmTGlzdGVuZXIoKTogdm9pZCB7XG4gIC8vIHRyeSB7XG4gIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFuZ2VTdGFmZicpXG4gIC8vIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFNlbGVjdE9wdGlvbnMuY2hhbmdlU3RhZmZIYW5kbGVyKTtcbiAgLy8gfSBjYXRjaCAoZSkge2NvbnNvbGUuZGVidWcoZSk7fVxuICAvLyB9XG59XG4iLCJpbXBvcnQgeyByZWNvcmROb3RpZmljYXRpb24gfSBmcm9tICcuL0Vycm9yTG9nJztcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gJy4vcmFuZG9tJztcblxudHlwZSBOb3RpZmljYXRpb25UeXBlID0gJ2RlZmF1bHQnIHwgJ2Vycm9yJyB8ICd3YXJuaW5nJyB8ICdzdWNjZXNzJztcblxuY29uc3Qgbm90aWZpY2F0aW9uczogTm90aWZpY2F0aW9uW10gPSBuZXcgQXJyYXkoMCk7XG5sZXQgY3VycmVudE1vZGVNZXNzYWdlOiBOb3RpZmljYXRpb24gPSBudWxsO1xuXG4vKipcbiAqIE51bWJlciBvZiBub3RpZmljYXRpb25zIHRvIGRpc3BsYXkgYXQgYSB0aW1lLlxuICovXG5jb25zdCBOVU1CRVJfVE9fRElTUExBWSA9IDM7XG5cbi8qKlxuICogTnVtYmVyIG9mIG5vdGlmaWNhdGlvbnMgdG8gZGlzcGxheSBhdCBhIHRpbWUuXG4gKi9cbmNvbnN0IFRJTUVPVVQgPSA1MDAwO1xuXG5jb25zdCBub3RpZmljYXRpb25JY29uOiBSZWNvcmQ8Tm90aWZpY2F0aW9uVHlwZSwgc3RyaW5nPiA9IHtcbiAgZGVmYXVsdDogJycsXG4gIHdhcm5pbmc6ICfimqDvuI8gJyxcbiAgZXJyb3I6ICfwn5S0ICcsXG4gIHN1Y2Nlc3M6ICfinIUgJyxcbn07XG5cbi8qKlxuICogQSBjbGFzcyB0byBtYW5hZ2UgTmVvbiBub3RpZmljYXRpb25zLlxuICovXG5leHBvcnQgY2xhc3MgTm90aWZpY2F0aW9uIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBkaXNwbGF5ZWQ6IGJvb2xlYW47XG4gIGlkOiBzdHJpbmc7XG4gIGlzTW9kZU1lc3NhZ2U6IGJvb2xlYW47XG4gIGxvZ0luZm86IHN0cmluZztcbiAgdGltZW91dElEOiBudW1iZXI7XG4gIHR5cGU6IE5vdGlmaWNhdGlvblR5cGU7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbm90aWZpY2F0aW9uLlxuICAgKiBAcGFyYW0gbWVzc2FnZSAtIE5vdGlmaWNhdGlvbiBjb250ZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG1lc3NhZ2U6IHN0cmluZywgdHlwZTogTm90aWZpY2F0aW9uVHlwZSwgbG9nSW5mbzogc3RyaW5nID0gbnVsbCkge1xuICAgIHRoaXMubWVzc2FnZSA9IG5vdGlmaWNhdGlvbkljb25bdHlwZV0gKyBtZXNzYWdlO1xuICAgIHRoaXMuZGlzcGxheWVkID0gZmFsc2U7XG4gICAgdGhpcy5pZCA9IHV1aWR2NCgpO1xuICAgIHRoaXMuaXNNb2RlTWVzc2FnZSA9IG1lc3NhZ2Uuc2VhcmNoKCdNb2RlJykgIT09IC0xO1xuICAgIHRoaXMubG9nSW5mbyA9IGxvZ0luZm87XG4gICAgdGhpcy50aW1lb3V0SUQgPSAtMTtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICB9XG5cbiAgLyoqIFNldCB0aGUgSUQgZnJvbSBzZXRUaW1lb3V0LiAqL1xuICBzZXRUaW1lb3V0SWQgKGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnRpbWVvdXRJRCA9IE1hdGgubWF4KGlkLCAtMSk7XG4gIH1cblxuICAvKiogRGlzcGxheSB0aGUgTm90aWZpY2F0aW9uLiAqL1xuICBkaXNwbGF5ICgpOiB2b2lkIHtcbiAgICB0aGlzLmRpc3BsYXllZCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIFVVSUQgZm9yIHRoaXMgbm90aWZpY2F0aW9uLlxuICAgKi9cbiAgZ2V0SWQgKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuaWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGVhciB0aGUgbm90aWZpY2F0aW9uXG4gKiBAcGFyYW0gY3VycmVudElkIC0gVGhlIElEIG9mIHRoZSBub3RpZmljYXRpb24gdG8gYmUgY2xlYXJlZC5cbiAqL1xuZnVuY3Rpb24gY2xlYXJOb3RpZmljYXRpb24gKGN1cnJlbnRJZDogc3RyaW5nKTogdm9pZCB7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjdXJyZW50SWQpKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY3VycmVudElkKS5yZW1vdmUoKTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BsYXkgYSBub3RpZmljYXRpb24uXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uIC0gTm90aWZpY2F0aW9uIHRvIGRpc3BsYXkuXG4gKi9cbmZ1bmN0aW9uIGRpc3BsYXlOb3RpZmljYXRpb24gKG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uKTogdm9pZCB7XG4gIC8vIE5vdCBzdXJlIHdoYXQgaXQgZG9lcywgbWF5YmUgcmVsYXRlZCB0byByb2Rhbi9uZW9uXG4gIGlmIChub3RpZmljYXRpb24uaXNNb2RlTWVzc2FnZSkge1xuICAgIGlmIChjdXJyZW50TW9kZU1lc3NhZ2UgPT09IG51bGwpIHtcbiAgICAgIGN1cnJlbnRNb2RlTWVzc2FnZSA9IG5vdGlmaWNhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dChjdXJyZW50TW9kZU1lc3NhZ2UudGltZW91dElEKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICAvLyBSZW1vdmUgdGhlIHRvcCBub3RpZmljYXRpb24gaWYgZXhjZWVkcyBtYXhtaW11bVxuICBub3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcbiAgaWYgKG5vdGlmaWNhdGlvbnMubGVuZ3RoID4gTlVNQkVSX1RPX0RJU1BMQVkpIHtcbiAgICBjb25zdCB0b1JlbW92ZSA9IG5vdGlmaWNhdGlvbnMuc2hpZnQoKTtcbiAgICBjbGVhck5vdGlmaWNhdGlvbih0b1JlbW92ZS5nZXRJZCgpKTtcbiAgfVxuICBjb25zdCBub3RpZmljYXRpb25Db250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGlmaWNhdGlvbi1jb250ZW50Jyk7XG4gIGNvbnN0IG5ld05vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBuZXdOb3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZCgnbmVvbi1ub3RpZmljYXRpb24nKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoYG5lb24tbm90aWZpY2F0aW9uLSR7bm90aWZpY2F0aW9uLnR5cGV9YCk7XG4gIG5ld05vdGlmaWNhdGlvbi5pZCA9IG5vdGlmaWNhdGlvbi5nZXRJZCgpO1xuICBuZXdOb3RpZmljYXRpb24uaW5uZXJIVE1MID0gbm90aWZpY2F0aW9uLm1lc3NhZ2U7XG4gIG5vdGlmaWNhdGlvbkNvbnRlbnQuYXBwZW5kKG5ld05vdGlmaWNhdGlvbik7XG4gIG5vdGlmaWNhdGlvbkNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICBub3RpZmljYXRpb24uZGlzcGxheSgpO1xufVxuXG4vKipcbiAqIFN0YXJ0IGRpc3BsYXlpbmcgbm90aWZpY2F0aW9ucy4gQ2FsbGVkIGF1dG9tYXRpY2FsbHkuXG4gKi9cbmZ1bmN0aW9uIHN0YXJ0Tm90aWZpY2F0aW9uIChub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbik6IHZvaWQge1xuICBkaXNwbGF5Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbik7XG4gIG5vdGlmaWNhdGlvbi5zZXRUaW1lb3V0SWQoXG4gICAgd2luZG93LnNldFRpbWVvdXQoY2xlYXJOb3RpZmljYXRpb24sIFRJTUVPVVQsIG5vdGlmaWNhdGlvbi5nZXRJZCgpKVxuICApO1xuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZChub3RpZmljYXRpb24uZ2V0SWQoKSlcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KG5vdGlmaWNhdGlvbi50aW1lb3V0SUQpO1xuICAgICAgY2xlYXJOb3RpZmljYXRpb24obm90aWZpY2F0aW9uLmdldElkKCkpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEFkZCBhIG5vdGlmaWNhdGlvbiB0byB0aGUgcXVldWUuXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uIC0gTm90aWZpY2F0aW9uIGNvbnRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWV1ZU5vdGlmaWNhdGlvbiAobm90aWZpY2F0aW9uQ29udGVudDogc3RyaW5nLCB0eXBlOiBOb3RpZmljYXRpb25UeXBlID0gJ2RlZmF1bHQnLCBsb2dJbmZvOiBzdHJpbmcgPSBudWxsKTogdm9pZCB7XG4gIGNvbnN0IG5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb24obm90aWZpY2F0aW9uQ29udGVudCwgdHlwZSwgbG9nSW5mbyk7XG5cbiAgaWYgKG5vdGlmaWNhdGlvbi50eXBlID09ICdlcnJvcicgfHwgbm90aWZpY2F0aW9uLnR5cGUgPT0gJ3dhcm5pbmcnKSB7XG4gICAgcmVjb3JkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbik7XG4gIH1cblxuICBzdGFydE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IHF1ZXVlTm90aWZpY2F0aW9uIH07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gYXJnc0FycmF5O1xuXG5mdW5jdGlvbiBhcmdzQXJyYXkoZnVuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgaWYgKGxlbikge1xuICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgIHZhciBpID0gLTE7XG4gICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuLmNhbGwodGhpcywgYXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW4uY2FsbCh0aGlzLCBbXSk7XG4gICAgfVxuICB9O1xufSIsIm1vZHVsZS5leHBvcnRzID0gZDM7IiwiLyoqXG4gKiBIVE1MIGZvciBlYWNoIGluc2VydCB0YWIgKG5ldW1lLCBncm91cGluZywgY2xlZiwgc3lzdGVtLCBhbmQgZGl2aXNpb24pLlxuICovXG5leHBvcnQgY29uc3QgaW5zZXJ0VGFiSHRtbDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgcHJpbWl0aXZlVGFiOiBgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwdW5jdHVtXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInB1bmN0dW1cIiB0aXRsZT1cInB1bmN0dW1cIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3B1bmN0dW0ucG5nXCIgY2xhc3M9XCJpbWFnZVwiLz48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInZpcmdhXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInZpcmdhXCIgdGl0bGU9XCJ2aXJnYVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvdmlyZ2EucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwidmlyZ2FSZXZlcnNlZFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJSZXZlcnNlZCBWaXJnYVwiIHRpdGxlPVwiUmV2ZXJzZWQgVmlyZ2FcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3ZpcmdhX3JldmVyc2VkLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRpYW1vbmRcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiaW5jbGluYXR1bVwiIHRpdGxlPVwiaW5jbGluYXR1bVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvZGlhbW9uZC5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjdXN0b3NcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiY3VzdG9zXCIgdGl0bGU9XCJjdXN0b3NcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2N1c3Rvcy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjQ2xlZlwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJDIENsZWZcIiB0aXRsZT1cIiBDIENsZWZcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2NDbGVmLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImZDbGVmXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkYgQ2xlZlwiIHRpdGxlPVwiRiBDbGVmXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9mQ2xlZi5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJsaXF1ZXNjZW50QVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJMaXF1ZXNjZW50IEFcIiB0aXRsZT1cIkxpcXVlc2NlbnQgQVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbGlxdWVzY2VudEEucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibGlxdWVzY2VudENcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiTGlxdWVzY2VudCBDXCIgdGl0bGU9XCJMaXF1ZXNjZW50IENcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2xpcXVlc2NlbnRDLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImZsYXRcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRmxhdFwiIHRpdGxlPVwiRmxhdFwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvYWNjaWRGbGF0LnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cIm5hdHVyYWxcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiTmF0dXJhbFwiIHRpdGxlPVwiTmF0dXJhbFwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvYWNjaWROYXR1cmFsLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRpdkxpbmVNYXhpbWFcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRGl2TGluZSBNYXhpbWFcIiB0aXRsZT1cIkRpdkxpbmUgTWF4aW1hXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9kaXZpc2lvLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPmAsXG4gIGdyb3VwaW5nVGFiOiBgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwZXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicGVzXCIgdGl0bGU9XCJwZXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3Blcy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjbGl2aXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiY2xpdmlzXCIgdGl0bGU9XCJjbGl2aXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2NsaXZpcy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzY2FuZGljdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwic2NhbmRpY3VzXCIgdGl0bGU9XCJzY2FuZGljdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3NjYW5kaWN1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjbGltYWN1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJjbGltYWN1c1wiIHRpdGxlPVwiY2xpbWFjdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2NsaW1hY3VzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInRvcmN1bHVzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInRvY3VsdXNcIiB0aXRsZT1cInRvY3VsdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3RvcmN1bHVzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInBvcnJlY3R1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJwb3JyZWN0dXNcIiB0aXRsZT1cInBvcnJlY3R1c1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcG9ycmVjdHVzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInByZXNzdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicHJlc3N1c1wiIHRpdGxlPVwicHJlc3N1c1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcHJlc3N1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5gLFxuICBzeXN0ZW1UYWI6IGA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInN0YWZmXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBsb25nZWxcIiBhcmlhLWxhYmVsPVwic3lzdGVtXCIgdGl0bGU9XCJzeXN0ZW1cIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3N0YWZmLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5DbGljayB1cHBlciBsZWZ0IGFuZCBsb3dlciByaWdodCBjb3JuZXJzIG9mIG5ldyBzdGFmZi48L3A+YCxcbiAgLy8gZGl2aXNpb25UYWI6IFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyBcIjxidXR0b24gaWQ9J3NtYWxsRGl2JyBjbGFzcz0nc2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgdGFsbGVsJz48aW1nIHNyYz0nXCIgKyBfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9pbWcvc21hbGxkaXYucG5nIFwiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCIgK1xuICAvLyBcIjxwIGNsYXNzPSdpbnNlcnQtZWxlbWVudC1jb250YWluZXInPlwiICtcbiAgLy8gICAgIFwiPGJ1dHRvbiBpZD0nbWlub3JEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9taW5vcmRpdi5wbmdcIicgY2xhc3M9J2ltYWdlJy8+PC9idXR0b24+PC9wPlwiICtcbiAgLy8gICAgIFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyBcIjxidXR0b24gaWQ9J21ham9yRGl2JyBjbGFzcz0nc2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgdGFsbGVsJz48aW1nIHNyYz0nXCIgKyBfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9pbWcvbWFqb3JkaXYucG5nIFwiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCIgK1xuICAvLyBcIjxwIGNsYXNzPSdpbnNlcnQtZWxlbWVudC1jb250YWluZXInPlwiICtcbiAgLy8gXCI8YnV0dG9uIGlkPSdmaW5hbERpdicgY2xhc3M9J3NpZGUtcGFuZWwtYnRuIGluc2VydGVsIHRhbGxlbCc+PGltZyBzcmM9J1wiICsgX19BU1NFVF9QUkVGSVhfXyArICdhc3NldHMvaW1nL2ZpbmFsZGl2LnBuZyBcIicgY2xhc3M9J2ltYWdlJy8+PC9idXR0b24+PC9wPlwiXG59O1xuXG4vKipcbiAqIFN0cnVjdHVyZSBvZiBpbnNlcnQgcGFuZWwgd2l0aCBiYXNpYyBncm91cGluZyB0YWJzLlxuICovXG5leHBvcnQgY29uc3QgaW5zZXJ0Q29udHJvbHNQYW5lbCA9IGA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiaW5zZXJ0TWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZy10aXRsZVwiPklOU0VSVDwvZGl2PlxuICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVJbnNlcnRcIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT5cbiAgICAgICAgPC9zdmc+XG4gICAgPC9kaXY+XG5cdDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gZmlyc3Qtc3Vic2VjdGlvblwiPlxuICAgICAgICA8ZGl2IGlkPVwiaW5zZXJ0Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCIgc3R5bGU9XCJvdmVyZmxvdy15OiBoaWRkZW47XCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInBhbmVsLXRhYnNcIj5cbiAgICAgICAgICAgICAgICA8YSBpZD1cInByaW1pdGl2ZVRhYlwiIGNsYXNzPVwiaW5zZXJ0VGFiXCI+UHJpbWl0aXZlIEVsZW1lbnRzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiZ3JvdXBpbmdUYWJcIiBjbGFzcz1cImluc2VydFRhYlwiPkdyb3VwaW5nPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwic3lzdGVtVGFiXCIgY2xhc3M9XCJpbnNlcnRUYWJcIj5TeXN0ZW08L2E+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiaW5zZXJ0X2RhdGFcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBlZGl0IHBhbmVsIHdpdGggYnV0dG9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IGVkaXRDb250cm9sc1BhbmVsID0gYDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgaWQ9XCJlZGl0TWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZy10aXRsZSBmb2N1c2VkXCI+RURJVDwvZGl2PlxuICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVFZGl0XCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJlZGl0Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gZmlyc3Qtc3Vic2VjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBpZD1cInNlbGVjdGlvbi1tb2RlLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1zdWItdGl0bGVcIj5TZWxlY3Rpb24gTW9kZTo8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwic2VsZWN0aW9uLW1vZGUtYnRucy1jb250YWluZXJcIiAgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCIgc3R5bGU9XCJvdmVyZmxvdy14OiBhdXRvO1wiPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeVN5bGxhYmxlXCI+U3lsbGFibGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5TmV1bWVcIj5OZXVtZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieVwiIGlkPVwic2VsQnlOY1wiPk5ldW1lIENvbXBvbmVudDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieVwiIGlkPVwic2VsQnlTdGFmZlwiPlN0YWZmPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeUxheWVyRWxlbWVudFwiPkxheWVyIEVsZW1lbnQ8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LXNsaWRlci1hY3Rpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJtb3JlRWRpdFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJleHRyYUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPCEtLVxuICAgICAgICAgICAgICAgICAgICAqIFRoZSBleHRyYUVkaXQgcGFuZWwgaXMgYWRkZWQgZm9yIGVkaXQgb3B0aW9ucyB0aGF0IGhhdmUgZHJvcGRvd24gbWVudXNcbiAgICAgICAgICAgICAgICAgICAgKiBMaWtlIHRoZSBOZXVtZSBhbmQgQ2xlZiBtZW51c1xuICAgICAgICAgICAgICAgICAgICAqIFRoaXMgaXMgZG9uZSBiZWNhdXNlIHRoZSBtb3JlRWRpdCBtZW51IG5lZWRzIHRvIGhhdmUgb3ZlcmZsb3cgZm9yIGNhc2VzIHdoZXJlIGl0IGhhcyBsb3RzIG9mIGJ1dHRvbnNcbiAgICAgICAgICAgICAgICAgICAgKiBCdXQgb3ZlcmZsb3cgcnVpbnMgZHJvcGRvd24gbWVudXNcbiAgICAgICAgICAgICAgICAgICAgLS0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvbiBoaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cIm5ldW1lRWRpdFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cInVuZG9SZWRvX2NvbnRyb2xzXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgbmMgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBuY0FjdGlvbkNvbnRlbnRzID0gYDxsYWJlbD5DaGFuZ2UgSGVhZCBTaGFwZTo8L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5IZWFkIFNoYXBlczwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQdW5jdHVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+UHVuY3R1bTwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlZpcmdhXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+VmlyZ2E8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJWaXJnYVJldmVyc2VkXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+UmV2ZXJzZWQgVmlyZ2E8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJJbmNsaW5hdHVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+SW5jbGluYXR1bTwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkxpcXVlc2NlbnRBbnRpY2xvY2t3aXNlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TGlxdWVzY2VudCBBPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiTGlxdWVzY2VudENsb2Nrd2lzZVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkxpcXVlc2NlbnQgQzwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGJhc2ljIG5ldW1lIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMgPSBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJzcGxpdC1uZXVtZVwiPlNwbGl0IE5ldW1lczwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgbmV1bWUgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBuZXVtZUFjdGlvbkNvbnRlbnRzID0gYDxsYWJlbD5Hcm91cGluZyBPcHRpb25zOjwvbGFiZWw+XG4gICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkdyb3VwaW5nczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudCBzY3JvbGxhYmxlLWRyb3Bkb3duXCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJDbGltYWN1c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPkNsaW1hY3VzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2xpbWFjdXNSZXN1cGludXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5DbGltYWN1cyBSZXN1cGludXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJDbGl2aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5DbGl2aXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQZXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5QZXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQZXNTdWJwdW5jdGlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UGVzIFN1YnB1bmN0aXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQb3JyZWN0dXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Qb3JyZWN0dXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQb3JyZWN0dXNGbGV4dXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Qb3JyZWN0dXMgRmxleHVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUG9ycmVjdHVzU3VicHVuY3Rpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlBvcnJlY3R1cyBTdWJwdW5jdGlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUHJlc3N1c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlByZXNzdXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJTY2FuZGljdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5TY2FuZGljdXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJTY2FuZGljdXNGbGV4dXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5TY2FuZGljdXMgRmxleHVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzU3VicHVuY3Rpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlNjYW5kaWN1cyBTdWJwdW5jdGlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiVG9yY3VsdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Ub3JjdWx1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlRvcmN1bHVzUmVzdXBpbnVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+VG9yY3VsdXMgUmVzdXBpbnVzPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidW5ncm91cE5jc1wiPlVuZ3JvdXA8L2J1dHRvbj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGRlZmF1bHQgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0QWN0aW9uQ29udGVudHMgPSBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGRlZmF1bHQgYWN0aW9uIG1lbnUgd2hlbiBzZWxlY3RpbmcgYnkgc3lsbGFibGVcbiAqIFNhbWUgYXMgYWJvdmUgZXhjZXB0IGluY2x1ZGVzIHJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0U3lsQWN0aW9uQ29udGVudHMgPSBgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGN1c3RvcyBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGN1c3Rvc0FjdGlvbkNvbnRlbnRzID0gYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgbGF5ZXIgZWxlbWVudCAob3V0c2lkZSBzeWxsYWJsZSkgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBsYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cyA9IGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImluc2VydFRvU3lsbGFibGVcIj5JbnNlcnQgdG8gbmVhcmVzdCBzeWxsYWJsZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGxheWVyIGVsZW1lbnQgKGluc2lkZSBzeWxsYWJsZSkgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBsYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzID0gYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwibW92ZU91dHNpZGVTeWxsYWJsZVwiPk1vdmUgb3V0c2lkZSBzeWxsYWJsZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGFjY2lkIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgYWNjaWRBY3Rpb25Db250ZW50cyA9IGA8bGFiZWw+Q2hhbmdlIEFjY2lkZW50YWw6PC9sYWJlbD5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIm92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5TaGFwZXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9GbGF0XCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RmxhdDwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTmF0dXJhbFwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPk5hdHVyYWw8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBzdGFmZiBzcGxpdCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IHN0YWZmU3BsaXRBY3Rpb25Db250ZW50cyA9IGA8ZGl2PlNwbGl0IFN5c3RlbTo8L2Rpdj5cbiAgICA8ZGl2IGlkPVwic3BsaXQtc3lzdGVtLWJ0bnMtY29udGFpbmVyXCIgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJzcGxpdC1zeXN0ZW1cIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCI+U3BsaXQ8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cInJlc2V0LXJvdGF0ZVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIj5SZXNldCBSb3RhdGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGV4dHJhIHN0YWZmIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3Qgc3RhZmZNZXJnZUFjdGlvbkNvbnRlbnRzID0gYDxsYWJlbD5NZXJnZSBTeXN0ZW1zOjwvbGFiZWw+XG4gICAgPGRpdiBpZD1cIm1lcmdlLXN5c3RlbS1idG5zLWNvbnRhaW5lclwiIGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGlkPVwibWVyZ2Utc3lzdGVtc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIj5NZXJnZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgYWNjaWQgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBjb2x1bW5BY3Rpb25Db250ZW50cyA9IGA8ZGl2IGNsYXNzPVwiY29sLWVkaXQtY29udGFpbmVyXCI+XG4gICAgICAgIEVkaXQgQ29sdW1uIEluZm9ybWF0aW9uOlxuICAgICAgICA8ZGl2IGlkPVwiY29sLXN0ZXBwZXItYnRucy1jb250YWluZXJcIiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjb2wtZGVjcmVtZW50XCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBjb2wtc3RlcHBlci1idG5cIj7igJM8L2J1dHRvbj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiY29sLWlucHV0XCIgY2xhc3M9XCJzaWRlLXBhbmVsLXN0ZXBwZXItaW5wdXRcIiB2YWx1ZT1cIjBcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjb2wtaW5jcmVtZW50XCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBjb2wtc3RlcHBlci1idG5cIj4rPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY29sLWNvbmZpcm1cIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNpZGUtcGFuZWwtY29uZmlybS1idG5cIiBzdHlsZT1cImRpc3BsYXk6bm9uZVwiPkNvbmZpcm08L2J1dHRvbj5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJjb2wtd2FybmluZ1wiIGNsYXNzPVwic2lkZS1wYW5lbC13YXJuaW5nXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgY2xlZiBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGNsZWZBY3Rpb25Db250ZW50cyA9IGBcbiAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10cmlnZ2VyXCIgb3ZlcmZsb3c9XCJhdXRvXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+RGlzcGxhY2UgT2N0YXZlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cImluY3JlbWVudC1vY3RhdmVcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj4rMSBPY3RhdmU8L2E+XG4gICAgICAgICAgICAgICAgICAgIDxhIGlkPVwiZGVjcmVtZW50LW9jdGF2ZVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPi0xIE9jdGF2ZTwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiIG92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkNoYW5nZSBDbGVmIFNoYXBlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cIkNDbGVmXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+QyBDbGVmPC9hPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cIkZDbGVmXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RiBDbGVmPC9hPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIGA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZGl2TGluZSB0eXBlIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGl2TGluZUFjdGlvbkNvbnRlbnRzID0gYDxsYWJlbD5DaGFuZ2UgRGl2TGluZTo8L2xhYmVsPlxuPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIm92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgPHNwYW4+U2hhcGVzPC9zcGFuPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50XCI+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvQ2Flc3VyYVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkNhZXN1cmE8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvRmluYWxpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkZpbmFsaXM8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTWluaW1hXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TWluaW1hPC9hPlxuICAgICAgICAgICAgPGEgaWQ9XCJDaGFuZ2VUb01haW9yXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TWFpb3I8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTWF4aW1hXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TWF4aW1hPC9hPlxuICAgICAgICAgICAgPGEgaWQ9XCJDaGFuZ2VUb1Zpcmd1bGFcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5WaXJndWxhPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgYmJveCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGJib3hBY3Rpb25Db250ZW50cyA9IGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1hdGNoSGVpZ2h0XCI+TWF0Y2ggSGVpZ2h0IGZvciBFbnRpcmUgUm93PC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBIVE1MIGZvciBncm91cGluZyBzZWxlY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdyb3VwaW5nTWVudSA9IHtcbiAgbmM6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIG1vcmUtZWRpdC1idG5cIiBpZD1cImdyb3VwTmNzXCI+R3JvdXAgTmV1bWUgQ29tcG9uZW50czwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YCxcbiAgbmV1bWU6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJncm91cE5ldW1lc1wiPkdyb3VwIE5ldW1lczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YCxcbiAgc3lsOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwibWVyZ2VTeWxzXCI+TWVyZ2UgU3lsbGFibGVzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXHRcdDwvZGl2PmAsXG4gIGxpZ2F0dXJlTmM6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZ3JvdXBOY3NcIj5Hcm91cCBOZXVtZSBDb21wb25lbnRzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInRvZ2dsZS1saWdhdHVyZVwiPlRvZ2dsZSBMaWdhdHVyZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+YCxcbiAgbGlnYXR1cmU6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInRvZ2dsZS1saWdhdHVyZVwiPlRvZ2dsZSBMaWdhdHVyZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+YCxcbiAgc3BsaXRTeWxsYWJsZTogYDxkaXYgY2xhc3M9XCJtb3JlLWVkaXQtYnRuIHBhbmVsLWJ0blwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlua1wiPlRvZ2dsZSBMaW5rZWQgU3lsbGFibGVzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5gLFxufTtcblxuLyogQkdJTk5JTkcgT0YgTU9EQUwgV0lORE9XIENPTlRFTlQgU0VDVElPTiAqL1xuXG4vKipcbiAqIEhUTUwgZm9yIEVkaXQgU3lsbGFibGUgVGV4dCBtb2RhbCB3aW5kb3dcbiAqL1xuZXhwb3J0IGNvbnN0IGVkaXRUZXh0TW9kYWwgPSBgPGRpdiBjbGFzcz1cIm5lb24tbW9kYWwtd2luZG93LWNvbnRlbnRcIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtZWRpdC10ZXh0XCI+XG4gICAgICAgIDxsYWJlbCBmb3I9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXRcIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1sYWJlbFwiPkVudGVyIFN5bGxhYmxlIFRleHQ6PC9sYWJlbD5cbiAgICAgICAgPGlucHV0IGlkPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0XCIgdHlwZT1cInRleHRcIj5cbiAgICAgICAgPGRpdiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1idG5zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1idG5cIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1jYW5jZWxcIj5DYW5jZWw8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5lb24tbW9kYWwtd2luZG93LWJ0blwiIGlkPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LXNhdmVcIj5TYXZlPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogSFRNTCBmb3IgSG90a2V5cyBtb2RhbCB3aW5kb3dcbiAqL1xuZXhwb3J0IGNvbnN0IGhvdGtleXNNb2RhbCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwibmVvbi1tb2RhbC13aW5kb3ctY29udGVudFwiIGlkPVwibmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1ob3RrZXlzXCI+XG4gICAgICAgIDwhLS0gXCJEaXNwbGF5XCIgaG90a2V5cyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktdGl0bGVcIj5EaXNwbGF5PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPis8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+Wm9vbSBJbjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPi08L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+Wm9vbSBPdXQ8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+MDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5ab29tIFJlc2V0PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPmg8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+SGlkZSBHbHlwaDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlQ8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+U2Nyb2xsIFRvIFN5bGxhYmxlIFRleHQ8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIFwiRWRpdFwiIGhvdGtleXMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LXRpdGxlXCI+RWRpdDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+Q3RybDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPno8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5vcjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+4oyYPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5VbmRvPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPkN0cmw8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPno8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5vcjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+4oyYPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+U2hpZnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj56PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlJlZG88L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+cS93L2Uvci90L3k8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIEhpZ2hsaWdodCBieSBTdGFmZi9TeWxsYWJsZS9OZXVtZS9MYXllckVsZW1lbnQvU2VsZWN0aW9uL09mZlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj4xLzIvMy80LzUvNjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgU2VsZWN0IGJ5IFN5bGxhYmxlL05ldW1lL05ldW1lIENvbXBvbmVudC9TdGFmZi9MYXllciBFbGVtZW50L0JCb3hcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+U2hpZnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5OdW1iZXI8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIEJlZ2luIEluc2VydCBmb3IgdGhlIDxpPm50aDwvaT4gT3B0aW9uIGluIHRoZSBTZWxlY3RlZCBUYWJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ZzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgR3JvdXAvVW5ncm91cCBTZWxlY3RlZCBFbGVtZW50KHMpXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBcIk90aGVyXCIgaG90a2V5cyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktdGl0bGVcIj5PdGhlcjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+czwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5TYXZlIEZpbGU8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+RXNjPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlJldHVybiB0byBFZGl0IE1vZGU8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG5leHBvcnQgY29uc3Qgc3lsbGFibGVBY3Rpb25zQ29udGVudCA9IGBcbiAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1lcmdlU3lsc1wiPk1lcmdlIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidW5ncm91cE5ldW1lc1wiPlVuZ3JvdXA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICA8L2Rpdj5cbmA7XG5cbmV4cG9ydCBjb25zdCBlcnJvckxvZ3NQYW5lbENvbnRlbnRzID0gYDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgaWQ9XCJlcnJvckxvZ0hlYWRpbmdcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmctdGl0bGVcIj5FcnJvciBMb2c8L2Rpdj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVFcnJvckxvZ1wiIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT5cbiAgICAgICAgPC9zdmc+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCIgaWQ9XCJlcnJvckxvZ0NvbnRlbnRzXCIgc3R5bGU9XCJvdmVyZmxvdzogc2Nyb2xsOyBwYWRkaW5nOiAwLjVlbSAwLjc1ZW07IG1heC1oZWlnaHQ6IDMwMHB4O1wiPjxkaXY+YDtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xuXG52YXIgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIpIHtcbiAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIHZhciB1dWlkID0gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTsiLCJpbXBvcnQgUkVHRVggZnJvbSAnLi9yZWdleC5qcyc7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKHV1aWQpIHtcbiAgcmV0dXJuIHR5cGVvZiB1dWlkID09PSAnc3RyaW5nJyAmJiBSRUdFWC50ZXN0KHV1aWQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0ZTsiLCIvKiogQG1vZHVsZSBEaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzICovXG5cbmltcG9ydCAqIGFzIENvbG9yIGZyb20gJy4uL3V0aWxzL0NvbG9yJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuLi9TaW5nbGVWaWV3L1pvb20nO1xuaW1wb3J0IHsgR3JvdXBpbmdUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MsIHNldFNldHRpbmdzIH0gZnJvbSAnLi4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5cbmxldCBsYXN0R2x5cGhPcGFjaXR5OiBudW1iZXIsIGxhc3RJbWFnZU9wYWNpdHk6IG51bWJlciwgbGFzdENpcmNsZVNpemU6IG51bWJlcjtcblxuLyoqXG4gKiBTZXQgem9vbSBjb250cm9sIGxpc3RlbmVyIGZvciBidXR0b24gYW5kIHNsaWRlclxuICogQHBhcmFtIHpvb21IYW5kbGVyIC0gQSBbW1pvb21IYW5kbGVyXV0gaXMgb25seSBuZWNlc3NhcnkgaW4gU2luZ2xlIFBhZ2UgbW9kZSBhcyBkaXZhLmpzIGhhbmRsZXMgem9vbWluZyBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRab29tQ29udHJvbHMgKHpvb21IYW5kbGVyPzogWm9vbUhhbmRsZXIpOiB2b2lkIHtcbiAgaWYgKHpvb21IYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgem9vbVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6b29tU2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3Qgem9vbU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6b29tT3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG5cbiAgY29uc3QgeyB6b29tIH0gPSBnZXRTZXR0aW5ncygpO1xuICB6b29tU2xpZGVyLnZhbHVlID0gU3RyaW5nKHpvb20pO1xuICB6b29tT3V0cHV0LnZhbHVlID0gU3RyaW5nKHpvb20pO1xuICB6b29tSGFuZGxlci56b29tVG8oem9vbSAvIDEwMC4wKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LXpvb20nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB6b29tT3V0cHV0LnZhbHVlID0gJzEwMCc7XG4gICAgem9vbVNsaWRlci52YWx1ZSA9ICcxMDAnO1xuICAgIHpvb21IYW5kbGVyLnJlc2V0Wm9vbUFuZFBhbigpO1xuICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2V0LXpvb20tZWFzeS1lZGl0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgem9vbU91dHB1dC52YWx1ZSA9ICcxODAnO1xuICAgIHpvb21TbGlkZXIudmFsdWUgPSAnMTgwJztcbiAgICB6b29tSGFuZGxlci56b29tVG8oMTgwLzEwMCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGlucHV0Q2hhbmdlSGFuZGxlciAoKTogdm9pZCB7XG4gICAgem9vbU91dHB1dC52YWx1ZSA9IHpvb21TbGlkZXIudmFsdWU7XG4gICAgem9vbUhhbmRsZXIuem9vbVRvKE51bWJlcih6b29tT3V0cHV0LnZhbHVlKSAvIDEwMC4wKTtcbiAgfVxuXG4gIC8vIHpvb21TbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBpbnB1dENoYW5nZUhhbmRsZXIpO1xuICB6b29tU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBpbnB1dENoYW5nZUhhbmRsZXIpO1xuICB6b29tU2xpZGVyLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRab29tID0gcGFyc2VJbnQoem9vbU91dHB1dC52YWx1ZSk7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdBcnJvd1VwJyB8fCBldnQua2V5ID09PSAnQXJyb3dEb3duJyB8fCBcbiAgICBldnQua2V5ID09PSAnQXJyb3dSaWdodCcgfHwgZXZ0LmtleSA9PT0gJ0Fycm93TGVmdCcpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJysnKSB7IC8vIGluY3JlYXNlIHpvb20gYnkgMjBcbiAgICAgIGNvbnN0IG5ld1pvb20gPSBNYXRoLm1pbihjdXJyZW50Wm9vbSArIDIwLCBwYXJzZUludCh6b29tU2xpZGVyLmdldEF0dHJpYnV0ZSgnbWF4JykpKTtcbiAgICAgIHpvb21IYW5kbGVyLnpvb21UbyhuZXdab29tIC8gMTAwLjApO1xuICAgICAgem9vbU91dHB1dC52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICAgIHpvb21TbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3Wm9vbSk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnXycpIHsgLy8gZGVjcmVhc2Ugem9vbSBieSAyMFxuICAgICAgY29uc3QgbmV3Wm9vbSA9IE1hdGgubWF4KGN1cnJlbnRab29tIC0gMjAsIHBhcnNlSW50KHpvb21TbGlkZXIuZ2V0QXR0cmlidXRlKCdtaW4nKSkpO1xuICAgICAgem9vbUhhbmRsZXIuem9vbVRvKG5ld1pvb20gLyAxMDAuMCk7XG4gICAgICB6b29tT3V0cHV0LnZhbHVlID0gU3RyaW5nKG5ld1pvb20pO1xuICAgICAgem9vbVNsaWRlci52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICcwJykge1xuICAgICAgem9vbU91dHB1dC52YWx1ZSA9ICcxMDAnO1xuICAgICAgem9vbVNsaWRlci52YWx1ZSA9ICcxMDAnO1xuICAgICAgem9vbUhhbmRsZXIucmVzZXRab29tQW5kUGFuKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgTUVJIG9wYWNpdHkgdG8gdmFsdWUgZnJvbSB0aGUgc2xpZGVyLlxuICogQHBhcmFtIG1laUNsYXNzTmFtZSAtIENsYXNzIHRoYXQgY29udGFpbnMgdGhlIHJlbmRlcmVkIE1FSS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEdseXBoT3BhY2l0eUZyb21TbGlkZXIgKG1laUNsYXNzTmFtZT86IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBvcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcbiAgY29uc3Qgb3BhY2l0eVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGFjaXR5U2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICBvcGFjaXR5U2xpZGVyLnZhbHVlID0gb3BhY2l0eU91dHB1dC52YWx1ZTtcbiAgLy8gdGhpcyBpcyB3aGVyZSB3ZSBsb2FkIGdseXBoIG9wYWNpdHkgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gcGFnZS1sb2FkXG4gIHNldFNldHRpbmdzKHsgZ2x5cGhPcGFjaXR5OiBOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgfSk7XG5cbiAgLy8gZGlzcGF5IGNvcnJlY3Qgc2xpZGVyIHRvZ2dsZSBkaXNwbGF5IGljb25cbiAgY29uc3QgaGlkZUdseXBoSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZ2dsZS1nbHlwaC1vcGFjaXR5ID4gaW1nJyk7XG4gIGlmIChOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgPT09IDApIHtcbiAgICBoaWRlR2x5cGhJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc2hvdy1pY29uLnN2Z2ApO1xuICAgIGhpZGVHbHlwaEltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnU2hvdyBnbHlwaCcpO1xuICB9XG4gIGVsc2Uge1xuICAgIGhpZGVHbHlwaEltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9oaWRlLWljb24uc3ZnYCk7XG4gICAgaGlkZUdseXBoSW1nLnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0aXRsZScsICdIaWRlIGdseXBoJyk7XG4gIH1cblxuICB0cnkge1xuICAgICgoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBtZWlDbGFzc05hbWUpKSBhcyBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PikuZm9yRWFjaChnID0+IHtcbiAgICAgIGcuc3R5bGUub3BhY2l0eSA9IChOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgLyAxMDAuMCkudG9TdHJpbmcoKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUud2FybignVW5hYmxlIHRvIHByb3Blcmx5IHNldCBvcGFjaXR5IHRvIHBhZ2VzJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgcmVuZGVyZWQgTUVJIG9wYWNpdHkgYnV0dG9uIGFuZCBzbGlkZXIgbGlzdGVuZXJzLlxuICogQHBhcmFtIG1laUNsYXNzTmFtZSAtIENsYXNzIHRoYXQgY29udGFpbnMgdGhlIHJlbmRlcmVkIE1FSS5cbiAqL1xuZnVuY3Rpb24gc2V0R2x5cGhPcGFjaXR5Q29udHJvbHMgKG1laUNsYXNzTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IG9wYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BhY2l0eVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IG9wYWNpdHlPdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BhY2l0eU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgZ2x5cGhPcGFjaXR5IH0gPSBnZXRTZXR0aW5ncygpO1xuICBsYXN0R2x5cGhPcGFjaXR5ID0gZ2x5cGhPcGFjaXR5O1xuICBvcGFjaXR5U2xpZGVyLnZhbHVlID0gU3RyaW5nKGdseXBoT3BhY2l0eSk7XG4gIG9wYWNpdHlPdXRwdXQudmFsdWUgPSBTdHJpbmcoZ2x5cGhPcGFjaXR5KTtcblxuICBmdW5jdGlvbiBpbnB1dENoYW5nZU9wYWNpdHkgKCk6IHZvaWQge1xuICAgIG9wYWNpdHlPdXRwdXQudmFsdWUgPSBvcGFjaXR5U2xpZGVyLnZhbHVlO1xuICAgIGxhc3RHbHlwaE9wYWNpdHkgPSBOdW1iZXIob3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgc2V0R2x5cGhPcGFjaXR5RnJvbVNsaWRlcihtZWlDbGFzc05hbWUpO1xuICB9XG5cbiAgY29uc3QgdG9nZ2xlT3BhY2l0eUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGUtZ2x5cGgtb3BhY2l0eScpO1xuXG4gIGlmIChnbHlwaE9wYWNpdHkgPT0gMTAwKSB7XG4gICAgdG9nZ2xlT3BhY2l0eUJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRlLWljb24nKTtcbiAgfVxuXG4gIHRvZ2dsZU9wYWNpdHlCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXG4gICAgbGV0IG5ld09wYWNpdHk7XG4gICAgaWYgKHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRlLWljb24nKSkge1xuICAgICAgdG9nZ2xlT3BhY2l0eUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlLWljb24nKTtcbiAgICAgIG5ld09wYWNpdHkgPSAwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbml0aW9uIHNjYWxlIGlzIHRoZSByb290IGVsZW1lbnQgb2Ygd2hhdCBpcyBnZW5lcmF0ZWQgYnkgdmVyb3Zpb1xuICAgIFxuICAgIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIG1laUNsYXNzTmFtZSkgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4pLmZvckVhY2goZyA9PiB7XG4gICAgICBnLnN0eWxlLm9wYWNpdHkgPSBuZXdPcGFjaXR5LnRvU3RyaW5nKCk7XG4gICAgfSk7XG5cbiAgICBsYXN0R2x5cGhPcGFjaXR5ID0gTnVtYmVyKG9wYWNpdHlTbGlkZXIudmFsdWUpO1xuICAgIG9wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3T3BhY2l0eSAqIDEwMCk7XG4gICAgb3BhY2l0eU91dHB1dC52YWx1ZSA9IFN0cmluZyhNYXRoLnJvdW5kKG5ld09wYWNpdHkgKiAxMDApKTtcblxuICAgIHNldFNldHRpbmdzKHsgZ2x5cGhPcGFjaXR5OiBuZXdPcGFjaXR5ICogMTAwIH0pO1xuXG4gICAgaW5wdXRDaGFuZ2VPcGFjaXR5KCk7XG4gIH0pO1xuXG4gIG9wYWNpdHlTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBpbnB1dENoYW5nZU9wYWNpdHkpO1xuICBvcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGlucHV0Q2hhbmdlT3BhY2l0eSk7XG5cbiAgb3BhY2l0eVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xufVxuXG5cbi8qKlxuICogU2V0IGJhY2tncm91bmQgaW1hZ2Ugb3BhY2l0eSBidXR0b24gYW5kIHNsaWRlciBsaXN0ZW5lcnMuXG4gKiBAcGFyYW0gYmFja2dyb3VuZCAtIFRoZSBiYWNrZ3JvdW5kIGltYWdlIHNlbGVjdG9yLlxuICovXG5mdW5jdGlvbiBzZXRCZ09wYWNpdHlDb250cm9scyAoYmFja2dyb3VuZDogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGJnT3BhY2l0eVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZ09wYWNpdHlTbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBiZ09wYWNpdHlPdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmdPcGFjaXR5T3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG5cbiAgY29uc3QgeyBpbWFnZU9wYWNpdHkgfSA9IGdldFNldHRpbmdzKCk7XG4gIGxhc3RJbWFnZU9wYWNpdHkgPSBpbWFnZU9wYWNpdHk7XG4gIGJnT3BhY2l0eVNsaWRlci52YWx1ZSA9IFN0cmluZyhpbWFnZU9wYWNpdHkpO1xuICBiZ09wYWNpdHlPdXRwdXQudmFsdWUgPSBTdHJpbmcoaW1hZ2VPcGFjaXR5KTtcblxuICBmdW5jdGlvbiBiZ0lucHV0Q2hhbmdlSGFuZGxlciAoKTogdm9pZCB7XG4gICAgYmdPcGFjaXR5T3V0cHV0LnZhbHVlID0gYmdPcGFjaXR5U2xpZGVyLnZhbHVlO1xuICAgIGxhc3RJbWFnZU9wYWNpdHkgPSBOdW1iZXIoYmdPcGFjaXR5U2xpZGVyLnZhbHVlKTtcbiAgICBzZXRCZ09wYWNpdHlGcm9tU2xpZGVyKGJhY2tncm91bmQpO1xuICB9XG5cblxuICBjb25zdCB0b2dnbGVCZ09wYWNpdHlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWJnLW9wYWNpdHknKTtcblxuICBpZiAoaW1hZ2VPcGFjaXR5ID09IDEwMCkge1xuICAgIHRvZ2dsZUJnT3BhY2l0eUJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRlLWljb24nKTtcbiAgfVxuXG4gIHRvZ2dsZUJnT3BhY2l0eUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgIGxldCBuZXdPcGFjaXR5O1xuXG4gICAgaWYgKHRvZ2dsZUJnT3BhY2l0eUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGUtaWNvbicpKSB7XG4gICAgICB0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMTtcbiAgICB9XG4gICAgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYmFja2dyb3VuZClbMF0gYXMgSFRNTEVsZW1lbnQpXG4gICAgICAuc3R5bGUub3BhY2l0eSA9IG5ld09wYWNpdHkudG9TdHJpbmcoKTtcblxuICAgIGxhc3RJbWFnZU9wYWNpdHkgPSBOdW1iZXIoYmdPcGFjaXR5U2xpZGVyLnZhbHVlKTtcbiAgICBiZ09wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3T3BhY2l0eSAqIDEwMCk7XG4gICAgYmdPcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKE1hdGgucm91bmQobmV3T3BhY2l0eSAqIDEwMCkpO1xuXG4gICAgc2V0U2V0dGluZ3MoeyBpbWFnZU9wYWNpdHk6IG5ld09wYWNpdHkgKiAxMDAgfSk7XG4gICAgYmdJbnB1dENoYW5nZUhhbmRsZXIoKTtcbiAgfSk7XG5cbiAgYmdPcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgYmdJbnB1dENoYW5nZUhhbmRsZXIpO1xuICBiZ09wYWNpdHlTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgYmdJbnB1dENoYW5nZUhhbmRsZXIpO1xuXG4gIGJnT3BhY2l0eVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRCZ09wYWNpdHlGcm9tU2xpZGVyIChiYWNrZ3JvdW5kPzogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGJnT3BhY2l0eU91dHB1dDogSFRNTE91dHB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmdPcGFjaXR5T3V0cHV0Jyk7XG4gIFxuICBzZXRTZXR0aW5ncyh7IGltYWdlT3BhY2l0eTogTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgfSk7XG5cbiAgLy8gZGlzcGF5IGNvcnJlY3Qgc2xpZGVyIHRpZ2dsZSBkaXNwbGF5IGljb25cbiAgY29uc3QgaGlkZUJnSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZ2dsZS1iZy1vcGFjaXR5ID4gaW1nJyk7XG4gIGlmIChOdW1iZXIoYmdPcGFjaXR5T3V0cHV0LnZhbHVlKSA9PT0gMCkge1xuICAgIGhpZGVCZ0ltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9zaG93LWljb24uc3ZnYCk7XG4gICAgaGlkZUJnSW1nLnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0aXRsZScsICdTaG93IGJhY2tncm91bmQgaW1hZ2UnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBoaWRlQmdJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaGlkZS1pY29uLnN2Z2ApO1xuICAgIGhpZGVCZ0ltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnSGlkZSBiYWNrZ3JvdW5kIGltYWdlJyk7XG4gIH1cblxuICBjb25zdCBiZzogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtiYWNrZ3JvdW5kfWApO1xuICBpZiAoYmcpIGJnLnN0eWxlLm9wYWNpdHkgPSBTdHJpbmcoTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgLyAxMDApO1xufVxuXG4vKipcbiAqIFNldCBiYm94IGFkanVzdG1lbnQgY2lyY2xlIHNpemUgYnV0dG9uIGFuZCBzbGlkZXIgbGlzdGVuZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q2lyY2xlU2l6ZUNvbnRyb2xzICgpOiB2b2lkIHtcbiAgY29uc3QgY2lyY2xlU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NpcmNsZVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGNpcmNsZU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaXJjbGVPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcblxuICBjb25zdCB7IGNpcmNsZVNpemUgfSA9IGdldFNldHRpbmdzKCk7XG4gIGxhc3RDaXJjbGVTaXplID0gY2lyY2xlU2l6ZTtcbiAgY2lyY2xlU2xpZGVyLnZhbHVlID0gU3RyaW5nKGNpcmNsZVNpemUpO1xuICBjaXJjbGVPdXRwdXQudmFsdWUgPSBTdHJpbmcoY2lyY2xlU2l6ZSk7XG5cbiAgZnVuY3Rpb24gY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlciAoKTogdm9pZCB7XG4gICAgY2lyY2xlT3V0cHV0LnZhbHVlID0gY2lyY2xlU2xpZGVyLnZhbHVlO1xuICAgIGxhc3RDaXJjbGVTaXplID0gTnVtYmVyKGNpcmNsZVNsaWRlci52YWx1ZSk7XG4gICAgc2V0U2V0dGluZ3MoeyBjaXJjbGVTaXplOiBOdW1iZXIobGFzdENpcmNsZVNpemUpIH0pO1xuICAgIGNvbnN0IHJlc2l6ZVBvaW50cyA9IGQzLnNlbGVjdEFsbCgnLnJlc2l6ZVBvaW50Jyk7XG4gICAgaWYgKCFyZXNpemVQb2ludHMuZW1wdHkoKSkge1xuICAgICAgcmVzaXplUG9pbnRzLmF0dHIoJ3InLCBsYXN0Q2lyY2xlU2l6ZSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVzZXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXQtY2lyY2xlLXNpemUnKTtcbiAgcmVzZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgZGVmYXVsdFNpemUgPSAyNTsgXG4gICAgLy8gaWYgaGFzIHJlc2l6ZVBvaW50cyBkaXNwbGF5ZWRcbiAgICBjb25zdCByZXNpemVQb2ludHMgPSBkMy5zZWxlY3RBbGwoJy5yZXNpemVQb2ludCcpO1xuICAgIGlmICghcmVzaXplUG9pbnRzLmVtcHR5KCkpIHtcbiAgICAgIHJlc2l6ZVBvaW50cy5hdHRyKCdyJywgZGVmYXVsdFNpemUpO1xuICAgIH1cblxuICAgIGxhc3RDaXJjbGVTaXplID0gTnVtYmVyKGRlZmF1bHRTaXplKTtcbiAgICBjaXJjbGVTbGlkZXIudmFsdWUgPSBTdHJpbmcoZGVmYXVsdFNpemUpO1xuICAgIGNpcmNsZU91dHB1dC52YWx1ZSA9IFN0cmluZyhkZWZhdWx0U2l6ZSk7XG5cbiAgICBzZXRTZXR0aW5ncyh7IGNpcmNsZVNpemU6IE51bWJlcihkZWZhdWx0U2l6ZSkgfSk7XG4gICAgY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlcigpO1xuICB9KTtcblxuICBjaXJjbGVTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBjaXJjbGVTaXplSW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgY2lyY2xlU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGNpcmNsZVNpemVJbnB1dENoYW5nZUhhbmRsZXIpO1xuXG4gIGNpcmNsZVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBoaWdobGlnaHQgZHJvcGRvd24gb3B0aW9uICsgZGlzcGxheVxuICogQHBhcmFtIGdyb3VwIC0gR3JvdXBpbmdUeXBlIC8gVGhlIERPTSBlbGVtZW50J3MgaWQgYXMgYGhpZ2hsaWdodC0ke2lkfWBcbiAqL1xuZnVuY3Rpb24gdXBkYXRlSGlnaGxpZ2h0T3B0aW9uIChncm91cDogR3JvdXBpbmdUeXBlKTogdm9pZCB7XG4gIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBoaWdobGlnaHQtJHtncm91cH1gKTtcbiAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJyk7XG4gIGNvbnN0IGhpZ2hsaWdodFR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LXR5cGUnKTtcblxuICAvLyBzYXZlIGhpZ2hsaWdodCBvcHRpb24gdG8gbG9jYWxTdG9yYWdlXG4gIHNldFNldHRpbmdzKHsgaGlnaGxpZ2h0TW9kZTogZ3JvdXAgfSk7XG5cbiAgZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gIH0pO1xuXG4gIGlmIChncm91cCA9PT0gJ25vbmUnKSB7XG4gICAgaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudCA9ICdcXHhBMC0gT2ZmJztcbiAgICBDb2xvci51bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBvcHRpb24uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG5cbiAgLy8gVGV4dCBjb250ZW50IGlzIHRoZSBncm91cGluZyB0eXBlIGNhcGl0YWxpemVkXG4gIGhpZ2hsaWdodFR5cGUudGV4dENvbnRlbnQgPSBgXFx4QTAtICR7Z3JvdXBbMF0udG9VcHBlckNhc2UoKSArIGdyb3VwLnNsaWNlKDEpfWA7XG4gIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KGdyb3VwKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBUaGUgaGlnaGxpZ2h0IG1vZGUgY2hvc2VuIGJ5IHRoZSB1c2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGlnaGxpZ2h0VHlwZSAoKTogR3JvdXBpbmdUeXBlIHtcbiAgY29uc3QgaGlnaGxpZ2h0VHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtdHlwZScpO1xuICByZXR1cm4gaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudC5zbGljZSgzKS50b0xvd2VyQ2FzZSgpIGFzIEdyb3VwaW5nVHlwZTtcbn1cblxuLyoqXG4gKiBTZXQgY2xpY2sgbGlzdGVuZXIgZm9yIGVhY2ggaGlnaGxpZ2h0IGRyb3Bkb3duIG9wdGlvblxuICogQHBhcmFtIGdyb3VwIC0gR3JvdXBpbmdUeXBlIC8gVGhlIERPTSBlbGVtZW50J3MgaWQgYXMgYGhpZ2hsaWdodC0ke2lkfWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodE9wdGlvbiAoZ3JvdXA6IEdyb3VwaW5nVHlwZSk6IHZvaWQge1xuICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaGlnaGxpZ2h0LSR7Z3JvdXB9YCk7XG4gIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oZ3JvdXApO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDbGlja2F3YXkgbGlzdGVuZXIgZm9yIHRoZSBoaWdobGlnaHQgZHJvcGRvd24uXG4gKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodENsaWNrYXdheSAoKTogdm9pZCB7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG59XG5cbi8qKlxuICogU2V0IGxpc3RlbmVyIG9uIHN0YWZmIGhpZ2hsaWdodGluZyBjaGVja2JveC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodENvbnRyb2xzICgpOiB2b2lkIHtcbiAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJyk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZHJvcGRvd24uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgaWYgKGRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuXG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ2NvbHVtbicpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdzdGFmZicpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdzeWxsYWJsZScpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCduZXVtZScpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdsYXllckVsZW1lbnQnKTtcbiAgICAgIHNldEhpZ2hsaWdodE9wdGlvbignbm9uZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlnaGxpZ2h0Q2xpY2thd2F5KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAgKiBTZXQgbGlzdGVuZXIgb24ga2V5IHNob3J0Y3V0cyBmb3Igc3dpdGNoaW5nIGJldHdlZW4gaGlnaGxpZ2h0c1xuICAqIFxuICAqIFRoZSBjdXJyZW50IHBsYW4gaXMgdG8gdXNlIHRoZSBrZXlzIHEsIHcsIGUsIHIsIHQsIGFuZCB5XG4gICovXG5mdW5jdGlvbiBzZXRIaWdobGlnaHRLZXlDb250cm9scyAoKTogdm9pZCB7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICAvLyBQcmV2ZW50IGNtZC9jdHJsK3IgZnJvbSBjaGFuZ2luZyBoaWdobGlnaHQgb3B0aW9uXG4gICAgaWYgKGV2dC5tZXRhS2V5KSByZXR1cm47XG5cbiAgICBzd2l0Y2ggKGV2dC5rZXkpIHtcbiAgICAgIGNhc2UgJ3EnOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ3N0YWZmJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndyc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignc3lsbGFibGUnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdlJzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCduZXVtZScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3InOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ2xheWVyRWxlbWVudCcpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3QnOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ3NlbGVjdGlvbicpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3knOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ25vbmUnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodFNlbGVjdGlvbkNvbnRyb2xzICgpOiB2b2lkIHtcbiAgY29uc3QgaGlnaGxpZ2h0U2VsZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1zZWxlY3Rpb24nKTtcbiAgaGlnaGxpZ2h0U2VsZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuZm9yRWFjaChlbGVtID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gICAgfSk7XG4gICAgaGlnaGxpZ2h0U2VsZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodC1zZWxlY3RlZCcpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtdHlwZScpLnRleHRDb250ZW50ID0gJyAtIFNlbGVjdGlvbic7XG4gICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3NlbGVjdGlvbicpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZXNldCB0aGUgaGlnaGxpZ2h0IGZvciBkaWZmZXJlbnQgdHlwZXMgYmFzZWQgb24gdGhlICdoaWdobGlnaHQtc2VsZWN0ZWQnIGNsYXNzIGluIHRoZSBET00uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVIaWdobGlnaHQgKCk6IHZvaWQge1xuICBsZXQgaGlnaGxpZ2h0SWQ6IHN0cmluZztcbiAgdHJ5IHtcbiAgICBoaWdobGlnaHRJZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5pZDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGhpZ2hsaWdodElkID0gJyc7XG4gIH1cbiAgc3dpdGNoIChoaWdobGlnaHRJZCkge1xuICAgIGNhc2UgJ2hpZ2hsaWdodC1jb2x1bW4nOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ2NvbHVtbicpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LXN0YWZmJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzdGFmZicpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LXN5bGxhYmxlJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzeWxsYWJsZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LW5ldW1lJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCduZXVtZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LWxheWVyRWxlbWVudCc6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnbGF5ZXJFbGVtZW50Jyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtc2VsZWN0aW9uJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzZWxlY3Rpb24nKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBDb2xvci51bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgbGlzdGVuZXIgb24gYnVyZ2VyIG1lbnUgZm9yIHNtYWxsZXIgc2NyZWVucy5cbiAqL1xuZnVuY3Rpb24gc2V0QnVyZ2VyQ29udHJvbHMgKCk6IHZvaWQge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVyZ2VyTWVudScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXJnZXJNZW51JykuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdk1lbnUnKS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgfSk7XG59XG5cbi8qKiBcbiAqIFNldCBsaXN0ZW5lciBmb3IgXCJEaXNwbGF5IEFsbFwiIGJ1dHRvbiBpbiBEaXNwbGF5IHBhbmVsLlxuKi9cbmZ1bmN0aW9uIHNldERpc3BsYXlBbGxMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3Qgc2VsZWN0QWxsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc3BsYXktYWxsLWJ0bicpO1xuICBzZWxlY3RBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgLy8gYXQgdGhlIG1vbWVudCwgY2xhc3NuYW1lICdzZWxlY3RlZCcgaXMgb25seSB1c2VkIGZvciB0cmFja2luZyBwdXJwb3Nlc1xuICAgIGlmIChzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgIHNlbGVjdEFsbEJ0bi5pbm5lckhUTUwgPSAnRGlzcGxheSBBbGwnO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3gtY29udGFpbmVyOm5vdChbc3R5bGUqPVwiZGlzcGxheTogbm9uZTtcIl0pID4gLmNoZWNrYm94Jyk7XG5cbiAgICAgIEFycmF5LmZyb20ob3B0aW9ucykuZm9yRWFjaCgob3B0aW9uOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlmIChvcHRpb24uY2hlY2tlZCkgb3B0aW9uLmNsaWNrKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgIHNlbGVjdEFsbEJ0bi5pbm5lckhUTUwgPSAnSGlkZSBBbGwnO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3gtY29udGFpbmVyOm5vdChbc3R5bGUqPVwiZGlzcGxheTogbm9uZTtcIl0pID4gLmNoZWNrYm94Jyk7XG4gICAgICBcbiAgICAgIEFycmF5LmZyb20ob3B0aW9ucykuZm9yRWFjaCgob3B0aW9uOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlmICghb3B0aW9uLmNoZWNrZWQpIG9wdGlvbi5jbGljaygpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqIFxuICogVXBkYXRlIGBEaXNwbGF5IEFsbGAgYnV0dG9uIHN0YXR1c1xuKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5QWxsQnRuKCk6IHZvaWQge1xuICBjb25zdCBkaXNwbGF5QWxsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktYWxsLWJ0bicpO1xuICBjb25zdCBkaXNwbGF5SW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5SW5mbycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGRpc3BsYXlCQm94ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUJCb3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBkaXNwbGF5VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5VGV4dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGRpc3BsYXlFcnJMb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1lcnJvcnMnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIC8vIGlmIGFsbCBvcHRpb25zIGFyZSBzZWxlY3RlZCxcbiAgLy8gc2V0IFwiRGlzcGxheS9IaWRlIEFsbFwiIGJ1dHRvbiB0byBcIkhpZGUgQWxsXCIuXG4gIGlmIChkaXNwbGF5SW5mbz8uY2hlY2tlZCAmJiBkaXNwbGF5QkJveGVzPy5jaGVja2VkICYmIFxuICAgIGRpc3BsYXlUZXh0Py5jaGVja2VkICYmIGRpc3BsYXlFcnJMb2c/LmNoZWNrZWQpIHtcbiAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnSGlkZSBBbGwnO1xuICB9IGVsc2Uge1xuICAgIC8vIGlmIFwiRGlzcGxheS9IaWRlIEFsbFwiIGJ1dHRvbiBpcyBpbiBcIkhpZGUgQWxsXCIgbW9kZSwgc2V0IGl0IHRvIFwiRGlzcGxheSBBbGxcIiBtb2RlXG4gICAgaWYgKGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdEaXNwbGF5IEFsbCc7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogTG9hZCBoaWdobGlnaHQgc2V0dGluZ3MgZnJvbSBsb2NhbFN0b3JhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRIaWdobGlnaHRTZXR0aW5ncyAoKTogdm9pZCB7XG4gIGNvbnN0IHsgaGlnaGxpZ2h0TW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKGhpZ2hsaWdodE1vZGUpO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgbGlzdGVuZXJzIGFuZCBjb250cm9scyBmb3IgZGlzcGxheSBwYW5lbC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZWlDbGFzc05hbWUgLSBUaGUgY2xhc3MgdXNlZCB0byBzaWduaWZpeSB0aGUgTUVJIGVsZW1lbnQocykuXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFja2dyb3VuZCAtIFRoZSBjbGFzcyB1c2VkIHRvIHNpZ25pZnkgdGhlIGJhY2tncm91bmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RGlzcGxheUNvbnRyb2xzIChtZWlDbGFzc05hbWU6IHN0cmluZywgYmFja2dyb3VuZDogc3RyaW5nKTogdm9pZCB7XG4gIHNldEdseXBoT3BhY2l0eUNvbnRyb2xzKG1laUNsYXNzTmFtZSk7XG4gIHNldEJnT3BhY2l0eUNvbnRyb2xzKGJhY2tncm91bmQpO1xuICBzZXRIaWdobGlnaHRDb250cm9scygpO1xuICBzZXRCdXJnZXJDb250cm9scygpO1xuICBzZXRIaWdobGlnaHRLZXlDb250cm9scygpO1xuICBzZXREaXNwbGF5QWxsTGlzdGVuZXIoKTtcbiAgbG9hZEhpZ2hsaWdodFNldHRpbmdzKCk7XG5cbiAgY29uc3QgZGlzcGxheUNvbnRlbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlDb250ZW50cycpO1xuICBjb25zdCB0b2dnbGVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZURpc3BsYXknKTtcbiAgY29uc3QgZGlzcGxheUhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5SGVhZGVyJyk7XG5cbiAgZGlzcGxheUhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvLyBpZiBkaXNwbGF5IHBhbmVsIGlzIGNsb3NlZCwgb3BlbiBpdFxuICAgIGlmIChkaXNwbGF5Q29udGVudHMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZWQnKSkge1xuICAgICAgZGlzcGxheUNvbnRlbnRzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlZCcpO1xuICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMC41ZW0gMC43NWVtJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkaXNwbGF5Q29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgICB9LCAyMDApO1xuICAgICAgdG9nZ2xlRGlzcGxheS5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25gKTtcbiAgICB9IFxuICAgIC8vIGlmIGRpc3BsYXkgcGFuZWwgaXMgb3BlbiwgY2xvc2UgaXRcbiAgICBlbHNlIHtcbiAgICAgIGRpc3BsYXlDb250ZW50cy5jbGFzc0xpc3QuYWRkKCdjbG9zZWQnKTtcbiAgICAgIGRpc3BsYXlDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRpc3BsYXlDb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzBweCc7XG4gICAgICB9LCAyMDApO1xuICAgICAgdG9nZ2xlRGlzcGxheS5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLXNpZGVgKTtcbiAgICB9XG4gIH0pO1xufVxuXG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU2V0VGV4dEFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IE1vZGFsV2luZG93SW50ZXJmYWNlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBob3RrZXlzTW9kYWwsIGVkaXRUZXh0TW9kYWwgfSBmcm9tICcuLi9TcXVhcmVFZGl0L0NvbnRlbnRzJztcbmltcG9ydCB7IG5ld0ZvbGRlckhUTUwsIHJlbmFtZUhUTUwsIHVwbG9hZEFyZWFIVE1MIH0gZnJvbSAnLi4vRGFzaGJvYXJkL0Rhc2hib2FyZENvbnRlbnQnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgc2VsZWN0QkJveCwgdW5zZWxlY3QgfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcblxuXG4vKipcbiAqIERlZmluZXMgbW9kYWwgdHlwZXMuXG4gKiBUbyBjcmVhdGUgbmV3IG1vZGFsIHdpbmRvdyB0eXBlcywgYWRkIGVudW0gb3B0aW9uIGFuZCBpbXBsZW1lbnQgbG9naWMgaW5zaWRlIE1vZGFsIGNsYXNzLlxuICovXG5leHBvcnQgZW51bSBNb2RhbFdpbmRvd1ZpZXcge1xuICBFRElUX1RFWFQsXG4gIEhPVEtFWVMsXG4gIEVSUk9SX0xPRywgLy8gZm9yIHZhbGlkYXRpb24gZXJyb3JzIGFnYWluc3QgTUVJIHNjaGVtYSBhbmQgaW52YWxpZCBlbGVtZW50IGVycm9yc1xuICBET0NVTUVOVF9VUExPQUQsXG4gIE1PVkVfVE8sXG4gIE5FV19GT0xERVIsXG4gIFJFTkFNRVxufVxuXG5lbnVtIE1vZGFsV2luZG93U3RhdGUge1xuICBPUEVOLFxuICBDTE9TRURcbn1cblxuXG5cbi8qKlxuICogTW9kYWwgY2xhc3MgaXMgdXNlZCB0byBjcmVhdGUgYW5kIGNvbnRyb2wgc3RhdGUvY29udGVudCBcbiAqIG9mIG1vZGFsIHdpbmRvd3MgaW4gTmVvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGFsV2luZG93IGltcGxlbWVudHMgTW9kYWxXaW5kb3dJbnRlcmZhY2Uge1xuICBwcml2YXRlIG1vZGFsV2luZG93VmlldzogTW9kYWxXaW5kb3dWaWV3OyAvLyBjdXJyZW50IG1vZGFsIHR5cGVcbiAgcHJpdmF0ZSBtb2RhbFdpbmRvd1N0YXRlOiBNb2RhbFdpbmRvd1N0YXRlOyAvLyBvcGVuIG9yIGNsb3NlZD9cbiAgcHJpdmF0ZSBuZW9uVmlldzogTmVvblZpZXc7IC8vIG5lb25WaWV3IGluc3RhbmNlIGNvbnRleHRcblxuXG4gIC8qKlxuICAgKiBTZXQgbmVvblZpZXcgaW5zdGFuY2UgY29udGV4dCBmb3IgdGhpcyBtb2RhbCB3aW5kb3cgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSBuZW9uVmlldyBuZW9uVmlldyBjb250ZXh0IGZvciBNb2RhbCBpbnN0YW5jZVxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3PzogTmVvblZpZXcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1N0YXRlID0gTW9kYWxXaW5kb3dTdGF0ZS5DTE9TRUQ7XG4gICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGV2ZW50IGxpc3RlbmVycyB0aGF0IGFwcGx5IHRvIGFsbCBtb2RhbCB3aW5kb3dzXG4gICAqL1xuICBwcml2YXRlIHNldHVwRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWhlYWRlci1jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93JykuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyLmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZm9jdXNNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1vZGFsIHdpbmRvd1xuICAgKi9cbiAgcHJpdmF0ZSByZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLWNsb3NlJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3cnKS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mb2N1c01vZGFsV2luZG93LmJpbmQodGhpcykpO1xuICB9XG5cblxuICAvKipcbiAgICogU2V0IHRoZSBtb2RhbCB2aWV3IG9mIHRoaXMgTW9kYWwgaW5zdGFuY2UuXG4gICAqIFVwZGF0ZSB0aGUgY29udGVudCBiYXNlZCBvbiBwYXNzZWQgdmlldy5cbiAgICogQHBhcmFtIHZpZXcgVHlwZSBvZiBtb2RhbCB0byBvcGVuIChNb2RhbFZpZXcgZW51bSlcbiAgICovXG4gIHNldE1vZGFsV2luZG93Vmlldyh2aWV3OiBNb2RhbFdpbmRvd1ZpZXcsIGNvbnRlbnQ/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLm1vZGFsV2luZG93VmlldyA9IHZpZXc7XG4gICAgdGhpcy5zZXRNb2RhbFdpbmRvd0NvbnRlbnQoY29udGVudCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgbW9kYWwgdmlldyBhcyBhIHN0cmluZ1xuICAgKi9cbiAgZ2V0TW9kYWxXaW5kb3dWaWV3KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubW9kYWxXaW5kb3dWaWV3LnRvU3RyaW5nKCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBPcGVuIGEgbW9kZWwgd2luZG93IHdpdGggY29udGVudCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgTW9kYWxWaWV3LlxuICAgKi9cbiAgb3Blbk1vZGFsV2luZG93KCk6IHZvaWQge1xuICAgIC8vIG1ha2Ugc3VyZSBubyBvdGhlciBtb2RhbCBjb250ZW50IGlzIGJlaW5nIGRpc3BsYXllZFxuICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudCcpKS5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICB9KTtcbiAgICBzd2l0Y2godGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIFxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICB0aGlzLm9wZW5FZGl0U3lsVGV4dE1vZGFsV2luZG93KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkhPVEtFWVM6XG4gICAgICAgIC8vIHNldCB1cCBhbmQgZGlwbGF5IGhvdGtleSBtb2RhbCBjb250ZW50XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXMnKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgICAgLy8gYWRkIGZ1bmN0aW9uIHRvIHBhaXJpbmcgYnV0dG9uXG4gICAgICAgIC8vIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5NT1ZFX1RPOlxuICAgICAgICBcbiAgICAgICAgLy8gYnJlYWs7XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ORVdfRk9MREVSOlxuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5SRU5BTUU6XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIG1ha2Ugc3VyZSB1c2VyIGNhbid0IHNjcm9sbCB3aGVuIG1vZGFsIGlzIG9wZW5cbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1N0YXRlID0gTW9kYWxXaW5kb3dTdGF0ZS5PUEVOO1xuICB9XG5cblxuXG4gIC8qKlxuICAgKiBIaWRlIHRoZSBOZW9uIG1vZGFsIHdpbmRvd1xuICAgKi9cbiAgaGlkZU1vZGFsV2luZG93KCk6IHZvaWQge1xuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBjb25zdCBzcGFuID0gKDxIVE1MU3BhbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc2VsZWN0ZWQtdG8tZWRpdCcpWzBdKTtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZC10by1lZGl0Jyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk1PVkVfVE86XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ORVdfRk9MREVSOlxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuUkVOQU1FOlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1jb250YWluZXInKS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH0gXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgLy8gcmVzZXQgc2Nyb2xsIGJlaGF2aW9yIG9mIGJvZHlcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1N0YXRlID0gTW9kYWxXaW5kb3dTdGF0ZS5DTE9TRUQ7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICB9XG5cblxuICAvKipcbiAgICogU2V0IGNvbnRlbnQgb2YgbW9kYWwgd2luZG93XG4gICAqL1xuICBwcml2YXRlIHNldE1vZGFsV2luZG93Q29udGVudChjb250ZW50Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtY29udGFpbmVyJyk7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLXRpdGxlJyk7XG5cbiAgICBzd2l0Y2ggKHRoaXMubW9kYWxXaW5kb3dWaWV3KSB7XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5FRElUX1RFWFQ6XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBlZGl0VGV4dE1vZGFsO1xuICAgICAgICAvLyBzZXQgbW9kYWwgd2luZG93IHRpdGxlXG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdFRElUIFNZTExBQkxFIFRFWFQnO1xuXG4gICAgICAgIC8vIHNwYW4gYW5kIGN1cnJlbnQgdGV4dCBvZiBzZWxlY3RlZC10by1lZGl0IHN5bGxhYmxlIGFuZCBmaWx0ZXIgb3V0IHVud2FudGVkIGNoYXJzXG4gICAgICAgIGNvbnN0IHNwYW4gPSA8SFRNTFNwYW5FbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLnNlbGVjdGVkLXRvLWVkaXQnKVswXTtcbiAgICAgICAgY29uc3QgcmVtb3ZlU3ltYm9sID0gL1xcdXsyNUNBfS91O1xuICAgICAgICBjb25zdCBvcmlnID0gc3Bhbi50ZXh0Q29udGVudC5yZXBsYWNlKHJlbW92ZVN5bWJvbCwgJycpLnRyaW0oKTtcblxuICAgICAgICAvLyBzZXQgdmFsdWUgb2YgaW5wdXQgZmllbGQgdG8gY3VycmVudCBzeWxsYWJsZSB0ZXh0XG4gICAgICAgICg8SFRNTElucHV0RWxlbWVudD4gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXQnKSkpLnZhbHVlID0gb3JpZztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkhPVEtFWVM6XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBob3RrZXlzTW9kYWw7XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdIT1RLRVlTJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVSUk9SX0xPRzpcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IFxuICAgICAgICAgIGA8ZGl2IHN0eWxlPVwibWFyZ2luLWJvdHRvbTogMzBweDt3aGl0ZS1zcGFjZTogcHJlLWxpbmU7XCI+JHtjb250ZW50fTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1idG5cIj5cbiAgICAgICAgICAgIDxhIGhyZWY9XCJkYXRhOnRleHQvcGxhaW47Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSShjb250ZW50KX1cIiBkb3dubG9hZD1cImVycm9yLmxvZ1wiPlxuICAgICAgICAgICAgICBFeHBvcnRcbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PmA7XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdFUlJPUiBMT0cnO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRE9DVU1FTlRfVVBMT0FEOlxuICAgICAgICB0aXRsZS5pbm5lclRleHQgPSAnRE9DVU1FTlQgVVBMT0FEJztcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IHVwbG9hZEFyZWFIVE1MO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuTU9WRV9UTzpcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gJ01PVkUgVE8nO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuTkVXX0ZPTERFUjpcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gJ05FVyBGT0xERVInO1xuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gbmV3Rm9sZGVySFRNTDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LlJFTkFNRTpcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gJ1JFTkFNRSc7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSByZW5hbWVIVE1MO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZS4gVGhpcyBzaG91bGQgbm90IGhhdmUgb2NjdXJyZWQuJyk7XG4gICAgfSBcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEZpbGwgbW9kYWwgd2luZG93IHdpdGggY29udGVudCBmb3IgdXBkYXRpbmcgc3lsbGFibGUgdGV4dFxuICAgKi9cbiAgcHJpdmF0ZSBvcGVuRWRpdFN5bFRleHRNb2RhbFdpbmRvdyA9IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgIC8vIG1ha2Ugc3VyZSBubyBvdGhlciBtb2RhbCBjb250ZW50IGlzIGJlaW5nIGRpc3BsYXllZFxuICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudCcpKS5mb3JFYWNoKCAoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgdXAgRWRpdCBTeWxsYWJsZSBUZXh0IG1vZGFsIHdpbmRvd1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWVkaXQtdGV4dCcpLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcbiAgICBcbiAgICAvLyBSZXNldCBcIkNhbmNlbFwiIGJ1dHRvbiBldmVudCBsaXN0ZW5lclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVNb2RhbFdpbmRvdyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1jYW5jZWwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1vZGFsV2luZG93LmJpbmQodGhpcykpO1xuXG4gICAgLy8gUmVzZXQgXCJTYXZlXCIgYnV0dG9uIGV2ZW50IGxpc3RlbmVyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnVwZGF0ZVN5bFRleHQuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnVwZGF0ZVN5bFRleHQuYmluZCh0aGlzKSk7XG5cbiAgICAvLyBkaXNwbGF5IG1vZGFsIHdpbmRvd1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuZm9jdXNNb2RhbFdpbmRvdygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGV4dCBvZiBzZWxlY3RlZC10by1lZGl0IHN5bGxhYmxlcyB3aXRoIHVzZXItcHJvdmlkZWQgdGV4dFxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVTeWxUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIHNwYW4gYW5kIGN1cnJlbnQgdGV4dCBvZiBzZWxlY3RlZC10by1lZGl0IHN5bGxhYmxlIGFuZCBmaWx0ZXIgb3V0IHVud2FudGVkIGNoYXJzXG4gICAgY29uc3Qgc3BhbiA9IDxIVE1MU3BhbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc2VsZWN0ZWQtdG8tZWRpdCcpWzBdO1xuICAgIGNvbnN0IHJlbW92ZVN5bWJvbCA9IC9cXHV7MjVDQX0vdTtcbiAgICBjb25zdCBvcmlnID0gc3Bhbi50ZXh0Q29udGVudC5yZXBsYWNlKHJlbW92ZVN5bWJvbCwgJycpLnRyaW0oKTtcbiAgICBjb25zdCB1cGRhdGVkU3lsVGV4dCA9ICg8SFRNTElucHV0RWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dCcpKS52YWx1ZTtcblxuICAgIGlmICh1cGRhdGVkU3lsVGV4dCAhPT0gbnVsbCAmJiB1cGRhdGVkU3lsVGV4dCAhPT0gb3JpZykge1xuICAgICAgLy8gY3JlYXRlIFwic2V0IHRleHRcIiBhY3Rpb25cbiAgICAgIGNvbnN0IGVsZW1lbnRJZCA9IFsuLi5zcGFuLmNsYXNzTGlzdC5lbnRyaWVzKCldLmZpbHRlcigoY2xhc3NOYW1lKSA9PiBjbGFzc05hbWVbMV0gIT09ICd0ZXh0LXNlbGVjdCcgJiYgY2xhc3NOYW1lWzFdICE9PSAnc2VsZWN0ZWQtdG8tZWRpdCcpWzBdWzFdO1xuICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBTZXRUZXh0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXRUZXh0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZCxcbiAgICAgICAgICB0ZXh0OiB1cGRhdGVkU3lsVGV4dCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICAvLyBzZW5kIGFjdGlvbiB0byB2ZXJvdmlvIGZvciBwcm9jZXNzaW5nXG4gICAgICB0aGlzLm5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzcG9uc2U6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgLy8gdXBkYXRlIHRoZSBTVkdcbiAgICAgICAgICB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBBbiB1cGRhdGUgdG8gdGhlIHBhZ2Ugd2lsbCByZWxvYWQgdGhlIGVudGlyZSBzdmc7XG4gICAgICAgICAgICAvLyBXZSB3b3VsZCBsaWtlIHRvIHRoZW4gcmVzZWxlY3QgdGhlIHNhbWUgc2VsZWN0ZWQgc3lsbGFibGVcbiAgICAgICAgICAgIC8vIGlmIGJib3hlcyBhcmUgZW5hYmxlZFxuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZEJCb3goc3BhbiwgdGhpcy5kcmFnSGFuZGxlciwgdGhpcy5uZW9uVmlldyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyByZXNlbGVjdCBpZiBubyBjaGFuZ2UgaXMgbWFkZVxuICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZEJCb3goc3BhbiwgdGhpcy5kcmFnSGFuZGxlciwgdGhpcy5uZW9uVmlldyk7XG4gICAgfVxuICAgIC8vIGNsb3NlIG1vZGFsIHdpbmRvd1xuICAgIHRoaXMuaGlkZU1vZGFsV2luZG93KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgYm91bmRpbmcgYm94IHNlbGVjdGVkIHdoZW4gdGhlIGVkaXQgdGV4dCBtb2RhbCBoYXMgYmVlbiBjbGlja2VkIFxuICAqL1xuICB1cGRhdGVTZWxlY3RlZEJCb3ggKHNwYW46IEhUTUxTcGFuRWxlbWVudCwgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLCBuZW9uVmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgICB1bnNlbGVjdCgpO1xuXG4gICAgY29uc3QgYmJveElkID0gQXJyYXkuZnJvbShzcGFuLmNsYXNzTGlzdCkuZmluZChlID0+IGUgIT09ICd0ZXh0LXNlbGVjdCcgJiYgZSAhPT0gJ3NlbGVjdGVkLXRvLWVkaXQnKTtcblxuICAgIGlmICgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlCQm94JykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCkge1xuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJib3hJZCkpIHtcbiAgICAgICAgY29uc3QgZGlzcGxheVJlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYm94SWQpLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykgYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBzZWxlY3RCQm94KGRpc3BsYXlSZWN0LCBkcmFnSGFuZGxlciwgbmVvblZpZXcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEZpbGwgbW9kYWwgd2luZG93IHdpdGggaG90a2V5IGluZm8gY29udGVudFxuICAgKi9cbiAgLypcbiAgcHJpdmF0ZSBvcGVuSG90a2V5TW9kYWxXaW5kb3cgPSBmdW5jdGlvbigpIHsgICBcbiAgICAvLyBtYWtlIHN1cmUgbm8gb3RoZXIgbW9kYWwgY29udGVudCBpcyBiZWluZyBkaXNwbGF5ZWRcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQnKSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgdXAgYW5kIGRpcGxheSBob3RrZXkgbW9kYWwgY29udGVudFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXMnKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgfTtcbiAgKi9cblxuXG4gIC8qKlxuICAgKiBEZWZpbmUgZXZlbnQgbGlzdGVuZXJzIGZvciBtb2RhbCB3aW5kb3cgYmFzZWQgb24gbW9kYWxWaWV3IHR5cGVcbiAgICovXG4gIHByaXZhdGUga2V5ZG93bkxpc3RlbmVyID0gZnVuY3Rpb24oZSkge1xuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7IC8vIHByZXZlbnQgTmVvbiBob3RrZXkgZXZlbnRzIGZyb20gZmlyaW5nIHdoZW4gdXNlciBpcyB0eXBpbmdcblxuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHRoaXMudXBkYXRlU3lsVGV4dCgpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB0aGlzLmhpZGVNb2RhbFdpbmRvdygpO1xuICAgIH0gIFxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEV2ZW50IGxpc3RlbmVyIHRoYXQgZm9jdXNlcyB0aGUgbW9kYWwgd2luZG93IGlmIHVzZXIgY2xpY2tzIGFueXdoZXJlIG91dHNpZGUgb2YgaXRcbiAgICovXG4gIHByaXZhdGUgZm9jdXNNb2RhbFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXQnKSkuc2VsZWN0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRE9DVU1FTlRfVVBMT0FEOlxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuTkVXX0ZPTERFUjpcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LlJFTkFNRTpcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3cnKS5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxufVxuIiwiaW1wb3J0ICogYXMgQ29udGVudHMgZnJvbSAnLi9Db250ZW50cyc7XG5pbXBvcnQgKiBhcyBHcm91cGluZyBmcm9tICcuL0dyb3VwaW5nJztcbmltcG9ydCBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBTcGxpdFN0YWZmSGFuZGxlciB9IGZyb20gJy4vU3RhZmZUb29scyc7XG5pbXBvcnQgeyBTcGxpdE5ldW1lSGFuZGxlciB9IGZyb20gJy4vTmV1bWVUb29scyc7XG5pbXBvcnQge1xuICBDaGFpbkFjdGlvbixcbiAgQ2hhbmdlU3RhZmZBY3Rpb24sXG4gIERpc3BsYWNlQ2xlZk9jdGF2ZUFjdGlvbixcbiAgRWRpdG9yQWN0aW9uLFxuICBNYXRjaEhlaWdodEFjdGlvbixcbiAgUmVtb3ZlQWN0aW9uLFxuICBTZXRBY3Rpb24sXG4gIFNldENsZWZBY3Rpb24sXG4gIFNldExpcXVlc2NlbnRBY3Rpb25cbn0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgZ2V0U3RhZmZCQm94IH0gZnJvbSAnLi4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuXG4vKipcbiAqIFRoZSBOZW9uVmlldyBwYXJlbnQgdG8gY2FsbCBlZGl0b3IgYWN0aW9ucy5cbiAqL1xubGV0IG5lb25WaWV3OiBOZW9uVmlldztcblxuLyoqXG4gKiBJbml0aWFsaXplIE5lb25WaWV3LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdE5lb25WaWV3ICh2aWV3OiBOZW9uVmlldyk6IHZvaWQge1xuICBuZW9uVmlldyA9IHZpZXc7XG4gIEdyb3VwaW5nLmluaXROZW9uVmlldyh2aWV3KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgaW5jbGluYXR1bSBwYXJhbWV0ZXIgb2YgYSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldEluY2xpbmF0dW1BY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgdmlyZ2EgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRWaXJnYUFjdGlvbiAoaWQ6IHN0cmluZyk6IFNldEFjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiAnc2V0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICBhdHRyVmFsdWU6ICcnXG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgbmV1bWUgY29tcG9uZW50LlxuICogQHJldHVybnMgQW4gYWN0aW9uIHRoYXQgdW5zZXRzIHRoZSByZXZlcnNlZCB2aXJnYSBwYXJhbWV0ZXIgb2YgYSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgbGlxdWVzY2VudF9jbG9ja3dpc2UgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICdjdXJ2ZScsXG4gICAgICBhdHRyVmFsdWU6ICcnXG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgbmV1bWUgY29tcG9uZW50LlxuICogQHJldHVybnMgQW4gYWN0aW9uIHRoYXQgdW5zZXRzIHRoZSBsaXF1ZXNjZW50X2FudGljbG9ja3dpc2UgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbiAoaWQ6IHN0cmluZyk6IFNldExpcXVlc2NlbnRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldExpcXVlc2NlbnQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgY3VydmU6ICcnXG4gICAgfVxuICB9O1xufVxuXG4vKiogRXZlbnQgaGFuZGxlciBmb3IgZGVsZXRlIGJ1dHRvbiBwcmVzcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVCdXR0b25IYW5kbGVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgaWYgKGV2dC5rZXkgPT09ICdkJyB8fCBldnQua2V5ID09PSAnQmFja3NwYWNlJykgeyByZW1vdmVIYW5kbGVyKCk7IGV2dC5wcmV2ZW50RGVmYXVsdCgpOyB9XG59XG5cbi8qKlxuICogRW5kIHRoZSBleHRyYSBvcHRpb25zIG1lbnUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRPcHRpb25zU2VsZWN0aW9uICgpOiB2b2lkIHtcbiAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgY29uc3QgZXh0cmFFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpO1xuICBpZiAobW9yZUVkaXQpIHtcbiAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICB9XG4gIGlmIChleHRyYUVkaXQpIHtcbiAgICBleHRyYUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgZXh0cmFFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIH1cbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG59XG5cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgcmVtb3ZpbmcgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUhhbmRsZXIgKCk6IHZvaWQge1xuICBjb25zdCB0b1JlbW92ZTogUmVtb3ZlQWN0aW9uW10gPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBzZWxlY3RlZC5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgIGVsZW0gPSBlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpO1xuICAgIH1cbiAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY2lkJykpIHtcbiAgICAgIGVsZW0gPSBlbGVtLmNsb3Nlc3QoJy5hY2NpZCcpO1xuICAgIH1cbiAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSkge1xuICAgICAgZWxlbSA9IGVsZW0uY2xvc2VzdCgnLmRpdkxpbmUnKTtcbiAgICB9XG4gICAgdG9SZW1vdmUucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW0uaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0pO1xuICBjb25zdCBjaGFpbkFjdGlvbjogQ2hhaW5BY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiB0b1JlbW92ZVxuICB9O1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigoKSA9PiB7IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IH0pO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGhhbmRsZSByZS1hc3NvY2lhdGluZyBlbGVtZW50cyB0byB0aGUgbmVhcmVzdCBzdGFmZlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlU3RhZmZIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCB0b0NoYW5nZTogQ2hhbmdlU3RhZmZBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goZWxlbSA9PiB7XG4gICAgdG9DaGFuZ2UucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAnY2hhbmdlU3RhZmYnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiB0b0NoYW5nZVxuICB9O1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigoKSA9PiB7IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IH0pO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGhhbmRsZSBpbnNlcnRpbmcgZGl2aXNpbyBvciBhY2NpZGVudGFsIGludG8gbmVhcmVzdCBzeWxsYWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIoKTogdm9pZCB7XG4gIGNvbnN0IHRvSW5zZXJ0OiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goZWxlbSA9PiB7XG4gICAgdG9JbnNlcnQucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAnaW5zZXJ0VG9TeWxsYWJsZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9KTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IENoYWluQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9JbnNlcnRcbiAgfTtcbiAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHsgXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdJbnNlcnQgU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignSW5zZXJ0IEZhaWxlZCBYb1gnLCAnZXJyb3InKTtcbiAgICB9XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IFxuICB9KTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgbW92aW5nIGRpdmlzaW8gb3IgYWNjaWRlbnRhbCBvdXQgb2Ygc3lsbGFibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCB0b01vdmU6IEVkaXRvckFjdGlvbltdID0gW107XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgc2VsZWN0ZWQuZm9yRWFjaChlbGVtID0+IHtcbiAgICB0b01vdmUucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAnbW92ZU91dHNpZGVTeWxsYWJsZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9KTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IENoYWluQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9Nb3ZlXG4gIH07XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7IFxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTW92ZSBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdNb3ZlIEZhaWxlZCBYb1gnLCAnZXJyb3InKTtcbiAgICB9XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IFxuICB9KTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBtYXRjaCBiYm94IGhlaWdodCB0byB0aGUgc2VsZWN0ZWQgYmJveFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hIZWlnaHRIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIGlmIChzZWxlY3RlZC5sZW5ndGggPiAxKSB7XG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDYW5ub3QgbWF0Y2ggaGVpZ2h0IHRvIG11bHRpcGxlIGJib3gnLCAnZXJyb3InKTtcbiAgfVxuICBjb25zdCB0b0NoYW5nZTogTWF0Y2hIZWlnaHRBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnbWF0Y2hIZWlnaHQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IHNlbGVjdGVkWzBdLmlkXG4gICAgfVxuICB9O1xuXG4gIG5lb25WaWV3LmVkaXQodG9DaGFuZ2UsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7IFxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignSGVpZ2h0IE1hdGNoIFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0hlaWdodCBNYXRjaCBGYWlsZWQgWG9YJywgJ2Vycm9yJyk7XG4gICAgfVxuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyBcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZERlbGV0ZUxpc3RlbmVyKCk6IHZvaWQge1xuICBjb25zdCBkZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlJyk7XG5cbiAgaWYgKGRlbCkge1xuICAgIGRlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuICAgIGRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuXG4gICAgLy8gVE9ETzogc2hvdWxkIHRoaXMgYmUgb3V0c2lkZSB0aGUgaWYgY29uZGl0aW9uP1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk6IHZvaWQge1xuICBjb25zdCBjaGFuZ2VTdGFmZiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFuZ2VTdGFmZicpO1xuICBjaGFuZ2VTdGFmZj8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VTdGFmZkhhbmRsZXIpO1xuICBjaGFuZ2VTdGFmZj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VTdGFmZkhhbmRsZXIpO1xufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgY29sdW1uIG51bWJlciBpbiB0aGUgaW5wdXRcbiAqL1xuZnVuY3Rpb24gdXBkYXRlQ29sdW1uSW5mbygpOiB2b2lkIHtcbiAgY29uc3QgY29sSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sLWlucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3Qgc3RhdmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0YWZmLnNlbGVjdGVkJyk7XG4gIGxldCBjb2xJbmZvOiBudW1iZXI7XG4gIGZvciAoY29uc3Qgc3RhZmYgb2Ygc3RhdmVzKSB7XG4gICAgY29uc3QgaGFzQ29sdW1uID0gQXJyYXkuZnJvbShzdGFmZi5jbGFzc0xpc3QpLmpvaW4oJyAnKS5tYXRjaCgvXFxiY29sdW1uKFxcZCspXFxiLyk7XG4gICAgaWYgKGhhc0NvbHVtbikge1xuICAgICAgY29uc3Qgc3RhZmZDb2wgPSBwYXJzZUludChoYXNDb2x1bW5bMV0sIDEwKTtcbiAgICAgIGlmIChjb2xJbmZvICYmIGNvbEluZm8gIT0gc3RhZmZDb2wpIHtcbiAgICAgICAgY29uc3Qgd2FybmluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2wtd2FybmluZycpO1xuICAgICAgICB3YXJuaW5nLmlubmVyVGV4dCA9ICdUaGUgc2VsZWN0ZWQgc3RhdmVzIGFyZSBub3Qgb2YgdGhlIHNhbWUgY29sdW1uISc7XG4gICAgICAgIGNvbEluZm8gPSAwO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbEluZm8gPSBzdGFmZkNvbDtcbiAgICAgIH1cbiAgICB9XG4gIH0gXG4gIGlmIChjb2xJbmZvKSBjb2xJbnB1dC52YWx1ZSA9IGNvbEluZm8udG9TdHJpbmcoKTtcbn1cblxuLyoqXG4gKiBBZGQgY29sdW1uIGluZm8gZWRpdCBoYW5kbGVyIGZvciBjb2x1bW4gaW5mbyBlZGl0b3JcbiAqL1xuZnVuY3Rpb24gYWRkQ29sdW1uSW5mb1N0ZXBIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCBkZWNyZW1lbnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sLWRlY3JlbWVudCcpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICBjb25zdCBpbmNyZW1lbnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sLWluY3JlbWVudCcpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICBjb25zdCBjb25maXJtQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbC1jb25maXJtJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGNvbnN0IGNvbElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbC1pbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgZGVjcmVtZW50QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHVwZGF0ZU51bWJlcigtMSk7XG4gIH0pO1xuXG4gIGluY3JlbWVudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB1cGRhdGVOdW1iZXIoMSk7XG4gIH0pO1xuXG4gIC8vIEFkZCBjb2x1bW4gaW5mbyBlZGl0IGhhbmRsZXJcbiAgY29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB0b1NldENvbHVtbjogRWRpdG9yQWN0aW9uW10gPSBbXTtcbiAgICBjb25zdCBzdGF2ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhZmYuc2VsZWN0ZWQnKTtcbiAgICBzdGF2ZXMuZm9yRWFjaChzdGFmZiA9PiB7XG4gICAgICB0b1NldENvbHVtbi5wdXNoKFxuICAgICAgICB7XG4gICAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgZWxlbWVudElkOiBzdGFmZi5pZCxcbiAgICAgICAgICAgIGF0dHJUeXBlOiAndHlwZScsXG4gICAgICAgICAgICBhdHRyVmFsdWU6ICdjb2x1bW4nICsgY29sSW5wdXQudmFsdWUsXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0pO1xuICAgIGNvbnN0IGNoYWluQWN0aW9uOiBDaGFpbkFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICAgIHBhcmFtOiB0b1NldENvbHVtblxuICAgIH07XG4gICAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHsgXG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ29sdW1uIFZhbHVlIFVwZGF0ZSBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ29sdW1uIFZhbHVlIFVwZGF0ZSBGYWlsZWQgWG9YJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyBcbiAgICB9KTtcbiAgfSk7XG4gIFxuICBmdW5jdGlvbiB1cGRhdGVOdW1iZXIoY2hhbmdlOiBudW1iZXIpIHtcbiAgICBjb25zdCBtaW5OdW0gPSAxO1xuICAgIGNvbnN0IG1heE51bSA9IDU7XG4gICAgbGV0IGN1cnJlbnRWYWx1ZSA9IHBhcnNlSW50KGNvbElucHV0LnZhbHVlLCAxMCkgfHwgMDtcbiAgICBjdXJyZW50VmFsdWUgKz0gY2hhbmdlO1xuXG4gICAgY3VycmVudFZhbHVlID0gTWF0aC5taW4oTWF0aC5tYXgoY3VycmVudFZhbHVlLCBtaW5OdW0pLCBtYXhOdW0pO1xuICAgIGlmIChjdXJyZW50VmFsdWUudG9TdHJpbmcoKSAhPSBjb2xJbnB1dC52YWx1ZSkgY29uZmlybUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgY29sSW5wdXQudmFsdWUgPSBjdXJyZW50VmFsdWUudG9TdHJpbmcoKTtcbiAgfVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIHNldCB0aGUgSFRNTCBjb250ZW50IG9mIGVkaXQgY29udHJvbHM6IGVpdGhlciAjbW9yZUVkaXQgb3IgI2V4dHJhRWRpdFxuICpcbiAqIEBwYXJhbSB7J21vcmVFZGl0JyB8ICdleHRyYUVkaXQnfSBlZGl0VHlwZSAtIFRoZSB0eXBlIG9mIGVkaXQgY29udHJvbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50cyAtIFRoZSBpbm5lckhUTUwgY29udGVudHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVwbGFjZSAtIElzIHRoZSBpbm5lckhUTUwgYmVpbmcgcmVwbGFjZWQsIG9yIGJlaW5nIGFkZGVkIHRvP1xuICovXG5mdW5jdGlvbiBzZXRFZGl0Q29udHJvbHMoZWRpdFR5cGU6ICdtb3JlRWRpdCcgfCAnZXh0cmFFZGl0JywgY29udGVudHM6IHN0cmluZywgcmVwbGFjZSA9IHRydWUpOiB2b2lkIHtcbiAgY29uc3QgZWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVkaXRUeXBlKTtcbiAgXG4gIGlmIChlZGl0KSB7XG4gICAgZWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmIChyZXBsYWNlKSBlZGl0LmlubmVySFRNTCA9IGNvbnRlbnRzO1xuICAgIGVsc2UgZWRpdC5pbm5lckhUTUwgKz0gY29udGVudHM7XG4gIH1cbn1cblxuLyoqXG4gKiBUcmlnZ2VyIHRoZSBleHRyYSBuYyBhY3Rpb24gbWVudSBmb3IgYSBzZWxlY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyTmNBY3Rpb25zIChuYzogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdEFjdGlvbkNvbnRlbnRzKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5uY0FjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUHVuY3R1bS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBuZW9uVmlldy5lZGl0KHsgYWN0aW9uOiAnY2hhaW4nLCBwYXJhbTogWyB1bnNldEluY2xpbmF0dW0sIHVuc2V0VmlyZ2EsIHVuc2V0VmlyZ2FSZXZlcnNlZCwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0luY2xpbmF0dW0uZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRJbmNsaW5hdHVtOiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ3NlJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRWaXJnYSwgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UsIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UsIHNldEluY2xpbmF0dW0gXSB9ICwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1ZpcmdhLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHNldFZpcmdhOiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ3MnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KHsgYWN0aW9uOiAnY2hhaW4nLCBwYXJhbTogWyB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRWaXJnYSBdIH0sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNWaXJnYVJldmVyc2VkLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0SW5jbGluYXR1bSA9IHVuc2V0SW5jbGluYXR1bUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldFZpcmdhID0gdW5zZXRWaXJnYUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0VmlyZ2FSZXZlcnNlZDogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICduJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UsIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UsIHNldFZpcmdhUmV2ZXJzZWQgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjTGlxdWVzY2VudENsb2Nrd2lzZS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHNldExpcXVlc2NlbnRDbG9ja3dpc2U6IFNldExpcXVlc2NlbnRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldExpcXVlc2NlbnQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgY3VydmU6ICdjJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UsIHNldExpcXVlc2NlbnRDbG9ja3dpc2UgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTsgIFxuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZTogU2V0TGlxdWVzY2VudEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0TGlxdWVzY2VudCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBjdXJ2ZTogJ2EnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KHsgYWN0aW9uOiAnY2hhaW4nLCBwYXJhbTogWyB1bnNldEluY2xpbmF0dW0sIHVuc2V0VmlyZ2EsIHVuc2V0VmlyZ2FSZXZlcnNlZCwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCBzZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSBdIH0sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pOyAgXG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIG5ldW1lIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyTmV1bWVBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5kZWZhdWx0TmV1bWVBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMubmV1bWVBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgY29uc3QgbmV1bWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKTtcbiAgaWYgKG5ldW1lLmxlbmd0aCAhPT0gMSkge1xuICAgIGNvbnNvbGUud2FybignTW9yZSB0aGFuIG9uZSBuZXVtZSBzZWxlY3RlZCEgQ2Fubm90IHRyaWdnZXIgTmV1bWUgQ2xpY2tTZWxlY3QgYWN0aW9ucy4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBUT0RPIGFkZCB0cmlnZ2VyIGZvciBzcGxpdCBhY3Rpb25cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwbGl0LW5ldW1lJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXVtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXVtZS5zZWxlY3RlZCcpIGFzIFNWR0dFbGVtZW50O1xuICAgICAgaWYgKG5ldW1lICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHNwbGl0ID0gbmV3IFNwbGl0TmV1bWVIYW5kbGVyKG5lb25WaWV3LCBuZXVtZSk7XG4gICAgICAgIHNwbGl0LnN0YXJ0U3BsaXQoKTtcbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTm8gc3RhZmYgd2FzIHNlbGVjdGVkIScpO1xuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1Blcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1Blc1N1YnB1bmN0aXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDbGl2aXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNTY2FuZGljdXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNTY2FuZGljdXNGbGV4dXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNTY2FuZGljdXNTdWJwdW5jdGlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2xpbWFjdXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDbGltYWN1c1Jlc3VwaW51cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1RvcmN1bHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjVG9yY3VsdXNSZXN1cGludXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQb3JyZWN0dXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQb3JyZWN0dXNGbGV4dXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQb3JyZWN0dXNTdWJwdW5jdGlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUHJlc3N1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcblxuICBmdW5jdGlvbiB0cmlnZ2VyQ2hhbmdlR3JvdXAgKGNvbnRvdXI6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGNoYW5nZUdyb3VwaW5nQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdjaGFuZ2VHcm91cCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IG5ldW1lWzBdLmlkLFxuICAgICAgICBjb250b3VyOiBjb250b3VyXG4gICAgICB9XG4gICAgfTtcbiAgICBuZW9uVmlldy5lZGl0KGNoYW5nZUdyb3VwaW5nQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdHcm91cGluZyBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgIH1cbiAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgfSk7XG4gIH1cblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgc3lsbGFibGUgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJTeWxsYWJsZUFjdGlvbnMgKHNlbGVjdGlvblR5cGU6IHN0cmluZyk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLnN5bGxhYmxlQWN0aW9uc0NvbnRlbnQpO1xuICAvLyBpbml0aWFsaXplIHZhcmlhYmxlIHRoYXQgd2lsbCBob2xkIGh0bWwgdG8gYmUgYWRkZWQgdG8gRGlzcGxheSBwYW5lbFxuICBsZXQgZXh0cmFBY3Rpb25zSFRNTCA9ICcnO1xuXG4gIC8vIGRldGVybWluZSB0aGUgdHlwZSBvZiBzZWxlY3Rpb24gdGhhdCB3YXMgbWFkZSBieSB0aGUgdXNlclxuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIC8vIG9ubHkgb25lIHN5bGxhYmxlXG4gICAgY2FzZSAnc2luZ2xlU2VsZWN0JzpcbiAgICAgIGV4dHJhQWN0aW9uc0hUTUwgKz0gXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidW5ncm91cE5ldW1lc1wiPlVuZ3JvdXA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgICAvLyB0d28gc3lsbGFibGVzIG9uIHNlcGFyYXRlIHN0YXZlc1xuICAgIGNhc2UgJ2xpbmthYmxlU2VsZWN0JzpcbiAgICAgIGV4dHJhQWN0aW9uc0hUTUwgKz0gXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidG9nZ2xlLWxpbmtcIj5Ub2dnbGUgTGlua2VkIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICBicmVhaztcblxuICAgIC8vIHRvdyBvciBtb3JlIHN5bGxhYmxlcyBvbiBvbmUgc3RhZmZcbiAgICBjYXNlICdtdWx0aVNlbGVjdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1lcmdlU3lsc1wiPk1lcmdlIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICBicmVhaztcblxuICAgIC8vZGVmYXVsdCBvcHRpb25zXG4gICAgY2FzZSAnZGVmYXVsdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgfVxuXG4gIC8vIHNldCBjb250ZW50IG9mIGFkZGl0aW9uYWwgYWN0aW9ucyBpbiBEaXNwbGF5IHBhbmVsIFxuICAvLyBhbmQgaW5pdGlhbGl6ZSBuZWNlc3NhcnkgbGlzdGVuZXJzXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBleHRyYUFjdGlvbnNIVE1MLCB0cnVlKTtcbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuICBHcm91cGluZy5pbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbn1cblxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgbGF5ZXIgZWxlbWVudCAoYWNjaWQsIGRpdkxpbmUsIGN1c3RvcywgY2xlZikgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zIChlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnY3VzdG9zJykpIHtcbiAgICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuY3VzdG9zQWN0aW9uQ29udGVudHMpO1xuICAgIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBjb25zdCBwYXJlbnRJc1N5bGxhYmxlID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKTtcbiAgY29uc3QgbGF5ZXJFbGVtZW50QWN0aW9ucyA9IHBhcmVudElzU3lsbGFibGVcbiAgICA/IENvbnRlbnRzLmxheWVyRWxlbWVudEluQWN0aW9uQ29udGVudHNcbiAgICA6IENvbnRlbnRzLmxheWVyRWxlbWVudE91dEFjdGlvbkNvbnRlbnRzO1xuICBcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIGxheWVyRWxlbWVudEFjdGlvbnMsIGZhbHNlKTtcbiAgXG4gIC8vIGV4dHJhIGFjdGlvbnMgZm9yIGFjY2lkIGFuZCBkaXZMaW5lXG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSkge1xuICAgIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuYWNjaWRBY3Rpb25Db250ZW50cyk7XG4gICAgYWNjaWRPcHRpb25zTGlzdGVuZXIoZWxlbWVudCk7XG4gIH1cbiAgZWxzZSBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2NsZWYnKSkge1xuICAgIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuY2xlZkFjdGlvbkNvbnRlbnRzKTtcbiAgICBjbGVmT3B0aW9uc0xpc3RlbmVyKGVsZW1lbnQpO1xuICB9XG4gIGVsc2UgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpIHtcbiAgICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmRpdkxpbmVBY3Rpb25Db250ZW50cyk7XG4gICAgZGl2TGluZU9wdGlvbnNMaXN0ZW5lcihlbGVtZW50KTtcbiAgfVxuICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRUb1N5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW92ZU91dHNpZGVTeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyKTtcblxuIFxuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydFRvU3lsbGFibGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpbnNlcnRUb1N5bGxhYmxlSGFuZGxlcik7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3ZlT3V0c2lkZVN5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbW92ZU91dHNpZGVTeWxsYWJsZUhhbmRsZXIpO1xufVxuXG5mdW5jdGlvbiBhY2NpZE9wdGlvbnNMaXN0ZW5lcihlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvRmxhdC5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBjaGFuZ2VUb0ZsYXQ6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdhY2NpZCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnZidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oY2hhbmdlVG9GbGF0KTtcbiAgICB9KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvTmF0dXJhbC5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBjaGFuZ2VUb05hdHVyYWw6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdhY2NpZCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oY2hhbmdlVG9OYXR1cmFsKTtcbiAgICB9KTtcblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xuXG59XG5cbmZ1bmN0aW9uIGNsZWZPcHRpb25zTGlzdGVuZXIoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbmNyZW1lbnQtb2N0YXZlJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbmNyZW1lbnRPY3RhdmU6IERpc3BsYWNlQ2xlZk9jdGF2ZUFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnZGlzcGxhY2VDbGVmT2N0YXZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgZGlyZWN0aW9uOiAnYWJvdmUnXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIG5lb25WaWV3LmVkaXQoaW5jcmVtZW50T2N0YXZlLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDbGVmIG9jdGF2ZSBpbmNyZW1lbnRlZC4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTWF4aW11bSBvY3RhdmUgZGlzcGxhY2VtZW50IHJlYWNoZWQuIENsZWYgY2FuIG9ubHkgYmUgZGlzcGxhY2VkIHVwIHRvIDMgb2N0YXZlcy4nLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVjcmVtZW50LW9jdGF2ZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW5jcmVtZW50T2N0YXZlOiBEaXNwbGFjZUNsZWZPY3RhdmVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ2Rpc3BsYWNlQ2xlZk9jdGF2ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGRpcmVjdGlvbjogJ2JlbG93J1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBuZW9uVmlldy5lZGl0KGluY3JlbWVudE9jdGF2ZSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2xlZiBvY3RhdmUgZGVjcmVtZW50ZWQuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01heGltdW0gb2N0YXZlIGRpc3BsYWNlbWVudCByZWFjaGVkLiBDbGVmIGNhbiBvbmx5IGJlIGRpc3BsYWNlZCB1cCB0byAzIG9jdGF2ZXMuJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NDbGVmLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNldENDbGVmOiBTZXRDbGVmQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXRDbGVmJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgc2hhcGU6ICdDJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcGFyc2VTaGFwZUNoYW5nZUFjdGlvbihzZXRDQ2xlZik7XG4gICAgfSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNGQ2xlZi5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXRGQ2xlZjogU2V0Q2xlZkFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0Q2xlZicsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHNoYXBlOiAnRidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oc2V0RkNsZWYpO1xuICAgIH0pO1xuXG4gIGluaXRPcHRpb25zTGlzdGVuZXJzKCk7XG59XG5cbmZ1bmN0aW9uIGRpdkxpbmVPcHRpb25zTGlzdGVuZXIoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb01pbmltYS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb01pbmltYTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2Zvcm0nLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ21pbmltYSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9NaW5pbWEpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb01haW9yLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvTWFpb3I6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdmb3JtJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdtYWlvcidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9NYWlvcik7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvTWF4aW1hLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvTWF4aW1hOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9ybScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbWF4aW1hJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcGFyc2VTaGFwZUNoYW5nZUFjdGlvbihDaGFuZ2VUb01heGltYSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvRmluYWxpcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb0ZpbmFsaXM6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdmb3JtJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdmaW5hbGlzJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcGFyc2VTaGFwZUNoYW5nZUFjdGlvbihDaGFuZ2VUb0ZpbmFsaXMpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb0NhZXN1cmEuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgQ2hhbmdlVG9DYWVzdXJhOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9ybScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnY2Flc3VyYSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9DYWVzdXJhKTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9WaXJndWxhLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvVmlyZ3VsYTogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2Zvcm0nLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ3Zpcmd1bGEnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKENoYW5nZVRvVmlyZ3VsYSk7XG4gICAgfSk7XG4gICAgXG4gIGluaXRPcHRpb25zTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogUGFyc2UgYWN0aW9ucyByZWdhcmRpbmcgc2hhcGUgY2hhbmdlcyB0byBlZGl0b3IgYWN0aW9uXG4gKi9cbmZ1bmN0aW9uIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oYWN0aW9uOiBTZXRBY3Rpb24gfCBTZXRDbGVmQWN0aW9uKSB7XG4gIG5lb25WaWV3LmVkaXQoYWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgIH1cbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBleHRyYSBzdGFmZiBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlck11bHRpU3RhZmZBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuc3RhZmZNZXJnZUFjdGlvbkNvbnRlbnRzKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5jb2x1bW5BY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgLy8gQ29sdW1uIGluZm8gZWRpdG9yXG4gIHVwZGF0ZUNvbHVtbkluZm8oKTtcbiAgYWRkQ29sdW1uSW5mb1N0ZXBIYW5kbGVyKCk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lcmdlLXN5c3RlbXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBHcm91cGluZy5tZXJnZVN0YXZlcygpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBFbnRlciBzdGFmZiBzcGxpdHRpbmcgbW9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlclN0YWZmU3BsaXRNb2RlICgpOiB2b2lkIHtcbiAgY29uc3Qgc3RhZmYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhZmYuc2VsZWN0ZWQnKSBhcyBTVkdHRWxlbWVudDtcbiAgaWYgKHN0YWZmICE9PSBudWxsKSB7XG4gICAgY29uc3Qgc3BsaXQgPSBuZXcgU3BsaXRTdGFmZkhhbmRsZXIobmVvblZpZXcsIHN0YWZmKTtcbiAgICBzcGxpdC5zdGFydFNwbGl0KCk7XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoJ05vIHN0YWZmIHdhcyBzZWxlY3RlZCEnKTtcbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBUcmlnZ2VyIHNwbGl0IHN0YWZmIG9wdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlclNpbmdsZVN0YWZmQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLnN0YWZmU3BsaXRBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuY29sdW1uQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIC8vIENvbHVtbiBpbmZvIGVkaXRvclxuICB1cGRhdGVDb2x1bW5JbmZvKCk7XG4gIGFkZENvbHVtbkluZm9TdGVwSGFuZGxlcigpO1xuXG4gIC8vIEFkZCB0cmlnZ2VyIGZvciBzcGxpdCBhY3Rpb25cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwbGl0LXN5c3RlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdHJpZ2dlclN0YWZmU3BsaXRNb2RlKCk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LXJvdGF0ZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhZmYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhZmYuc2VsZWN0ZWQnKSBhcyBTVkdFbGVtZW50O1xuICAgICAgLy8gVW51c2VkIHZhcmlhYmxlczpcbiAgICAgIC8vIGNvbnN0IHJlY3QgPSBzdGFmZi5xdWVyeVNlbGVjdG9yKCcjcmVzaXplUmVjdCcpO1xuICAgICAgLy8gY29uc3QgY28gPSByZWN0LmdldEF0dHJpYnV0ZSgncG9pbnRzJykuc3BsaXQoJyAnKTtcbiAgICAgIC8vIGNvbnN0IGR5ID0gcGFyc2VJbnQoY29bMF0uc3BsaXQoJywnKVsxXSkgLSBwYXJzZUludChjb1sxXS5zcGxpdCgnLCcpWzFdKTtcbiAgICAgIGNvbnN0IHBvaW50cyA9IGdldFN0YWZmQkJveChzdGFmZiBhcyBTVkdHRWxlbWVudCk7XG4gICAgICBjb25zdCB5X2NoYW5nZSA9IE1hdGgudGFuKHBvaW50cy5yb3RhdGUpKihwb2ludHMubHJ4IC0gcG9pbnRzLnVseCk7XG4gICAgICBpZiAoc3RhZmYgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgICAgYWN0aW9uOiAncmVzaXplUm90YXRlJyxcbiAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgZWxlbWVudElkOiBzdGFmZi5pZCxcbiAgICAgICAgICAgIHVseDogcG9pbnRzLnVseCxcbiAgICAgICAgICAgIHVseTogcG9pbnRzLnJvdGF0ZSA+IDAgPyBwb2ludHMudWx5ICsgeV9jaGFuZ2UvMiA6IHBvaW50cy51bHkgLSB5X2NoYW5nZS8yLFxuICAgICAgICAgICAgbHJ4OiBwb2ludHMubHJ4LFxuICAgICAgICAgICAgbHJ5OiBwb2ludHMucm90YXRlID4gMCA/IHBvaW50cy5scnkgLSB5X2NoYW5nZS8yIDogcG9pbnRzLmxyeSArIHlfY2hhbmdlLzIsXG4gICAgICAgICAgICByb3RhdGU6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGF3YWl0IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTm8gc3RhZmYgd2FzIHNlbGVjdGVkJyk7XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIH1cbiAgICB9KTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGJib3ggb3B0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckJCb3hBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuYmJveEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hdGNoSGVpZ2h0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbWF0Y2hIZWlnaHRIYW5kbGVyKCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZGVmYXVsdCBhY3Rpb25zIHdoZW4gc2VsZWN0aW5nIGJ5IHN5bFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdFN5bEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZGVmYXVsdCBzZWxlY3Rpb24gb3B0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckRlZmF1bHRBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIGV4dHJhIGRyb3Bkb3duIG9wdGlvbnM6XG4gKiBMaXN0ZW4gdG8gY2xpY2tzIG9uIGRyb3Bkb3duc1xuICovXG5mdW5jdGlvbiBpbml0T3B0aW9uc0xpc3RlbmVycyAoKTogdm9pZCB7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX3NlbGVjdCcpXG4gICAgLmZvckVhY2goXG4gICAgICBkcm9wID0+IHtcbiAgICAgICAgLy8gV2hlbiBhbnl0aGluZyB0aGF0IGlzIG5vdCB0aGUgZHJvcGRvd24gaXMgY2xpY2tlZCBhd2F5LCB0aGUgZHJvcGRvd25cbiAgICAgICAgLy8gc2hvdWxkIGxvc2UgaXRzIHZpc2liaWxpdHlcbiAgICAgICAgY29uc3Qgb3B0aW9uc0NsaWNrYXdheSA9ICgpID0+IHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9uc0NsaWNrYXdheSk7XG4gICAgICAgICAgZHJvcC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBkcm9wLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgICAgIC8vIFRvZ2dsZSB2aXNpYmlsaXR5IG9mIGRyb3Bkb3duXG4gICAgICAgICAgZHJvcC5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB2aXNpYmlsaXR5IG9mIG90aGVyIGRyb3Bkb3ducyB3aGVuIHRoaXMgb25lIGlzIGNsaWNrZWRcbiAgICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX3NlbGVjdCcpKVxuICAgICAgICAgICAgLmZpbHRlcihvdGhlciA9PiBvdGhlciAhPT0gZHJvcClcbiAgICAgICAgICAgIC5mb3JFYWNoKG90aGVyID0+IG90aGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpKTtcblxuICAgICAgICAgIC8vIERvbid0IGFsbG93IG90aGVyIGV2ZW50IGxpc3RlbmVycyBvbiB0aGUgYm9keSB0byBpbnRlcmZlcmUgd2l0aCB0aGlzIGxpc3RlbmVyXG4gICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgaWYgKGRyb3AuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSlcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcHRpb25zQ2xpY2thd2F5KTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9uc0NsaWNrYXdheSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG59XG4iLCJpbXBvcnQgeyBnZXRTdGFmZkJCb3ggfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcblxuZXhwb3J0IGludGVyZmFjZSBQb2ludCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJCb3gge1xuICB1bHg6IG51bWJlcjtcbiAgdWx5OiBudW1iZXI7XG4gIGxyeDogbnVtYmVyO1xuICBscnk6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBHZXQgU1ZHIHJlbGF0aXZlIGNvb3JkaW5hdGVzIGdpdmVuIGNsaWVudFggYW5kIGNsaWVudFlcbiAqIFNvdXJjZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjkyNjEzMDRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNWR1JlbENvb3JkcyAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBQb2ludCB7XG4gIGNvbnN0IHB0ID0gbmV3IERPTVBvaW50KGNsaWVudFgsIGNsaWVudFkpO1xuICBjb25zdCBzdmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPFNWR1NWR0VsZW1lbnQ+KCcuYWN0aXZlLXBhZ2UgPiAuZGVmaW5pdGlvbi1zY2FsZScpO1xuICBjb25zdCBwYWdlTWFyZ2luID0gc3ZnLnF1ZXJ5U2VsZWN0b3I8U1ZHR0VsZW1lbnQ+KCcucGFnZS1tYXJnaW4nKTtcblxuICBjb25zdCB7IHgsIHkgfSA9IHB0Lm1hdHJpeFRyYW5zZm9ybShwYWdlTWFyZ2luLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7XG4gIHJldHVybiB7IHgsIHkgfTtcblxuICAvLyBJZiB0aGVyZSBpcyBzb21lIGlzc3VlIHdpdGggY29vcmRpbmF0ZXMsIHRoaXMgbWF5IGZpeCB0aGUgaXNzdWU6XG4gIC8vIGNvbnN0IHN2ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHU1ZHRWxlbWVudD4oJyNzdmdfZ3JvdXAnKTtcbiAgLy8gY29uc3QgeyB4LCB5IH0gPSBwdC5tYXRyaXhUcmFuc2Zvcm0oc3ZnLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7XG59XG5cbi8qKlxuICogR2V0IElEIG9mIHN0YWZmIGJ5IGNsaWVudCdzIHgteSBjb29yZGluYXRlcy5cbiAqIFRoaXMgZnVuY3Rpb24gY29uc2lkZXJzIHRoZSAqdmlzdWFsKiBib3VuZGluZyBib3ggb2YgdGhlIHN0YWZmXG4gKiBiYXNlZCBvbiBpdHMgc3RhZmYgbGluZXMsIGluc3RlYWQgb2YgdGhlIFNWRyBlbGVtZW50IGl0c2VsZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWZmSWRCeUNvb3JkcyAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBzdGF2ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR0VsZW1lbnQ+KCcuc3RhZmYnKSk7XG4gIGNvbnN0IHN0YWZmQkJveGVzID0gc3RhdmVzLm1hcChzdGFmZiA9PiBnZXRTdGFmZkJCb3goc3RhZmYpKTtcblxuICAvLyBmaW5kIHRoZSBzdGFmZiB0aGF0IHRoZSBjdXJzb3IgaXMgaW5zaWRlXG4gIGNvbnN0IHsgeCwgeSB9ID0gZ2V0U1ZHUmVsQ29vcmRzKGNsaWVudFgsIGNsaWVudFkpO1xuICBjb25zdCBzdGFmZiA9IHN0YWZmQkJveGVzLmZpbmQoXG4gICAgKGJib3gpID0+IHggPD0gYmJveC5scnggJiYgeCA+PSBiYm94LnVseCAmJiB5IDw9IGJib3gubHJ5ICYmIHkgPj0gYmJveC51bHlcbiAgKTsgXG5cbiAgLy8gSWYgdGhlcmUgaXMgaXNzdWVzIHdpdGggZmluZGluZyB0aGUgc3RhZmYsIHRoaXMgbWF5IGJlIG1vcmUgYWNjdXJhdGU6XG4gIC8vIHJldHVybiAocHQueCA+IHVseCAmJiBwdC54IDwgbHJ4KSAmJlxuICAvLyAgIChwdC55ID4gKHVseSArIChwdC54IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkpKSAmJlxuICAvLyAgIChwdC55IDwgKGxyeSAtIChscnggLSBwdC54KSAqIE1hdGgudGFuKHJvdGF0ZSkpKTtcblxuICAvLyBpZiB0aGUgY3Vyc29yIGlzIG5vdCBpbnNpZGUgYW55IHN0YWZmLCB0aGVuIGV4cGxpY2l0bHkgcmV0dXJuIG51bGxcbiAgcmV0dXJuIHN0YWZmID8gc3RhZmYuaWQgOiBudWxsO1xufVxuXG4vKipcbiAqIEdldCBzdGFmZiBieSBjbGllbnQncyB4LXkgY29vcmRpbmF0ZXM7IHdyYXBwZXIgZm9yIGdldFN0YWZmSWRCeUNvb3JkcywgYnV0XG4gKiAgIHJldHVybnMgdGhlIGVsZW1lbnQsIG5vdCB0aGUgSURcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWZmQnlDb29yZHMgKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKTogU1ZHR0VsZW1lbnQgfCBudWxsIHtcbiAgY29uc3Qgc3RhZmZJZCA9IGdldFN0YWZmSWRCeUNvb3JkcyhjbGllbnRYLCBjbGllbnRZKTtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3N0YWZmSWR9YCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc091dE9mU1ZHQm91bmRzICh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICBjb25zdCBiZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHSW1hZ2VFbGVtZW50PignI2JnaW1nJyk7XG4gIFxuICByZXR1cm4gKFxuICAgIHggPD0gMCB8fCB4ID49IE51bWJlcihiZ0ltZy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpIHx8XG4gICAgeSA8PSAwIHx8IHkgPj0gTnVtYmVyKGJnSW1nLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykpXG4gICk7XG59XG5cbi8qKlxuICogR2V0IGJvdW5kaW5nIGJveCAobHJ4LCBscnksIHVseCwgdWx5KSBvZiBhIGdseXBoLCB3aGljaFxuICogaXMgYSA8dXNlPiBlbGVtZW50IGluIHRoZSBTVkdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdseXBoQkJveCAoZzogU1ZHUmVjdEVsZW1lbnQgfCBTVkdVc2VFbGVtZW50KTogQkJveCB7XG4gIGNvbnN0IHJlY3QgPSAoZy50YWdOYW1lID09ICdyZWN0JykgPyBnLmdldEJCb3goKSA6IChnLnBhcmVudE5vZGUgYXMgU1ZHR0VsZW1lbnQpLmdldEJCb3goKTtcblxuICByZXR1cm4ge1xuICAgIHVseDogcmVjdC54LFxuICAgIHVseTogcmVjdC55LFxuICAgIGxyeDogcmVjdC54ICsgcmVjdC53aWR0aCxcbiAgICBscnk6IHJlY3QueSArIHJlY3QuaGVpZ2h0XG4gIH07XG59XG5cbiIsIihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS9Db21tb25KU1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTURcbiAgICAgICAgZGVmaW5lKGZhY3RvcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAod2l0aCBzdXBwb3J0IGZvciB3ZWIgd29ya2VycylcbiAgICAgICAgdmFyIGdsb2I7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGdsb2IgPSB3aW5kb3c7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGdsb2IgPSBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2xvYi5TcGFya01ENSA9IGZhY3RvcnkoKTtcbiAgICB9XG59KGZ1bmN0aW9uICh1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qXG4gICAgICogRmFzdGVzdCBtZDUgaW1wbGVtZW50YXRpb24gYXJvdW5kIChKS00gbWQ1KS5cbiAgICAgKiBDcmVkaXRzOiBKb3NlcGggTXllcnNcbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cDovL3d3dy5teWVyc2RhaWx5Lm9yZy9qb3NlcGgvamF2YXNjcmlwdC9tZDUtdGV4dC5odG1sXG4gICAgICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS9tZDUtc2hvb3RvdXQvN1xuICAgICAqL1xuXG4gICAgLyogdGhpcyBmdW5jdGlvbiBpcyBtdWNoIGZhc3RlcixcbiAgICAgIHNvIGlmIHBvc3NpYmxlIHdlIHVzZSBpdC4gU29tZSBJRXNcbiAgICAgIGFyZSB0aGUgb25seSBvbmVzIEkga25vdyBvZiB0aGF0XG4gICAgICBuZWVkIHRoZSBpZGlvdGljIHNlY29uZCBmdW5jdGlvbixcbiAgICAgIGdlbmVyYXRlZCBieSBhbiBpZiBjbGF1c2UuICAqL1xuICAgIHZhciBhZGQzMiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiAoYSArIGIpICYgMHhGRkZGRkZGRjtcbiAgICB9LFxuICAgICAgICBoZXhfY2hyID0gWycwJywgJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJ2EnLCAnYicsICdjJywgJ2QnLCAnZScsICdmJ107XG5cblxuICAgIGZ1bmN0aW9uIGNtbihxLCBhLCBiLCB4LCBzLCB0KSB7XG4gICAgICAgIGEgPSBhZGQzMihhZGQzMihhLCBxKSwgYWRkMzIoeCwgdCkpO1xuICAgICAgICByZXR1cm4gYWRkMzIoKGEgPDwgcykgfCAoYSA+Pj4gKDMyIC0gcykpLCBiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDVjeWNsZSh4LCBrKSB7XG4gICAgICAgIHZhciBhID0geFswXSxcbiAgICAgICAgICAgIGIgPSB4WzFdLFxuICAgICAgICAgICAgYyA9IHhbMl0sXG4gICAgICAgICAgICBkID0geFszXTtcblxuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzBdIC0gNjgwODc2OTM2IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbMV0gLSAzODk1NjQ1ODYgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMl0gKyA2MDYxMDU4MTkgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbM10gLSAxMDQ0NTI1MzMwIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzRdIC0gMTc2NDE4ODk3IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbNV0gKyAxMjAwMDgwNDI2IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzZdIC0gMTQ3MzIzMTM0MSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1s3XSAtIDQ1NzA1OTgzIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzhdICsgMTc3MDAzNTQxNiB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzldIC0gMTk1ODQxNDQxNyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1sxMF0gLSA0MjA2MyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1sxMV0gLSAxOTkwNDA0MTYyIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzEyXSArIDE4MDQ2MDM2ODIgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1sxM10gLSA0MDM0MTEwMSB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1sxNF0gLSAxNTAyMDAyMjkwIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzE1XSArIDEyMzY1MzUzMjkgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG5cbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1sxXSAtIDE2NTc5NjUxMCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzZdIC0gMTA2OTUwMTYzMiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzExXSArIDY0MzcxNzcxMyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1swXSAtIDM3Mzg5NzMwMiB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1s1XSAtIDcwMTU1ODY5MSB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzEwXSArIDM4MDE2MDgzIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBiIHwgYSAmIH5iKSArIGtbMTVdIC0gNjYwNDc4MzM1IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzRdIC0gNDA1NTM3ODQ4IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzldICsgNTY4NDQ2NDM4IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbMTRdIC0gMTAxOTgwMzY5MCB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzNdIC0gMTg3MzYzOTYxIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzhdICsgMTE2MzUzMTUwMSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1sxM10gLSAxNDQ0NjgxNDY3IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbMl0gLSA1MTQwMzc4NCB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzddICsgMTczNTMyODQ3MyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1sxMl0gLSAxOTI2NjA3NzM0IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuXG4gICAgICAgIGEgKz0gKGIgXiBjIF4gZCkgKyBrWzVdIC0gMzc4NTU4IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzhdIC0gMjAyMjU3NDQ2MyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbMTFdICsgMTgzOTAzMDU2MiB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbMTRdIC0gMzUzMDk1NTYgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMV0gLSAxNTMwOTkyMDYwIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzRdICsgMTI3Mjg5MzM1MyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbN10gLSAxNTU0OTc2MzIgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzEwXSAtIDEwOTQ3MzA2NDAgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMTNdICsgNjgxMjc5MTc0IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzBdIC0gMzU4NTM3MjIyIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1szXSAtIDcyMjUyMTk3OSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbNl0gKyA3NjAyOTE4OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1s5XSAtIDY0MDM2NDQ4NyB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1sxMl0gLSA0MjE4MTU4MzUgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzE1XSArIDUzMDc0MjUyMCB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbMl0gLSA5OTUzMzg2NTEgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcblxuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1swXSAtIDE5ODYzMDg0NCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1s3XSArIDExMjY4OTE0MTUgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzE0XSAtIDE0MTYzNTQ5MDUgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzVdIC0gNTc0MzQwNTUgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHxiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbMTJdICsgMTcwMDQ4NTU3MSB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1szXSAtIDE4OTQ5ODY2MDYgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzEwXSAtIDEwNTE1MjMgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzFdIC0gMjA1NDkyMjc5OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s4XSArIDE4NzMzMTMzNTkgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGtbMTVdIC0gMzA2MTE3NDQgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzZdIC0gMTU2MDE5ODM4MCB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbMTNdICsgMTMwOTE1MTY0OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s0XSAtIDE0NTUyMzA3MCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1sxMV0gLSAxMTIwMjEwMzc5IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1syXSArIDcxODc4NzI1OSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbOV0gLSAzNDM0ODU1NTEgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHwgYiA+Pj4gMTEpICsgYyB8IDA7XG5cbiAgICAgICAgeFswXSA9IGEgKyB4WzBdIHwgMDtcbiAgICAgICAgeFsxXSA9IGIgKyB4WzFdIHwgMDtcbiAgICAgICAgeFsyXSA9IGMgKyB4WzJdIHwgMDtcbiAgICAgICAgeFszXSA9IGQgKyB4WzNdIHwgMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDVibGsocykge1xuICAgICAgICB2YXIgbWQ1YmxrcyA9IFtdLFxuICAgICAgICAgICAgaTsgLyogQW5keSBLaW5nIHNhaWQgZG8gaXQgdGhpcyB3YXkuICovXG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY0OyBpICs9IDQpIHtcbiAgICAgICAgICAgIG1kNWJsa3NbaSA+PiAyXSA9IHMuY2hhckNvZGVBdChpKSArIChzLmNoYXJDb2RlQXQoaSArIDEpIDw8IDgpICsgKHMuY2hhckNvZGVBdChpICsgMikgPDwgMTYpICsgKHMuY2hhckNvZGVBdChpICsgMykgPDwgMjQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZDVibGtzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNWJsa19hcnJheShhKSB7XG4gICAgICAgIHZhciBtZDVibGtzID0gW10sXG4gICAgICAgICAgICBpOyAvKiBBbmR5IEtpbmcgc2FpZCBkbyBpdCB0aGlzIHdheS4gKi9cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkgKz0gNCkge1xuICAgICAgICAgICAgbWQ1Ymxrc1tpID4+IDJdID0gYVtpXSArIChhW2kgKyAxXSA8PCA4KSArIChhW2kgKyAyXSA8PCAxNikgKyAoYVtpICsgM10gPDwgMjQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZDVibGtzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNTEocykge1xuICAgICAgICB2YXIgbiA9IHMubGVuZ3RoLFxuICAgICAgICAgICAgc3RhdGUgPSBbMTczMjU4NDE5MywgLTI3MTczMzg3OSwgLTE3MzI1ODQxOTQsIDI3MTczMzg3OF0sXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgdGFpbCxcbiAgICAgICAgICAgIHRtcCxcbiAgICAgICAgICAgIGxvLFxuICAgICAgICAgICAgaGk7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbjsgaSArPSA2NCkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIG1kNWJsayhzLnN1YnN0cmluZyhpIC0gNjQsIGkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcyA9IHMuc3Vic3RyaW5nKGkgLSA2NCk7XG4gICAgICAgIGxlbmd0aCA9IHMubGVuZ3RoO1xuICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBzLmNoYXJDb2RlQXQoaSkgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cbiAgICAgICAgdGFpbFtpID4+IDJdIHw9IDB4ODAgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIGlmIChpID4gNTUpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgdGFpbFtpXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZXdhcmUgdGhhdCB0aGUgZmluYWwgbGVuZ3RoIG1pZ2h0IG5vdCBmaXQgaW4gMzIgYml0cyBzbyB3ZSB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICB0bXAgPSBuICogODtcbiAgICAgICAgdG1wID0gdG1wLnRvU3RyaW5nKDE2KS5tYXRjaCgvKC4qPykoLnswLDh9KSQvKTtcbiAgICAgICAgbG8gPSBwYXJzZUludCh0bXBbMl0sIDE2KTtcbiAgICAgICAgaGkgPSBwYXJzZUludCh0bXBbMV0sIDE2KSB8fCAwO1xuXG4gICAgICAgIHRhaWxbMTRdID0gbG87XG4gICAgICAgIHRhaWxbMTVdID0gaGk7XG5cbiAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIHRhaWwpO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1MV9hcnJheShhKSB7XG4gICAgICAgIHZhciBuID0gYS5sZW5ndGgsXG4gICAgICAgICAgICBzdGF0ZSA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICB0YWlsLFxuICAgICAgICAgICAgdG1wLFxuICAgICAgICAgICAgbG8sXG4gICAgICAgICAgICBoaTtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBuOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgbWQ1YmxrX2FycmF5KGEuc3ViYXJyYXkoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90IHN1cmUgaWYgaXQgaXMgYSBidWcsIGhvd2V2ZXIgSUUxMCB3aWxsIGFsd2F5cyBwcm9kdWNlIGEgc3ViIGFycmF5IG9mIGxlbmd0aCAxXG4gICAgICAgIC8vIGNvbnRhaW5pbmcgdGhlIGxhc3QgZWxlbWVudCBvZiB0aGUgcGFyZW50IGFycmF5IGlmIHRoZSBzdWIgYXJyYXkgc3BlY2lmaWVkIHN0YXJ0c1xuICAgICAgICAvLyBiZXlvbmQgdGhlIGxlbmd0aCBvZiB0aGUgcGFyZW50IGFycmF5IC0gd2VpcmQuXG4gICAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvNzcxNDUyL3R5cGVkLWFycmF5LXN1YmFycmF5LWlzc3VlXG4gICAgICAgIGEgPSAoaSAtIDY0KSA8IG4gPyBhLnN1YmFycmF5KGkgLSA2NCkgOiBuZXcgVWludDhBcnJheSgwKTtcblxuICAgICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YWlsW2kgPj4gMl0gfD0gYVtpXSA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWxbaSA+PiAyXSB8PSAweDgwIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICBpZiAoaSA+IDU1KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgdGFpbCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRhaWxbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmV3YXJlIHRoYXQgdGhlIGZpbmFsIGxlbmd0aCBtaWdodCBub3QgZml0IGluIDMyIGJpdHMgc28gd2UgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgdG1wID0gbiAqIDg7XG4gICAgICAgIHRtcCA9IHRtcC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgIGxvID0gcGFyc2VJbnQodG1wWzJdLCAxNik7XG4gICAgICAgIGhpID0gcGFyc2VJbnQodG1wWzFdLCAxNikgfHwgMDtcblxuICAgICAgICB0YWlsWzE0XSA9IGxvO1xuICAgICAgICB0YWlsWzE1XSA9IGhpO1xuXG4gICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcblxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmhleChuKSB7XG4gICAgICAgIHZhciBzID0gJycsXG4gICAgICAgICAgICBqO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgNDsgaiArPSAxKSB7XG4gICAgICAgICAgICBzICs9IGhleF9jaHJbKG4gPj4gKGogKiA4ICsgNCkpICYgMHgwRl0gKyBoZXhfY2hyWyhuID4+IChqICogOCkpICYgMHgwRl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGV4KHgpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB4W2ldID0gcmhleCh4W2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geC5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvLyBJbiBzb21lIGNhc2VzIHRoZSBmYXN0IGFkZDMyIGZ1bmN0aW9uIGNhbm5vdCBiZSB1c2VkLi5cbiAgICBpZiAoaGV4KG1kNTEoJ2hlbGxvJykpICE9PSAnNWQ0MTQwMmFiYzRiMmE3NmI5NzE5ZDkxMTAxN2M1OTInKSB7XG4gICAgICAgIGFkZDMyID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgIHZhciBsc3cgPSAoeCAmIDB4RkZGRikgKyAoeSAmIDB4RkZGRiksXG4gICAgICAgICAgICAgICAgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG4gICAgICAgICAgICByZXR1cm4gKG1zdyA8PCAxNikgfCAobHN3ICYgMHhGRkZGKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIEFycmF5QnVmZmVyIHNsaWNlIHBvbHlmaWxsLlxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdHRhdWJlcnQvbm9kZS1hcnJheWJ1ZmZlci1zbGljZVxuICAgICAqL1xuXG4gICAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgIUFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSkge1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gY2xhbXAodmFsLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSAodmFsIHwgMCkgfHwgMDtcblxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh2YWwgKyBsZW5ndGgsIDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbih2YWwsIGxlbmd0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIChmcm9tLCB0bykge1xuICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luID0gY2xhbXAoZnJvbSwgbGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gbGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBudW0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXksXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUFycmF5O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gY2xhbXAodG8sIGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGJlZ2luID4gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQXJyYXlCdWZmZXIoMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbnVtID0gZW5kIC0gYmVnaW47XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gbmV3IEFycmF5QnVmZmVyKG51bSk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXkgPSBuZXcgVWludDhBcnJheSh0YXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgc291cmNlQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLCBiZWdpbiwgbnVtKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRBcnJheS5zZXQoc291cmNlQXJyYXkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXJzLlxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gdG9VdGY4KHN0cikge1xuICAgICAgICBpZiAoL1tcXHUwMDgwLVxcdUZGRkZdLy50ZXN0KHN0cikpIHtcbiAgICAgICAgICAgIHN0ciA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXRmOFN0cjJBcnJheUJ1ZmZlcihzdHIsIHJldHVyblVJbnQ4QXJyYXkpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHN0ci5sZW5ndGgsXG4gICAgICAgICAgIGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKSxcbiAgICAgICAgICAgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmZiksXG4gICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBhcnJbaV0gPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXR1cm5VSW50OEFycmF5ID8gYXJyIDogYnVmZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcnJheUJ1ZmZlcjJVdGY4U3RyKGJ1ZmYpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYnVmZikpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzKGZpcnN0LCBzZWNvbmQsIHJldHVyblVJbnQ4QXJyYXkpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGZpcnN0LmJ5dGVMZW5ndGggKyBzZWNvbmQuYnl0ZUxlbmd0aCk7XG5cbiAgICAgICAgcmVzdWx0LnNldChuZXcgVWludDhBcnJheShmaXJzdCkpO1xuICAgICAgICByZXN1bHQuc2V0KG5ldyBVaW50OEFycmF5KHNlY29uZCksIGZpcnN0LmJ5dGVMZW5ndGgpO1xuXG4gICAgICAgIHJldHVybiByZXR1cm5VSW50OEFycmF5ID8gcmVzdWx0IDogcmVzdWx0LmJ1ZmZlcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoZXhUb0JpbmFyeVN0cmluZyhoZXgpIHtcbiAgICAgICAgdmFyIGJ5dGVzID0gW10sXG4gICAgICAgICAgICBsZW5ndGggPSBoZXgubGVuZ3RoLFxuICAgICAgICAgICAgeDtcblxuICAgICAgICBmb3IgKHggPSAwOyB4IDwgbGVuZ3RoIC0gMTsgeCArPSAyKSB7XG4gICAgICAgICAgICBieXRlcy5wdXNoKHBhcnNlSW50KGhleC5zdWJzdHIoeCwgMiksIDE2KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGJ5dGVzKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIFNwYXJrTUQ1IE9PUCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIGNsYXNzIHRvIHBlcmZvcm0gYW4gaW5jcmVtZW50YWwgbWQ1LCBvdGhlcndpc2UgdXNlIHRoZVxuICAgICAqIHN0YXRpYyBtZXRob2RzIGluc3RlYWQuXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBTcGFya01ENSgpIHtcbiAgICAgICAgLy8gY2FsbCByZXNldCB0byBpbml0IHRoZSBpbnN0YW5jZVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIHN0cmluZy5cbiAgICAgKiBBIGNvbnZlcnNpb24gd2lsbCBiZSBhcHBsaWVkIGlmIGFuIHV0Zjggc3RyaW5nIGlzIGRldGVjdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgc3RyaW5nIHRvIGJlIGFwcGVuZGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIC8vIENvbnZlcnRzIHRoZSBzdHJpbmcgdG8gdXRmOCBieXRlcyBpZiBuZWNlc3NhcnlcbiAgICAgICAgLy8gVGhlbiBhcHBlbmQgYXMgYmluYXJ5XG4gICAgICAgIHRoaXMuYXBwZW5kQmluYXJ5KHRvVXRmOChzdHIpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIGJpbmFyeSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudHMgVGhlIGJpbmFyeSBzdHJpbmcgdG8gYmUgYXBwZW5kZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1fSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmFwcGVuZEJpbmFyeSA9IGZ1bmN0aW9uIChjb250ZW50cykge1xuICAgICAgICB0aGlzLl9idWZmICs9IGNvbnRlbnRzO1xuICAgICAgICB0aGlzLl9sZW5ndGggKz0gY29udGVudHMubGVuZ3RoO1xuXG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLl9idWZmLmxlbmd0aCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbGVuZ3RoOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCBtZDVibGsodGhpcy5fYnVmZi5zdWJzdHJpbmcoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYnVmZiA9IHRoaXMuX2J1ZmYuc3Vic3RyaW5nKGkgLSA2NCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHRoZSBpbmNyZW1lbnRhbCBjb21wdXRhdGlvbiwgcmVzZXRpbmcgdGhlIGludGVybmFsIHN0YXRlIGFuZFxuICAgICAqIHJldHVybmluZyB0aGUgcmVzdWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSByYXcgVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChyYXcpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSB0aGlzLl9idWZmLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgICAgIHJldDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBidWZmLmNoYXJDb2RlQXQoaSkgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9maW5pc2godGFpbCwgbGVuZ3RoKTtcbiAgICAgICAgcmV0ID0gaGV4KHRoaXMuX2hhc2gpO1xuXG4gICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgIHJldCA9IGhleFRvQmluYXJ5U3RyaW5nKHJldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYnVmZiA9ICcnO1xuICAgICAgICB0aGlzLl9sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9oYXNoID0gWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzdGF0ZVxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJ1ZmY6IHRoaXMuX2J1ZmYsXG4gICAgICAgICAgICBsZW5ndGg6IHRoaXMuX2xlbmd0aCxcbiAgICAgICAgICAgIGhhc2g6IHRoaXMuX2hhc2guc2xpY2UoKVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgVGhlIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB0aGlzLl9idWZmID0gc3RhdGUuYnVmZjtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICB0aGlzLl9oYXNoID0gc3RhdGUuaGFzaDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVsZWFzZXMgbWVtb3J5IHVzZWQgYnkgdGhlIGluY3JlbWVudGFsIGJ1ZmZlciBhbmQgb3RoZXIgYWRkaXRpb25hbFxuICAgICAqIHJlc291cmNlcy4gSWYgeW91IHBsYW4gdG8gdXNlIHRoZSBpbnN0YW5jZSBhZ2FpbiwgdXNlIHJlc2V0IGluc3RlYWQuXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9oYXNoO1xuICAgICAgICBkZWxldGUgdGhpcy5fYnVmZjtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xlbmd0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluaXNoIHRoZSBmaW5hbCBjYWxjdWxhdGlvbiBiYXNlZCBvbiB0aGUgdGFpbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9ICB0YWlsICAgVGhlIHRhaWwgKHdpbGwgYmUgbW9kaWZpZWQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCBUaGUgbGVuZ3RoIG9mIHRoZSByZW1haW5pbmcgYnVmZmVyXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLl9maW5pc2ggPSBmdW5jdGlvbiAodGFpbCwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBpID0gbGVuZ3RoLFxuICAgICAgICAgICAgdG1wLFxuICAgICAgICAgICAgbG8sXG4gICAgICAgICAgICBoaTtcblxuICAgICAgICB0YWlsW2kgPj4gMl0gfD0gMHg4MCA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgaWYgKGkgPiA1NSkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUodGhpcy5faGFzaCwgdGFpbCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRhaWxbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG8gdGhlIGZpbmFsIGNvbXB1dGF0aW9uIGJhc2VkIG9uIHRoZSB0YWlsIGFuZCBsZW5ndGhcbiAgICAgICAgLy8gQmV3YXJlIHRoYXQgdGhlIGZpbmFsIGxlbmd0aCBtYXkgbm90IGZpdCBpbiAzMiBiaXRzIHNvIHdlIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgIHRtcCA9IHRoaXMuX2xlbmd0aCAqIDg7XG4gICAgICAgIHRtcCA9IHRtcC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgIGxvID0gcGFyc2VJbnQodG1wWzJdLCAxNik7XG4gICAgICAgIGhpID0gcGFyc2VJbnQodG1wWzFdLCAxNikgfHwgMDtcblxuICAgICAgICB0YWlsWzE0XSA9IGxvO1xuICAgICAgICB0YWlsWzE1XSA9IGhpO1xuICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCB0YWlsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgdGhlIG1kNSBoYXNoIG9uIGEgc3RyaW5nLlxuICAgICAqIEEgY29udmVyc2lvbiB3aWxsIGJlIGFwcGxpZWQgaWYgdXRmOCBzdHJpbmcgaXMgZGV0ZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gIHN0ciBUaGUgc3RyaW5nXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmF3XSBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5oYXNoID0gZnVuY3Rpb24gKHN0ciwgcmF3KSB7XG4gICAgICAgIC8vIENvbnZlcnRzIHRoZSBzdHJpbmcgdG8gdXRmOCBieXRlcyBpZiBuZWNlc3NhcnlcbiAgICAgICAgLy8gVGhlbiBjb21wdXRlIGl0IHVzaW5nIHRoZSBiaW5hcnkgZnVuY3Rpb25cbiAgICAgICAgcmV0dXJuIFNwYXJrTUQ1Lmhhc2hCaW5hcnkodG9VdGY4KHN0ciksIHJhdyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHRoZSBtZDUgaGFzaCBvbiBhIGJpbmFyeSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gIGNvbnRlbnQgVGhlIGJpbmFyeSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyYXddICAgICBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5oYXNoQmluYXJ5ID0gZnVuY3Rpb24gKGNvbnRlbnQsIHJhdykge1xuICAgICAgICB2YXIgaGFzaCA9IG1kNTEoY29udGVudCksXG4gICAgICAgICAgICByZXQgPSBoZXgoaGFzaCk7XG5cbiAgICAgICAgcmV0dXJuIHJhdyA/IGhleFRvQmluYXJ5U3RyaW5nKHJldCkgOiByZXQ7XG4gICAgfTtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogU3BhcmtNRDUgT09QIGltcGxlbWVudGF0aW9uIGZvciBhcnJheSBidWZmZXJzLlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgY2xhc3MgdG8gcGVyZm9ybSBhbiBpbmNyZW1lbnRhbCBtZDUgT05MWSBmb3IgYXJyYXkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gY2FsbCByZXNldCB0byBpbml0IHRoZSBpbnN0YW5jZVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYW4gYXJyYXkgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyIFRoZSBhcnJheSB0byBiZSBhcHBlbmRlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKGFycikge1xuICAgICAgICB2YXIgYnVmZiA9IGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzKHRoaXMuX2J1ZmYuYnVmZmVyLCBhcnIsIHRydWUpLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIHRoaXMuX2xlbmd0aCArPSBhcnIuYnl0ZUxlbmd0aDtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBsZW5ndGg7IGkgKz0gNjQpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHRoaXMuX2hhc2gsIG1kNWJsa19hcnJheShidWZmLnN1YmFycmF5KGkgLSA2NCwgaSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2J1ZmYgPSAoaSAtIDY0KSA8IGxlbmd0aCA/IG5ldyBVaW50OEFycmF5KGJ1ZmYuYnVmZmVyLnNsaWNlKGkgLSA2NCkpIDogbmV3IFVpbnQ4QXJyYXkoMCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHRoZSBpbmNyZW1lbnRhbCBjb21wdXRhdGlvbiwgcmVzZXRpbmcgdGhlIGludGVybmFsIHN0YXRlIGFuZFxuICAgICAqIHJldHVybmluZyB0aGUgcmVzdWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSByYXcgVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChyYXcpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSB0aGlzLl9idWZmLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIHJldDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBidWZmW2ldIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZmluaXNoKHRhaWwsIGxlbmd0aCk7XG4gICAgICAgIHJldCA9IGhleCh0aGlzLl9oYXNoKTtcblxuICAgICAgICBpZiAocmF3KSB7XG4gICAgICAgICAgICByZXQgPSBoZXhUb0JpbmFyeVN0cmluZyhyZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2J1ZmYgPSBuZXcgVWludDhBcnJheSgwKTtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5faGFzaCA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgc3RhdGVcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IFNwYXJrTUQ1LnByb3RvdHlwZS5nZXRTdGF0ZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIENvbnZlcnQgYnVmZmVyIHRvIGEgc3RyaW5nXG4gICAgICAgIHN0YXRlLmJ1ZmYgPSBhcnJheUJ1ZmZlcjJVdGY4U3RyKHN0YXRlLmJ1ZmYpO1xuXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIFRoZSBzdGF0ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgLy8gQ29udmVydCBzdHJpbmcgdG8gYnVmZmVyXG4gICAgICAgIHN0YXRlLmJ1ZmYgPSB1dGY4U3RyMkFycmF5QnVmZmVyKHN0YXRlLmJ1ZmYsIHRydWUpO1xuXG4gICAgICAgIHJldHVybiBTcGFya01ENS5wcm90b3R5cGUuc2V0U3RhdGUuY2FsbCh0aGlzLCBzdGF0ZSk7XG4gICAgfTtcblxuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gU3BhcmtNRDUucHJvdG90eXBlLmRlc3Ryb3k7XG5cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuX2ZpbmlzaCA9IFNwYXJrTUQ1LnByb3RvdHlwZS5fZmluaXNoO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgdGhlIG1kNSBoYXNoIG9uIGFuIGFycmF5IGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFyciBUaGUgYXJyYXkgYnVmZmVyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgW3Jhd10gVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IG9uZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIuaGFzaCA9IGZ1bmN0aW9uIChhcnIsIHJhdykge1xuICAgICAgICB2YXIgaGFzaCA9IG1kNTFfYXJyYXkobmV3IFVpbnQ4QXJyYXkoYXJyKSksXG4gICAgICAgICAgICByZXQgPSBoZXgoaGFzaCk7XG5cbiAgICAgICAgcmV0dXJuIHJhdyA/IGhleFRvQmluYXJ5U3RyaW5nKHJldCkgOiByZXQ7XG4gICAgfTtcblxuICAgIHJldHVybiBTcGFya01ENTtcbn0pKTtcbiIsIi8qKlxuICogRm9ybWF0cyByYXcgVVVJRCBkYXRhIGludG8gdGhlIHByb3BlciBzdHJpbmcgZm9ybWF0LlxuICogQHBhcmFtIGRhdGEgLSBSYXcgVVVJRCBkYXRhLlxuICogQHJldHVybnMgRm9ybWF0dGVkIFVVSUQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiB1aW50OFRvVXVpZCAoZGF0YTogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGlmIChkYXRhLmxlbmd0aCAhPT0gMTYpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBmdW5jdGlvbiBjYiAocHJldmlvdXM6IHN0cmluZywgY3VycmVudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gcHJldmlvdXMgKyBjdXJyZW50LnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xuICB9XG5cbiAgcmV0dXJuIGRhdGEuc2xpY2UoMCwgNCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoNCwgNikucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoNiwgOCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoOCwgMTApLnJlZHVjZShjYiwgJycpICtcbiAgICAnLScgKyBkYXRhLnNsaWNlKDEwKS5yZWR1Y2UoY2IsICcnKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBBIFt2ZXJzaW9uIDQgVVVJRF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVW5pdmVyc2FsbHlfdW5pcXVlX2lkZW50aWZpZXIjVmVyc2lvbl80XyhyYW5kb20pKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWR2NCAoKTogc3RyaW5nIHtcbiAgLy8gQ2hlY2sgZm9yIGNyeXB0byBBUElcbiAgaWYgKHdpbmRvdy5jcnlwdG8gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1aW50OFRvVXVpZChuZXcgVWludDhBcnJheSgxNikpO1xuICB9XG5cbiAgLy8gR2V0IDE2IG9jdGV0cyBmb3IgVVVJRFxuICBjb25zdCBvY3RldHMgPSBuZXcgVWludDhBcnJheSgxNik7XG4gIGNvbnN0IG1vZGlmaWVycyA9IFVpbnQ4QXJyYXkuZnJvbShbXG4gICAgcGFyc2VJbnQoJzAxMDAwMDAwJywgMiksICAvLyBWZXJzaW9uIGJpdHMgKDQgPT4gMDEwMClcbiAgICBwYXJzZUludCgnMTAwMDAwMDAnLCAyKSwgIC8vIFZhcmlhbnQgYml0cyAoMTB4KVxuICAgIHBhcnNlSW50KCcwMDAwMTExMScsIDIpLCAgLy8gTWFzayB0byB6ZXJvIGhpZ2hlciBiaXRzLCB2ZXJzaW9uXG4gICAgcGFyc2VJbnQoJzAwMTExMTExJywgMikgICAvLyBNYXNrIHRvIHplcm8gaGlnaGVyIGJpdHMsIHZhcmlhbnRcbiAgXSk7XG4gIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG9jdGV0cyk7XG4gIC8vIFNldCB2ZXJzaW9uIGJpdHMgYW5kIHZhcmlhbnQgYml0c1xuICBvY3RldHNbNl0gPSAob2N0ZXRzWzZdICYgbW9kaWZpZXJzWzJdKSB8IG1vZGlmaWVyc1swXTtcbiAgb2N0ZXRzWzhdID0gKG9jdGV0c1s4XSAmIG1vZGlmaWVyc1szXSkgfCBtb2RpZmllcnNbMV07XG5cbiAgcmV0dXJuIHVpbnQ4VG9VdWlkKG9jdGV0cyk7XG59XG4iLCJpbXBvcnQgeyBHcm91cGluZ1R5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5cbi8qKlxuICogQWRhcHRlZCBmcm9tIGNvbG9yIHBhbGV0dGUgZnJvbSBGaWd1cmUgMiAoQ29sb3JzIG9wdGltaXplZCBmb3IgY29sb3ItYmxpbmRcbiAqIGluZGl2aWR1YWxzKSBmcm9tXG4gKiBbXCJQb2ludHMgb2YgdmlldzogQ29sb3IgYmxpbmRuZXNzXCIgYnkgQmFuZyBXb25nIHB1Ymxpc2hlZCBpbiBOYXR1cmUgTWV0aG9kcyB2b2x1bWUgOCBvbiAyNyBNYXkgMjAxMV0oaHR0cHM6Ly93d3cubmF0dXJlLmNvbS9hcnRpY2xlcy9ubWV0aC4xNjE4P1dULmVjX2lkPU5NRVRILTIwMTEwNilcbiAqL1xuY29uc3QgQ29sb3JQYWxldHRlOiBzdHJpbmdbXSA9IFtcbiAgJ3JnYigyMzAsIDE1OSwgMCknLFxuICAncmdiKDg2LCAxODAsIDIzMyknLFxuICAncmdiKDAsIDE1OCwgMTE1KScsXG4gICdyZ2IoMjQwLCAyMjgsIDY2KScsXG4gICdyZ2IoMCwgMTE0LCAxNzgpJyxcbiAgJ3JnYigyMTMsIDk0LCAwKScsXG4gICdyZ2IoMjA0LCAxMjEsIDE2NyknXG5dO1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgaGlnaGxpZ2h0IGZyb20gYSBzdGFmZi5cbiAqIEBwYXJhbSBzdGFmZiBJZiB1bmRlZmluZWQsIHRoZSBhbGwgc3RhdmVzIGFyZSB1bmhpZ2hsaWdodGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5oaWdobGlnaHQoc3RhZmY/OiBTVkdHRWxlbWVudCk6IHZvaWQge1xuICBsZXQgY2hpbGRyZW46IE5vZGVMaXN0T2Y8RWxlbWVudD47XG4gIGlmIChzdGFmZikge1xuICAgIGNoaWxkcmVuID0gc3RhZmYucXVlcnlTZWxlY3RvckFsbCgnOm5vdCguc2VsZWN0ZWQpIC5oaWdobGlnaHRlZCcpO1xuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnOm5vdCguc2VsZWN0ZWQpIC5oaWdobGlnaHRlZCcpO1xuICB9XG4gIGNoaWxkcmVuLmZvckVhY2goZWxlbSA9PiB7XG4gICAgaWYgKGVsZW0udGFnTmFtZSA9PT0gJ3BhdGgnICYmICFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICcjMDAwMDAwJyk7XG4gICAgfSBlbHNlIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpICYmICFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICcjMDAwMDAwJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoJ2ZpbGwnKTtcbiAgICAgIGxldCByZWN0cyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIGlmICghcmVjdHMubGVuZ3RoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVjdHMgPSBlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZWN0cyA9IFtdIGFzIHVua25vd24gYXMgTm9kZUxpc3RPZjxFbGVtZW50PjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zeWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgICAvLyByZWN0LmNsb3Nlc3QoJy5sYXllcicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICApe1xuICAgICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBoaWdobGlnaHQgZnJvbSBlYWNoIHN0YWZmLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRTdGFmZkhpZ2hsaWdodCgpOiB2b2lkIHtcbiAgdW5oaWdobGlnaHQoKTtcbn1cblxuLyoqXG4gKiBVbnNldCBoaWdobGlnaHQgZm9yIGFsbCBncm91cGluZyB0eXBlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRHcm91cGluZ0hpZ2hsaWdodCgpOiB2b2lkIHtcbiAgdW5zZXRTdGFmZkhpZ2hsaWdodCgpO1xuICBjb25zdCBoaWdobGlnaHRlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlnaGxpZ2h0ZWQnKSlcbiAgICAuZmlsdGVyKChlbGVtOiBIVE1MRWxlbWVudCkgPT4gIWVsZW0ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpO1xuICBoaWdobGlnaHRlZC5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIGVsZW0uc2V0QXR0cmlidXRlKCcjZDAwJywgbnVsbCk7XG4gICAgbGV0IHJlY3RzID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgIGlmICghcmVjdHMubGVuZ3RoKSB7XG4gICAgICBpZiAoZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKSAhPT0gbnVsbCkge1xuICAgICAgICByZWN0cyA9IGVsZW0uY2xvc2VzdCgnLnN5bGxhYmxlJykucXVlcnlTZWxlY3RvckFsbCgnc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgfVxuICAgIH1cbiAgICByZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZWN0OiBIVE1MRWxlbWVudCkge1xuICAgICAgaWYgKHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8IFxuICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICApe1xuICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgICB9XG4gICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgfSk7XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgIGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnc3lsVGV4dFJlY3QtZGlzcGxheScpLmZvckVhY2gocmVjdCA9PiB7XG4gICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgfSk7XG4gIH0pO1xuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpLmZvckVhY2goKGVsKSA9PiB7IGVsLnNldEF0dHJpYnV0ZSgnZmlsbCcsICcnKTsgfSk7XG59XG5cbi8qKlxuICogSGlnaGxpZ2h0IGEgc3RhZmYgYSBjZXJ0YWluIGNvbG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGlnaGxpZ2h0KHN0YWZmOiBTVkdHRWxlbWVudCwgY29sb3I6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20oc3RhZmYuY2hpbGRyZW4pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoY2hpbGQudGFnTmFtZSA9PT0gJ3BhdGgnKSB7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsIGNvbG9yKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKSB7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsIGNvbG9yKTtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMwcHgnKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykubGVuZ3RoICYmIGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSkge1xuICAgICAgQXJyYXkuZnJvbShjaGlsZC5jaGlsZHJlbikuZmlsdGVyKGVsID0+IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykpLmZvckVhY2goY2NoaWxkID0+IHsgY2hpbGRyZW4ucHVzaChjY2hpbGQpOyB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNpemVQb2ludCcpIHx8IGNoaWxkLmlkID09PSAncmVzaXplUmVjdCcgfHwgY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyb3RhdGVQb2ludCcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ2xheWVyJykpIHtcbiAgICAgIEFycmF5LmZyb20oY2hpbGQuY2hpbGRyZW4pLmZvckVhY2goY2NoaWxkID0+IHsgY2hpbGRyZW4ucHVzaChjY2hpbGQpOyB9KTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2hpZ2hsaWdodC1zZWxlY3RlZCcpLmxlbmd0aCAmJlxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJylbMF0uaWQgPT09ICdoaWdobGlnaHQtbmV1bWUnXG4gICAgICAmJiBjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHtcbiAgICAgIEFycmF5LmZyb20oY2hpbGQuY2hpbGRyZW4pLmZpbHRlcihlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJykpLmZvckVhY2goY2NoaWxkID0+IHsgY2hpbGRyZW4ucHVzaChjY2hpbGQpOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdmaWxsJywgY29sb3IpO1xuICAgICAgbGV0IHJlY3RzID0gY2hpbGQucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIGlmICghcmVjdHMubGVuZ3RoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVjdHMgPSBjaGlsZC5jbG9zZXN0KCcuc3lsbGFibGUnKS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVjdHMgPSBbXSBhcyB1bmtub3duIGFzIE5vZGVMaXN0T2Y8RWxlbWVudD47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlY3Q6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGlmICghKHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgICAvLyByZWN0LmNsb3Nlc3QoJy5sYXllcicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICApKSB7XG4gICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gY29sb3I7XG4gICAgICAgICAgcmVjdC5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHRlZCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2hpbGQuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0ZWQnKTtcbiAgfVxuICBsZXQgd2lkdGgsIGhlaWdodDtcbiAgLyp0cnkge1xuICAgIHdpZHRoID0gTnVtYmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUtcGFnZScpLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpLmdldEF0dHJpYnV0ZSgnd2lkdGgnKS5zcGxpdCgncHgnKVswXSk7XG4gICAgaGVpZ2h0ID0gTnVtYmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUtcGFnZScpLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpLmdldEF0dHJpYnV0ZSgnaGVpZ2h0Jykuc3BsaXQoJ3B4JylbMF0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5kZWJ1ZyhlKTtcbiAgfSovXG4gIGxldCBzdHJva2U6IHN0cmluZztcbiAgaWYgKHdpZHRoICE9PSB1bmRlZmluZWQgJiYgaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBpZGsgbG9va3MgZ29vZCA6JylcbiAgICAvLyBUT0RPIGZpbmQgYSBiZXR0ZXIgd2F5IG9mIGNhbGN1bGF0aW5nIHRoaXMgYXMgdGhpcyBhY3R1YWxseSBkb2Vzbid0IHdvcmsgYXMgd2VsbCBhcyAzMHB4XG4gICAgc3Ryb2tlID0gKHdpZHRoICogaGVpZ2h0IC8gMTAwMDAwMCkudG9TdHJpbmcoKTtcbiAgfVxuICBlbHNlIHtcbiAgICBzdHJva2UgPSAnMzBweCc7XG4gIH1cbiAgc3RhZmYucXVlcnlTZWxlY3RvckFsbCgnLm5jLCAuY3VzdG9zLCAuY2xlZiwgLmFjY2lkJykuZm9yRWFjaChlbCA9PiB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsIHN0cm9rZSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEhpZ2hsaWdodCBlYWNoIHN0YWZmIGEgZGlmZmVyZW50IGNvbG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RhZmZIaWdobGlnaHQoKTogdm9pZCB7XG4gIGNvbnN0IHN0YXZlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZmYnKSkgYXMgU1ZHR0VsZW1lbnRbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFmZkNvbG9yID0gQ29sb3JQYWxldHRlW2kgJSBDb2xvclBhbGV0dGUubGVuZ3RoXTtcbiAgICBoaWdobGlnaHQoc3RhdmVzW2ldLCBzdGFmZkNvbG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRDb2x1bW5IaWdobGlnaHQoKTogdm9pZCB7XG4gIGNvbnN0ICBncm91cHM6IHsgW2tleTogbnVtYmVyXTogU1ZHR0VsZW1lbnRbXSB9ID0ge307XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0YWZmJykuZm9yRWFjaCgoc3RhZmYpID0+IHtcbiAgICBjb25zdCBoYXNDb2x1bW4gPSBBcnJheS5mcm9tKHN0YWZmLmNsYXNzTGlzdCkuam9pbignICcpLm1hdGNoKC9cXGJjb2x1bW4oXFxkKylcXGIvKTtcbiAgICBsZXQgY29sdW1uTnVtID0gMDtcbiAgICBpZiAoaGFzQ29sdW1uKSB7XG4gICAgICBjb2x1bW5OdW0gPSBwYXJzZUludChoYXNDb2x1bW5bMV0sIDEwKSAtIDE7XG4gICAgfVxuXG4gICAgaWYgKCFncm91cHNbY29sdW1uTnVtXSkge1xuICAgICAgZ3JvdXBzW2NvbHVtbk51bV0gPSBbXTtcbiAgICB9XG5cbiAgICBncm91cHNbY29sdW1uTnVtXS5wdXNoKHN0YWZmIGFzIFNWR0dFbGVtZW50KTtcbiAgfSk7XG5cbiAgZm9yIChjb25zdCBbY29sdW1uLCBzdGF2ZXNdIG9mIE9iamVjdC5lbnRyaWVzKGdyb3VwcykpIHtcbiAgICBjb25zdCBjb2xvciA9IENvbG9yUGFsZXR0ZVtOdW1iZXIoY29sdW1uKSAlIENvbG9yUGFsZXR0ZS5sZW5ndGhdO1xuICAgIGZvciAoY29uc3Qgc3RhZmYgb2Ygc3RhdmVzKSB7XG4gICAgICBoaWdobGlnaHQoc3RhZmYsIGNvbG9yKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgYSBoaWdobGlnaHQgYnkgYSBkaWZmZXJlbnQgZ3JvdXBpbmcuXG4gKiBAcGFyYW0gZ3JvdXBpbmcgLSBFaXRoZXIgXCJzdGFmZlwiLCBcInN5bGxhYmxlXCIsIFwibmV1bWVcIiwgXCJzZWxlY3Rpb25cIiwgb3IgXCJsYXllckVsZW1lbnRcIi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEdyb3VwaW5nSGlnaGxpZ2h0KGdyb3VwaW5nOiBHcm91cGluZ1R5cGUpOiB2b2lkIHtcbiAgdW5zZXRHcm91cGluZ0hpZ2hsaWdodCgpO1xuICBpZiAoZ3JvdXBpbmcgPT09ICdzdGFmZicpIHtcbiAgICBzZXRTdGFmZkhpZ2hsaWdodCgpO1xuICAgIHJldHVybjtcbiAgfVxuICBlbHNlIGlmIChncm91cGluZyA9PT0gJ2NvbHVtbicpIHtcbiAgICBzZXRDb2x1bW5IaWdobGlnaHQoKTtcbiAgICByZXR1cm47XG4gIH0gXG4gIGVsc2UgaWYgKGdyb3VwaW5nID09PSAnc2VsZWN0aW9uJykge1xuICAgIGNvbnN0IHRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsLWJ5LmlzLWFjdGl2ZScpLmlkO1xuICAgIHN3aXRjaCAodGVtcCkge1xuICAgICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBjYXNlICdzZWxCeUJCb3gnOlxuICAgICAgICBncm91cGluZyA9ICdzeWxsYWJsZSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlDb2x1bW4nOlxuICAgICAgICBncm91cGluZyA9ICdjb2x1bW4nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgICBncm91cGluZyA9ICdzdGFmZic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlMYXllckVsZW1lbnQnOlxuICAgICAgICBncm91cGluZyA9ICdsYXllckVsZW1lbnQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZ3JvdXBpbmcgPSAnbmV1bWUnO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgc2V0R3JvdXBpbmdIaWdobGlnaHQoZ3JvdXBpbmcpO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgZ3JvdXBzO1xuXG4gIGlmIChncm91cGluZyA9PSAnbGF5ZXJFbGVtZW50Jykge1xuICAgIGdyb3VwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NpZCwgLmNsZWYsIC5jdXN0b3MsIC5kaXZMaW5lJyk7XG4gIH1cbiAgZWxzZSB7XG4gICAgZ3JvdXBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShncm91cGluZykgYXMgSFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD47XG4gIH1cblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmMsIC5jdXN0b3MsIC5jbGVmLCAuYWNjaWQsIC5kaXZMaW5lJykuZm9yRWFjaChlbCA9PiB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gIH0pO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZ3JvdXBDb2xvciA9IENvbG9yUGFsZXR0ZVtpICUgQ29sb3JQYWxldHRlLmxlbmd0aF07XG4gICAgaWYgKChncm91cHNbaV0uY2xvc2VzdCgnLnNlbGVjdGVkJykgPT09IG51bGwpICYmICFncm91cHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBncm91cHNbaV0uc2V0QXR0cmlidXRlKCdmaWxsJywgZ3JvdXBDb2xvcik7XG4gICAgICBjb25zdCByZWN0cyA9IGdyb3Vwc1tpXS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+O1xuICAgICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICBpZiAocmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsbGFibGUnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gZ3JvdXBDb2xvcjtcbiAgICAgIH0pO1xuICAgICAgZ3JvdXBzW2ldLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICBncm91cHNbaV0ucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKHJlY3QgPT4ge1xuICAgICAgICByZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFncm91cHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgIGdyb3Vwc1tpXS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdyb3Vwc1tpXS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnI2QwMCcpO1xuICAgICAgfVxuICAgICAgZ3JvdXBzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgZGl2TGluZUNoaWxkcmVuID0gZ3JvdXBzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJyk7XG4gICAgaWYgKGRpdkxpbmVDaGlsZHJlbikge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBkaXZMaW5lQ2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgZGl2TGluZUNoaWxkcmVuW2pdLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgZ3JvdXBDb2xvcik7XG4gICAgICAgIGRpdkxpbmVDaGlsZHJlbltqXS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxufVxuIiwiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gSW4gdGhlIGJyb3dzZXIgd2UgdGhlcmVmb3JlXG4vLyByZXF1aXJlIHRoZSBjcnlwdG8gQVBJIGFuZCBkbyBub3Qgc3VwcG9ydCBidWlsdC1pbiBmYWxsYmFjayB0byBsb3dlciBxdWFsaXR5IHJhbmRvbSBudW1iZXJcbi8vIGdlbmVyYXRvcnMgKGxpa2UgTWF0aC5yYW5kb20oKSkuXG52YXIgZ2V0UmFuZG9tVmFsdWVzO1xudmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uIEFsc28sXG4gICAgLy8gZmluZCB0aGUgY29tcGxldGUgaW1wbGVtZW50YXRpb24gb2YgY3J5cHRvIChtc0NyeXB0bykgb24gSUUxMS5cbiAgICBnZXRSYW5kb21WYWx1ZXMgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pIHx8IHR5cGVvZiBtc0NyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PT0gJ2Z1bmN0aW9uJyAmJiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0byk7XG5cbiAgICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xufSIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTdHJpbmdpZnkvcGFyc2UgZnVuY3Rpb25zIHRoYXQgZG9uJ3Qgb3BlcmF0ZVxuICogcmVjdXJzaXZlbHksIHNvIHRoZXkgYXZvaWQgY2FsbCBzdGFjayBleGNlZWRlZFxuICogZXJyb3JzLlxuICovXG5leHBvcnRzLnN0cmluZ2lmeSA9IGZ1bmN0aW9uIHN0cmluZ2lmeShpbnB1dCkge1xuICB2YXIgcXVldWUgPSBbXTtcbiAgcXVldWUucHVzaCh7b2JqOiBpbnB1dH0pO1xuXG4gIHZhciByZXMgPSAnJztcbiAgdmFyIG5leHQsIG9iaiwgcHJlZml4LCB2YWwsIGksIGFycmF5UHJlZml4LCBrZXlzLCBrLCBrZXksIHZhbHVlLCBvYmpQcmVmaXg7XG4gIHdoaWxlICgobmV4dCA9IHF1ZXVlLnBvcCgpKSkge1xuICAgIG9iaiA9IG5leHQub2JqO1xuICAgIHByZWZpeCA9IG5leHQucHJlZml4IHx8ICcnO1xuICAgIHZhbCA9IG5leHQudmFsIHx8ICcnO1xuICAgIHJlcyArPSBwcmVmaXg7XG4gICAgaWYgKHZhbCkge1xuICAgICAgcmVzICs9IHZhbDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgICByZXMgKz0gdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgICB9IGVsc2UgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgcmVzICs9ICdudWxsJztcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgcXVldWUucHVzaCh7dmFsOiAnXSd9KTtcbiAgICAgIGZvciAoaSA9IG9iai5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBhcnJheVByZWZpeCA9IGkgPT09IDAgPyAnJyA6ICcsJztcbiAgICAgICAgcXVldWUucHVzaCh7b2JqOiBvYmpbaV0sIHByZWZpeDogYXJyYXlQcmVmaXh9KTtcbiAgICAgIH1cbiAgICAgIHF1ZXVlLnB1c2goe3ZhbDogJ1snfSk7XG4gICAgfSBlbHNlIHsgLy8gb2JqZWN0XG4gICAgICBrZXlzID0gW107XG4gICAgICBmb3IgKGsgaW4gb2JqKSB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICBrZXlzLnB1c2goayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHF1ZXVlLnB1c2goe3ZhbDogJ30nfSk7XG4gICAgICBmb3IgKGkgPSBrZXlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgIHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgIG9ialByZWZpeCA9IChpID4gMCA/ICcsJyA6ICcnKTtcbiAgICAgICAgb2JqUHJlZml4ICs9IEpTT04uc3RyaW5naWZ5KGtleSkgKyAnOic7XG4gICAgICAgIHF1ZXVlLnB1c2goe29iajogdmFsdWUsIHByZWZpeDogb2JqUHJlZml4fSk7XG4gICAgICB9XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICd7J30pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcblxuLy8gQ29udmVuaWVuY2UgZnVuY3Rpb24gZm9yIHRoZSBwYXJzZSBmdW5jdGlvbi5cbi8vIFRoaXMgcG9wIGZ1bmN0aW9uIGlzIGJhc2ljYWxseSBjb3BpZWQgZnJvbVxuLy8gcG91Y2hDb2xsYXRlLnBhcnNlSW5kZXhhYmxlU3RyaW5nXG5mdW5jdGlvbiBwb3Aob2JqLCBzdGFjaywgbWV0YVN0YWNrKSB7XG4gIHZhciBsYXN0TWV0YUVsZW1lbnQgPSBtZXRhU3RhY2tbbWV0YVN0YWNrLmxlbmd0aCAtIDFdO1xuICBpZiAob2JqID09PSBsYXN0TWV0YUVsZW1lbnQuZWxlbWVudCkge1xuICAgIC8vIHBvcHBpbmcgYSBtZXRhLWVsZW1lbnQsIGUuZy4gYW4gb2JqZWN0IHdob3NlIHZhbHVlIGlzIGFub3RoZXIgb2JqZWN0XG4gICAgbWV0YVN0YWNrLnBvcCgpO1xuICAgIGxhc3RNZXRhRWxlbWVudCA9IG1ldGFTdGFja1ttZXRhU3RhY2subGVuZ3RoIC0gMV07XG4gIH1cbiAgdmFyIGVsZW1lbnQgPSBsYXN0TWV0YUVsZW1lbnQuZWxlbWVudDtcbiAgdmFyIGxhc3RFbGVtZW50SW5kZXggPSBsYXN0TWV0YUVsZW1lbnQuaW5kZXg7XG4gIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpKSB7XG4gICAgZWxlbWVudC5wdXNoKG9iaik7XG4gIH0gZWxzZSBpZiAobGFzdEVsZW1lbnRJbmRleCA9PT0gc3RhY2subGVuZ3RoIC0gMikgeyAvLyBvYmogd2l0aCBrZXkrdmFsdWVcbiAgICB2YXIga2V5ID0gc3RhY2sucG9wKCk7XG4gICAgZWxlbWVudFtrZXldID0gb2JqO1xuICB9IGVsc2Uge1xuICAgIHN0YWNrLnB1c2gob2JqKTsgLy8gb2JqIHdpdGgga2V5IG9ubHlcbiAgfVxufVxuXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gKHN0cikge1xuICB2YXIgc3RhY2sgPSBbXTtcbiAgdmFyIG1ldGFTdGFjayA9IFtdOyAvLyBzdGFjayBmb3IgYXJyYXlzIGFuZCBvYmplY3RzXG4gIHZhciBpID0gMDtcbiAgdmFyIGNvbGxhdGlvbkluZGV4LHBhcnNlZE51bSxudW1DaGFyO1xuICB2YXIgcGFyc2VkU3RyaW5nLGxhc3RDaCxudW1Db25zZWN1dGl2ZVNsYXNoZXMsY2g7XG4gIHZhciBhcnJheUVsZW1lbnQsIG9iakVsZW1lbnQ7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29sbGF0aW9uSW5kZXggPSBzdHJbaSsrXTtcbiAgICBpZiAoY29sbGF0aW9uSW5kZXggPT09ICd9JyB8fFxuICAgICAgICBjb2xsYXRpb25JbmRleCA9PT0gJ10nIHx8XG4gICAgICAgIHR5cGVvZiBjb2xsYXRpb25JbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChzdGFjay5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9wKHN0YWNrLnBvcCgpLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAoY29sbGF0aW9uSW5kZXgpIHtcbiAgICAgIGNhc2UgJyAnOlxuICAgICAgY2FzZSAnXFx0JzpcbiAgICAgIGNhc2UgJ1xcbic6XG4gICAgICBjYXNlICc6JzpcbiAgICAgIGNhc2UgJywnOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ24nOlxuICAgICAgICBpICs9IDM7IC8vICd1bGwnXG4gICAgICAgIHBvcChudWxsLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0JzpcbiAgICAgICAgaSArPSAzOyAvLyAncnVlJ1xuICAgICAgICBwb3AodHJ1ZSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZic6XG4gICAgICAgIGkgKz0gNDsgLy8gJ2Fsc2UnXG4gICAgICAgIHBvcChmYWxzZSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnMCc6XG4gICAgICBjYXNlICcxJzpcbiAgICAgIGNhc2UgJzInOlxuICAgICAgY2FzZSAnMyc6XG4gICAgICBjYXNlICc0JzpcbiAgICAgIGNhc2UgJzUnOlxuICAgICAgY2FzZSAnNic6XG4gICAgICBjYXNlICc3JzpcbiAgICAgIGNhc2UgJzgnOlxuICAgICAgY2FzZSAnOSc6XG4gICAgICBjYXNlICctJzpcbiAgICAgICAgcGFyc2VkTnVtID0gJyc7XG4gICAgICAgIGktLTtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBudW1DaGFyID0gc3RyW2krK107XG4gICAgICAgICAgaWYgKC9bXFxkXFwuXFwtZVxcK10vLnRlc3QobnVtQ2hhcikpIHtcbiAgICAgICAgICAgIHBhcnNlZE51bSArPSBudW1DaGFyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcG9wKHBhcnNlRmxvYXQocGFyc2VkTnVtKSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnXCInOlxuICAgICAgICBwYXJzZWRTdHJpbmcgPSAnJztcbiAgICAgICAgbGFzdENoID0gdm9pZCAwO1xuICAgICAgICBudW1Db25zZWN1dGl2ZVNsYXNoZXMgPSAwO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIGNoID0gc3RyW2krK107XG4gICAgICAgICAgaWYgKGNoICE9PSAnXCInIHx8IChsYXN0Q2ggPT09ICdcXFxcJyAmJlxuICAgICAgICAgICAgICBudW1Db25zZWN1dGl2ZVNsYXNoZXMgJSAyID09PSAxKSkge1xuICAgICAgICAgICAgcGFyc2VkU3RyaW5nICs9IGNoO1xuICAgICAgICAgICAgbGFzdENoID0gY2g7XG4gICAgICAgICAgICBpZiAobGFzdENoID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBudW1Db25zZWN1dGl2ZVNsYXNoZXMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcG9wKEpTT04ucGFyc2UoJ1wiJyArIHBhcnNlZFN0cmluZyArICdcIicpLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdbJzpcbiAgICAgICAgYXJyYXlFbGVtZW50ID0geyBlbGVtZW50OiBbXSwgaW5kZXg6IHN0YWNrLmxlbmd0aCB9O1xuICAgICAgICBzdGFjay5wdXNoKGFycmF5RWxlbWVudC5lbGVtZW50KTtcbiAgICAgICAgbWV0YVN0YWNrLnB1c2goYXJyYXlFbGVtZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd7JzpcbiAgICAgICAgb2JqRWxlbWVudCA9IHsgZWxlbWVudDoge30sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChvYmpFbGVtZW50LmVsZW1lbnQpO1xuICAgICAgICBtZXRhU3RhY2sucHVzaChvYmpFbGVtZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ3VuZXhwZWN0ZWRseSByZWFjaGVkIGVuZCBvZiBpbnB1dDogJyArIGNvbGxhdGlvbkluZGV4KTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCBzdHJpbmdpZnkgZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpOyAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG5cbiAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDsgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cbiAgaWYgKGJ1Zikge1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBidWY7XG4gIH1cblxuICByZXR1cm4gc3RyaW5naWZ5KHJuZHMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2NDsiLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgRHJhZ0FjdGlvbiwgRWRpdG9yQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQkJveCwgaXNPdXRPZlNWR0JvdW5kcywgZ2V0R2x5cGhCQm94IH0gZnJvbSAnLi9Db29yZGluYXRlcyc7XG5pbXBvcnQgeyBxdWV1ZU5vdGlmaWNhdGlvbiB9IGZyb20gJy4vTm90aWZpY2F0aW9uJztcbmltcG9ydCB7IHNlbGVjdEFsbCwgc2VsZWN0QkJveCwgc2VsZWN0U3RhZmYgfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcblxuY2xhc3MgRHJhZ0hhbmRsZXIge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIHByaXZhdGUgc2VsZWN0b3I6IHN0cmluZztcbiAgcHJpdmF0ZSBzZWxlY3Rpb246IFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuICBwcml2YXRlIG5vTW92ZVByZWNlZGVzOiBTVkdHcmFwaGljc0VsZW1lbnRbXTtcblxuICBwcml2YXRlIGRyYWdTdGFydENvb3JkczogW251bWJlciwgbnVtYmVyXSA9IFstMSwgLTFdO1xuICBwcml2YXRlIHJlc2V0VG9BY3Rpb246IChzZWxlY3Rpb246IGQzLlNlbGVjdGlvbjxkMy5CYXNlVHlwZSwgdW5rbm93biwgSFRNTEVsZW1lbnQsIHVua25vd24+LCBhcmdzOiB1bmtub3duW10pID0+IHZvaWQ7XG5cbiAgcHJpdmF0ZSBkeDogbnVtYmVyO1xuICBwcml2YXRlIGR5OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBzZWxlY3RvciAtIENTUyBzZWxlY3RvciBvZiBlbGVtZW50IHRvIGFwcGx5IGRyYWcgaGFuZGxlciB0by5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIHNlbGVjdG9yOiBzdHJpbmcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGRyYWdnaW5nIGFjdGlvbiBhbmQgaGFuZGxlciBmb3Igc2VsZWN0ZWQgZWxlbWVudHMuXG4gICAqL1xuICBkcmFnSW5pdCAoKTogdm9pZCB7XG4gICAgLy8gRHJhZyBlZmZlY3RzXG4gICAgZnVuY3Rpb24gZHJhZ1N0YXJ0ZWQgKCk6IHZvaWQge1xuICAgICAgdGhpcy5kcmFnU3RhcnRDb29yZHMgPSBbZDMuZXZlbnQueCwgZDMuZXZlbnQueV07XG4gICAgICB0aGlzLmR4ID0gMDtcbiAgICAgIHRoaXMuZHkgPSAwO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZDMuZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0O1xuICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHtcbiAgICAgICAgZDMuc2VsZWN0KHRoaXMuc2VsZWN0b3IpLmNhbGwoZHJhZ0JlaGF2aW91cik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkaW5nIGxpc3RlbmVyc1xuICAgIGNvbnN0IGRyYWdCZWhhdmlvdXIgPSBkMy5kcmFnKClcbiAgICAgIC5vbignc3RhcnQnLCBkcmFnU3RhcnRlZC5iaW5kKHRoaXMpKVxuICAgICAgLm9uKCdkcmFnJywgdGhpcy5kcmFnZ2luZy5iaW5kKHRoaXMpKVxuICAgICAgLm9uKCdlbmQnLCB0aGlzLmRyYWdFbmRlZC5iaW5kKHRoaXMpKTtcblxuICAgIGNvbnN0IGFjdGl2ZU5jID0gZDMuc2VsZWN0QWxsKCcuc2VsZWN0ZWQnKTtcbiAgICBhY3RpdmVOYy5jYWxsKGRyYWdCZWhhdmlvdXIpO1xuXG4gICAgbGV0IHNlbGVjdGlvbiA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxTVkdHcmFwaGljc0VsZW1lbnQ+KCcuc2VsZWN0ZWQnKSk7XG5cbiAgICAvLyBpZiB0aGUgdXNlciBkcmFncyB0aGUgZm9sbG93cyBzeWxsYWJsZSBpbiBhIHRvZ2dsZS1saW5rZWQgc3lsbGFibGUsIFxuICAgIC8vIGNhbmNlbCB0aGUgY29tcGVuc2F0aW9uIGZvciBzeWwgbW92ZW1lbnQgaW4gZHJhZ2dpbmcuXG4gICAgdGhpcy5ub01vdmVQcmVjZWRlcyA9IHNlbGVjdGlvbi5maWx0ZXIoKGVsKSA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25vLW1vdmluZycpICYmIGVsLmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpO1xuICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5maWx0ZXIoZWwgPT4gIWVsLmNsYXNzTGlzdC5jb250YWlucygnbm8tbW92aW5nJykpO1xuXG4gICAgdGhpcy5zZWxlY3Rpb24gPSBzZWxlY3Rpb24uY29uY2F0KEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxTVkdHcmFwaGljc0VsZW1lbnQ+KCcucmVzaXplUG9pbnQnKSkpO1xuICB9XG5cbiAgZHJhZ2dpbmcgKCk6IHZvaWQge1xuICAgIHRoaXMuZHggPSBkMy5ldmVudC54IC0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMF07XG4gICAgdGhpcy5keSA9IGQzLmV2ZW50LnkgLSB0aGlzLmRyYWdTdGFydENvb3Jkc1sxXTtcblxuICAgIHRoaXMubW92ZUVsZW1lbnRzKHRoaXMuc2VsZWN0aW9uLCB0aGlzLmR4LCB0aGlzLmR5KTtcblxuICAgIC8qXG4gICAgICogaWYgd2UncmUgZHJhZ2dpbmcgYSBzeWxsYWJsZSAob3IgbmV1bWUgZXRjKSB0aGVuIHRoZXJlIHdvbid0IGJlIGEgc3lsIHNlbGVjdGVkXG4gICAgICogdGhlbiB3ZSBkb24ndCB3YW50IHRoZSBib3VuZGluZyBib3ggKGlmIGl0IGlzIGRpc3BsYXllZCkgdG8gbW92ZSB3aGVuIGRyYWdnaW5nIHRoZSBuZXVtZXNcbiAgICAgKiBpdCB3aWxsIGJlIGEgY2hpbGQgb2YgdGhlIGVsZW1lbnQgaW4gc2VsZWN0aW9uLCBzbyBpdCB3aWxsIGdldCBtb3ZlZCBpbiB0aGUgYWJvdmUgbG9vcFxuICAgICAqIHNvIHdlIGNhbmNlbCB0aGF0IG1vdmVtZW50IG91dCBoZXJlXG4gICAgICovXG4gICAgY29uc3Qgc3lscyA9IHRoaXMuc2VsZWN0aW9uLmZpbHRlcigoZWwpID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpO1xuICAgIGlmIChzeWxzLmxlbmd0aCA9PT0gMCAmJiB0aGlzLm5vTW92ZVByZWNlZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgYmJveGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsbGFibGUuc2VsZWN0ZWQnKSlcbiAgICAgICAgLm1hcChlbCA9PiBlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpKTtcbiAgICAgIHRoaXMubW92ZUVsZW1lbnRzKGJib3hlcywgLXRoaXMuZHgsIC10aGlzLmR5KTtcbiAgICB9XG4gIH1cblxuXG4gIGRyYWdFbmRlZCAoKTogdm9pZCB7XG4gICAgLy8gSWYgdGhlIHNlbGVjdGlvbiBoYXMgbm90IGJlZW4gbW92ZWQgbW9yZSB0aGFuIDUgcGl4ZWxzIGluIGFueSBkaXJlY3Rpb24sXG4gICAgLy8gZG8gbm90IGRvIGFueSBhY3Rpb25cbiAgICBjb25zdCB4RGlmZiA9IE1hdGguYWJzKHRoaXMuZHgpLCB5RGlmZiA9IE1hdGguYWJzKHRoaXMuZHkpO1xuICAgIGlmICh4RGlmZiA8PSA1ICYmIHlEaWZmIDw9IDUpIHtcbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgIHRoaXMuZHJhZ0luaXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGaWx0ZXIgc2VsZWN0aW9uIGZvciBkcmFnZ2FibGUgZWxlbWVudHNcbiAgICBjb25zdCBzZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbi5maWx0ZXIoKGVsKSA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNpemVQb2ludCcpKTtcblxuICAgIC8vIElmIHRoZSBjdXJzb3IgaXMgb3V0IG9mIGJvdW5kcyBvciB0aGUgc2VsZWN0aW9uIGFycmF5IGlzIG91dCBvZiBib3VuZHMsXG4gICAgLy8gZHJhZyBhY3Rpb25zIHNob3VsZCBub3QgaGFwcGVuLiBSZXR1cm4gYW4gZXJyb3Igbm90aWZpY2F0aW9uIGFuZCByZXNldFxuICAgIC8vIHRoZSBkcmFnIGhhbmRsZXJcbiAgICBpZiAodGhpcy5pc0N1cnNvck91dE9mQm91bmRzKCkgfHwgdGhpcy5pc0RyYWdPdXRPZkJvdW5kcyhzZWxlY3Rpb24pKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIHNlbGVjdGlvbiBiYWNrIHRvIG5vcm1hbCBzdGF0ZVxuICAgICAgdGhpcy5yZXR1cm5FbGVtZW50cyh0aGlzLnNlbGVjdGlvbik7XG5cbiAgICAgIC8vIFJldHVybiB0aGUgYm91bmRpbmcgYm94ZXMgYXMgd2VsbFxuICAgICAgY29uc3QgYmJveGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsbGFibGUuc2VsZWN0ZWQnKSlcbiAgICAgICAgLm1hcChlbCA9PiBlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpKTtcbiAgICAgIHRoaXMucmV0dXJuRWxlbWVudHMoYmJveGVzKTtcblxuICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgdGhpcy5kcmFnSW5pdCgpO1xuICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdbRkFJTF0gR2x5cGhzIHdlcmUgcGxhY2VkIG91dCBvZiBib3VuZHMhIERyYWcgYWN0aW9uIGZhaWxlZC4nLCAnZXJyb3InKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgdGhlIGNoYWluIGVkaXRvciBhY3Rpb24gZm9yIHNlbGVjdGlvblxuICAgIGNvbnN0IHBhcmFtQXJyYXk6IEVkaXRvckFjdGlvbltdID0gW107XG4gICAgc2VsZWN0aW9uLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBjb25zdCBpZCA9IGVsLnRhZ05hbWUgPT09ICdyZWN0JyA/IGVsLmNsb3Nlc3QoJy5zeWwnKS5pZCA6IGVsLmlkO1xuXG4gICAgICBjb25zdCBkcmFnQWN0aW9uOiBEcmFnQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdkcmFnJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgICAgIHg6IHRoaXMuZHgsXG4gICAgICAgICAgeTogLXRoaXMuZHksXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHBhcmFtQXJyYXkucHVzaChkcmFnQWN0aW9uKTtcbiAgICB9KTtcbiAgICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICAgIHBhcmFtOiBwYXJhbUFycmF5XG4gICAgfTtcblxuICAgIC8vIFNlbmQgZWRpdG9yIGFjdGlvblxuICAgIHRoaXMubmVvblZpZXdcbiAgICAgIC5lZGl0KGVkaXRvckFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpXG4gICAgICAudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgIC8vIE5lb24gcmUtcmVuZGVycyB0aGUgZW50aXJlIFNWRywgYW5kIGhlbmNlLCBiZWZvcmUgd2UgZG8gc28sXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gc3RvcmUgYWxsIHRoZSBlbGVtZW50cyAoSURzKSB3ZSBuZWVkIHRvIHNlbGVjdCBhZ2FpblxuICAgICAgICAvLyBUaGVuLCB3ZSBuZWVkIHRvIHJlc2VsZWN0IHRoZW0gYnkgY2FsbGluZyBgdGhpcy5yZXNlbGVjdCgpYFxuICAgICAgICBjb25zdCB0b1Jlc2VsZWN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSlcbiAgICAgICAgICAuZmlsdGVyKGVsID0+ICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25vLW1vdmluZycpKVxuICAgICAgICAgIC5tYXAoZWwgPT4gZWwuaWQpO1xuXG4gICAgICAgIC8vIENBVVRJT046IGB1cGRhdGVGb3JDdXJyZW50UGFnZSgpYCBpcyBhbiBhc3luY2hyb25vdXMgZnVuY3Rpb24hXG4gICAgICAgIC8vIEl0IHJlcXVpcmVzIGFuIGBhd2FpdGAga2V5d29yZC5cbiAgICAgICAgYXdhaXQgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB0aGlzLmVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIC8vIFJlc2VsZWN0IHRoZSBlbGVtZW50cyBhbmQgcmVpbml0aWFsaXplIGRyYWdcbiAgICAgICAgYXdhaXQgdGhpcy5yZXNlbGVjdCh0b1Jlc2VsZWN0KTtcbiAgICAgICAgdGhpcy5kcmFnSW5pdCgpO1xuICAgICAgfSk7XG4gIH1cblxuICBhc3luYyByZXNlbGVjdCAodG9SZXNlbGVjdDogc3RyaW5nW10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCByZXNlbGVjdGVkID0gdG9SZXNlbGVjdC5tYXAoaWQgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxTVkdHcmFwaGljc0VsZW1lbnQ+KGAjJHtpZH1gKSk7XG5cbiAgICAvLyBBbGwgZ2x5cGhzIGV4Y2VwdCBib3VkaW5nIGJveGVzICgnc3lsJ3MpIG11c3QgYmUgc2VsZWN0ZWQgd2l0aFxuICAgIC8vIGBzZWxlY3RBbGwoKWBcbiAgICByZXNlbGVjdGVkXG4gICAgICAuZmlsdGVyKGVsID0+ICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKVxuICAgICAgLmZvckVhY2goYXN5bmMgKCkgPT4gYXdhaXQgc2VsZWN0QWxsKHJlc2VsZWN0ZWQsIHRoaXMubmVvblZpZXcsIHRoaXMpKTtcblxuICAgIC8vIEJvdW5kaW5nIGJveGVzIG11c3QgYmUgZXhwbGljaXRseSBzZWxlY3RlZCB1c2luZyBgc2VsZWN0QkJveCgpYFxuICAgIHJlc2VsZWN0ZWRcbiAgICAgIC5maWx0ZXIoZWwgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSlcbiAgICAgIC5mb3JFYWNoKFxuICAgICAgICBlbCA9PiBzZWxlY3RCQm94KGVsLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JyksIHRoaXMsIHRoaXMubmVvblZpZXcpXG4gICAgICApO1xuXG4gICAgLy8gU3RhdmVzIG11c3QgYmUgZXhwbGljaXRseSBzZWxlY3RlZCB1c2luZyBgc2VsZWN0U3RhZmYoKWBcbiAgICAvLyBBTkQgbXVzdCBiZSBzZWxlY3RlZCB3aXRoIGBzZWxlY3RBbGwoKWAgZm9yIGNvcnJlY3QgYmVoYXZpb3IgKGZvciBzb21lIHJlYXNvbikuXG4gICAgcmVzZWxlY3RlZFxuICAgICAgLmZpbHRlcihlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpXG4gICAgICAuZm9yRWFjaChlbCA9PiBzZWxlY3RTdGFmZihlbCwgdGhpcykpO1xuICB9XG5cbiAgLyoqIFNldCB0aGUgZDMgYWN0aW9uIHRvIHVzZSBmb3IgW1tyZXNldF1dLiAqL1xuICByZXNldFRvIChyZXNldDogKHNlbGVjdGlvbjogZDMuU2VsZWN0aW9uPGQzLkJhc2VUeXBlLCB1bmtub3duLCBIVE1MRWxlbWVudCwgdW5rbm93bj4sIGFyZ3M6IHVua25vd25bXSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMucmVzZXRUb0FjdGlvbiA9IHJlc2V0O1xuICB9XG5cbiAgLyoqIFJlc2V0IHRvIGEgcHJldmlvdXMgZDMgYWN0aW9uIGZvciBbW3RoaXMuc2VsZWN0b3JdXS4gKi9cbiAgcmVzZXQgKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnJlc2V0VG9BY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgZDMuc2VsZWN0KHRoaXMuc2VsZWN0b3IpLmNhbGwodGhpcy5yZXNldFRvQWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBlbmRPcHRpb25zU2VsZWN0aW9uICgpOiB2b2lkIHtcbiAgICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICAgIGNvbnN0IGV4dHJhRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKTtcbiAgICBpZiAobW9yZUVkaXQpIHtcbiAgICAgIG1vcmVFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgICAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9XG4gICAgaWYgKGV4dHJhRWRpdCkge1xuICAgICAgZXh0cmFFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgICAgZXh0cmFFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZpc3VhbGx5IG1vdmUgdGhlIHNlbGVjdGVkIGVsZW1lbnRzIGJ5IGBkeGAgYW5kIGBkeWA7IChub3QgdXNpbmcgZDMpXG4gICAqL1xuICBtb3ZlRWxlbWVudHMgKHNlbGVjdGlvbjogRWxlbWVudFtdLCBkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogdm9pZCB7XG4gICAgc2VsZWN0aW9uLmZpbHRlcihlbCA9PiBlbCAhPT0gbnVsbCkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke2R4fSwke2R5fSlgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWaXN1YWxseSByZXR1cm4gc2VsZWN0ZWQgZWxlbWVudHMgdG8gdGhlaXIgb3JpZ2luYWwgcG9zaXRpb25zXG4gICAqIGJ5IHJlbW92aW5nIHRoZSB0cmFuc2Zvcm0gYXR0cmlidXRlXG4gICAqL1xuICByZXR1cm5FbGVtZW50cyAoc2VsZWN0aW9uOiBFbGVtZW50W10pOiB2b2lkIHtcbiAgICBzZWxlY3Rpb24uZmlsdGVyKGVsID0+IGVsICE9PSBudWxsKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCd0cmFuc2Zvcm0nKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlzQ3Vyc29yT3V0T2ZCb3VuZHMgKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVuZFggPSB0aGlzLmRyYWdTdGFydENvb3Jkc1swXSArIHRoaXMuZHg7XG4gICAgY29uc3QgZW5kWSA9IHRoaXMuZHJhZ1N0YXJ0Q29vcmRzWzFdICsgdGhpcy5keTtcblxuICAgIHJldHVybiBpc091dE9mU1ZHQm91bmRzKGVuZFgsIGVuZFkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUgc2VsZWN0aW9uIGFycmF5IGlzIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBTVkdcbiAgICogQHBhcmFtIHtTVkdHcmFwaGljc0VsZW1lbnRbXX0gc2VsZWN0aW9uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBJcyBzZWxlY3Rpb24gb3V0IG9mIGJvdW5kc1xuICAgKi9cbiAgaXNEcmFnT3V0T2ZCb3VuZHMgKHNlbGVjdGlvbjogU1ZHR3JhcGhpY3NFbGVtZW50W10pOiBib29sZWFuIHtcbiAgICAvLyBHZXQgdGhlIGJvdW5kaW5nIGJveGVzIG9mIGFsbCBnbHlwaHMgKDx1c2U+IGVsZW1lbnRzKSB3aXRoaW4gdGhlIHNlbGVjdGlvbiBhcnJheVxuICAgIGNvbnN0IGlzQkJveERpc3BsYXllZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNkaXNwbGF5QkJveCcpLmNoZWNrZWQ7XG4gICAgbGV0IGdseXBoU2VsZWN0b3IgPSBpc0JCb3hEaXNwbGF5ZWQgPyAndXNlLCByZWN0JyA6ICd1c2UnO1xuXG4gICAgaWYgKHNlbGVjdGlvblswXS5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIGdseXBoU2VsZWN0b3IgPSAncGF0aCc7XG5cbiAgICBjb25zdCBnbHlwaHM6IFNWR1VzZUVsZW1lbnRbXSA9IHNlbGVjdGlvbi5yZWR1Y2UoXG4gICAgICAoYWNjLCBlbCkgPT4gYWNjLmNvbmNhdCguLi5lbC5xdWVyeVNlbGVjdG9yQWxsKGdseXBoU2VsZWN0b3IpKSwgW11cbiAgICApO1xuICAgIGNvbnN0IGdseXBoQkJveGVzOiBCQm94W10gPSBnbHlwaHMubWFwKGdldEdseXBoQkJveCk7XG5cbiAgICAvLyBHZXQgdGhlIHN1cnJvdW5kaW5nIGJvdW5kaW5nIGJveCBvZiB0aGUgc2VsZWN0ZWQgZWxlbWVudHNcbiAgICBjb25zdCBzZWxlY3Rpb25CQm94OiBCQm94ID0gZ2x5cGhCQm94ZXMucmVkdWNlKFxuICAgICAgKGJib3gsIGN1cnIpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB1bHg6IE1hdGgubWluKGJib3gudWx4LCBjdXJyLnVseCksXG4gICAgICAgICAgdWx5OiBNYXRoLm1pbihiYm94LnVseSwgY3Vyci51bHkpLFxuICAgICAgICAgIGxyeDogTWF0aC5tYXgoYmJveC5scngsIGN1cnIubHJ4KSxcbiAgICAgICAgICBscnk6IE1hdGgubWF4KGJib3gubHJ5LCBjdXJyLmxyeSksXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB1bHg6IE51bWJlci5NQVhfVkFMVUUsXG4gICAgICAgIHVseTogTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgbHJ4OiBOdW1iZXIuTUlOX1ZBTFVFLFxuICAgICAgICBscnk6IE51bWJlci5NSU5fVkFMVUUsXG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbnN0IHsgdWx4LCB1bHksIGxyeCwgbHJ5IH0gPSBzZWxlY3Rpb25CQm94O1xuICAgIHJldHVybiBpc091dE9mU1ZHQm91bmRzKHVseCArIHRoaXMuZHgsIHVseSArIHRoaXMuZHkpIHx8IGlzT3V0T2ZTVkdCb3VuZHMobHJ4ICsgdGhpcy5keCwgbHJ5ICsgdGhpcy5keSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgRHJhZ0hhbmRsZXIgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0ICogYXMgQ29udGVudHMgZnJvbSAnLi9Db250ZW50cyc7XG5pbXBvcnQgKiBhcyBXYXJuaW5ncyBmcm9tICcuLi9XYXJuaW5ncyc7XG5pbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCAqIGFzIFNlbGVjdFRvb2xzIGZyb20gJy4uL3V0aWxzL1NlbGVjdFRvb2xzJztcbmltcG9ydCAqIGFzIFNlbGVjdE9wdGlvbnMgZnJvbSAnLi4vU3F1YXJlRWRpdC9TZWxlY3RPcHRpb25zJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBFZGl0b3JBY3Rpb24sIFRvZ2dsZUxpZ2F0dXJlQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgcmVtb3ZlSGFuZGxlciwgZGVsZXRlQnV0dG9uSGFuZGxlciB9IGZyb20gJy4vU2VsZWN0T3B0aW9ucyc7XG5cbi8qKlxuICogVGhlIE5lb25WaWV3IHBhcmVudCB0byBhY2Nlc3MgZWRpdG9yIGFjdGlvbnMuXG4gKi9cbmxldCBuZW9uVmlldzogTmVvblZpZXc7XG5cbi8qKlxuICogU2V0IHRoZSBuZW9uVmlldyBtZW1iZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0TmVvblZpZXcodmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgbmVvblZpZXcgPSB2aWV3O1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHNlbGVjdGVkIGVsZW1lbnRzIGNhbiBiZSBncm91cGVkIG9yIG5vdFxuICogQHJldHVybnMgdHJ1ZSBpZiBjYW4gYmUgZ3JvdXBlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0dyb3VwYWJsZShcbiAgc2VsZWN0aW9uVHlwZTogc3RyaW5nLFxuICBlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50Pixcbik6IGJvb2xlYW4ge1xuICBjb25zdCBncm91cHMgPSBBcnJheS5mcm9tKGVsZW1lbnRzLnZhbHVlcygpKSBhcyBTVkdHcmFwaGljc0VsZW1lbnRbXTtcblxuICBpZiAoZ3JvdXBzLmxlbmd0aCA8IDIpIHtcbiAgICAvLyBjYW5ub3QgZ3JvdXAgaWYgb25seSAxIGVsZW1lbnQgaXMgc2VsZWN0ZWRcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIC8vIGlmIG5ldW1lcyBhcmUgaW4gc2FtZSBzeWxsYWJsZSwgZG9uJ3QgZGlzcGxheSBncm91cGluZyBvcHRpb25cbiAgICAgIGlmIChTZWxlY3RUb29scy5zaGFyZWRMb2dpY2FsUGFyZW50KHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIGNoZWNrIGlmIGFsbCBzZWxlY3RlZCBlbGVtZW50cyBhcmUgYWRqYWNlbnQgdG8gZWFjaCBvdGhlclxuICAgICAgaWYgKFNlbGVjdFRvb2xzLmFyZUFkamFjZW50KHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb250YWluc0xpbmtlZChcbiAgc2VsZWN0aW9uVHlwZTogc3RyaW5nLFxuICBlbGVtZW50cz86IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4sXG4pIHtcbiAgaWYgKCFlbGVtZW50cykge1xuICAgIGVsZW1lbnRzID0gQXJyYXkuZnJvbShcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RlZCcpLFxuICAgICkgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG4gIH1cbiAgc3dpdGNoIChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6Zm9sbG93cycpIHx8XG4gICAgICAgICAgZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpXG4gICAgICAgICkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICdUaGUgYWN0aW9uIGludm9sdmVzIGxpbmtlZCBzeWxsYWJsZXMsIHBsZWFzZSB1bnRvZ2dsZSB0aGVtIGZpcnN0JyxcbiAgICAgICAgICAgICd3YXJuaW5nJyxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSB8fFxuICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpXG4gICAgICAgICkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICdUaGUgYWN0aW9uIGludm9sdmVzIGxpbmtlZCBzeWxsYWJsZXMsIHBsZWFzZSB1bnRvZ2dsZSB0aGVtIGZpcnN0JyxcbiAgICAgICAgICAgICd3YXJuaW5nJyxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6Zm9sbG93cycpIHx8XG4gICAgICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKVxuICAgICAgICApIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAnVGhlIGFjdGlvbiBpbnZvbHZlcyBsaW5rZWQgc3lsbGFibGVzLCBwbGVhc2UgdW50b2dnbGUgdGhlbSBmaXJzdCcsXG4gICAgICAgICAgICAnd2FybmluZycsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhc0ludmFsaWRMaW5rZWRTeWxsYWJsZShcbiAgZWxlbWVudHM6IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4sXG4pOiBib29sZWFuIHtcbiAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZWxlbWVudHMubGVuZ3RoOyBpZHgrKykge1xuICAgIGNvbnN0IHN5bGxhYmxlID0gZWxlbWVudHMuYXQoaWR4KTtcbiAgICBpZiAoc3lsbGFibGUuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSkge1xuICAgICAgLy8gR2V0IHhtbDppZCBvZiB0aGUgbmV4dCBzeWxsYWJsZSAod2l0aG91dCB0aGUgIywgaWYgaXQgZXhpc3RzKVxuICAgICAgY29uc3QgbmV4dFN5bGxhYmxlSWQgPSBzeWxsYWJsZVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKVxuICAgICAgICAucmVwbGFjZSgnIycsICcnKTtcblxuICAgICAgLy8gRmluZCB0aGUgbmV4dCBzeWxsYWJsZSBhbmQgaXRzIGluZGV4IGluIHRoZSBhcnJheVxuICAgICAgbGV0IG5leHRTeWxsYWJsZUlkeDogbnVtYmVyO1xuICAgICAgY29uc3QgbmV4dFN5bGxhYmxlID0gZWxlbWVudHMuZmluZCgoZWxlbWVudCwgaWR4KSA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50LmlkID09PSBuZXh0U3lsbGFibGVJZCkge1xuICAgICAgICAgIG5leHRTeWxsYWJsZUlkeCA9IGlkeDtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDb25kaXRpb24gMTogVGhlIG5leHQgKGZvbGxvd2luZykgc3lsbGFibGUgY2Fubm90IGJlIGZvdW5kXG4gICAgICBpZiAoIW5leHRTeWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29uZGl0aW9uIDI6IFRoZSBuZXh0IHN5bGxhYmxlIGhhcyBiZWVuIGZvdW5kLCBidXQgdGhlIEBmb2xsb3dzIGF0dHJpYnV0ZSBkb2VzIE5PVCBFWElTVFxuICAgICAgaWYgKCFuZXh0U3lsbGFibGUuaGFzQXR0cmlidXRlKCdtZWk6Zm9sbG93cycpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBDb25kaXRpb24gMzogVGhlIG5leHQgc3lsbGFibGUncyBAZm9sbG93cyBhdHRyaWJ1dGUgZXhpc3RzLCBidXQgaXQgaXMgbm90IGluIHRoZSBjb3JyZWN0IGZvcm1hdCAjaWRcbiAgICAgIGlmIChuZXh0U3lsbGFibGUuZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpICE9ICcjJyArIHN5bGxhYmxlLmlkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBDb25kaXRpb24gNDpcbiAgICAgIC8vIFNpbmNlIHRoZSBAZm9sbG93cyB2YWx1ZSBpcyBjb3JyZWN0LCBhIHBhaXIgb2Ygc3lsbGFibGVzIGV4aXN0IGZvciB0aGUgdG9nZ2xlLWxpbmtlZCBzeWxsYWJsZS5cbiAgICAgIC8vIENoZWNrIGlmIHRoZSBAZm9sbG93cyBzeWxsYWJsZSBpcyB0aGUgbmV4dCBzeWxsYWJsZSAoaW5kZXgtd2lzZSkgaW4gdGhlIGFycmF5OlxuICAgICAgaWYgKG5leHRTeWxsYWJsZUlkeCAhPT0gaWR4ICsgMSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSkge1xuICAgICAgY29uc3QgcHJldlN5bGxhYmxlSWQgPSBzeWxsYWJsZVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpXG4gICAgICAgIC5yZXBsYWNlKCcjJywgJycpO1xuICAgICAgY29uc3QgcHJldlN5bGxhYmxlID0gZWxlbWVudHMuZmluZChcbiAgICAgICAgKHN5bGxhYmxlKSA9PiBzeWxsYWJsZS5pZCA9PT0gcHJldlN5bGxhYmxlSWQsXG4gICAgICApO1xuXG4gICAgICAvLyBDb25kaXRpb24gMTogVGhlIHByZXZpb3VzIHN5bGxhYmxlIGRvZXMgbm90IGV4aXN0XG4gICAgICBpZiAoIXByZXZTeWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29uZGl0aW9uIDI6IFRoZSBwcmV2aW91cyBzeWxsYWJsZSBleGlzdHMsIGJ1dCB0aGUgQHByZWNlZGVzIGF0dHJpYnV0ZSBkb2VzIE5PVCBFWElTVFxuICAgICAgaWYgKCFwcmV2U3lsbGFibGUuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29uZGl0aW9uIDM6IFRoZSBwcmV2aW91cyBzeWxsYWJsZSdzIEBwcmVjZWRlcyBhdHRyaWJ1dGUgZXhpc3RzLCBidXQgaXQgaXMgbm90IGluIHRoZSBjb3JyZWN0IGZvcm1hdCAjaWRcbiAgICAgIGlmIChwcmV2U3lsbGFibGUuZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSAhPSAnIycgKyBzeWxsYWJsZS5pZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVja3MgdG8gc2VlIGlzIGEgc2VsZWN0aW9uIG9mIGVsZW1lbnRzIGlzIGFscmVhZHkgbGlua2VkXG4gKiBAcGFyYW0gZWxlbWVudHMgZWxlbWVudHMgdG8gYmUgY29uc2lkZXJlZFxuICogQHJldHVybnMgdHJ1ZSBpcyBsaW5rZWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNMaW5rZWQoZWxlbWVudHM6IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4pOiBib29sZWFuIHtcbiAgLy8gZXZlcnkgZWxlbWVudCBzaG91bGQgYmUgbGlua2VkXG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgIGlmIChcbiAgICAgICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykgJiZcbiAgICAgICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBBc3N1bWluZyBhbGwgZWxlbWVudHMgYXJlIHZhbGlkLFxuICogY2hlY2sgaWYgdGhlIGVsZW1lbnRzIGNhbiBiZSBsaW5rZWQ6XG4gKiAxLiBzb3J0IGVsZW1lbnRzIGJhc2VkIG9uIHRoZWlyIG9yZGVyIGluIHRoZSBET01cbiAqIDIuIGVuc3VyZSBlbGVtZW50cyBhcmUgYWRqYWNlbnQgaW4gdGhlIERPTVxuICogMy4gZW5zdXJlIGVsZW1lbnRzIGJlbG9uZyB0byBhZGphY2VudCBzdGF2ZXNcbiAqIDQuIGNoZWNrIGlmIGNhbiBiZSBsaW5rZWQ6XG4gKiAgICA0LjEgaWYgZXhhY3RseSB0d28gZWxlbWVudHMsIGJvdGggbmVlZHMgdG8gYmUgdW5saW5rZWRcbiAqICAgIDQuMiBpZiBtb3JlIHRoYW4gdHdvIGVsZW1lbnRzLCBvbmx5IG9uZSBlbGVtZW50IGNhbiBiZSB1bmxpbmtlZCxcbiAqICAgICAgICBhdCBlaXRoZXIgYmVnaW5uaW5nIG9yIGVuZCBvZiB0aGUgc2VxdWVuY2VcbiAqIEBwYXJhbSBlbGVtZW50cyBlbGVtZW50cyB0byBiZSBjb25zaWRlcmVkXG4gKiBAcmV0dXJucyB0cnVlIGNhbiBiZSBsaW5rZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbkJlTGlua2VkKGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+KTogYm9vbGVhbiB7XG4gIC8vIDEuIFNvcnQgZWxlbWVudHMgYmFzZWQgb24gdGhlaXIgb3JkZXIgaW4gdGhlIERPTVxuICBlbGVtZW50cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3Qgc3RhZmZBID0gYS5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICBjb25zdCBzdGFmZkIgPSBiLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIHJldHVybiBzdGFmZkEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oc3RhZmZCKSAmXG4gICAgICBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0ZPTExPV0lOR1xuICAgICAgPyAtMVxuICAgICAgOiAxO1xuICB9KTtcblxuICBjb25zdCBzdGF2ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZicpKTtcbiAgY29uc3Qgc3lsbGFibGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsbGFibGUnKSk7XG5cbiAgLy8gMi4gRW5zdXJlIHN5bGxhYmxlcyBhcmUgYWRqYWNlbnQgaW4gdGhlIERPTVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIGNvbnN0IGN1cnJlbnQgPSBlbGVtZW50c1tpXTtcbiAgICBjb25zdCBuZXh0ID0gZWxlbWVudHNbaSArIDFdO1xuICAgIGNvbnN0IGN1cnJlbnRTeWxsYWJsZUluZGV4ID0gc3lsbGFibGVzLmluZGV4T2YoY3VycmVudCk7XG4gICAgY29uc3QgbmV4dFN5bGxhYmxlSW5kZXggPSBzeWxsYWJsZXMuaW5kZXhPZihuZXh0KTtcbiAgICBpZiAobmV4dFN5bGxhYmxlSW5kZXggLSBjdXJyZW50U3lsbGFibGVJbmRleCAhPT0gMSkge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBTdGF2ZXMgbXVzdCBiZSBhZGphY2VudFxuICAgIH1cbiAgICAvLyAzLiBFbnN1cmUgc3lsbGFibGVzIGJlbG9uZyB0byBhZGphY2VudCBzdGF2ZXNcbiAgICBjb25zdCBjdXJyZW50U3RhZmYgPSBjdXJyZW50LmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIGNvbnN0IG5leHRTdGFmZiA9IG5leHQuY2xvc2VzdCgnLnN0YWZmJyk7XG5cbiAgICBjb25zdCBjdXJyZW50U3RhZmZJbmRleCA9IHN0YXZlcy5pbmRleE9mKGN1cnJlbnRTdGFmZiBhcyBIVE1MRWxlbWVudCk7XG4gICAgY29uc3QgbmV4dFN0YWZmSW5kZXggPSBzdGF2ZXMuaW5kZXhPZihuZXh0U3RhZmYgYXMgSFRNTEVsZW1lbnQpO1xuICAgIGlmIChuZXh0U3RhZmZJbmRleCAtIGN1cnJlbnRTdGFmZkluZGV4ICE9PSAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIFN0YXZlcyBtdXN0IGJlIGFkamFjZW50XG4gICAgfVxuICB9XG5cbiAgLy8gNC4xIEhhbmRsZSBjYXNlIGZvciBleGFjdGx5IHR3byBzeWxsYWJsZXNcbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgIHJldHVybiBlbGVtZW50cy5ldmVyeShcbiAgICAgIChlbGVtZW50KSA9PlxuICAgICAgICAhZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpICYmXG4gICAgICAgICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSxcbiAgICApO1xuICB9XG5cbiAgLy8gNC4yIEhhbmRsZSBjYXNlIGZvciBtb3JlIHRoYW4gdHdvIHN5bGxhYmxlc1xuICBjb25zdCB1bmxpbmtlZEVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKFxuICAgIChlbGVtZW50KSA9PlxuICAgICAgIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSAmJlxuICAgICAgIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6Zm9sbG93cycpLFxuICApO1xuXG4gIGlmICh1bmxpbmtlZEVsZW1lbnRzLmxlbmd0aCAhPT0gMSkge1xuICAgIHJldHVybiBmYWxzZTsgLy8gT25seSBvbmUgdW5saW5rZWQgc3lsbGFibGUgaXMgYWxsb3dlZFxuICB9XG5cbiAgLy8gVGhlIHVubGlua2VkIHN5bGxhYmxlIHNob3VsZCBiZSBhdCB0aGUgYmVnaW5uaW5nIG9yIGVuZFxuICBjb25zdCBmaXJzdFVubGlua2VkID0gdW5saW5rZWRFbGVtZW50c1swXTtcblxuICByZXR1cm4gKFxuICAgIGVsZW1lbnRzLmluZGV4T2YoZmlyc3RVbmxpbmtlZCkgPT09IDAgfHxcbiAgICBlbGVtZW50cy5pbmRleE9mKGZpcnN0VW5saW5rZWQpID09PSBlbGVtZW50cy5sZW5ndGggLSAxXG4gICk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHNlbGVjdGVkIGVsZW1lbnRzIGNhbiBiZSBsaW5rZWQgb3IgdW5saWtuZWQuXG4gKiBAcGFyYW0gc2VsZWN0aW9uVHlwZSBDdXJyZW50IHNlbGVjdGlvbiBtb2RlLiBPbmx5IGNlcnRhaW4gZWxlbWVudHMgY2FuIGJlIGxpbmtlZFxuICogQHBhcmFtIGVsZW1lbnRzIFRoZSBlbGVtZW50cyB1bmRlciBxdWVzdGlvblxuICogQHJldHVybnMgdHJ1ZSBpZiB1c2VyIHNob3VsZCBiZSBhYmxlIHRvIGxpbmsgb3IgdW4tbGluayBlbGVtZW50cywgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xpbmthYmxlKFxuICBzZWxlY3Rpb25UeXBlOiBzdHJpbmcsXG4gIGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LFxuKTogYm9vbGVhbiB7XG4gIC8vIGNhbm5vdCB0b2dnbGUgbGluayBmb3Igc3lsbGFibGUgc2VsZWN0aW9uIGlmIG51bWJlciBvZiBzZWxlY3RlZFxuICAvLyBzeWxsYWJsZXMgaXMgc21hbGxlciB0aGFuIDJcbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBvbmx5IFN5bGxhYmxlcyBjYW4gYmUgbGlua2VkIG9yIHVubGlua2VkICg/KVxuICBpZiAoc2VsZWN0aW9uVHlwZSAhPT0gJ3NlbEJ5U3lsbGFibGUnKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gQ2hlY2sgaWYgaGFzIGludmFsaWQgbGlua2VkIHN5bGxhYmxlc1xuICBpZiAoaGFzSW52YWxpZExpbmtlZFN5bGxhYmxlKGVsZW1lbnRzKSkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICdUaGUgc2VsZWN0ZWQgc3lsbGFibGVzIGluY2x1ZGUgaW52YWxpZCBsaW5rZWQgc3lsbGFibGUocykhJyxcbiAgICAgICd3YXJuaW5nJyxcbiAgICApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIGlmIEFMUkVBRFkgbGlua2VkXG4gIGlmIChpc0xpbmtlZChlbGVtZW50cykpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvLyBpZiBDQU4gYmUgbGlua2VkXG4gIGVsc2UgaWYgKGNhbkJlTGlua2VkKGVsZW1lbnRzKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIE1lcmdlIHNlbGVjdGVkIHN0YXZlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VTdGF2ZXMoKTogdm9pZCB7XG4gIGNvbnN0IHN5c3RlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhZmYuc2VsZWN0ZWQnKTtcbiAgY29uc3QgZWxlbWVudElkcyA9IFtdO1xuICBzeXN0ZW1zLmZvckVhY2goKHN0YWZmKSA9PiB7XG4gICAgZWxlbWVudElkcy5wdXNoKHN0YWZmLmlkKTtcbiAgfSk7XG4gIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ21lcmdlJyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkczogZWxlbWVudElkcyxcbiAgICB9LFxuICB9O1xuICBuZW9uVmlld1xuICAgIC5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTdGFmZiBNZXJnZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICBTZWxlY3RPcHRpb25zLmVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTWVyZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgfSk7XG59XG5cbi8qKlxuICogVHJpZ2dlciB0aGUgZ3JvdXBpbmcgc2VsZWN0aW9uIG1lbnUuXG4gKiBAcGFyYW0gdHlwZSAtIFRoZSBncm91cGluZyB0eXBlOiBuYywgbmV1bWUsIHN5bCwgbGlnYXR1cmVOYywgb3IgbGlnYXR1cmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJHcm91cGluZyh0eXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgbW9yZUVkaXQuaW5uZXJIVE1MICs9IENvbnRlbnRzLmdyb3VwaW5nTWVudVt0eXBlXTtcbiAgaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBncm91cGluZyBzZWxlY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZEdyb3VwaW5nU2VsZWN0aW9uKCk6IHZvaWQge1xuICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcik7XG59XG5cbi8qKlxuICogVGhlIGdyb3VwaW5nIGRyb3Bkb3duIGxpc3RlbmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk6IHZvaWQge1xuICBjb25zdCBkZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlJyk7XG4gIGRlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuICBkZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcik7XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVyZ2VTeWxzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoY29udGFpbnNMaW5rZWQoU2VsZWN0VG9vbHMuZ2V0U2VsZWN0aW9uVHlwZSgpKSkgcmV0dXJuO1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCkuZmlsdGVyKChlKSA9PlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJyksXG4gICAgICApO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JvdXBOZXVtZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChjb250YWluc0xpbmtlZChTZWxlY3RUb29scy5nZXRTZWxlY3Rpb25UeXBlKCkpKSByZXR1cm47XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCkuZmlsdGVyKChlKSA9PlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJyksXG4gICAgICApO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JvdXBOY3MnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKS5maWx0ZXIoKGUpID0+XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLmNsYXNzTGlzdC5jb250YWlucygnbmMnKSxcbiAgICAgICk7XG4gICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmdyb3VwTmV1bWVzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5ncm91cE5jcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnRcbiAgICAgIC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWxpZ2F0dXJlJylcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuXG4gICAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogVG9nZ2xlTGlnYXR1cmVBY3Rpb24gPSB7XG4gICAgICAgICAgYWN0aW9uOiAndG9nZ2xlTGlnYXR1cmUnLFxuICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICBlbGVtZW50SWRzOiBlbGVtZW50SWRzLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIG5lb25WaWV3XG4gICAgICAgICAgLmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpXG4gICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0xpZ2F0dXJlIFRvZ2dsZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdMaWdhdHVyZSBUb2dnbGUgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICAgICAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1saW5rJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuLyoqXG4gKiBHcm91cGluZy9Vbmdyb3VwaW5nIGtleWJpbmRpbmcgZXZlbnQgbGlzdGVuZXJcbiAqL1xuY29uc3Qga2V5ZG93bkxpc3RlbmVyID0gZnVuY3Rpb24gKGUpIHtcbiAgaWYgKGUua2V5ID09PSAnZycpIHtcbiAgICAvLyBnZXQgc2VsZWN0ZWQgZWxlbWVudHMgdG8gY2hlY2sgaWYgdGhleSBjYW4gYmUgZ3JvdXBlZHNcbiAgICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSxcbiAgICApIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3Qgc2VsZWN0aW9uVHlwZSA9IFNlbGVjdFRvb2xzLmdldFNlbGVjdGlvblR5cGUoKTtcblxuICAgIGlmIChjb250YWluc0xpbmtlZChzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHJldHVybjtcblxuICAgIC8vIEdyb3VwL21lcmdlIG9yIHVuZ3JvdXAvc3BsaXQgYmFzZWQgb24gc2VsZWN0aW9uIHR5cGVcbiAgICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgICAvLyBpZiBzeWxsYWJsZXMgYXJlIGxpbm5rYWJsZSwgdG9nZ2xlIGxpbmtlZCBzeWxsYWJsZVxuICAgICAgICAvLyBsaW5rZWQgc3lsbGFibGVzIGNhbm5vdCBiZSBncm91cGVkL3VuZ3JvdXBlZFxuICAgICAgICBpZiAoaXNMaW5rYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBpZiBncm91cGFibGUgYmVmb3JlIGdyb3VwaW5nXG4gICAgICAgIGVsc2UgaWYgKGlzR3JvdXBhYmxlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpLmZpbHRlcigoZSkgPT5cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLmNsYXNzTGlzdC5jb250YWlucygnbmV1bWUnKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNhbiBvbmx5IHVuZ3JvdXAgaWYgbGVuZ3RoIGlzIDEgKG9uZSBzeWxsYWJsZSBzZWxlY3RlZClcbiAgICAgICAgLy8gY2Fubm90IHVuZ3JvdXAgaWYgbXVsdGlwbGUgc3lsbGFibGVzIGFyZSBzZWxlY3RlZFxuICAgICAgICBlbHNlIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgICAgaWYgKGlzR3JvdXBhYmxlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgICAgaWYgKGlzR3JvdXBhYmxlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgICAgaWYgKGlzR3JvdXBhYmxlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICAgIG1lcmdlU3RhdmVzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3RhZmZTcGxpdE1vZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBgQ2FuJ3QgcGVyZm9ybSBncm91cGluZy91bmdyb3VwaW5nIGFjdGlvbiBvbiBzZWxlY3Rpb24gdHlwZSAke3NlbGVjdGlvblR5cGV9LmAsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogRm9ybSBhbmQgZXhlY3V0ZSBhIGdyb3VwL3VuZ3JvdXAgYWN0aW9uLlxuICogQHBhcmFtIGFjdGlvbiAtIFRoZSBhY3Rpb24gdG8gZXhlY3V0ZS4gRWl0aGVyIFwiZ3JvdXBcIiBvciBcInVuZ3JvdXBcIi5cbiAqIEBwYXJhbSBncm91cFR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50cyB0byBncm91cC4gRWl0aGVyIFwibmV1bWVcIiBvciBcIm5jXCIuXG4gKiBAcGFyYW0gZWxlbWVudElkcyAtIFRoZSBJRHMgb2YgdGhlIGVsZW1lbnRzLlxuICovXG5mdW5jdGlvbiBncm91cGluZ0FjdGlvbihcbiAgYWN0aW9uOiAnZ3JvdXAnIHwgJ3VuZ3JvdXAnLFxuICBncm91cFR5cGU6ICduZXVtZScgfCAnbmMnLFxuICBlbGVtZW50SWRzOiBzdHJpbmdbXSxcbik6IHZvaWQge1xuICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICBhY3Rpb246IGFjdGlvbixcbiAgICBwYXJhbToge1xuICAgICAgZ3JvdXBUeXBlOiBncm91cFR5cGUsXG4gICAgICBlbGVtZW50SWRzOiBlbGVtZW50SWRzLFxuICAgIH0sXG4gIH07XG4gIG5lb25WaWV3XG4gICAgLmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBpZiAoYWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdHcm91cGluZyBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1VuZ3JvdXBpbmcgU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhY3Rpb24gPT09ICdncm91cCcpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVW5ncm91cGluZyBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcblxuICAgICAgLy8gUHJvbXB0IHVzZXIgdG8gY29uZmlybSBpZiBOZW9uIGRvZXMgbm90IHJlIGNvZ25pemUgY29udG91clxuICAgICAgaWYgKGdyb3VwVHlwZSA9PT0gJ25jJykge1xuICAgICAgICBjb25zdCBuZXVtZVBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgIGVsZW1lbnRJZHNbMF0sXG4gICAgICAgICkucGFyZW50RWxlbWVudDtcbiAgICAgICAgY29uc3QgbmNzID0gQXJyYXkuZnJvbShuZXVtZVBhcmVudC5jaGlsZHJlbikgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG4gICAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXIobmNzKTtcbiAgICAgICAgaWYgKGNvbnRvdXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIFdhcm5pbmdzLmdyb3VwaW5nTm90UmVjb2duaXplZCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiB1bmxpbmsoZWxlbWVudElkczogc3RyaW5nW10pOiBBcnJheTxFZGl0b3JBY3Rpb24+IHtcbiAgY29uc3QgcGFyYW0gPSBuZXcgQXJyYXk8RWRpdG9yQWN0aW9uPigpO1xuICBmb3IgKGNvbnN0IGlkIG9mIGVsZW1lbnRJZHMpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpIHtcbiAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdwcmVjZWRlcycsXG4gICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykpIHtcbiAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdmb2xsb3dzJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICcnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJhbTtcbn1cblxuLy8gVXRpbGl0eSBmdW5jdGlvbiB0byBnZXQgYW4gZWxlbWVudCBieSBJRCBhbmQgZW5zdXJlIGl0J3MgYW4gU1ZHR3JhcGhpY3NFbGVtZW50XG5mdW5jdGlvbiBnZXRTVkdHcmFwaGljc0VsZW1lbnRCeUlkKGlkOiBzdHJpbmcpOiBTVkdHcmFwaGljc0VsZW1lbnQgfCBudWxsIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBTVkdHcmFwaGljc0VsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0VG9nZ2xlU3lsbGFibGVJZHMoXG4gIGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LFxuKTogW1NWR0dyYXBoaWNzRWxlbWVudCwgU1ZHR3JhcGhpY3NFbGVtZW50XSB7XG4gIC8vIFNvcnQgZWxlbWVudHMgYmFzZWQgb24gdGhlaXIgb3JkZXIgaW4gdGhlIERPTVxuICBlbGVtZW50cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3Qgc3RhZmZBID0gYS5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICBjb25zdCBzdGFmZkIgPSBiLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIHJldHVybiBzdGFmZkEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oc3RhZmZCKSAmXG4gICAgICBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0ZPTExPV0lOR1xuICAgICAgPyAtMVxuICAgICAgOiAxO1xuICB9KTtcblxuICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgcmV0dXJuIFtlbGVtZW50c1swXSwgZWxlbWVudHNbMV1dO1xuICB9XG5cbiAgY29uc3QgdW5saW5rZWRFbGVtZW50ID0gZWxlbWVudHMuZmluZChcbiAgICAoZWwpID0+ICFlbC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpICYmICFlbC5oYXNBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJyksXG4gICk7XG5cbiAgaWYgKHVubGlua2VkRWxlbWVudCkge1xuICAgIGNvbnN0IGluZGV4ID0gZWxlbWVudHMuaW5kZXhPZih1bmxpbmtlZEVsZW1lbnQpO1xuXG4gICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICByZXR1cm4gW2VsZW1lbnRzW2luZGV4XSwgZWxlbWVudHNbaW5kZXggKyAxXV07XG4gICAgfSBlbHNlIGlmIChpbmRleCA9PT0gZWxlbWVudHMubGVuZ3RoIC0gMSkge1xuICAgICAgcmV0dXJuIFtlbGVtZW50c1tpbmRleCAtIDFdLCBlbGVtZW50c1tpbmRleF1dO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIERldGVybWluZSB3aGF0IGFjdGlvbiAobGluay91bmxpbmspIHRvIHBlcmZvcm0gd2hlbiB1c2VyIGNsaWNrcyBvbiBcIlRvZ2dsZSBMaW5rZWQgU3lsbGFibGVcIlxuICogQWxzbyBjYWxsZWQgd2hlbiBjb3JyZXNwaW5kaW5nIGhvdGtleSBpcyBwcmVzc2VkLlxuICovXG5mdW5jdGlvbiB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKSB7XG4gIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IFtdLFxuICB9O1xuICBjb25zdCBwYXJhbSA9IG5ldyBBcnJheTxFZGl0b3JBY3Rpb24+KCk7XG5cbiAgY29uc3QgZWxlbWVudHMgPSBlbGVtZW50SWRzXG4gICAgLm1hcChnZXRTVkdHcmFwaGljc0VsZW1lbnRCeUlkKSAvLyBNYXAgSURzIHRvIFNWR0dyYXBoaWNzRWxlbWVudCBvciBudWxsXG4gICAgLmZpbHRlcigoZWwpOiBlbCBpcyBTVkdHcmFwaGljc0VsZW1lbnQgPT4gZWwgIT09IG51bGwpO1xuXG4gIGlmIChpc0xpbmtlZChlbGVtZW50cykpIHtcbiAgICBwYXJhbS5wdXNoKC4uLnVubGluayhlbGVtZW50SWRzKSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgW2ZpcnN0U3lsbGFibGUsIHNlY29uZFN5bGxhYmxlXSA9IGdldFRvZ2dsZVN5bGxhYmxlSWRzKGVsZW1lbnRzKTtcbiAgICBjb25zb2xlLmxvZyhmaXJzdFN5bGxhYmxlLmlkLCBzZWNvbmRTeWxsYWJsZS5pZCk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBmaXJzdFN5bGxhYmxlLmlkLFxuICAgICAgICBhdHRyVHlwZTogJ3ByZWNlZGVzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnIycgKyBzZWNvbmRTeWxsYWJsZS5pZCxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBzZWNvbmRTeWxsYWJsZS5pZCxcbiAgICAgICAgYXR0clR5cGU6ICdmb2xsb3dzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnIycgKyBmaXJzdFN5bGxhYmxlLmlkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICAvLyBEZWxldGUgc3lsIG9uIHNlY29uZCBzeWxsYWJsZVxuICAgIGNvbnN0IHN5bCA9IHNlY29uZFN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3IoJy5zeWwnKTtcbiAgICBpZiAoc3lsICE9PSBudWxsKSB7XG4gICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IHN5bC5pZCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNoYWluQWN0aW9uLnBhcmFtID0gcGFyYW07XG4gIG5lb25WaWV3XG4gICAgLmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVG9nZ2xlZCBTeWxsYWJsZSBMaW5rJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAnRmFpbGVkIHRvIFRvZ2dsZSBTeWxsYWJsZSBMaW5rJyxcbiAgICAgICAgICAnZXJyb3InLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogQHJldHVybnMgVGhlIElEcyBvZiBzZWxlY3RlZCBlbGVtZW50cy5cbiAqL1xuZnVuY3Rpb24gZ2V0SWRzKCk6IHN0cmluZ1tdIHtcbiAgY29uc3QgaWRzID0gW107XG4gIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgZWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBpZHMucHVzaChlbC5pZCk7XG4gIH0pO1xuICByZXR1cm4gaWRzO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBJRHMgb2YgdGhlIHNlbGVjdGVkIGVsZW1lbnRzJyBjaGlsZHJlbi5cbiAqL1xuZnVuY3Rpb24gZ2V0Q2hpbGRyZW5JZHMoKTogc3RyaW5nW10ge1xuICBjb25zdCBjaGlsZHJlbklkcyA9IFtdO1xuICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgaWYgKFxuICAgICAgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykgfHxcbiAgICAgIGVsLmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSB8fFxuICAgICAgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJylcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKGVsLmNoaWxkcmVuKTtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKChjaCkgPT4ge1xuICAgICAgY2hpbGRyZW5JZHMucHVzaChjaC5pZCk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gY2hpbGRyZW5JZHM7XG59XG4iLCJleHBvcnQgeyBJRW50cnksIElGaWxlLCBJRm9sZGVyLCBFbnRyeVR5cGUgfSBmcm9tICcuL0ZpbGVTeXN0ZW1JbnRlcmZhY2VzJztcbmV4cG9ydCB7IEZpbGVTeXN0ZW1Ub29scyB9IGZyb20gJy4vRmlsZVN5c3RlbVRvb2xzJztcbmV4cG9ydCB7IEZpbGVTeXN0ZW1NYW5hZ2VyIH0gZnJvbSAnLi9GaWxlU3lzdGVtTWFuYWdlcic7IiwiaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgZXJyb3JMb2dzUGFuZWxDb250ZW50cyB9IGZyb20gJy4uL1NxdWFyZUVkaXQvQ29udGVudHMnO1xuaW1wb3J0IHsgc2V0U2V0dGluZ3MsIGdldFNldHRpbmdzIH0gZnJvbSAnLi9Mb2NhbFNldHRpbmdzJztcbmltcG9ydCB7IE1vZGFsV2luZG93LCBNb2RhbFdpbmRvd1ZpZXcgfSBmcm9tICcuL01vZGFsV2luZG93JztcblxuZnVuY3Rpb24gY3JlYXRlTG9nTWVzc2FnZSAobm90aWY6IE5vdGlmaWNhdGlvbik6IEVsZW1lbnQge1xuICBjb25zdCBub3RpZkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBub3RpZkRpdi5jbGFzc0xpc3QuYWRkKCdub3RpZmljYXRpb24tY29udGFpbmVyJyk7XG4gIG5vdGlmRGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJub3RpZmljYXRpb24td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9nLW1haW5cIj4ke25vdGlmLm1lc3NhZ2V9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2ctZXh0cmFcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwibm90aWZpY2F0aW9uLWJ0bi1jb250YWluZXJcIiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJub3RpZi1sb2ctaW5mby1pY29uLXdyYXBwZXJcIj5cbiAgICAgICAgICA8aW1nIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIiBjbGFzcz1cIm5vdGlmLWxvZy1pbmZvLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvbm90aWZpY2F0aW9uLWluZm8taWNvbi1saWdodC5zdmdcIiB0aXRsZT1cIkxvZyBNZXNzYWdlXCI+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJub3RpZi1yZW1vdmUtaWNvbi13cmFwcGVyXCI+XG4gICAgICAgICAgPGltZyBjbGFzcz1cImxvZy1yZW1vdmUgbm90aWYtcmVtb3ZlLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvZ2FyYmFnZS1jbG9zZWQuc3ZnXCIgdGl0bGU9XCJSZW1vdmVcIj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgYDtcblxuICBjb25zdCByZW1vdmVCdG4gPSBub3RpZkRpdi5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PignLmxvZy1yZW1vdmUnKTtcbiAgcmVtb3ZlQnRuLm9uY2xpY2sgPSAoKSA9PiBub3RpZkRpdi5yZW1vdmUoKTtcbiAgcmVtb3ZlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICByZW1vdmVCdG4uc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2dhcmJhZ2Utb3Blbi5zdmdgKTtcbiAgfSk7XG4gIHJlbW92ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICByZW1vdmVCdG4uc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2dhcmJhZ2UtY2xvc2VkLnN2Z2ApO1xuICB9KTtcblxuICBpZiAobm90aWYubG9nSW5mbykge1xuICAgIGNvbnN0IGluZm9CdG4gPSBub3RpZkRpdi5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PignLm5vdGlmLWxvZy1pbmZvLWljb24nKTtcbiAgICBpbmZvQnRuLnN0eWxlLmRpc3BsYXkgPSAnJztcblxuICAgIHJlbW92ZUJ0bi5zdHlsZS5oZWlnaHQgPSAnMjBweCc7XG5cbiAgICBpbmZvQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgIGluZm9CdG4uc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL25vdGlmaWNhdGlvbi1pbmZvLWljb24tZGFyay5zdmdgKTtcbiAgICB9KTtcbiAgICBpbmZvQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgaW5mb0J0bi5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvbm90aWZpY2F0aW9uLWluZm8taWNvbi1saWdodC5zdmdgKTtcbiAgICB9KTtcbiAgICBpbmZvQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gb3BlbkVycm9yTG9nV2luZG93KG5vdGlmLmxvZ0luZm8pKTtcbiAgfVxuXG4gIHJldHVybiBub3RpZkRpdjtcbn1cblxuXG4vKipcbiAqIEFkZCBub3RpZmljYXRpb24gdG8gdGhlIHBlcnNpc3RlbnQgZXJyb3IgbG9nIG9uIHRoZSBzaWRlYmFyXG4gKiBAcGFyYW0gbm90aWYge05vdGlmaWNhdGlvbn0gTm90aWZpY2F0aW9uIHRvIGFkZCB0byB0aGUgZXJyb3IgbG9nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWNvcmROb3RpZmljYXRpb24gKG5vdGlmOiBOb3RpZmljYXRpb24pOiB2b2lkIHtcbiAgY29uc3QgbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yTG9nQ29udGVudHMnKTtcbiAgbG9nLnByZXBlbmQoY3JlYXRlTG9nTWVzc2FnZShub3RpZikpO1xufVxuXG5cbi8qKlxuICogSW5pdGlhbGl6ZSBlcnJvciBsb2cuXG4gKiBBZGRzIG5lY2Vzc2FyeSBIVE1MIHRvIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRFcnJvckxvZygpOiB2b2lkIHtcbiAgLy8gRXJyb3IgbG9nIHBhbmVsXG4gIGNvbnN0IGxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvcl9sb2cnKTtcbiAgbG9nLmlubmVySFRNTCA9IGVycm9yTG9nc1BhbmVsQ29udGVudHM7XG5cbiAgaW5pdEVycm9yTG9nQ29udHJvbHMoKTtcbn1cblxuXG4vKipcbiAqIFNldCB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIGVycm9yIExvZyBwYW5lbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEVycm9yTG9nQ29udHJvbHMoKTogdm9pZCB7XG4gIGNvbnN0IGVycm9yUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JfbG9nJyk7XG4gIGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JMb2dIZWFkaW5nJyk7XG4gIGNvbnN0IGRyb3Bkb3duSWNvbiA9IGhlYWRpbmcucXVlcnlTZWxlY3Rvcignc3ZnID4gdXNlJyk7XG4gIGNvbnN0IGNvbnRlbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yTG9nQ29udGVudHMnKSBhcyBIVE1MRWxlbWVudDtcblxuICBjb25zdCB7IGRpc3BsYXlFcnJMb2cgfSA9IGdldFNldHRpbmdzKCk7XG4gIGlmIChkaXNwbGF5RXJyTG9nKSBlcnJvclBhbmVsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcblxuICBoZWFkaW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIC8vIGlmIGVycm9yIHBhbmVsIGlzIGNsb3NlZCwgb3BlbiBpdFxuICAgIGlmIChjb250ZW50cy5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlZCcpKSB7XG4gICAgICAvLyBzZXQgY2xhc3NlcyBhbmQgc3R5bGVzIGZvciBhbiBvcGVuIHBhbmVsXG4gICAgICBjb250ZW50cy5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZWQnKTtcbiAgICAgIGNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMC41ZW0gMC43NWVtJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgIH0sIDIwMCk7XG4gICAgICBkcm9wZG93bkljb24uc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duYCk7XG4gICAgfSBcbiAgICAvLyBpZiBlcnJvciBwYW5lbCBpcyBvcGVuLCBjbG9zZSBpdFxuICAgIGVsc2Uge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYSBjbG9zZWQgcGFuZWxcbiAgICAgIGNvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpO1xuICAgICAgY29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzBweCc7XG4gICAgICB9LCAyMDApO1xuICAgICAgZHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tc2lkZWApO1xuICAgIH1cbiAgfSk7XG5cbiAgaW5pdERpc3BsYXlMaXN0ZW5lcigpO1xufVxuXG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgY2xpY2sgbGlzdGVuZXIgb24gXCJTaG93IGVycm9yIGxvZ3NcIiBidXR0b24gaW4gXCJWaWV3XCIgZHJvcGRvd24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RGlzcGxheUxpc3RlbmVyKCk6IHZvaWQge1xuICBjb25zdCBjaGVja2JveGVzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc3BsYXktc2luZ2xlLWNvbnRhaW5lcicpO1xuICBjb25zdCBlcnJvcnNMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGNvbnN0IGVyb3Jyc0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgZXJvcnJzQnRuLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gIGVycm9yc0xhYmVsLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94LWNvbnRhaW5lcicsICdzaWRlLXBhbmVsLWJ0bicpO1xuICBlcnJvcnNMYWJlbC50ZXh0Q29udGVudCA9ICdFcnJvcnMnO1xuICBlcm9ycnNCdG4uaWQgPSAnZGlzcGxheS1lcnJvcnMnO1xuICBlcm9ycnNCdG4udHlwZSA9ICdjaGVja2JveCc7XG4gIGVyb3Jyc0J0bi5jaGVja2VkID0gZmFsc2U7XG4gIGVycm9yc0xhYmVsLmFwcGVuZENoaWxkKGVyb3Jyc0J0bik7XG4gIGNoZWNrYm94ZXNDb250YWluZXIuYXBwZW5kKGVycm9yc0xhYmVsKTtcblxuICBjb25zdCB7IGRpc3BsYXlFcnJMb2cgfSA9IGdldFNldHRpbmdzKCk7XG4gIGVyb3Jyc0J0bi5jaGVja2VkID0gZGlzcGxheUVyckxvZztcblxuICBlcm9ycnNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgc2V0U2V0dGluZ3MoeyBkaXNwbGF5RXJyTG9nOiBlcm9ycnNCdG4uY2hlY2tlZCB9KTtcbiAgICB1cGRhdGVFcnJvckxvZ1Zpc2liaWxpdHkoKTtcbiAgfSk7XG59XG5cblxuZnVuY3Rpb24gb3BlbkVycm9yTG9nV2luZG93KGxvZzogc3RyaW5nKSB7XG4gIGNvbnN0IG1vZGFsV2luZG93ID0gbmV3IE1vZGFsV2luZG93KCk7XG4gIG1vZGFsV2luZG93LnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuRVJST1JfTE9HLCBsb2cpO1xuICBtb2RhbFdpbmRvdy5vcGVuTW9kYWxXaW5kb3coKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUVycm9yTG9nVmlzaWJpbGl0eSgpOiB2b2lkIHtcbiAgY29uc3Qgbm90aWZQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvcl9sb2cnKTtcbiAgY29uc3QgeyBkZWJ1Z01vZGUsIGRpc3BsYXlFcnJMb2csIGRpc3BsYXlJbmZvLCBkaXNwbGF5QkJveCwgZGlzcGxheVRleHQgfSA9IGdldFNldHRpbmdzKCk7XG5cbiAgY29uc3QgZGlzcGxheUFsbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LWFsbC1idG4nKTtcblxuICBpZiAoZGVidWdNb2RlKSB7XG4gICAgaWYgKGRpc3BsYXlFcnJMb2cpIHtcbiAgICAgIG5vdGlmUGFuZWwuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgICAgaWYgKGRpc3BsYXlJbmZvICYmIGRpc3BsYXlCQm94ICYmIFxuICAgICAgICBkaXNwbGF5VGV4dCAmJiBkaXNwbGF5RXJyTG9nKSB7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnSGlkZSBBbGwnO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG5vdGlmUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgICAgaWYgKGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnRGlzcGxheSBBbGwnO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBub3RpZlBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICBpZiAoZGlzcGxheUluZm8gJiYgZGlzcGxheUJCb3ggJiYgZGlzcGxheVRleHQpIHtcbiAgICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgIGRpc3BsYXlBbGxCdG4uaW5uZXJIVE1MID0gJ0hpZGUgQWxsJztcbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnRGlzcGxheSBBbGwnO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCB7IGdldFN0YWZmQkJveCwgc2VsZWN0QkJveCwgc2VsZWN0U3RhZmYsIHNlbGVjdEFsbCB9IGZyb20gJy4vU2VsZWN0VG9vbHMnO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuL0RyYWdIYW5kbGVyJztcblxuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgRWRpdG9yQWN0aW9uLCBSZXNpemVBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBpc091dE9mU1ZHQm91bmRzIH0gZnJvbSAnLi9Db29yZGluYXRlcyc7XG5pbXBvcnQgeyBxdWV1ZU5vdGlmaWNhdGlvbiB9IGZyb20gJy4vTm90aWZpY2F0aW9uJztcbmltcG9ydCB7IGdldFNldHRpbmdzIH0gZnJvbSAnLi9Mb2NhbFNldHRpbmdzJztcblxuLyoqXG4gKiBSZXNpemUgYSBzdGFmZiBvciBhIHN5bGxhYmxlIHRleHQgYm91bmRpbmcgYm94LlxuICogRm9yIHN0YXZlcywgdGhpcyBhbHNvIHN1cHBvcnRzIGFkanVzdGluZyB0aGUgcm90YXRlLlxuICovXG50eXBlIFBvaW50ID0geyB4OiBudW1iZXI7IHk6IG51bWJlcjsgbmFtZTogbnVtYmVyIH07XG5cbi8qKlxuICogVGhlIHBvaW50cyB5b3UgY2FuIGNsaWNrIGFuZCBkcmFnIHRvIHJlc2l6ZVxuICovXG5jb25zdCBQb2ludE5hbWVzID0ge1xuICBUb3BMZWZ0OiAwLFxuICBUb3A6IDEsXG4gIFRvcFJpZ2h0OiAyLFxuICBSaWdodDogMyxcbiAgQm90dG9tUmlnaHQ6IDQsXG4gIEJvdHRvbTogNSxcbiAgQm90dG9tTGVmdDogNixcbiAgTGVmdDogN1xufTtcblxuZnVuY3Rpb24gZ2V0UG9pbnRzKHVseDogbnVtYmVyLCB1bHk6IG51bWJlciwgbHJ4OiBudW1iZXIsIGxyeTogbnVtYmVyLCByb3RhdGU6IG51bWJlcik6IFBvaW50W10ge1xuICAvLyBOb3RlIHRoYXQgYXJjIGZ1bmN0aW9ucyByZXR1cm4gYW4gYW5nbGUgeCBpbiBbLXBpLzIsIHBpLzJdLlxuICBsZXQgcG9pbnRzOiBBcnJheTxQb2ludD47XG4gIC8vIHVsIGlzIHVseCwgdWx5LCBsciBpcyBscngsIGxyeVxuICBpZiAocm90YXRlID49IDApIHtcbiAgICBwb2ludHMgPSBbXG4gICAgICB7IHg6IHVseCwgeTogdWx5LCBuYW1lOiBQb2ludE5hbWVzLlRvcExlZnQgfSxcbiAgICAgIHsgeDogKHVseCArIGxyeCkgLyAyLCB5OiB1bHkgKyAobHJ4IC0gdWx4KSAvIDIgKiBNYXRoLnNpbihyb3RhdGUpLCBuYW1lOiBQb2ludE5hbWVzLlRvcCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSArIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Ub3BSaWdodCB9LFxuICAgICAgeyB4OiBscngsIHk6ICh1bHkgKyBscnkgKyAobHJ4IC0gdWx4KSAqIE1hdGguc2luKHJvdGF0ZSkpIC8gMiwgbmFtZTogUG9pbnROYW1lcy5SaWdodCB9LFxuICAgICAgeyB4OiBscngsIHk6IGxyeSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21SaWdodCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IGxyeSAtIChscnggLSB1bHgpIC8gMiAqIE1hdGguc2luKHJvdGF0ZSksIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tIH0sXG4gICAgICB7IHg6IHVseCwgeTogbHJ5IC0gKGxyeCAtIHVseCkgKiBNYXRoLnNpbihyb3RhdGUpLCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbUxlZnQgfSxcbiAgICAgIHsgeDogdWx4LCB5OiAodWx5ICsgbHJ5IC0gKGxyeCAtIHVseCkgKiBNYXRoLnNpbihyb3RhdGUpKSAvIDIsIG5hbWU6IFBvaW50TmFtZXMuTGVmdCB9XG4gICAgXTtcbiAgfVxuICAvLyBOb3QgdGhhdFxuICBlbHNlIHtcbiAgICBjb25zdCBhID0gKGxyeCAtIHVseCkgKiBNYXRoLnRhbihNYXRoLmFicyhyb3RhdGUpKTtcbiAgICBjb25zdCBiID0gbHJ5IC0gdWx5IC0gYTtcbiAgICBwb2ludHMgPSBbXG4gICAgICB7IHg6IHVseCwgeTogdWx5ICsgYSwgbmFtZTogUG9pbnROYW1lcy5Ub3BMZWZ0IH0sXG4gICAgICB7IHg6ICh1bHggKyBscngpIC8gMiwgeTogdWx5ICsgYSAvIDIsIG5hbWU6IFBvaW50TmFtZXMuVG9wIH0sXG4gICAgICB7IHg6IGxyeCwgeTogdWx5LCBuYW1lOiBQb2ludE5hbWVzLlRvcFJpZ2h0IH0sXG4gICAgICB7IHg6IGxyeCwgeTogdWx5ICsgYiAvIDIsIG5hbWU6IFBvaW50TmFtZXMuUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiB1bHkgKyBiLCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0IH0sXG4gICAgICB7IHg6ICh1bHggKyBscngpIC8gMiwgeTogbHJ5IC0gYSAvIDIsIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tIH0sXG4gICAgICB7IHg6IHVseCwgeTogbHJ5LCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbUxlZnQgfSxcbiAgICAgIHsgeDogdWx4LCB5OiBscnkgLSBiIC8gMiwgbmFtZTogUG9pbnROYW1lcy5MZWZ0IH1cbiAgICBdO1xuICB9XG4gIHJldHVybiBwb2ludHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNpemUgKGVsZW1lbnQ6IFNWR0dyYXBoaWNzRWxlbWVudCwgbmVvblZpZXc6IE5lb25WaWV3LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiB2b2lkIHtcbiAgbGV0IHVseDogbnVtYmVyO1xuICBsZXQgdWx5OiBudW1iZXI7XG4gIGxldCBscng6IG51bWJlcjtcbiAgbGV0IGxyeTogbnVtYmVyO1xuICBsZXQgcm90YXRlOiBudW1iZXI7XG5cbiAgbGV0IGluaXRpYWxVbHg6IG51bWJlciwgaW5pdGlhbExyeDogbnVtYmVyO1xuICBsZXQgaW5pdGlhbFBvaW50OiBudW1iZXJbXSwgaW5pdGlhbFVseTogbnVtYmVyLCBpbml0aWFsTHJ5OiBudW1iZXIsXG4gICAgaW5pdGlhbFk6IG51bWJlciwgaW5pdGlhbFJlY3RZOiBudW1iZXIsIHBvbHlMZW46IG51bWJlciwgZHk6IG51bWJlciwgaW5pdGlhbFJvdGF0ZTogbnVtYmVyO1xuXG4gIGRyYXdJbml0aWFsUmVjdCgpO1xuXG4gIC8qKlxuICAgKiBSZWRyYXcgdGhlIHJlY3RhbmdsZSB3aXRoIHRoZSBuZXcgYm91bmRzXG4gICAqL1xuICBmdW5jdGlvbiByZWRyYXcgKCk6IHZvaWQge1xuICAgIGNvbnN0IHBvaW50czogUG9pbnRbXSA9IGdldFBvaW50cyh1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZSk7XG5cbiAgICBjb25zdCBwb2ludFN0cmluZzogc3RyaW5nID0gcG9pbnRzLmZpbHRlcigoX2VsZW0sIGluZGV4KSA9PiB7IHJldHVybiBpbmRleCAlIDIgPT09IDA7IH0pXG4gICAgICAubWFwKGVsZW0gPT4gZWxlbS54ICsgJywnICsgZWxlbS55KVxuICAgICAgLmpvaW4oJyAnKTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXNpemVSZWN0Jykuc2V0QXR0cmlidXRlKCdwb2ludHMnLCBwb2ludFN0cmluZyk7XG5cbiAgICBjb25zdCB0ZXh0UmVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWwuc2VsZWN0ZWQgPiAuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgIGlmICh0ZXh0UmVjdCkge1xuICAgICAgdGV4dFJlY3Quc2V0QXR0cmlidXRlKCd4JywgU3RyaW5nKE1hdGgubWluKHVseCwgbHJ4KSkpO1xuICAgICAgdGV4dFJlY3Quc2V0QXR0cmlidXRlKCd5JywgU3RyaW5nKE1hdGgubWluKHVseSwgbHJ5KSkpO1xuICAgICAgdGV4dFJlY3Quc2V0QXR0cmlidXRlKCd3aWR0aCcsIFN0cmluZyhNYXRoLmFicyhscnggLSB1bHgpKSk7XG4gICAgICB0ZXh0UmVjdC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIFN0cmluZyhNYXRoLmFicyhscnkgLSB1bHkpKSk7XG4gICAgfVxuXG5cbiAgICBmb3IgKGNvbnN0IHBvaW50TmFtZSBpbiBQb2ludE5hbWVzKSB7XG4gICAgICBjb25zdCBwb2ludDogUG9pbnQgPSBwb2ludHNbUG9pbnROYW1lc1twb2ludE5hbWVdXTtcbiAgICAgIGQzLnNlbGVjdCgnI3AtJyArIHBvaW50TmFtZSkuZmlsdGVyKCcucmVzaXplUG9pbnQnKVxuICAgICAgICAuYXR0cignY3gnLCBwb2ludC54KVxuICAgICAgICAuYXR0cignY3knLCBwb2ludC55KTtcbiAgICB9XG5cbiAgICBsZXQgeCA9IHBvaW50c1szXS54O1xuICAgIGxldCB5ID0gcG9pbnRzWzNdLnk7XG4gICAgY29uc3QgcG9pbnRTdHJpbmdSaWdodCA9ICh4ICsgMTAwKSArICcsJyArICh5ICsgODUpICsgJyAnICtcbiAgICAgICh4ICsgNzApICsgJywnICsgKHkgKyA1MCkgKyAnICcgKyAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDE1KSArICcgJyArICh4ICsgMTMwKSArICcsJyArICh5ICsgNTApO1xuICAgIHggPSBwb2ludHNbN10ueDtcbiAgICB5ID0gcG9pbnRzWzddLnk7XG4gICAgY29uc3QgcG9pbnRTdHJpbmdMZWZ0ID0gKHggLSAxMDApICsgJywnICsgKHkgLSAxNSkgKyAnICcgK1xuICAgICAgKHggLSAxMzApICsgJywnICsgKHkgLSA1MCkgKyAnICcgKyAoeCAtIDEwMCkgKyAnLCcgKyAoeSAtIDg1KSArICcgJyArICh4IC0gNzApICsgJywnICsgKHkgLSA1MCk7XG5cbiAgICBkMy5zZWxlY3QoJyNyb3RhdGVMZWZ0JykuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmdMZWZ0KTtcbiAgICBkMy5zZWxlY3QoJyNyb3RhdGVSaWdodCcpLmF0dHIoJ3BvaW50cycsIHBvaW50U3RyaW5nUmlnaHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXcgdGhlIGluaXRpYWwgcmVjdGFuZ2xlIGFyb3VuZCB0aGUgZWxlbWVudFxuICAgKiBhbmQgYWRkIHRoZSBsaXN0ZW5lcnMgdG8gc3VwcG9ydCBkcmFnZ2luZyB0byByZXNpemUuXG4gICAqL1xuICBmdW5jdGlvbiBkcmF3SW5pdGlhbFJlY3QgKCk6IHZvaWQge1xuICAgIGlmIChlbGVtZW50ID09PSBudWxsKSByZXR1cm47XG5cbiAgICBkMy5zZWxlY3RBbGwoJy5yZXNpemVQb2ludCcpLnJlbW92ZSgpO1xuICAgIGQzLnNlbGVjdEFsbCgnI3Jlc2l6ZVJlY3QnKS5yZW1vdmUoKTtcbiAgICBkMy5zZWxlY3RBbGwoJy5yb3RhdGVQb2ludCcpLnJlbW92ZSgpO1xuXG4gICAgLy8gaWYgaXQncyBhIGJvdW5kaW5nYm94IGp1c3QgZ2V0IHRoZSBjb29yZGluYXRlc1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICBpZiAocmVjdCA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RyaWVkIHRvIGRyYXcgcmVzaXplIHJlY3QgZm9yIGEgc3lsVGV4dFJlY3QgdGhhdCBkb2VzblxcJ3QgZXhpc3QgKG9yIGlzblxcJ3QgZGlzcGxheWluZyknKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdWx4ID0gTnVtYmVyKHJlY3QuZ2V0QXR0cmlidXRlKCd4JykpO1xuICAgICAgdWx5ID0gTnVtYmVyKHJlY3QuZ2V0QXR0cmlidXRlKCd5JykpO1xuICAgICAgbHJ4ID0gK3VseCArICtyZWN0LmdldEF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgICAgIGxyeSA9ICt1bHkgKyArcmVjdC5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpO1xuXG4gICAgICByb3RhdGUgPSAwO1xuICAgIH1cblxuICAgIC8vIGlmIGl0J3MgYSBzdGFmZiB1c2UgdGhlIHBhdGhzIHRvIGdldCBpdCdzIGJvdW5kaW5nYm94XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBjb25zdCBiYm94ID0gZ2V0U3RhZmZCQm94KGVsZW1lbnQpO1xuICAgICAgdWx4ID0gYmJveC51bHg7XG4gICAgICB1bHkgPSBiYm94LnVseTtcbiAgICAgIGxyeCA9IGJib3gubHJ4O1xuICAgICAgbHJ5ID0gYmJveC5scnk7XG5cbiAgICAgIGNvbnN0IGNvb3JkaW5hdGVzOiBudW1iZXJbXSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcigncGF0aCcpXG4gICAgICAgIC5nZXRBdHRyaWJ1dGUoJ2QnKVxuICAgICAgICAubWF0Y2goL1xcZCsvZylcbiAgICAgICAgLm1hcChlbGVtZW50ID0+IE51bWJlcihlbGVtZW50KSk7XG4gICAgICByb3RhdGUgPSBNYXRoLmF0YW4oKGNvb3JkaW5hdGVzWzNdIC0gY29vcmRpbmF0ZXNbMV0pIC9cbiAgICAgICAgKGNvb3JkaW5hdGVzWzJdIC0gY29vcmRpbmF0ZXNbMF0pKTtcbiAgICB9XG5cbiAgICBpbml0aWFsVWx4ID0gdWx4LCBpbml0aWFsVWx5ID0gdWx5LCBpbml0aWFsTHJ4ID0gbHJ4LCBpbml0aWFsTHJ5ID0gbHJ5O1xuXG4gICAgbGV0IHdoaWNoUG9pbnQ6IHN0cmluZztcblxuICAgIGNvbnN0IHBvaW50cyA9IGdldFBvaW50cyh1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZSk7XG5cbiAgICBwb2x5TGVuID0gcG9pbnRzWzJdLnggLSBwb2ludHNbMF0ueDtcblxuICAgIGNvbnN0IHBvaW50U3RyaW5nID0gcG9pbnRzLmZpbHRlcigoXywgaW5kZXgpID0+IGluZGV4ICUgMiA9PT0gMClcbiAgICAgIC5tYXAoZWxlbSA9PiBlbGVtLnggKyAnLCcgKyBlbGVtLnkpXG4gICAgICAuam9pbignICcpO1xuXG4gICAgZDMuc2VsZWN0KCcjJyArIGVsZW1lbnQuaWQpLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmcpXG4gICAgICAuYXR0cignaWQnLCAncmVzaXplUmVjdCcpXG4gICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAxMClcbiAgICAgIC5hdHRyKCdmaWxsJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdjdXJzb3InLCAnbW92ZScpXG4gICAgICAuc3R5bGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAnMjAgMTAnKTtcblxuICAgIGNvbnN0IHsgY2lyY2xlU2l6ZSB9ID0gZ2V0U2V0dGluZ3MoKTtcblxuICAgIGZvciAoY29uc3QgcG9pbnROYW1lIGluIFBvaW50TmFtZXMpIHtcbiAgICAgIGNvbnN0IHBvaW50OiBQb2ludCA9IHBvaW50c1tQb2ludE5hbWVzW3BvaW50TmFtZV1dO1xuICAgICAgZDMuc2VsZWN0KGVsZW1lbnQudmlld3BvcnRFbGVtZW50KS5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAgIC5hdHRyKCdjeCcsIHBvaW50LngpXG4gICAgICAgIC5hdHRyKCdjeScsIHBvaW50LnkpXG4gICAgICAgIC5hdHRyKCdyJywgY2lyY2xlU2l6ZSlcbiAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCA0KVxuICAgICAgICAuYXR0cignZmlsbCcsICcjMDA5OWZmJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3Jlc2l6ZVBvaW50JylcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3AtJyArIHBvaW50TmFtZSk7XG4gICAgfVxuXG4gICAgLy8gZG8gaXQgYXMgYSBsb29wIGluc3RlYWQgb2Ygc2VsZWN0QWxsIHNvIHRoYXQgeW91IGNhbiBlYXNpbHkga25vdyB3aGljaCBwb2ludCB3YXNcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gUG9pbnROYW1lcykge1xuICAgICAgZDMuc2VsZWN0KCcjcC0nICsgbmFtZSkuZmlsdGVyKCcucmVzaXplUG9pbnQnKS5jYWxsKFxuICAgICAgICBkMy5kcmFnKClcbiAgICAgICAgICAub24oJ3N0YXJ0JywgKCkgPT4geyByZXNpemVTdGFydChuYW1lKTsgfSlcbiAgICAgICAgICAub24oJ2RyYWcnLCByZXNpemVEcmFnKVxuICAgICAgICAgIC5vbignZW5kJywgcmVzaXplRW5kLmJpbmQodGhpcykpKTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHtcbiAgICAgIGxldCB4ID0gcG9pbnRzWzNdLng7XG4gICAgICBsZXQgeSA9IHBvaW50c1szXS55O1xuICAgICAgY29uc3QgcG9pbnRTdHJpbmdSaWdodCA9ICh4ICsgMTAwKSArICcsJyArICh5ICsgODUpICsgJyAnICtcbiAgICAgICAgKHggKyA3MCkgKyAnLCcgKyAoeSArIDUwKSArICcgJyArICh4ICsgMTAwKSArICcsJyArICh5ICsgMTUpICsgJyAnICsgKHggKyAxMzApICsgJywnICsgKHkgKyA1MCk7XG4gICAgICB4ID0gcG9pbnRzWzddLng7XG4gICAgICB5ID0gcG9pbnRzWzddLnk7XG4gICAgICBjb25zdCBwb2ludFN0cmluZ0xlZnQgPSAoeCAtIDEwMCkgKyAnLCcgKyAoeSAtIDE1KSArICcgJyArXG4gICAgICAgICh4IC0gMTMwKSArICcsJyArICh5IC0gNTApICsgJyAnICsgKHggLSAxMDApICsgJywnICsgKHkgLSA4NSkgKyAnICcgKyAoeCAtIDcwKSArICcsJyArICh5IC0gNTApO1xuXG4gICAgICBkMy5zZWxlY3QoJyMnICsgZWxlbWVudC5pZCkuYXBwZW5kKCdwb2x5Z29uJylcbiAgICAgICAgLmF0dHIoJ3BvaW50cycsIHBvaW50U3RyaW5nUmlnaHQpXG4gICAgICAgIC5hdHRyKCdpZCcsICdyb3RhdGVSaWdodCcpXG4gICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgNylcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzAwOTlmZicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdyb3RhdGVQb2ludCcpO1xuXG4gICAgICBkMy5zZWxlY3QoJyMnICsgZWxlbWVudC5pZCkuYXBwZW5kKCdwb2x5Z29uJylcbiAgICAgICAgLmF0dHIoJ3BvaW50cycsIHBvaW50U3RyaW5nTGVmdClcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3JvdGF0ZUxlZnQnKVxuICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDcpXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJyMwMDk5ZmYnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAncm90YXRlUG9pbnQnKTtcblxuICAgICAgZDMuc2VsZWN0KCcjcm90YXRlTGVmdCcpLmNhbGwoXG4gICAgICAgIGQzLmRyYWcoKVxuICAgICAgICAgIC5vbignc3RhcnQnLCByb3RhdGVTdGFydClcbiAgICAgICAgICAub24oJ2RyYWcnLCByb3RhdGVEcmFnTGVmdClcbiAgICAgICAgICAub24oJ2VuZCcsIHJvdGF0ZUVuZCkpO1xuXG4gICAgICBkMy5zZWxlY3QoJyNyb3RhdGVSaWdodCcpLmNhbGwoXG4gICAgICAgIGQzLmRyYWcoKVxuICAgICAgICAgIC5vbignc3RhcnQnLCByb3RhdGVTdGFydClcbiAgICAgICAgICAub24oJ2RyYWcnLCByb3RhdGVEcmFnUmlnaHQpXG4gICAgICAgICAgLm9uKCdlbmQnLCByb3RhdGVFbmQpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNpemVTdGFydCAobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICB3aGljaFBvaW50ID0gbmFtZTtcbiAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzLmZpbmQocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lc1tuYW1lXSk7XG4gICAgICBpbml0aWFsUG9pbnQgPSBbcG9pbnQueCwgcG9pbnQueV07XG4gICAgICBpbml0aWFsVWx5ID0gdWx5O1xuICAgICAgaW5pdGlhbExyeSA9IGxyeTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNpemVEcmFnICgpOiB2b2lkIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRQb2ludCA9IGQzLm1vdXNlKHRoaXMpO1xuICAgICAgc3dpdGNoIChQb2ludE5hbWVzW3doaWNoUG9pbnRdKSB7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Ub3BMZWZ0OlxuICAgICAgICAgIHVseCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICB1bHkgPSBjdXJyZW50UG9pbnRbMV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Ub3A6XG4gICAgICAgICAgdWx5ID0gY3VycmVudFBvaW50WzFdIC0gKGxyeCAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpIC8gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLlRvcFJpZ2h0OlxuICAgICAgICAgIGxyeCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICB1bHkgPSBjdXJyZW50UG9pbnRbMV0gLSAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5SaWdodDpcbiAgICAgICAgICBscnggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgbHJ5ID0gaW5pdGlhbExyeSArIChjdXJyZW50UG9pbnRbMF0gLSBpbml0aWFsUG9pbnRbMF0pICogTWF0aC50YW4ocm90YXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0OlxuICAgICAgICAgIGxyeCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICBscnkgPSBjdXJyZW50UG9pbnRbMV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Cb3R0b206XG4gICAgICAgICAgbHJ5ID0gY3VycmVudFBvaW50WzFdICsgKGxyeCAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpIC8gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLkJvdHRvbUxlZnQ6XG4gICAgICAgICAgdWx4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIGxyeSA9IGN1cnJlbnRQb2ludFsxXSArIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLkxlZnQ6XG4gICAgICAgICAgdWx4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIHVseSA9IGluaXRpYWxVbHkgKyAoY3VycmVudFBvaW50WzBdIC0gaW5pdGlhbFBvaW50WzBdKSAqIE1hdGgudGFuKHJvdGF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS5lcnJvcignU29tZXRoaW5nIHRoYXQgd2FzblxcJ3QgYSBzaWRlIG9mIHRoZSByZWN0YW5nbGUgd2FzIGRyYWdnZWQuIFRoaXMgc2hvdWxkblxcJ3QgaGFwcGVuLicpO1xuICAgICAgfVxuICAgICAgcmVkcmF3KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzaXplRW5kICgpOiB2b2lkIHtcbiAgICAgIGlmIChpc091dE9mU1ZHQm91bmRzKHVseCwgdWx5KSB8fCBpc091dE9mU1ZHQm91bmRzKGxyeCwgbHJ5KSkge1xuICAgICAgICB1bHggPSBpbml0aWFsVWx4LCB1bHkgPSBpbml0aWFsVWx5LCBscnggPSBpbml0aWFsTHJ4LCBscnkgPSBpbml0aWFsTHJ5O1xuICAgICAgICByZWRyYXcoKTtcblxuICAgICAgICByZXR1cm4gcXVldWVOb3RpZmljYXRpb24oJ1tGQUlMXSBHbHlwaHMgd2VyZSBwbGFjZWQgb3V0IG9mIGJvdW5kcyEgUmVzaXplIGFjdGlvbiBmYWlsZWQuJywgJ2Vycm9yJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogUmVzaXplQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdyZXNpemUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICB1bHg6IHVseCxcbiAgICAgICAgICB1bHk6IHVseSxcbiAgICAgICAgICBscng6IGxyeCxcbiAgICAgICAgICBscnk6IGxyeVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGF3YWl0IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2VsZW1lbnQuaWR9YCk7XG4gICAgICAgIHVseCA9IHVuZGVmaW5lZCwgdWx5ID0gdW5kZWZpbmVkLCBscnggPSB1bmRlZmluZWQsIGxyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHJhd0luaXRpYWxSZWN0KCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICAgICAgc2VsZWN0QkJveChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JyksIGRyYWdIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxlY3RBbGwoW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2VsZW1lbnQuaWR9YCldLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgICAgIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbW9yZUVkaXQnKTtcblxuICAgICAgICAgIGlmIChtb3JlRWRpdCkge1xuICAgICAgICAgICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUk9UQVRFXG4gICAgZnVuY3Rpb24gcm90YXRlU3RhcnQgKCk6IHZvaWQge1xuICAgICAgY29uc3Qgd2hpY2ggPSBkMy5ldmVudC5zb3VyY2VFdmVudC50YXJnZXQuaWQ7XG4gICAgICBpbml0aWFsWSA9IGQzLm1vdXNlKHRoaXMpWzFdO1xuICAgICAgaW5pdGlhbExyeSA9IGxyeTtcbiAgICAgIGluaXRpYWxVbHkgPSB1bHk7XG4gICAgICBpbml0aWFsUmVjdFkgPSAod2hpY2ggPT09ICdyb3RhdGVSaWdodCcgPyBscnkgOiB1bHkpO1xuICAgICAgaW5pdGlhbFJvdGF0ZSA9IHJvdGF0ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByb3RhdGVEcmFnTGVmdCAoKTogdm9pZCB7XG4gICAgICBjb25zdCBjdXJyZW50WSA9IGQzLm1vdXNlKHRoaXMpWzFdO1xuICAgICAgY29uc3QgdGVtcCA9IGN1cnJlbnRZIC0gaW5pdGlhbFk7XG4gICAgICBjb25zdCB0ZW1wUm90YXRlID0gaW5pdGlhbFJvdGF0ZSAtIE1hdGguYXRhbih0ZW1wIC8gcG9seUxlbik7XG4gICAgICBpZiAodGVtcFJvdGF0ZSA+IC0wLjIgJiYgdGVtcFJvdGF0ZSA8IDAuMikge1xuICAgICAgICBkeSA9IHRlbXA7XG4gICAgICAgIHVseSA9IGluaXRpYWxSZWN0WSArIGR5O1xuICAgICAgICByb3RhdGUgPSB0ZW1wUm90YXRlO1xuICAgICAgICBpZiAocm90YXRlID49IDApIHtcbiAgICAgICAgICB1bHkgPSBkeSArIHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Ub3BMZWZ0KVswXS55O1xuICAgICAgICAgIGxyeSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Cb3R0b21SaWdodClbMF0ueTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bHkgPSBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuVG9wUmlnaHQpWzBdLnk7XG4gICAgICAgICAgbHJ5ID0gZHkgKyBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuQm90dG9tTGVmdClbMF0ueTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVkcmF3KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcm90YXRlRHJhZ1JpZ2h0ICgpOiB2b2lkIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRZID0gZDMubW91c2UodGhpcylbMV07XG4gICAgICBjb25zdCB0ZW1wID0gY3VycmVudFkgLSBpbml0aWFsWTtcbiAgICAgIGNvbnN0IHRlbXBSb3RhdGUgPSBpbml0aWFsUm90YXRlICsgTWF0aC5hdGFuKHRlbXAgLyBwb2x5TGVuKTtcbiAgICAgIGlmICh0ZW1wUm90YXRlID4gLTAuMiAmJiB0ZW1wUm90YXRlIDwgMC4yKSB7XG4gICAgICAgIGR5ID0gdGVtcDtcbiAgICAgICAgcm90YXRlID0gdGVtcFJvdGF0ZTtcbiAgICAgICAgaWYgKHJvdGF0ZSA+PSAwICkge1xuICAgICAgICAgIGxyeSA9IGR5ICsgcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0KVswXS55O1xuICAgICAgICAgIHVseSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Ub3BMZWZ0KVswXS55O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVseSA9IGR5ICsgcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLlRvcFJpZ2h0KVswXS55O1xuICAgICAgICAgIGxyeSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Cb3R0b21MZWZ0KVswXS55O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWRyYXcoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByb3RhdGVFbmQgKCk6IHZvaWQge1xuICAgICAgaWYgKGR5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZHkgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNPdXRPZlNWR0JvdW5kcyh1bHgsIHVseSkgfHwgaXNPdXRPZlNWR0JvdW5kcyhscngsIGxyeSkpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJlc2l6ZVBvaW50JykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNyZXNpemVSZWN0JykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yb3RhdGVQb2ludCcpLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuXG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50LmlkKSBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgdWx4ID0gdW5kZWZpbmVkO1xuICAgICAgICB1bHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxyeCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHJhd0luaXRpYWxSZWN0KCk7XG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgICAgICBzZWxlY3RCQm94KGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSwgZHJhZ0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdFN0YWZmKGVsZW1lbnQsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBocyB3ZXJlIHBsYWNlZCBvdXQgb2YgYm91bmRzISBSb3RhdGUgYWN0aW9uIGZhaWxlZC4nLCAnZXJyb3InKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3Jlc2l6ZVJvdGF0ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHVseDogdWx4LFxuICAgICAgICAgIHVseTogdWx5LFxuICAgICAgICAgIGxyeDogbHJ4LFxuICAgICAgICAgIGxyeTogbHJ5LFxuICAgICAgICAgIHJvdGF0ZTogcm90YXRlICogMTgwIC8gTWF0aC5QSVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBhd2FpdCBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50LmlkKSBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgdWx4ID0gdW5kZWZpbmVkLCB1bHkgPSB1bmRlZmluZWQsIGxyeCA9IHVuZGVmaW5lZCwgbHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHJhd0luaXRpYWxSZWN0KCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICAgICAgc2VsZWN0QkJveChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JyksIGRyYWdIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxlY3RTdGFmZihlbGVtZW50LCBkcmFnSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IGltbWVkaWF0ZSBmcm9tICdpbW1lZGlhdGUnO1xuaW1wb3J0IHsgdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCBNZDUgZnJvbSAnc3BhcmstbWQ1JztcbmltcG9ydCB2dXZ1emVsYSBmcm9tICd2dXZ1emVsYSc7XG5pbXBvcnQgZ2V0QXJndW1lbnRzIGZyb20gJ2FyZ3NhcnJheSc7XG5pbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuaW1wb3J0IEVFIGZyb20gJ2V2ZW50cyc7XG5cbmZ1bmN0aW9uIG1hbmdsZShrZXkpIHtcbiAgcmV0dXJuICckJyArIGtleTtcbn1cbmZ1bmN0aW9uIHVubWFuZ2xlKGtleSkge1xuICByZXR1cm4ga2V5LnN1YnN0cmluZygxKTtcbn1cbmZ1bmN0aW9uIE1hcCQxKCkge1xuICB0aGlzLl9zdG9yZSA9IHt9O1xufVxuTWFwJDEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgdmFyIG1hbmdsZWQgPSBtYW5nbGUoa2V5KTtcbiAgcmV0dXJuIHRoaXMuX3N0b3JlW21hbmdsZWRdO1xufTtcbk1hcCQxLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICB0aGlzLl9zdG9yZVttYW5nbGVkXSA9IHZhbHVlO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5NYXAkMS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICByZXR1cm4gbWFuZ2xlZCBpbiB0aGlzLl9zdG9yZTtcbn07XG5NYXAkMS5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3N0b3JlKS5tYXAoayA9PiB1bm1hbmdsZShrKSk7XG59O1xuTWFwJDEucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgdmFyIG1hbmdsZWQgPSBtYW5nbGUoa2V5KTtcbiAgdmFyIHJlcyA9IG1hbmdsZWQgaW4gdGhpcy5fc3RvcmU7XG4gIGRlbGV0ZSB0aGlzLl9zdG9yZVttYW5nbGVkXTtcbiAgcmV0dXJuIHJlcztcbn07XG5NYXAkMS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYikge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX3N0b3JlKTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGtleXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLl9zdG9yZVtrZXldO1xuICAgIGtleSA9IHVubWFuZ2xlKGtleSk7XG4gICAgY2IodmFsdWUsIGtleSk7XG4gIH1cbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwJDEucHJvdG90eXBlLCAnc2l6ZScsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3N0b3JlKS5sZW5ndGg7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBTZXQkMShhcnJheSkge1xuICB0aGlzLl9zdG9yZSA9IG5ldyBNYXAkMSgpO1xuXG4gIC8vIGluaXQgd2l0aCBhbiBhcnJheVxuICBpZiAoYXJyYXkgJiYgQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRoaXMuYWRkKGFycmF5W2ldKTtcbiAgICB9XG4gIH1cbn1cblNldCQxLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9zdG9yZS5zZXQoa2V5LCB0cnVlKTtcbn07XG5TZXQkMS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gdGhpcy5fc3RvcmUuaGFzKGtleSk7XG59O1xuU2V0JDEucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2IpIHtcbiAgdGhpcy5fc3RvcmUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgIGNiKGtleSk7XG4gIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXQkMS5wcm90b3R5cGUsICdzaXplJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuc2l6ZTtcbiAgfVxufSk7XG5cbi8vIEJhc2VkIG9uIGh0dHBzOi8va2FuZ2F4LmdpdGh1Yi5pby9jb21wYXQtdGFibGUvZXM2LyB3ZSBjYW4gc25pZmYgb3V0XG4vLyBpbmNvbXBsZXRlIE1hcC9TZXQgaW1wbGVtZW50YXRpb25zIHdoaWNoIHdvdWxkIG90aGVyd2lzZSBjYXVzZSBvdXIgdGVzdHMgdG8gZmFpbC5cbi8vIE5vdGFibHkgdGhleSBmYWlsIGluIElFMTEgYW5kIGlPUyA4LjQsIHdoaWNoIHRoaXMgcHJldmVudHMuXG5mdW5jdGlvbiBzdXBwb3J0c01hcEFuZFNldCgpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBNYXAgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm9wID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihNYXAsIFN5bWJvbC5zcGVjaWVzKTtcbiAgcmV0dXJuIHByb3AgJiYgJ2dldCcgaW4gcHJvcCAmJiBNYXBbU3ltYm9sLnNwZWNpZXNdID09PSBNYXA7XG59XG5cbi8vIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9tb250YWdlanMvY29sbGVjdGlvbnNcblxudmFyIEV4cG9ydGVkU2V0O1xudmFyIEV4cG9ydGVkTWFwO1xuXG57XG4gIGlmIChzdXBwb3J0c01hcEFuZFNldCgpKSB7IC8vIHByZWZlciBidWlsdC1pbiBNYXAvU2V0XG4gICAgRXhwb3J0ZWRTZXQgPSBTZXQ7XG4gICAgRXhwb3J0ZWRNYXAgPSBNYXA7XG4gIH0gZWxzZSB7IC8vIGZhbGwgYmFjayB0byBvdXIgcG9seWZpbGxcbiAgICBFeHBvcnRlZFNldCA9IFNldCQxO1xuICAgIEV4cG9ydGVkTWFwID0gTWFwJDE7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNCaW5hcnlPYmplY3Qob2JqZWN0KSB7XG4gIHJldHVybiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiBvYmplY3QgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgfHxcbiAgICAodHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnICYmIG9iamVjdCBpbnN0YW5jZW9mIEJsb2IpO1xufVxuXG5mdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGJ1ZmYpIHtcbiAgaWYgKHR5cGVvZiBidWZmLnNsaWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGJ1ZmYuc2xpY2UoMCk7XG4gIH1cbiAgLy8gSUUxMC0xMSBzbGljZSgpIHBvbHlmaWxsXG4gIHZhciB0YXJnZXQgPSBuZXcgQXJyYXlCdWZmZXIoYnVmZi5ieXRlTGVuZ3RoKTtcbiAgdmFyIHRhcmdldEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGFyZ2V0KTtcbiAgdmFyIHNvdXJjZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZik7XG4gIHRhcmdldEFycmF5LnNldChzb3VyY2VBcnJheSk7XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGNsb25lQmluYXJ5T2JqZWN0KG9iamVjdCkge1xuICBpZiAob2JqZWN0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gY2xvbmVBcnJheUJ1ZmZlcihvYmplY3QpO1xuICB9XG4gIHZhciBzaXplID0gb2JqZWN0LnNpemU7XG4gIHZhciB0eXBlID0gb2JqZWN0LnR5cGU7XG4gIC8vIEJsb2JcbiAgaWYgKHR5cGVvZiBvYmplY3Quc2xpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb2JqZWN0LnNsaWNlKDAsIHNpemUsIHR5cGUpO1xuICB9XG4gIC8vIFBoYW50b21KUyBzbGljZSgpIHJlcGxhY2VtZW50XG4gIHJldHVybiBvYmplY3Qud2Via2l0U2xpY2UoMCwgc2l6ZSwgdHlwZSk7XG59XG5cbi8vIG1vc3Qgb2YgdGhpcyBpcyBib3Jyb3dlZCBmcm9tIGxvZGFzaC5pc1BsYWluT2JqZWN0OlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Zpcy1jb21wb25lbnRzL2xvZGFzaC5pc3BsYWlub2JqZWN0L1xuLy8gYmxvYi8yOWMzNTgxNDBhNzRmMjUyYWViMDhjOWViMjhiZWY4NmYyMjE3ZDRhL2luZGV4LmpzXG5cbnZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgdmFyIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChwcm90byA9PT0gbnVsbCkgeyAvLyBub3Qgc3VyZSB3aGVuIHRoaXMgaGFwcGVucywgYnV0IEkgZ3Vlc3MgaXQgY2FuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIEN0b3IgPSBwcm90by5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmXG4gICAgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZyk7XG59XG5cbmZ1bmN0aW9uIGNsb25lKG9iamVjdCkge1xuICB2YXIgbmV3T2JqZWN0O1xuICB2YXIgaTtcbiAgdmFyIGxlbjtcblxuICBpZiAoIW9iamVjdCB8fCB0eXBlb2Ygb2JqZWN0ICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgbmV3T2JqZWN0ID0gW107XG4gICAgZm9yIChpID0gMCwgbGVuID0gb2JqZWN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBuZXdPYmplY3RbaV0gPSBjbG9uZShvYmplY3RbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3T2JqZWN0O1xuICB9XG5cbiAgLy8gc3BlY2lhbCBjYXNlOiB0byBhdm9pZCBpbmNvbnNpc3RlbmNpZXMgYmV0d2VlbiBJbmRleGVkREJcbiAgLy8gYW5kIG90aGVyIGJhY2tlbmRzLCB3ZSBhdXRvbWF0aWNhbGx5IHN0cmluZ2lmeSBEYXRlc1xuICBpZiAob2JqZWN0IGluc3RhbmNlb2YgRGF0ZSAmJiBpc0Zpbml0ZShvYmplY3QpKSB7XG4gICAgcmV0dXJuIG9iamVjdC50b0lTT1N0cmluZygpO1xuICB9XG5cbiAgaWYgKGlzQmluYXJ5T2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gY2xvbmVCaW5hcnlPYmplY3Qob2JqZWN0KTtcbiAgfVxuXG4gIGlmICghaXNQbGFpbk9iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG9iamVjdDsgLy8gZG9uJ3QgY2xvbmUgb2JqZWN0cyBsaWtlIFdvcmtlcnNcbiAgfVxuXG4gIG5ld09iamVjdCA9IHt9O1xuICBmb3IgKGkgaW4gb2JqZWN0KSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgaSkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGNsb25lKG9iamVjdFtpXSk7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBuZXdPYmplY3RbaV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ld09iamVjdDtcbn1cblxuZnVuY3Rpb24gb25jZShmdW4pIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGNhbGxlZCkge1xuICAgICAgLy8gdGhpcyBpcyBhIHNtb2tlIHRlc3QgYW5kIHNob3VsZCBuZXZlciBhY3R1YWxseSBoYXBwZW5cbiAgICAgIHRocm93IG5ldyBFcnJvcignb25jZSBjYWxsZWQgbW9yZSB0aGFuIG9uY2UnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgIGZ1bi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0b1Byb21pc2UoZnVuYykge1xuICAvL2NyZWF0ZSB0aGUgZnVuY3Rpb24gd2Ugd2lsbCBiZSByZXR1cm5pbmdcbiAgcmV0dXJuIGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgIC8vIENsb25lIGFyZ3VtZW50c1xuICAgIGFyZ3MgPSBjbG9uZShhcmdzKTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgLy8gaWYgdGhlIGxhc3QgYXJndW1lbnQgaXMgYSBmdW5jdGlvbiwgYXNzdW1lIGl0cyBhIGNhbGxiYWNrXG4gICAgdmFyIHVzZWRDQiA9ICh0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nKSA/IGFyZ3MucG9wKCkgOiBmYWxzZTtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgIHZhciByZXNwO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gb25jZShmdW5jdGlvbiAoZXJyLCBtZXNnKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZ1bGZpbGwobWVzZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gY3JlYXRlIGEgY2FsbGJhY2sgZm9yIHRoaXMgaW52b2NhdGlvblxuICAgICAgICAvLyBhcHBseSB0aGUgZnVuY3Rpb24gaW4gdGhlIG9yaWcgY29udGV4dFxuICAgICAgICBhcmdzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXNwID0gZnVuYy5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgaWYgKHJlc3AgJiYgdHlwZW9mIHJlc3AudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGZ1bGZpbGwocmVzcCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIGlmIHRoZXJlIGlzIGEgY2FsbGJhY2ssIGNhbGwgaXQgYmFja1xuICAgIGlmICh1c2VkQ0IpIHtcbiAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHVzZWRDQihudWxsLCByZXN1bHQpO1xuICAgICAgfSwgdXNlZENCKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsb2dBcGlDYWxsKHNlbGYsIG5hbWUsIGFyZ3MpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChzZWxmLmNvbnN0cnVjdG9yLmxpc3RlbmVycygnZGVidWcnKS5sZW5ndGgpIHtcbiAgICB2YXIgbG9nQXJncyA9IFsnYXBpJywgc2VsZi5uYW1lLCBuYW1lXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBsb2dBcmdzLnB1c2goYXJnc1tpXSk7XG4gICAgfVxuICAgIHNlbGYuY29uc3RydWN0b3IuZW1pdCgnZGVidWcnLCBsb2dBcmdzKTtcblxuICAgIC8vIG92ZXJyaWRlIHRoZSBjYWxsYmFjayBpdHNlbGYgdG8gbG9nIHRoZSByZXNwb25zZVxuICAgIHZhciBvcmlnQ2FsbGJhY2sgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgYXJnc1thcmdzLmxlbmd0aCAtIDFdID0gZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICB2YXIgcmVzcG9uc2VBcmdzID0gWydhcGknLCBzZWxmLm5hbWUsIG5hbWVdO1xuICAgICAgcmVzcG9uc2VBcmdzID0gcmVzcG9uc2VBcmdzLmNvbmNhdChcbiAgICAgICAgZXJyID8gWydlcnJvcicsIGVycl0gOiBbJ3N1Y2Nlc3MnLCByZXNdXG4gICAgICApO1xuICAgICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCdkZWJ1ZycsIHJlc3BvbnNlQXJncyk7XG4gICAgICBvcmlnQ2FsbGJhY2soZXJyLCByZXMpO1xuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRhcHRlckZ1bihuYW1lLCBjYWxsYmFjaykge1xuICByZXR1cm4gdG9Qcm9taXNlKGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgIGlmICh0aGlzLl9jbG9zZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2RhdGFiYXNlIGlzIGNsb3NlZCcpKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZGF0YWJhc2UgaXMgZGVzdHJveWVkJykpO1xuICAgIH1cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgbG9nQXBpQ2FsbChzZWxmLCBuYW1lLCBhcmdzKTtcbiAgICBpZiAoIXRoaXMudGFza3F1ZXVlLmlzUmVhZHkpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYudGFza3F1ZXVlLmFkZFRhc2soZnVuY3Rpb24gKGZhaWxlZCkge1xuICAgICAgICAgIGlmIChmYWlsZWQpIHtcbiAgICAgICAgICAgIHJlamVjdChmYWlsZWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmdWxmaWxsKHNlbGZbbmFtZV0uYXBwbHkoc2VsZiwgYXJncykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9KSk7XG59XG5cbi8vIGxpa2UgdW5kZXJzY29yZS9sb2Rhc2ggXy5waWNrKClcbmZ1bmN0aW9uIHBpY2sob2JqLCBhcnIpIHtcbiAgdmFyIHJlcyA9IHt9O1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIHByb3AgPSBhcnJbaV07XG4gICAgaWYgKHByb3AgaW4gb2JqKSB7XG4gICAgICByZXNbcHJvcF0gPSBvYmpbcHJvcF07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59XG5cbi8vIE1vc3QgYnJvd3NlcnMgdGhyb3R0bGUgY29uY3VycmVudCByZXF1ZXN0cyBhdCA2LCBzbyBpdCdzIHNpbGx5XG4vLyB0byBzaGltIF9idWxrX2dldCBieSB0cnlpbmcgdG8gbGF1bmNoIHBvdGVudGlhbGx5IGh1bmRyZWRzIG9mIHJlcXVlc3RzXG4vLyBhbmQgdGhlbiBsZXR0aW5nIHRoZSBtYWpvcml0eSB0aW1lIG91dC4gV2UgY2FuIGhhbmRsZSB0aGlzIG91cnNlbHZlcy5cbnZhciBNQVhfTlVNX0NPTkNVUlJFTlRfUkVRVUVTVFMgPSA2O1xuXG5mdW5jdGlvbiBpZGVudGl0eUZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHg7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFJlc3VsdEZvck9wZW5SZXZzR2V0KHJlc3VsdCkge1xuICByZXR1cm4gW3tcbiAgICBvazogcmVzdWx0XG4gIH1dO1xufVxuXG4vLyBzaGltIGZvciBQL0NvdWNoREIgYWRhcHRlcnMgdGhhdCBkb24ndCBkaXJlY3RseSBpbXBsZW1lbnQgX2J1bGtfZ2V0XG5mdW5jdGlvbiBidWxrR2V0KGRiLCBvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgcmVxdWVzdHMgPSBvcHRzLmRvY3M7XG5cbiAgLy8gY29uc29saWRhdGUgaW50byBvbmUgcmVxdWVzdCBwZXIgZG9jIGlmIHBvc3NpYmxlXG4gIHZhciByZXF1ZXN0c0J5SWQgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgcmVxdWVzdHMuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgIGlmIChyZXF1ZXN0c0J5SWQuaGFzKHJlcXVlc3QuaWQpKSB7XG4gICAgICByZXF1ZXN0c0J5SWQuZ2V0KHJlcXVlc3QuaWQpLnB1c2gocmVxdWVzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcXVlc3RzQnlJZC5zZXQocmVxdWVzdC5pZCwgW3JlcXVlc3RdKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBudW1Eb2NzID0gcmVxdWVzdHNCeUlkLnNpemU7XG4gIHZhciBudW1Eb25lID0gMDtcbiAgdmFyIHBlckRvY1Jlc3VsdHMgPSBuZXcgQXJyYXkobnVtRG9jcyk7XG5cbiAgZnVuY3Rpb24gY29sbGFwc2VSZXN1bHRzQW5kRmluaXNoKCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgcGVyRG9jUmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHJlcy5kb2NzLmZvckVhY2goZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICBpZDogcmVzLmlkLFxuICAgICAgICAgIGRvY3M6IFtpbmZvXVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNhbGxiYWNrKG51bGwsIHtyZXN1bHRzOiByZXN1bHRzfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgaWYgKCsrbnVtRG9uZSA9PT0gbnVtRG9jcykge1xuICAgICAgY29sbGFwc2VSZXN1bHRzQW5kRmluaXNoKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ290UmVzdWx0KGRvY0luZGV4LCBpZCwgZG9jcykge1xuICAgIHBlckRvY1Jlc3VsdHNbZG9jSW5kZXhdID0ge2lkOiBpZCwgZG9jczogZG9jc307XG4gICAgY2hlY2tEb25lKCk7XG4gIH1cblxuICB2YXIgYWxsUmVxdWVzdHMgPSBbXTtcbiAgcmVxdWVzdHNCeUlkLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICBhbGxSZXF1ZXN0cy5wdXNoKGtleSk7XG4gIH0pO1xuXG4gIHZhciBpID0gMDtcblxuICBmdW5jdGlvbiBuZXh0QmF0Y2goKSB7XG5cbiAgICBpZiAoaSA+PSBhbGxSZXF1ZXN0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdXBUbyA9IE1hdGgubWluKGkgKyBNQVhfTlVNX0NPTkNVUlJFTlRfUkVRVUVTVFMsIGFsbFJlcXVlc3RzLmxlbmd0aCk7XG4gICAgdmFyIGJhdGNoID0gYWxsUmVxdWVzdHMuc2xpY2UoaSwgdXBUbyk7XG4gICAgcHJvY2Vzc0JhdGNoKGJhdGNoLCBpKTtcbiAgICBpICs9IGJhdGNoLmxlbmd0aDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NCYXRjaChiYXRjaCwgb2Zmc2V0KSB7XG4gICAgYmF0Y2guZm9yRWFjaChmdW5jdGlvbiAoZG9jSWQsIGopIHtcbiAgICAgIHZhciBkb2NJZHggPSBvZmZzZXQgKyBqO1xuICAgICAgdmFyIGRvY1JlcXVlc3RzID0gcmVxdWVzdHNCeUlkLmdldChkb2NJZCk7XG5cbiAgICAgIC8vIGp1c3QgdXNlIHRoZSBmaXJzdCByZXF1ZXN0IGFzIHRoZSBcInRlbXBsYXRlXCJcbiAgICAgIC8vIFRPRE86IFRoZSBfYnVsa19nZXQgQVBJIGFsbG93cyBmb3IgbW9yZSBzdWJ0bGUgdXNlIGNhc2VzIHRoYW4gdGhpcyxcbiAgICAgIC8vIGJ1dCBmb3Igbm93IGl0IGlzIHVubGlrZWx5IHRoYXQgdGhlcmUgd2lsbCBiZSBhIG1peCBvZiBkaWZmZXJlbnRcbiAgICAgIC8vIFwiYXR0c19zaW5jZVwiIG9yIFwiYXR0YWNobWVudHNcIiBpbiB0aGUgc2FtZSByZXF1ZXN0LCBzaW5jZSBpdCdzIGp1c3RcbiAgICAgIC8vIHJlcGxpY2F0ZS5qcyB0aGF0IGlzIHVzaW5nIHRoaXMgZm9yIHRoZSBtb21lbnQuXG4gICAgICAvLyBBbHNvLCBhdHRzX3NpbmNlIGlzIGFzcGlyYXRpb25hbCwgc2luY2Ugd2UgZG9uJ3Qgc3VwcG9ydCBpdCB5ZXQuXG4gICAgICB2YXIgZG9jT3B0cyA9IHBpY2soZG9jUmVxdWVzdHNbMF0sIFsnYXR0c19zaW5jZScsICdhdHRhY2htZW50cyddKTtcbiAgICAgIGRvY09wdHMub3Blbl9yZXZzID0gZG9jUmVxdWVzdHMubWFwKGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIC8vIHJldiBpcyBvcHRpb25hbCwgb3Blbl9yZXZzIGRpc2FsbG93ZWRcbiAgICAgICAgcmV0dXJuIHJlcXVlc3QucmV2O1xuICAgICAgfSk7XG5cbiAgICAgIC8vIHJlbW92ZSBmYWxzZXkgLyB1bmRlZmluZWQgcmV2aXNpb25zXG4gICAgICBkb2NPcHRzLm9wZW5fcmV2cyA9IGRvY09wdHMub3Blbl9yZXZzLmZpbHRlcihpZGVudGl0eUZ1bmN0aW9uKTtcblxuICAgICAgdmFyIGZvcm1hdFJlc3VsdCA9IGlkZW50aXR5RnVuY3Rpb247XG5cbiAgICAgIGlmIChkb2NPcHRzLm9wZW5fcmV2cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVsZXRlIGRvY09wdHMub3Blbl9yZXZzO1xuXG4gICAgICAgIC8vIHdoZW4gZmV0Y2hpbmcgb25seSB0aGUgXCJ3aW5uaW5nXCIgbGVhZixcbiAgICAgICAgLy8gdHJhbnNmb3JtIHRoZSByZXN1bHQgc28gaXQgbG9va3MgbGlrZSBhbiBvcGVuX3JldnNcbiAgICAgICAgLy8gcmVxdWVzdFxuICAgICAgICBmb3JtYXRSZXN1bHQgPSBmb3JtYXRSZXN1bHRGb3JPcGVuUmV2c0dldDtcbiAgICAgIH1cblxuICAgICAgLy8gZ2xvYmFsbHktc3VwcGxpZWQgb3B0aW9uc1xuICAgICAgWydyZXZzJywgJ2F0dGFjaG1lbnRzJywgJ2JpbmFyeScsICdhamF4JywgJ2xhdGVzdCddLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICAgIGlmIChwYXJhbSBpbiBvcHRzKSB7XG4gICAgICAgICAgZG9jT3B0c1twYXJhbV0gPSBvcHRzW3BhcmFtXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBkYi5nZXQoZG9jSWQsIGRvY09wdHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlc3VsdCA9IFt7ZXJyb3I6IGVycn1dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGZvcm1hdFJlc3VsdChyZXMpO1xuICAgICAgICB9XG4gICAgICAgIGdvdFJlc3VsdChkb2NJZHgsIGRvY0lkLCByZXN1bHQpO1xuICAgICAgICBuZXh0QmF0Y2goKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgbmV4dEJhdGNoKCk7XG5cbn1cblxudmFyIGhhc0xvY2FsO1xuXG50cnkge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnX3BvdWNoX2NoZWNrX2xvY2Fsc3RvcmFnZScsIDEpO1xuICBoYXNMb2NhbCA9ICEhbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ19wb3VjaF9jaGVja19sb2NhbHN0b3JhZ2UnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgaGFzTG9jYWwgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaGFzTG9jYWxTdG9yYWdlKCkge1xuICByZXR1cm4gaGFzTG9jYWw7XG59XG5cbi8vIEN1c3RvbSBuZXh0VGljaygpIHNoaW0gZm9yIGJyb3dzZXJzLiBJbiBub2RlLCB0aGlzIHdpbGwganVzdCBiZSBwcm9jZXNzLm5leHRUaWNrKCkuIFdlXG5cbmluaGVyaXRzKENoYW5nZXMsIEVFKTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGF0dGFjaEJyb3dzZXJFdmVudHMoc2VsZikge1xuICBpZiAoaGFzTG9jYWxTdG9yYWdlKCkpIHtcbiAgICBhZGRFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgc2VsZi5lbWl0KGUua2V5KTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBDaGFuZ2VzKCkge1xuICBFRS5jYWxsKHRoaXMpO1xuICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcblxuICBhdHRhY2hCcm93c2VyRXZlbnRzKHRoaXMpO1xufVxuQ2hhbmdlcy5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAoZGJOYW1lLCBpZCwgZGIsIG9wdHMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0aGlzLl9saXN0ZW5lcnNbaWRdKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGlucHJvZ3Jlc3MgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZXZlbnRGdW5jdGlvbigpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIXNlbGYuX2xpc3RlbmVyc1tpZF0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlucHJvZ3Jlc3MpIHtcbiAgICAgIGlucHJvZ3Jlc3MgPSAnd2FpdGluZyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlucHJvZ3Jlc3MgPSB0cnVlO1xuICAgIHZhciBjaGFuZ2VzT3B0cyA9IHBpY2sob3B0cywgW1xuICAgICAgJ3N0eWxlJywgJ2luY2x1ZGVfZG9jcycsICdhdHRhY2htZW50cycsICdjb25mbGljdHMnLCAnZmlsdGVyJyxcbiAgICAgICdkb2NfaWRzJywgJ3ZpZXcnLCAnc2luY2UnLCAncXVlcnlfcGFyYW1zJywgJ2JpbmFyeScsICdyZXR1cm5fZG9jcydcbiAgICBdKTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZnVuY3Rpb24gb25FcnJvcigpIHtcbiAgICAgIGlucHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBkYi5jaGFuZ2VzKGNoYW5nZXNPcHRzKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKGMpIHtcbiAgICAgIGlmIChjLnNlcSA+IG9wdHMuc2luY2UgJiYgIW9wdHMuY2FuY2VsbGVkKSB7XG4gICAgICAgIG9wdHMuc2luY2UgPSBjLnNlcTtcbiAgICAgICAgb3B0cy5vbkNoYW5nZShjKTtcbiAgICAgIH1cbiAgICB9KS5vbignY29tcGxldGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaW5wcm9ncmVzcyA9PT0gJ3dhaXRpbmcnKSB7XG4gICAgICAgIGltbWVkaWF0ZShldmVudEZ1bmN0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlucHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9KS5vbignZXJyb3InLCBvbkVycm9yKTtcbiAgfVxuICB0aGlzLl9saXN0ZW5lcnNbaWRdID0gZXZlbnRGdW5jdGlvbjtcbiAgdGhpcy5vbihkYk5hbWUsIGV2ZW50RnVuY3Rpb24pO1xufTtcblxuQ2hhbmdlcy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZGJOYW1lLCBpZCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKCEoaWQgaW4gdGhpcy5fbGlzdGVuZXJzKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBFRS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuY2FsbCh0aGlzLCBkYk5hbWUsXG4gICAgdGhpcy5fbGlzdGVuZXJzW2lkXSk7XG4gIGRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbaWRdO1xufTtcblxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuQ2hhbmdlcy5wcm90b3R5cGUubm90aWZ5TG9jYWxXaW5kb3dzID0gZnVuY3Rpb24gKGRiTmFtZSkge1xuICAvL2RvIGEgdXNlbGVzcyBjaGFuZ2Ugb24gYSBzdG9yYWdlIHRoaW5nXG4gIC8vaW4gb3JkZXIgdG8gZ2V0IG90aGVyIHdpbmRvd3MncyBsaXN0ZW5lcnMgdG8gYWN0aXZhdGVcbiAgaWYgKGhhc0xvY2FsU3RvcmFnZSgpKSB7XG4gICAgbG9jYWxTdG9yYWdlW2RiTmFtZV0gPSAobG9jYWxTdG9yYWdlW2RiTmFtZV0gPT09IFwiYVwiKSA/IFwiYlwiIDogXCJhXCI7XG4gIH1cbn07XG5cbkNoYW5nZXMucHJvdG90eXBlLm5vdGlmeSA9IGZ1bmN0aW9uIChkYk5hbWUpIHtcbiAgdGhpcy5lbWl0KGRiTmFtZSk7XG4gIHRoaXMubm90aWZ5TG9jYWxXaW5kb3dzKGRiTmFtZSk7XG59O1xuXG5mdW5jdGlvbiBndWFyZGVkQ29uc29sZShtZXRob2QpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZVttZXRob2RdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGNvbnNvbGVbbWV0aG9kXS5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByYW5kb21OdW1iZXIobWluLCBtYXgpIHtcbiAgdmFyIG1heFRpbWVvdXQgPSA2MDAwMDA7IC8vIEhhcmQtY29kZWQgZGVmYXVsdCBvZiAxMCBtaW51dGVzXG4gIG1pbiA9IHBhcnNlSW50KG1pbiwgMTApIHx8IDA7XG4gIG1heCA9IHBhcnNlSW50KG1heCwgMTApO1xuICBpZiAobWF4ICE9PSBtYXggfHwgbWF4IDw9IG1pbikge1xuICAgIG1heCA9IChtaW4gfHwgMSkgPDwgMTsgLy9kb3VibGluZ1xuICB9IGVsc2Uge1xuICAgIG1heCA9IG1heCArIDE7XG4gIH1cbiAgLy8gSW4gb3JkZXIgdG8gbm90IGV4Y2VlZCBtYXhUaW1lb3V0LCBwaWNrIGEgcmFuZG9tIHZhbHVlIGJldHdlZW4gaGFsZiBvZiBtYXhUaW1lb3V0IGFuZCBtYXhUaW1lb3V0XG4gIGlmIChtYXggPiBtYXhUaW1lb3V0KSB7XG4gICAgbWluID0gbWF4VGltZW91dCA+PiAxOyAvLyBkaXZpZGUgYnkgdHdvXG4gICAgbWF4ID0gbWF4VGltZW91dDtcbiAgfVxuICB2YXIgcmF0aW8gPSBNYXRoLnJhbmRvbSgpO1xuICB2YXIgcmFuZ2UgPSBtYXggLSBtaW47XG5cbiAgcmV0dXJuIH5+KHJhbmdlICogcmF0aW8gKyBtaW4pOyAvLyB+fiBjb2VyY2VzIHRvIGFuIGludCwgYnV0IGZhc3QuXG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRCYWNrT2ZmKG1pbikge1xuICB2YXIgbWF4ID0gMDtcbiAgaWYgKCFtaW4pIHtcbiAgICBtYXggPSAyMDAwO1xuICB9XG4gIHJldHVybiByYW5kb21OdW1iZXIobWluLCBtYXgpO1xufVxuXG4vLyBkZXNpZ25lZCB0byBnaXZlIGluZm8gdG8gYnJvd3NlciB1c2Vycywgd2hvIGFyZSBkaXN0dXJiZWRcbi8vIHdoZW4gdGhleSBzZWUgaHR0cCBlcnJvcnMgaW4gdGhlIGNvbnNvbGVcbmZ1bmN0aW9uIGV4cGxhaW5FcnJvcihzdGF0dXMsIHN0cikge1xuICBndWFyZGVkQ29uc29sZSgnaW5mbycsICdUaGUgYWJvdmUgJyArIHN0YXR1cyArICcgaXMgdG90YWxseSBub3JtYWwuICcgKyBzdHIpO1xufVxuXG52YXIgYXNzaWduO1xue1xuICBpZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xuICB9IGVsc2Uge1xuICAgIC8vIGxpdGUgT2JqZWN0LmFzc2lnbiBwb2x5ZmlsbCBiYXNlZCBvblxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cbiAgICBhc3NpZ24gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcblxuICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIG5leHRTb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xuXG4gICAgICAgIGlmIChuZXh0U291cmNlICE9IG51bGwpIHsgLy8gU2tpcCBvdmVyIGlmIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBuZXh0U291cmNlKSB7XG4gICAgICAgICAgICAvLyBBdm9pZCBidWdzIHdoZW4gaGFzT3duUHJvcGVydHkgaXMgc2hhZG93ZWRcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobmV4dFNvdXJjZSwgbmV4dEtleSkpIHtcbiAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRvO1xuICAgIH07XG4gIH1cbn1cblxudmFyICRpbmplY3RfT2JqZWN0X2Fzc2lnbiA9IGFzc2lnbjtcblxuaW5oZXJpdHMoUG91Y2hFcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBQb3VjaEVycm9yKHN0YXR1cywgZXJyb3IsIHJlYXNvbikge1xuICBFcnJvci5jYWxsKHRoaXMsIHJlYXNvbik7XG4gIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICB0aGlzLm5hbWUgPSBlcnJvcjtcbiAgdGhpcy5tZXNzYWdlID0gcmVhc29uO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbn1cblxuUG91Y2hFcnJvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgIHJlYXNvbjogdGhpcy5yZWFzb25cbiAgfSk7XG59O1xuXG52YXIgVU5BVVRIT1JJWkVEID0gbmV3IFBvdWNoRXJyb3IoNDAxLCAndW5hdXRob3JpemVkJywgXCJOYW1lIG9yIHBhc3N3b3JkIGlzIGluY29ycmVjdC5cIik7XG52YXIgTUlTU0lOR19CVUxLX0RPQ1MgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsIFwiTWlzc2luZyBKU09OIGxpc3Qgb2YgJ2RvY3MnXCIpO1xudmFyIE1JU1NJTkdfRE9DID0gbmV3IFBvdWNoRXJyb3IoNDA0LCAnbm90X2ZvdW5kJywgJ21pc3NpbmcnKTtcbnZhciBSRVZfQ09ORkxJQ1QgPSBuZXcgUG91Y2hFcnJvcig0MDksICdjb25mbGljdCcsICdEb2N1bWVudCB1cGRhdGUgY29uZmxpY3QnKTtcbnZhciBJTlZBTElEX0lEID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnX2lkIGZpZWxkIG11c3QgY29udGFpbiBhIHN0cmluZycpO1xudmFyIE1JU1NJTkdfSUQgPSBuZXcgUG91Y2hFcnJvcig0MTIsICdtaXNzaW5nX2lkJywgJ19pZCBpcyByZXF1aXJlZCBmb3IgcHV0cycpO1xudmFyIFJFU0VSVkVEX0lEID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnT25seSByZXNlcnZlZCBkb2N1bWVudCBpZHMgbWF5IHN0YXJ0IHdpdGggdW5kZXJzY29yZS4nKTtcbnZhciBOT1RfT1BFTiA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ3ByZWNvbmRpdGlvbl9mYWlsZWQnLCAnRGF0YWJhc2Ugbm90IG9wZW4nKTtcbnZhciBVTktOT1dOX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAndW5rbm93bl9lcnJvcicsICdEYXRhYmFzZSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGVycm9yJyk7XG52YXIgQkFEX0FSRyA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ2JhZGFyZycsICdTb21lIHF1ZXJ5IGFyZ3VtZW50IGlzIGludmFsaWQnKTtcbnZhciBJTlZBTElEX1JFUVVFU1QgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdpbnZhbGlkX3JlcXVlc3QnLCAnUmVxdWVzdCB3YXMgaW52YWxpZCcpO1xudmFyIFFVRVJZX1BBUlNFX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAncXVlcnlfcGFyc2VfZXJyb3InLCAnU29tZSBxdWVyeSBwYXJhbWV0ZXIgaXMgaW52YWxpZCcpO1xudmFyIERPQ19WQUxJREFUSU9OID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnZG9jX3ZhbGlkYXRpb24nLCAnQmFkIHNwZWNpYWwgZG9jdW1lbnQgbWVtYmVyJyk7XG52YXIgQkFEX1JFUVVFU1QgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdTb21ldGhpbmcgd3Jvbmcgd2l0aCB0aGUgcmVxdWVzdCcpO1xudmFyIE5PVF9BTl9PQkpFQ1QgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdEb2N1bWVudCBtdXN0IGJlIGEgSlNPTiBvYmplY3QnKTtcbnZhciBEQl9NSVNTSU5HID0gbmV3IFBvdWNoRXJyb3IoNDA0LCAnbm90X2ZvdW5kJywgJ0RhdGFiYXNlIG5vdCBmb3VuZCcpO1xudmFyIElEQl9FUlJPUiA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ2luZGV4ZWRfZGJfd2VudF9iYWQnLCAndW5rbm93bicpO1xudmFyIFdTUV9FUlJPUiA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ3dlYl9zcWxfd2VudF9iYWQnLCAndW5rbm93bicpO1xudmFyIExEQl9FUlJPUiA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ2xldmVsREJfd2VudF93ZW50X2JhZCcsICd1bmtub3duJyk7XG52YXIgRk9SQklEREVOID0gbmV3IFBvdWNoRXJyb3IoNDAzLCAnZm9yYmlkZGVuJywgJ0ZvcmJpZGRlbiBieSBkZXNpZ24gZG9jIHZhbGlkYXRlX2RvY191cGRhdGUgZnVuY3Rpb24nKTtcbnZhciBJTlZBTElEX1JFViA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ0ludmFsaWQgcmV2IGZvcm1hdCcpO1xudmFyIEZJTEVfRVhJU1RTID0gbmV3IFBvdWNoRXJyb3IoNDEyLCAnZmlsZV9leGlzdHMnLCAnVGhlIGRhdGFiYXNlIGNvdWxkIG5vdCBiZSBjcmVhdGVkLCB0aGUgZmlsZSBhbHJlYWR5IGV4aXN0cy4nKTtcbnZhciBNSVNTSU5HX1NUVUIgPSBuZXcgUG91Y2hFcnJvcig0MTIsICdtaXNzaW5nX3N0dWInLCAnQSBwcmUtZXhpc3RpbmcgYXR0YWNobWVudCBzdHViIHdhc25cXCd0IGZvdW5kJyk7XG52YXIgSU5WQUxJRF9VUkwgPSBuZXcgUG91Y2hFcnJvcig0MTMsICdpbnZhbGlkX3VybCcsICdQcm92aWRlZCBVUkwgaXMgaW52YWxpZCcpO1xuXG5mdW5jdGlvbiBjcmVhdGVFcnJvcihlcnJvciwgcmVhc29uKSB7XG4gIGZ1bmN0aW9uIEN1c3RvbVBvdWNoRXJyb3IocmVhc29uKSB7XG4gICAgLy8gaW5oZXJpdCBlcnJvciBwcm9wZXJ0aWVzIGZyb20gb3VyIHBhcmVudCBlcnJvciBtYW51YWxseVxuICAgIC8vIHNvIGFzIHRvIGFsbG93IHByb3BlciBKU09OIHBhcnNpbmcuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHZhciBuYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGVycm9yKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmICh0eXBlb2YgZXJyb3JbbmFtZXNbaV1dICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXNbbmFtZXNbaV1dID0gZXJyb3JbbmFtZXNbaV1dO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YWNrID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xuICAgIH1cblxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgaWYgKHJlYXNvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICB9XG4gIH1cbiAgQ3VzdG9tUG91Y2hFcnJvci5wcm90b3R5cGUgPSBQb3VjaEVycm9yLnByb3RvdHlwZTtcbiAgcmV0dXJuIG5ldyBDdXN0b21Qb3VjaEVycm9yKHJlYXNvbik7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UoZXJyKSB7XG5cbiAgaWYgKHR5cGVvZiBlcnIgIT09ICdvYmplY3QnKSB7XG4gICAgdmFyIGRhdGEgPSBlcnI7XG4gICAgZXJyID0gVU5LTk9XTl9FUlJPUjtcbiAgICBlcnIuZGF0YSA9IGRhdGE7XG4gIH1cblxuICBpZiAoJ2Vycm9yJyBpbiBlcnIgJiYgZXJyLmVycm9yID09PSAnY29uZmxpY3QnKSB7XG4gICAgZXJyLm5hbWUgPSAnY29uZmxpY3QnO1xuICAgIGVyci5zdGF0dXMgPSA0MDk7XG4gIH1cblxuICBpZiAoISgnbmFtZScgaW4gZXJyKSkge1xuICAgIGVyci5uYW1lID0gZXJyLmVycm9yIHx8ICd1bmtub3duJztcbiAgfVxuXG4gIGlmICghKCdzdGF0dXMnIGluIGVycikpIHtcbiAgICBlcnIuc3RhdHVzID0gNTAwO1xuICB9XG5cbiAgaWYgKCEoJ21lc3NhZ2UnIGluIGVycikpIHtcbiAgICBlcnIubWVzc2FnZSA9IGVyci5tZXNzYWdlIHx8IGVyci5yZWFzb247XG4gIH1cblxuICBpZiAoISgnc3RhY2snIGluIGVycikpIHtcbiAgICBlcnIuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xuICB9XG5cbiAgcmV0dXJuIGVycjtcbn1cblxuZnVuY3Rpb24gdHJ5RmlsdGVyKGZpbHRlciwgZG9jLCByZXEpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gIWZpbHRlcihkb2MsIHJlcSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHZhciBtc2cgPSAnRmlsdGVyIGZ1bmN0aW9uIHRocmV3OiAnICsgZXJyLnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIGNyZWF0ZUVycm9yKEJBRF9SRVFVRVNULCBtc2cpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbHRlckNoYW5nZShvcHRzKSB7XG4gIHZhciByZXEgPSB7fTtcbiAgdmFyIGhhc0ZpbHRlciA9IG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJztcbiAgcmVxLnF1ZXJ5ID0gb3B0cy5xdWVyeV9wYXJhbXM7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGZpbHRlcihjaGFuZ2UpIHtcbiAgICBpZiAoIWNoYW5nZS5kb2MpIHtcbiAgICAgIC8vIENTRyBzZW5kcyBldmVudHMgb24gdGhlIGNoYW5nZXMgZmVlZCB0aGF0IGRvbid0IGhhdmUgZG9jdW1lbnRzLFxuICAgICAgLy8gdGhpcyBoYWNrIG1ha2VzIGEgd2hvbGUgbG90IG9mIGV4aXN0aW5nIGNvZGUgcm9idXN0LlxuICAgICAgY2hhbmdlLmRvYyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBmaWx0ZXJSZXR1cm4gPSBoYXNGaWx0ZXIgJiYgdHJ5RmlsdGVyKG9wdHMuZmlsdGVyLCBjaGFuZ2UuZG9jLCByZXEpO1xuXG4gICAgaWYgKHR5cGVvZiBmaWx0ZXJSZXR1cm4gPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZmlsdGVyUmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChmaWx0ZXJSZXR1cm4pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICBkZWxldGUgY2hhbmdlLmRvYztcbiAgICB9IGVsc2UgaWYgKCFvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBmb3IgKHZhciBhdHQgaW4gY2hhbmdlLmRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjaGFuZ2UuZG9jLl9hdHRhY2htZW50cywgYXR0KSkge1xuICAgICAgICAgIGNoYW5nZS5kb2MuX2F0dGFjaG1lbnRzW2F0dF0uc3R1YiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW4oYXJycykge1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgcmVzID0gcmVzLmNvbmNhdChhcnJzW2ldKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG4vLyBzaGltIGZvciBGdW5jdGlvbi5wcm90b3R5cGUubmFtZSxcblxuLy8gRGV0ZXJtaW5lIGlkIGFuIElEIGlzIHZhbGlkXG4vLyAgIC0gaW52YWxpZCBJRHMgYmVnaW4gd2l0aCBhbiB1bmRlcmVzY29yZSB0aGF0IGRvZXMgbm90IGJlZ2luICdfZGVzaWduJyBvclxuLy8gICAgICdfbG9jYWwnXG4vLyAgIC0gYW55IG90aGVyIHN0cmluZyB2YWx1ZSBpcyBhIHZhbGlkIGlkXG4vLyBSZXR1cm5zIHRoZSBzcGVjaWZpYyBlcnJvciBvYmplY3QgZm9yIGVhY2ggY2FzZVxuZnVuY3Rpb24gaW52YWxpZElkRXJyb3IoaWQpIHtcbiAgdmFyIGVycjtcbiAgaWYgKCFpZCkge1xuICAgIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfSUQpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcbiAgICBlcnIgPSBjcmVhdGVFcnJvcihJTlZBTElEX0lEKTtcbiAgfSBlbHNlIGlmICgvXl8vLnRlc3QoaWQpICYmICEoL15fKGRlc2lnbnxsb2NhbCkvKS50ZXN0KGlkKSkge1xuICAgIGVyciA9IGNyZWF0ZUVycm9yKFJFU0VSVkVEX0lEKTtcbiAgfVxuICBpZiAoZXJyKSB7XG4gICAgdGhyb3cgZXJyO1xuICB9XG59XG5cbi8vIENoZWNrcyBpZiBhIFBvdWNoREIgb2JqZWN0IGlzIFwicmVtb3RlXCIgb3Igbm90LiBUaGlzIGlzXG5cbmZ1bmN0aW9uIGlzUmVtb3RlKGRiKSB7XG4gIGlmICh0eXBlb2YgZGIuX3JlbW90ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIGRiLl9yZW1vdGU7XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKHR5cGVvZiBkYi50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLFxuICAgICAgJ2RiLnR5cGUoKSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gJyArXG4gICAgICAnYSBmdXR1cmUgdmVyc2lvbiBvZiBQb3VjaERCJyk7XG4gICAgcmV0dXJuIGRiLnR5cGUoKSA9PT0gJ2h0dHAnO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbGlzdGVuZXJDb3VudChlZSwgdHlwZSkge1xuICByZXR1cm4gJ2xpc3RlbmVyQ291bnQnIGluIGVlID8gZWUubGlzdGVuZXJDb3VudCh0eXBlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFRS5saXN0ZW5lckNvdW50KGVlLCB0eXBlKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VEZXNpZ25Eb2NGdW5jdGlvbk5hbWUocykge1xuICBpZiAoIXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcGFydHMgPSBzLnNwbGl0KCcvJyk7XG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHtcbiAgICByZXR1cm4gcGFydHM7XG4gIH1cbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBbcywgc107XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShzKSB7XG4gIHZhciBub3JtYWxpemVkID0gcGFyc2VEZXNpZ25Eb2NGdW5jdGlvbk5hbWUocyk7XG4gIHJldHVybiBub3JtYWxpemVkID8gbm9ybWFsaXplZC5qb2luKCcvJykgOiBudWxsO1xufVxuXG4vLyBvcmlnaW5hbGx5IHBhcnNlVXJpIDEuMi4yLCBub3cgcGF0Y2hlZCBieSB1c1xuLy8gKGMpIFN0ZXZlbiBMZXZpdGhhbiA8c3RldmVubGV2aXRoYW4uY29tPlxuLy8gTUlUIExpY2Vuc2VcbnZhciBrZXlzID0gW1wic291cmNlXCIsIFwicHJvdG9jb2xcIiwgXCJhdXRob3JpdHlcIiwgXCJ1c2VySW5mb1wiLCBcInVzZXJcIiwgXCJwYXNzd29yZFwiLFxuICAgIFwiaG9zdFwiLCBcInBvcnRcIiwgXCJyZWxhdGl2ZVwiLCBcInBhdGhcIiwgXCJkaXJlY3RvcnlcIiwgXCJmaWxlXCIsIFwicXVlcnlcIiwgXCJhbmNob3JcIl07XG52YXIgcU5hbWUgPVwicXVlcnlLZXlcIjtcbnZhciBxUGFyc2VyID0gLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nO1xuXG4vLyB1c2UgdGhlIFwibG9vc2VcIiBwYXJzZXJcbi8qIGVzbGludCBuby11c2VsZXNzLWVzY2FwZTogMCAqL1xudmFyIHBhcnNlciA9IC9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKFteOlxcLz8jLl0rKTopPyg/OlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLztcblxuZnVuY3Rpb24gcGFyc2VVcmkoc3RyKSB7XG4gIHZhciBtID0gcGFyc2VyLmV4ZWMoc3RyKTtcbiAgdmFyIHVyaSA9IHt9O1xuICB2YXIgaSA9IDE0O1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICB2YXIgdmFsdWUgPSBtW2ldIHx8IFwiXCI7XG4gICAgdmFyIGVuY29kZWQgPSBbJ3VzZXInLCAncGFzc3dvcmQnXS5pbmRleE9mKGtleSkgIT09IC0xO1xuICAgIHVyaVtrZXldID0gZW5jb2RlZCA/IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgOiB2YWx1ZTtcbiAgfVxuXG4gIHVyaVtxTmFtZV0gPSB7fTtcbiAgdXJpW2tleXNbMTJdXS5yZXBsYWNlKHFQYXJzZXIsIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgaWYgKCQxKSB7XG4gICAgICB1cmlbcU5hbWVdWyQxXSA9ICQyO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHVyaTtcbn1cblxuLy8gQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2FsZXhkYXZpZC9zY29wZS1ldmFsIHYwLjAuM1xuLy8gKHNvdXJjZTogaHR0cHM6Ly91bnBrZy5jb20vc2NvcGUtZXZhbEAwLjAuMy9zY29wZV9ldmFsLmpzKVxuLy8gVGhpcyBpcyBiYXNpY2FsbHkganVzdCBhIHdyYXBwZXIgYXJvdW5kIG5ldyBGdW5jdGlvbigpXG5cbmZ1bmN0aW9uIHNjb3BlRXZhbChzb3VyY2UsIHNjb3BlKSB7XG4gIHZhciBrZXlzID0gW107XG4gIHZhciB2YWx1ZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIHNjb3BlKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzY29wZSwga2V5KSkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICB2YWx1ZXMucHVzaChzY29wZVtrZXldKTtcbiAgICB9XG4gIH1cbiAga2V5cy5wdXNoKHNvdXJjZSk7XG4gIHJldHVybiBGdW5jdGlvbi5hcHBseShudWxsLCBrZXlzKS5hcHBseShudWxsLCB2YWx1ZXMpO1xufVxuXG4vLyB0aGlzIGlzIGVzc2VudGlhbGx5IHRoZSBcInVwZGF0ZSBzdWdhclwiIGZ1bmN0aW9uIGZyb20gZGFsZWhhcnZleS9wb3VjaGRiIzEzODhcbi8vIHRoZSBkaWZmRnVuIHRlbGxzIHVzIHdoYXQgZGVsdGEgdG8gYXBwbHkgdG8gdGhlIGRvYy4gIGl0IGVpdGhlciByZXR1cm5zXG4vLyB0aGUgZG9jLCBvciBmYWxzZSBpZiBpdCBkb2Vzbid0IG5lZWQgdG8gZG8gYW4gdXBkYXRlIGFmdGVyIGFsbFxuZnVuY3Rpb24gdXBzZXJ0KGRiLCBkb2NJZCwgZGlmZkZ1bikge1xuICByZXR1cm4gZGIuZ2V0KGRvY0lkKVxuICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfSlcbiAgICAudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAvLyB0aGUgdXNlciBtaWdodCBjaGFuZ2UgdGhlIF9yZXYsIHNvIHNhdmUgaXQgZm9yIHBvc3Rlcml0eVxuICAgICAgdmFyIGRvY1JldiA9IGRvYy5fcmV2O1xuICAgICAgdmFyIG5ld0RvYyA9IGRpZmZGdW4oZG9jKTtcblxuICAgICAgaWYgKCFuZXdEb2MpIHtcbiAgICAgICAgLy8gaWYgdGhlIGRpZmZGdW4gcmV0dXJucyBmYWxzeSwgd2Ugc2hvcnQtY2lyY3VpdCBhc1xuICAgICAgICAvLyBhbiBvcHRpbWl6YXRpb25cbiAgICAgICAgcmV0dXJuIHt1cGRhdGVkOiBmYWxzZSwgcmV2OiBkb2NSZXZ9O1xuICAgICAgfVxuXG4gICAgICAvLyB1c2VycyBhcmVuJ3QgYWxsb3dlZCB0byBtb2RpZnkgdGhlc2UgdmFsdWVzLFxuICAgICAgLy8gc28gcmVzZXQgdGhlbSBoZXJlXG4gICAgICBuZXdEb2MuX2lkID0gZG9jSWQ7XG4gICAgICBuZXdEb2MuX3JldiA9IGRvY1JldjtcbiAgICAgIHJldHVybiB0cnlBbmRQdXQoZGIsIG5ld0RvYywgZGlmZkZ1bik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHRyeUFuZFB1dChkYiwgZG9jLCBkaWZmRnVuKSB7XG4gIHJldHVybiBkYi5wdXQoZG9jKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlZDogdHJ1ZSxcbiAgICAgIHJldjogcmVzLnJldlxuICAgIH07XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDkpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIHVwc2VydChkYiwgZG9jLl9pZCwgZGlmZkZ1bik7XG4gIH0pO1xufVxuXG52YXIgdGhpc0F0b2IgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBhdG9iKHN0cik7XG59O1xuXG52YXIgdGhpc0J0b2EgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBidG9hKHN0cik7XG59O1xuXG4vLyBBYnN0cmFjdHMgY29uc3RydWN0aW5nIGEgQmxvYiBvYmplY3QsIHNvIGl0IGFsc28gd29ya3MgaW4gb2xkZXJcbi8vIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCB0aGUgbmF0aXZlIEJsb2IgY29uc3RydWN0b3IgKGUuZy5cbi8vIG9sZCBRdFdlYktpdCB2ZXJzaW9ucywgQW5kcm9pZCA8IDQuNCkuXG5mdW5jdGlvbiBjcmVhdGVCbG9iKHBhcnRzLCBwcm9wZXJ0aWVzKSB7XG4gIC8qIGdsb2JhbCBCbG9iQnVpbGRlcixNU0Jsb2JCdWlsZGVyLE1vekJsb2JCdWlsZGVyLFdlYktpdEJsb2JCdWlsZGVyICovXG4gIHBhcnRzID0gcGFydHMgfHwgW107XG4gIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9O1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgQmxvYihwYXJ0cywgcHJvcGVydGllcyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZS5uYW1lICE9PSBcIlR5cGVFcnJvclwiKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICB2YXIgQnVpbGRlciA9IHR5cGVvZiBCbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcgPyBCbG9iQnVpbGRlciA6XG4gICAgICAgICAgICAgICAgICB0eXBlb2YgTVNCbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcgPyBNU0Jsb2JCdWlsZGVyIDpcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBNb3pCbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcgPyBNb3pCbG9iQnVpbGRlciA6XG4gICAgICAgICAgICAgICAgICBXZWJLaXRCbG9iQnVpbGRlcjtcbiAgICB2YXIgYnVpbGRlciA9IG5ldyBCdWlsZGVyKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgYnVpbGRlci5hcHBlbmQocGFydHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYnVpbGRlci5nZXRCbG9iKHByb3BlcnRpZXMudHlwZSk7XG4gIH1cbn1cblxuLy8gRnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE0OTY3NjQ3LyAoY29udGludWVzIG9uIG5leHQgbGluZSlcbi8vIGVuY29kZS1kZWNvZGUtaW1hZ2Utd2l0aC1iYXNlNjQtYnJlYWtzLWltYWdlICgyMDEzLTA0LTIxKVxuZnVuY3Rpb24gYmluYXJ5U3RyaW5nVG9BcnJheUJ1ZmZlcihiaW4pIHtcbiAgdmFyIGxlbmd0aCA9IGJpbi5sZW5ndGg7XG4gIHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKTtcbiAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KGJ1Zik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBhcnJbaV0gPSBiaW4uY2hhckNvZGVBdChpKTtcbiAgfVxuICByZXR1cm4gYnVmO1xufVxuXG5mdW5jdGlvbiBiaW5TdHJpbmdUb0JsdWZmZXIoYmluU3RyaW5nLCB0eXBlKSB7XG4gIHJldHVybiBjcmVhdGVCbG9iKFtiaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyKGJpblN0cmluZyldLCB7dHlwZTogdHlwZX0pO1xufVxuXG5mdW5jdGlvbiBiNjRUb0JsdWZmZXIoYjY0LCB0eXBlKSB7XG4gIHJldHVybiBiaW5TdHJpbmdUb0JsdWZmZXIodGhpc0F0b2IoYjY0KSwgdHlwZSk7XG59XG5cbi8vQ2FuJ3QgZmluZCBvcmlnaW5hbCBwb3N0LCBidXQgdGhpcyBpcyBjbG9zZVxuLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzY5NjUxMDcvIChjb250aW51ZXMgb24gbmV4dCBsaW5lKVxuLy9jb252ZXJ0aW5nLWJldHdlZW4tc3RyaW5ncy1hbmQtYXJyYXlidWZmZXJzXG5mdW5jdGlvbiBhcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nKGJ1ZmZlcikge1xuICB2YXIgYmluYXJ5ID0gJyc7XG4gIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gIHZhciBsZW5ndGggPSBieXRlcy5ieXRlTGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYmluYXJ5ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pO1xuICB9XG4gIHJldHVybiBiaW5hcnk7XG59XG5cbi8vIHNoaW0gZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBpdFxuZnVuY3Rpb24gcmVhZEFzQmluYXJ5U3RyaW5nKGJsb2IsIGNhbGxiYWNrKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICB2YXIgaGFzQmluYXJ5U3RyaW5nID0gdHlwZW9mIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcgPT09ICdmdW5jdGlvbic7XG4gIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciByZXN1bHQgPSBlLnRhcmdldC5yZXN1bHQgfHwgJyc7XG4gICAgaWYgKGhhc0JpbmFyeVN0cmluZykge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgfVxuICAgIGNhbGxiYWNrKGFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmcocmVzdWx0KSk7XG4gIH07XG4gIGlmIChoYXNCaW5hcnlTdHJpbmcpIHtcbiAgICByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nKGJsb2IpO1xuICB9IGVsc2Uge1xuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBibG9iVG9CaW5hcnlTdHJpbmcoYmxvYk9yQnVmZmVyLCBjYWxsYmFjaykge1xuICByZWFkQXNCaW5hcnlTdHJpbmcoYmxvYk9yQnVmZmVyLCBmdW5jdGlvbiAoYmluKSB7XG4gICAgY2FsbGJhY2soYmluKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGJsb2JUb0Jhc2U2NChibG9iT3JCdWZmZXIsIGNhbGxiYWNrKSB7XG4gIGJsb2JUb0JpbmFyeVN0cmluZyhibG9iT3JCdWZmZXIsIGZ1bmN0aW9uIChiYXNlNjQpIHtcbiAgICBjYWxsYmFjayh0aGlzQnRvYShiYXNlNjQpKTtcbiAgfSk7XG59XG5cbi8vIHNpbXBsaWZpZWQgQVBJLiB1bml2ZXJzYWwgYnJvd3NlciBzdXBwb3J0IGlzIGFzc3VtZWRcbmZ1bmN0aW9uIHJlYWRBc0FycmF5QnVmZmVyKGJsb2IsIGNhbGxiYWNrKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZS50YXJnZXQucmVzdWx0IHx8IG5ldyBBcnJheUJ1ZmZlcigwKTtcbiAgICBjYWxsYmFjayhyZXN1bHQpO1xuICB9O1xuICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG59XG5cbi8vIHRoaXMgaXMgbm90IHVzZWQgaW4gdGhlIGJyb3dzZXJcblxudmFyIHNldEltbWVkaWF0ZVNoaW0gPSBzZWxmLnNldEltbWVkaWF0ZSB8fCBzZWxmLnNldFRpbWVvdXQ7XG52YXIgTUQ1X0NIVU5LX1NJWkUgPSAzMjc2ODtcblxuZnVuY3Rpb24gcmF3VG9CYXNlNjQocmF3KSB7XG4gIHJldHVybiB0aGlzQnRvYShyYXcpO1xufVxuXG5mdW5jdGlvbiBzbGljZUJsb2IoYmxvYiwgc3RhcnQsIGVuZCkge1xuICBpZiAoYmxvYi53ZWJraXRTbGljZSkge1xuICAgIHJldHVybiBibG9iLndlYmtpdFNsaWNlKHN0YXJ0LCBlbmQpO1xuICB9XG4gIHJldHVybiBibG9iLnNsaWNlKHN0YXJ0LCBlbmQpO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRCbG9iKGJ1ZmZlciwgYmxvYiwgc3RhcnQsIGVuZCwgY2FsbGJhY2spIHtcbiAgaWYgKHN0YXJ0ID4gMCB8fCBlbmQgPCBibG9iLnNpemUpIHtcbiAgICAvLyBvbmx5IHNsaWNlIGJsb2IgaWYgd2UgcmVhbGx5IG5lZWQgdG9cbiAgICBibG9iID0gc2xpY2VCbG9iKGJsb2IsIHN0YXJ0LCBlbmQpO1xuICB9XG4gIHJlYWRBc0FycmF5QnVmZmVyKGJsb2IsIGZ1bmN0aW9uIChhcnJheUJ1ZmZlcikge1xuICAgIGJ1ZmZlci5hcHBlbmQoYXJyYXlCdWZmZXIpO1xuICAgIGNhbGxiYWNrKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRTdHJpbmcoYnVmZmVyLCBzdHJpbmcsIHN0YXJ0LCBlbmQsIGNhbGxiYWNrKSB7XG4gIGlmIChzdGFydCA+IDAgfHwgZW5kIDwgc3RyaW5nLmxlbmd0aCkge1xuICAgIC8vIG9ubHkgY3JlYXRlIGEgc3Vic3RyaW5nIGlmIHdlIHJlYWxseSBuZWVkIHRvXG4gICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgfVxuICBidWZmZXIuYXBwZW5kQmluYXJ5KHN0cmluZyk7XG4gIGNhbGxiYWNrKCk7XG59XG5cbmZ1bmN0aW9uIGJpbmFyeU1kNShkYXRhLCBjYWxsYmFjaykge1xuICB2YXIgaW5wdXRJc1N0cmluZyA9IHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJztcbiAgdmFyIGxlbiA9IGlucHV0SXNTdHJpbmcgPyBkYXRhLmxlbmd0aCA6IGRhdGEuc2l6ZTtcbiAgdmFyIGNodW5rU2l6ZSA9IE1hdGgubWluKE1ENV9DSFVOS19TSVpFLCBsZW4pO1xuICB2YXIgY2h1bmtzID0gTWF0aC5jZWlsKGxlbiAvIGNodW5rU2l6ZSk7XG4gIHZhciBjdXJyZW50Q2h1bmsgPSAwO1xuICB2YXIgYnVmZmVyID0gaW5wdXRJc1N0cmluZyA/IG5ldyBNZDUoKSA6IG5ldyBNZDUuQXJyYXlCdWZmZXIoKTtcblxuICB2YXIgYXBwZW5kID0gaW5wdXRJc1N0cmluZyA/IGFwcGVuZFN0cmluZyA6IGFwcGVuZEJsb2I7XG5cbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICBzZXRJbW1lZGlhdGVTaGltKGxvYWROZXh0Q2h1bmspO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICB2YXIgcmF3ID0gYnVmZmVyLmVuZCh0cnVlKTtcbiAgICB2YXIgYmFzZTY0ID0gcmF3VG9CYXNlNjQocmF3KTtcbiAgICBjYWxsYmFjayhiYXNlNjQpO1xuICAgIGJ1ZmZlci5kZXN0cm95KCk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkTmV4dENodW5rKCkge1xuICAgIHZhciBzdGFydCA9IGN1cnJlbnRDaHVuayAqIGNodW5rU2l6ZTtcbiAgICB2YXIgZW5kID0gc3RhcnQgKyBjaHVua1NpemU7XG4gICAgY3VycmVudENodW5rKys7XG4gICAgaWYgKGN1cnJlbnRDaHVuayA8IGNodW5rcykge1xuICAgICAgYXBwZW5kKGJ1ZmZlciwgZGF0YSwgc3RhcnQsIGVuZCwgbmV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwcGVuZChidWZmZXIsIGRhdGEsIHN0YXJ0LCBlbmQsIGRvbmUpO1xuICAgIH1cbiAgfVxuICBsb2FkTmV4dENodW5rKCk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ01kNShzdHJpbmcpIHtcbiAgcmV0dXJuIE1kNS5oYXNoKHN0cmluZyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyByZXZpc2lvbiBzdHJpbmcgdGhhdCBkb2VzIE5PVCBpbmNsdWRlIHRoZSByZXZpc2lvbiBoZWlnaHRcbiAqIEZvciBleGFtcGxlICc1NjY0OWYxYjA1MDZjNmNhOWZkYTA3NDZlYjBjYWNkZidcbiAqL1xuZnVuY3Rpb24gcmV2JCQxKGRvYywgZGV0ZXJtaW5pc3RpY19yZXZzKSB7XG4gIGlmICghZGV0ZXJtaW5pc3RpY19yZXZzKSB7XG4gICAgcmV0dXJuIHY0KCkucmVwbGFjZSgvLS9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIHZhciBtdXRhdGVhYmxlRG9jID0gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCBkb2MpO1xuICBkZWxldGUgbXV0YXRlYWJsZURvYy5fcmV2X3RyZWU7XG4gIHJldHVybiBzdHJpbmdNZDUoSlNPTi5zdHJpbmdpZnkobXV0YXRlYWJsZURvYykpO1xufVxuXG52YXIgdXVpZCA9IHY0OyAvLyBtaW1pYyBvbGQgaW1wb3J0LCBvbmx5IHY0IGlzIGV2ZXIgdXNlZCBlbHNld2hlcmVcblxuLy8gV2UgZmV0Y2ggYWxsIGxlYWZzIG9mIHRoZSByZXZpc2lvbiB0cmVlLCBhbmQgc29ydCB0aGVtIGJhc2VkIG9uIHRyZWUgbGVuZ3RoXG4vLyBhbmQgd2hldGhlciB0aGV5IHdlcmUgZGVsZXRlZCwgdW5kZWxldGVkIGRvY3VtZW50cyB3aXRoIHRoZSBsb25nZXN0IHJldmlzaW9uXG4vLyB0cmVlIChtb3N0IGVkaXRzKSB3aW5cbi8vIFRoZSBmaW5hbCBzb3J0IGFsZ29yaXRobSBpcyBzbGlnaHRseSBkb2N1bWVudGVkIGluIGEgc2lkZWJhciBoZXJlOlxuLy8gaHR0cDovL2d1aWRlLmNvdWNoZGIub3JnL2RyYWZ0L2NvbmZsaWN0cy5odG1sXG5mdW5jdGlvbiB3aW5uaW5nUmV2KG1ldGFkYXRhKSB7XG4gIHZhciB3aW5uaW5nSWQ7XG4gIHZhciB3aW5uaW5nUG9zO1xuICB2YXIgd2lubmluZ0RlbGV0ZWQ7XG4gIHZhciB0b1Zpc2l0ID0gbWV0YWRhdGEucmV2X3RyZWUuc2xpY2UoKTtcbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBwb3MgPSBub2RlLnBvcztcbiAgICBpZiAoYnJhbmNoZXMubGVuZ3RoKSB7IC8vIG5vbi1sZWFmXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IHBvcyArIDEsIGlkczogYnJhbmNoZXNbaV19KTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgZGVsZXRlZCA9ICEhdHJlZVsxXS5kZWxldGVkO1xuICAgIHZhciBpZCA9IHRyZWVbMF07XG4gICAgLy8gc29ydCBieSBkZWxldGVkLCB0aGVuIHBvcywgdGhlbiBpZFxuICAgIGlmICghd2lubmluZ0lkIHx8ICh3aW5uaW5nRGVsZXRlZCAhPT0gZGVsZXRlZCA/IHdpbm5pbmdEZWxldGVkIDpcbiAgICAgICAgd2lubmluZ1BvcyAhPT0gcG9zID8gd2lubmluZ1BvcyA8IHBvcyA6IHdpbm5pbmdJZCA8IGlkKSkge1xuICAgICAgd2lubmluZ0lkID0gaWQ7XG4gICAgICB3aW5uaW5nUG9zID0gcG9zO1xuICAgICAgd2lubmluZ0RlbGV0ZWQgPSBkZWxldGVkO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB3aW5uaW5nUG9zICsgJy0nICsgd2lubmluZ0lkO1xufVxuXG4vLyBQcmV0dHkgbXVjaCBhbGwgYmVsb3cgY2FuIGJlIGNvbWJpbmVkIGludG8gYSBoaWdoZXIgb3JkZXIgZnVuY3Rpb24gdG9cbi8vIHRyYXZlcnNlIHJldmlzaW9uc1xuLy8gVGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBjYWxsYmFjayB3aWxsIGJlIHBhc3NlZCBhcyBjb250ZXh0IHRvIGFsbFxuLy8gY2hpbGRyZW4gb2YgdGhhdCBub2RlXG5mdW5jdGlvbiB0cmF2ZXJzZVJldlRyZWUocmV2cywgY2FsbGJhY2spIHtcbiAgdmFyIHRvVmlzaXQgPSByZXZzLnNsaWNlKCk7XG5cbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgdmFyIHBvcyA9IG5vZGUucG9zO1xuICAgIHZhciB0cmVlID0gbm9kZS5pZHM7XG4gICAgdmFyIGJyYW5jaGVzID0gdHJlZVsyXTtcbiAgICB2YXIgbmV3Q3R4ID1cbiAgICAgIGNhbGxiYWNrKGJyYW5jaGVzLmxlbmd0aCA9PT0gMCwgcG9zLCB0cmVlWzBdLCBub2RlLmN0eCwgdHJlZVsxXSk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJyYW5jaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0b1Zpc2l0LnB1c2goe3BvczogcG9zICsgMSwgaWRzOiBicmFuY2hlc1tpXSwgY3R4OiBuZXdDdHh9KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc29ydEJ5UG9zKGEsIGIpIHtcbiAgcmV0dXJuIGEucG9zIC0gYi5wb3M7XG59XG5cbmZ1bmN0aW9uIGNvbGxlY3RMZWF2ZXMocmV2cykge1xuICB2YXIgbGVhdmVzID0gW107XG4gIHRyYXZlcnNlUmV2VHJlZShyZXZzLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIGlkLCBhY2MsIG9wdHMpIHtcbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBsZWF2ZXMucHVzaCh7cmV2OiBwb3MgKyBcIi1cIiArIGlkLCBwb3M6IHBvcywgb3B0czogb3B0c30pO1xuICAgIH1cbiAgfSk7XG4gIGxlYXZlcy5zb3J0KHNvcnRCeVBvcykucmV2ZXJzZSgpO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGVhdmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgZGVsZXRlIGxlYXZlc1tpXS5wb3M7XG4gIH1cbiAgcmV0dXJuIGxlYXZlcztcbn1cblxuLy8gcmV0dXJucyByZXZzIG9mIGFsbCBjb25mbGljdHMgdGhhdCBpcyBsZWF2ZXMgc3VjaCB0aGF0XG4vLyAxLiBhcmUgbm90IGRlbGV0ZWQgYW5kXG4vLyAyLiBhcmUgZGlmZmVyZW50IHRoYW4gd2lubmluZyByZXZpc2lvblxuZnVuY3Rpb24gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSkge1xuICB2YXIgd2luID0gd2lubmluZ1JldihtZXRhZGF0YSk7XG4gIHZhciBsZWF2ZXMgPSBjb2xsZWN0TGVhdmVzKG1ldGFkYXRhLnJldl90cmVlKTtcbiAgdmFyIGNvbmZsaWN0cyA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGVhdmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGxlYWYgPSBsZWF2ZXNbaV07XG4gICAgaWYgKGxlYWYucmV2ICE9PSB3aW4gJiYgIWxlYWYub3B0cy5kZWxldGVkKSB7XG4gICAgICBjb25mbGljdHMucHVzaChsZWFmLnJldik7XG4gICAgfVxuICB9XG4gIHJldHVybiBjb25mbGljdHM7XG59XG5cbi8vIGNvbXBhY3QgYSB0cmVlIGJ5IG1hcmtpbmcgaXRzIG5vbi1sZWFmcyBhcyBtaXNzaW5nLFxuLy8gYW5kIHJldHVybiBhIGxpc3Qgb2YgcmV2cyB0byBkZWxldGVcbmZ1bmN0aW9uIGNvbXBhY3RUcmVlKG1ldGFkYXRhKSB7XG4gIHZhciByZXZzID0gW107XG4gIHRyYXZlcnNlUmV2VHJlZShtZXRhZGF0YS5yZXZfdHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZIYXNoLCBjdHgsIG9wdHMpIHtcbiAgICBpZiAob3B0cy5zdGF0dXMgPT09ICdhdmFpbGFibGUnICYmICFpc0xlYWYpIHtcbiAgICAgIHJldnMucHVzaChwb3MgKyAnLScgKyByZXZIYXNoKTtcbiAgICAgIG9wdHMuc3RhdHVzID0gJ21pc3NpbmcnO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXZzO1xufVxuXG4vLyBidWlsZCB1cCBhIGxpc3Qgb2YgYWxsIHRoZSBwYXRocyB0byB0aGUgbGVhZnMgaW4gdGhpcyByZXZpc2lvbiB0cmVlXG5mdW5jdGlvbiByb290VG9MZWFmKHJldnMpIHtcbiAgdmFyIHBhdGhzID0gW107XG4gIHZhciB0b1Zpc2l0ID0gcmV2cy5zbGljZSgpO1xuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgaWQgPSB0cmVlWzBdO1xuICAgIHZhciBvcHRzID0gdHJlZVsxXTtcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBpc0xlYWYgPSBicmFuY2hlcy5sZW5ndGggPT09IDA7XG5cbiAgICB2YXIgaGlzdG9yeSA9IG5vZGUuaGlzdG9yeSA/IG5vZGUuaGlzdG9yeS5zbGljZSgpIDogW107XG4gICAgaGlzdG9yeS5wdXNoKHtpZDogaWQsIG9wdHM6IG9wdHN9KTtcbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBwYXRocy5wdXNoKHtwb3M6IChwb3MgKyAxIC0gaGlzdG9yeS5sZW5ndGgpLCBpZHM6IGhpc3Rvcnl9KTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJyYW5jaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0b1Zpc2l0LnB1c2goe3BvczogcG9zICsgMSwgaWRzOiBicmFuY2hlc1tpXSwgaGlzdG9yeTogaGlzdG9yeX0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGF0aHMucmV2ZXJzZSgpO1xufVxuXG4vLyBmb3IgYSBiZXR0ZXIgb3ZlcnZpZXcgb2Ygd2hhdCB0aGlzIGlzIGRvaW5nLCByZWFkOlxuXG5mdW5jdGlvbiBzb3J0QnlQb3MkMShhLCBiKSB7XG4gIHJldHVybiBhLnBvcyAtIGIucG9zO1xufVxuXG4vLyBjbGFzc2ljIGJpbmFyeSBzZWFyY2hcbmZ1bmN0aW9uIGJpbmFyeVNlYXJjaChhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpIHtcbiAgdmFyIGxvdyA9IDA7XG4gIHZhciBoaWdoID0gYXJyLmxlbmd0aDtcbiAgdmFyIG1pZDtcbiAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDE7XG4gICAgaWYgKGNvbXBhcmF0b3IoYXJyW21pZF0sIGl0ZW0pIDwgMCkge1xuICAgICAgbG93ID0gbWlkICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlnaCA9IG1pZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxvdztcbn1cblxuLy8gYXNzdW1pbmcgdGhlIGFyciBpcyBzb3J0ZWQsIGluc2VydCB0aGUgaXRlbSBpbiB0aGUgcHJvcGVyIHBsYWNlXG5mdW5jdGlvbiBpbnNlcnRTb3J0ZWQoYXJyLCBpdGVtLCBjb21wYXJhdG9yKSB7XG4gIHZhciBpZHggPSBiaW5hcnlTZWFyY2goYXJyLCBpdGVtLCBjb21wYXJhdG9yKTtcbiAgYXJyLnNwbGljZShpZHgsIDAsIGl0ZW0pO1xufVxuXG4vLyBUdXJuIGEgcGF0aCBhcyBhIGZsYXQgYXJyYXkgaW50byBhIHRyZWUgd2l0aCBhIHNpbmdsZSBicmFuY2guXG4vLyBJZiBhbnkgc2hvdWxkIGJlIHN0ZW1tZWQgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheSwgdGhhdCdzIHBhc3NlZFxuLy8gaW4gYXMgdGhlIHNlY29uZCBhcmd1bWVudFxuZnVuY3Rpb24gcGF0aFRvVHJlZShwYXRoLCBudW1TdGVtbWVkKSB7XG4gIHZhciByb290O1xuICB2YXIgbGVhZjtcbiAgZm9yICh2YXIgaSA9IG51bVN0ZW1tZWQsIGxlbiA9IHBhdGgubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgbm9kZSA9IHBhdGhbaV07XG4gICAgdmFyIGN1cnJlbnRMZWFmID0gW25vZGUuaWQsIG5vZGUub3B0cywgW11dO1xuICAgIGlmIChsZWFmKSB7XG4gICAgICBsZWFmWzJdLnB1c2goY3VycmVudExlYWYpO1xuICAgICAgbGVhZiA9IGN1cnJlbnRMZWFmO1xuICAgIH0gZWxzZSB7XG4gICAgICByb290ID0gbGVhZiA9IGN1cnJlbnRMZWFmO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcm9vdDtcbn1cblxuLy8gY29tcGFyZSB0aGUgSURzIG9mIHR3byB0cmVlc1xuZnVuY3Rpb24gY29tcGFyZVRyZWUoYSwgYikge1xuICByZXR1cm4gYVswXSA8IGJbMF0gPyAtMSA6IDE7XG59XG5cbi8vIE1lcmdlIHR3byB0cmVlcyB0b2dldGhlclxuLy8gVGhlIHJvb3RzIG9mIHRyZWUxIGFuZCB0cmVlMiBtdXN0IGJlIHRoZSBzYW1lIHJldmlzaW9uXG5mdW5jdGlvbiBtZXJnZVRyZWUoaW5fdHJlZTEsIGluX3RyZWUyKSB7XG4gIHZhciBxdWV1ZSA9IFt7dHJlZTE6IGluX3RyZWUxLCB0cmVlMjogaW5fdHJlZTJ9XTtcbiAgdmFyIGNvbmZsaWN0cyA9IGZhbHNlO1xuICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuICAgIHZhciBpdGVtID0gcXVldWUucG9wKCk7XG4gICAgdmFyIHRyZWUxID0gaXRlbS50cmVlMTtcbiAgICB2YXIgdHJlZTIgPSBpdGVtLnRyZWUyO1xuXG4gICAgaWYgKHRyZWUxWzFdLnN0YXR1cyB8fCB0cmVlMlsxXS5zdGF0dXMpIHtcbiAgICAgIHRyZWUxWzFdLnN0YXR1cyA9XG4gICAgICAgICh0cmVlMVsxXS5zdGF0dXMgPT09ICAnYXZhaWxhYmxlJyB8fFxuICAgICAgICB0cmVlMlsxXS5zdGF0dXMgPT09ICdhdmFpbGFibGUnKSA/ICdhdmFpbGFibGUnIDogJ21pc3NpbmcnO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJlZTJbMl0ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdHJlZTFbMl1bMF0pIHtcbiAgICAgICAgY29uZmxpY3RzID0gJ25ld19sZWFmJztcbiAgICAgICAgdHJlZTFbMl1bMF0gPSB0cmVlMlsyXVtpXTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBtZXJnZWQgPSBmYWxzZTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdHJlZTFbMl0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHRyZWUxWzJdW2pdWzBdID09PSB0cmVlMlsyXVtpXVswXSkge1xuICAgICAgICAgIHF1ZXVlLnB1c2goe3RyZWUxOiB0cmVlMVsyXVtqXSwgdHJlZTI6IHRyZWUyWzJdW2ldfSk7XG4gICAgICAgICAgbWVyZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFtZXJnZWQpIHtcbiAgICAgICAgY29uZmxpY3RzID0gJ25ld19icmFuY2gnO1xuICAgICAgICBpbnNlcnRTb3J0ZWQodHJlZTFbMl0sIHRyZWUyWzJdW2ldLCBjb21wYXJlVHJlZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB7Y29uZmxpY3RzOiBjb25mbGljdHMsIHRyZWU6IGluX3RyZWUxfTtcbn1cblxuZnVuY3Rpb24gZG9NZXJnZSh0cmVlLCBwYXRoLCBkb250RXhwYW5kKSB7XG4gIHZhciByZXN0cmVlID0gW107XG4gIHZhciBjb25mbGljdHMgPSBmYWxzZTtcbiAgdmFyIG1lcmdlZCA9IGZhbHNlO1xuICB2YXIgcmVzO1xuXG4gIGlmICghdHJlZS5sZW5ndGgpIHtcbiAgICByZXR1cm4ge3RyZWU6IFtwYXRoXSwgY29uZmxpY3RzOiAnbmV3X2xlYWYnfTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0cmVlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGJyYW5jaCA9IHRyZWVbaV07XG4gICAgaWYgKGJyYW5jaC5wb3MgPT09IHBhdGgucG9zICYmIGJyYW5jaC5pZHNbMF0gPT09IHBhdGguaWRzWzBdKSB7XG4gICAgICAvLyBQYXRocyBzdGFydCBhdCB0aGUgc2FtZSBwb3NpdGlvbiBhbmQgaGF2ZSB0aGUgc2FtZSByb290LCBzbyB0aGV5IG5lZWRcbiAgICAgIC8vIG1lcmdlZFxuICAgICAgcmVzID0gbWVyZ2VUcmVlKGJyYW5jaC5pZHMsIHBhdGguaWRzKTtcbiAgICAgIHJlc3RyZWUucHVzaCh7cG9zOiBicmFuY2gucG9zLCBpZHM6IHJlcy50cmVlfSk7XG4gICAgICBjb25mbGljdHMgPSBjb25mbGljdHMgfHwgcmVzLmNvbmZsaWN0cztcbiAgICAgIG1lcmdlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChkb250RXhwYW5kICE9PSB0cnVlKSB7XG4gICAgICAvLyBUaGUgcGF0aHMgc3RhcnQgYXQgYSBkaWZmZXJlbnQgcG9zaXRpb24sIHRha2UgdGhlIGVhcmxpZXN0IHBhdGggYW5kXG4gICAgICAvLyB0cmF2ZXJzZSB1cCB1bnRpbCBpdCBhcyBhdCB0aGUgc2FtZSBwb2ludCBmcm9tIHJvb3QgYXMgdGhlIHBhdGggd2VcbiAgICAgIC8vIHdhbnQgdG8gbWVyZ2UuICBJZiB0aGUga2V5cyBtYXRjaCB3ZSByZXR1cm4gdGhlIGxvbmdlciBwYXRoIHdpdGggdGhlXG4gICAgICAvLyBvdGhlciBtZXJnZWQgQWZ0ZXIgc3RlbW1pbmcgd2UgZG9udCB3YW50IHRvIGV4cGFuZCB0aGUgdHJlZXNcblxuICAgICAgdmFyIHQxID0gYnJhbmNoLnBvcyA8IHBhdGgucG9zID8gYnJhbmNoIDogcGF0aDtcbiAgICAgIHZhciB0MiA9IGJyYW5jaC5wb3MgPCBwYXRoLnBvcyA/IHBhdGggOiBicmFuY2g7XG4gICAgICB2YXIgZGlmZiA9IHQyLnBvcyAtIHQxLnBvcztcblxuICAgICAgdmFyIGNhbmRpZGF0ZVBhcmVudHMgPSBbXTtcblxuICAgICAgdmFyIHRyZWVzID0gW107XG4gICAgICB0cmVlcy5wdXNoKHtpZHM6IHQxLmlkcywgZGlmZjogZGlmZiwgcGFyZW50OiBudWxsLCBwYXJlbnRJZHg6IG51bGx9KTtcbiAgICAgIHdoaWxlICh0cmVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBpdGVtID0gdHJlZXMucG9wKCk7XG4gICAgICAgIGlmIChpdGVtLmRpZmYgPT09IDApIHtcbiAgICAgICAgICBpZiAoaXRlbS5pZHNbMF0gPT09IHQyLmlkc1swXSkge1xuICAgICAgICAgICAgY2FuZGlkYXRlUGFyZW50cy5wdXNoKGl0ZW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWxlbWVudHMgPSBpdGVtLmlkc1syXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGVsZW1lbnRzTGVuID0gZWxlbWVudHMubGVuZ3RoOyBqIDwgZWxlbWVudHNMZW47IGorKykge1xuICAgICAgICAgIHRyZWVzLnB1c2goe1xuICAgICAgICAgICAgaWRzOiBlbGVtZW50c1tqXSxcbiAgICAgICAgICAgIGRpZmY6IGl0ZW0uZGlmZiAtIDEsXG4gICAgICAgICAgICBwYXJlbnQ6IGl0ZW0uaWRzLFxuICAgICAgICAgICAgcGFyZW50SWR4OiBqXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGVsID0gY2FuZGlkYXRlUGFyZW50c1swXTtcblxuICAgICAgaWYgKCFlbCkge1xuICAgICAgICByZXN0cmVlLnB1c2goYnJhbmNoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcyA9IG1lcmdlVHJlZShlbC5pZHMsIHQyLmlkcyk7XG4gICAgICAgIGVsLnBhcmVudFsyXVtlbC5wYXJlbnRJZHhdID0gcmVzLnRyZWU7XG4gICAgICAgIHJlc3RyZWUucHVzaCh7cG9zOiB0MS5wb3MsIGlkczogdDEuaWRzfSk7XG4gICAgICAgIGNvbmZsaWN0cyA9IGNvbmZsaWN0cyB8fCByZXMuY29uZmxpY3RzO1xuICAgICAgICBtZXJnZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN0cmVlLnB1c2goYnJhbmNoKTtcbiAgICB9XG4gIH1cblxuICAvLyBXZSBkaWRudCBmaW5kXG4gIGlmICghbWVyZ2VkKSB7XG4gICAgcmVzdHJlZS5wdXNoKHBhdGgpO1xuICB9XG5cbiAgcmVzdHJlZS5zb3J0KHNvcnRCeVBvcyQxKTtcblxuICByZXR1cm4ge1xuICAgIHRyZWU6IHJlc3RyZWUsXG4gICAgY29uZmxpY3RzOiBjb25mbGljdHMgfHwgJ2ludGVybmFsX25vZGUnXG4gIH07XG59XG5cbi8vIFRvIGVuc3VyZSB3ZSBkb250IGdyb3cgdGhlIHJldmlzaW9uIHRyZWUgaW5maW5pdGVseSwgd2Ugc3RlbSBvbGQgcmV2aXNpb25zXG5mdW5jdGlvbiBzdGVtKHRyZWUsIGRlcHRoKSB7XG4gIC8vIEZpcnN0IHdlIGJyZWFrIG91dCB0aGUgdHJlZSBpbnRvIGEgY29tcGxldGUgbGlzdCBvZiByb290IHRvIGxlYWYgcGF0aHNcbiAgdmFyIHBhdGhzID0gcm9vdFRvTGVhZih0cmVlKTtcbiAgdmFyIHN0ZW1tZWRSZXZzO1xuXG4gIHZhciByZXN1bHQ7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIC8vIFRoZW4gZm9yIGVhY2ggcGF0aCwgd2UgY3V0IG9mZiB0aGUgc3RhcnQgb2YgdGhlIHBhdGggYmFzZWQgb24gdGhlXG4gICAgLy8gYGRlcHRoYCB0byBzdGVtIHRvLCBhbmQgZ2VuZXJhdGUgYSBuZXcgc2V0IG9mIGZsYXQgdHJlZXNcbiAgICB2YXIgcGF0aCA9IHBhdGhzW2ldO1xuICAgIHZhciBzdGVtbWVkID0gcGF0aC5pZHM7XG4gICAgdmFyIG5vZGU7XG4gICAgaWYgKHN0ZW1tZWQubGVuZ3RoID4gZGVwdGgpIHtcbiAgICAgIC8vIG9ubHkgZG8gdGhlIHN0ZW1taW5nIHdvcmsgaWYgd2UgYWN0dWFsbHkgbmVlZCB0byBzdGVtXG4gICAgICBpZiAoIXN0ZW1tZWRSZXZzKSB7XG4gICAgICAgIHN0ZW1tZWRSZXZzID0ge307IC8vIGF2b2lkIGFsbG9jYXRpbmcgdGhpcyBvYmplY3QgdW5uZWNlc3NhcmlseVxuICAgICAgfVxuICAgICAgdmFyIG51bVN0ZW1tZWQgPSBzdGVtbWVkLmxlbmd0aCAtIGRlcHRoO1xuICAgICAgbm9kZSA9IHtcbiAgICAgICAgcG9zOiBwYXRoLnBvcyArIG51bVN0ZW1tZWQsXG4gICAgICAgIGlkczogcGF0aFRvVHJlZShzdGVtbWVkLCBudW1TdGVtbWVkKVxuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBudW1TdGVtbWVkOyBzKyspIHtcbiAgICAgICAgdmFyIHJldiA9IChwYXRoLnBvcyArIHMpICsgJy0nICsgc3RlbW1lZFtzXS5pZDtcbiAgICAgICAgc3RlbW1lZFJldnNbcmV2XSA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gbm8gbmVlZCB0byBhY3R1YWxseSBzdGVtXG4gICAgICBub2RlID0ge1xuICAgICAgICBwb3M6IHBhdGgucG9zLFxuICAgICAgICBpZHM6IHBhdGhUb1RyZWUoc3RlbW1lZCwgMClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gVGhlbiB3ZSByZW1lcmdlIGFsbCB0aG9zZSBmbGF0IHRyZWVzIHRvZ2V0aGVyLCBlbnN1cmluZyB0aGF0IHdlIGRvbnRcbiAgICAvLyBjb25uZWN0IHRyZWVzIHRoYXQgd291bGQgZ28gYmV5b25kIHRoZSBkZXB0aCBsaW1pdFxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHJlc3VsdCA9IGRvTWVyZ2UocmVzdWx0LCBub2RlLCB0cnVlKS50cmVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBbbm9kZV07XG4gICAgfVxuICB9XG5cbiAgLy8gdGhpcyBpcyBtZW1vcnktaGVhdnkgcGVyIENocm9tZSBwcm9maWxlciwgYXZvaWQgdW5sZXNzIHdlIGFjdHVhbGx5IHN0ZW1tZWRcbiAgaWYgKHN0ZW1tZWRSZXZzKSB7XG4gICAgdHJhdmVyc2VSZXZUcmVlKHJlc3VsdCwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCByZXZIYXNoKSB7XG4gICAgICAvLyBzb21lIHJldmlzaW9ucyBtYXkgaGF2ZSBiZWVuIHJlbW92ZWQgaW4gYSBicmFuY2ggYnV0IG5vdCBpbiBhbm90aGVyXG4gICAgICBkZWxldGUgc3RlbW1lZFJldnNbcG9zICsgJy0nICsgcmV2SGFzaF07XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRyZWU6IHJlc3VsdCxcbiAgICByZXZzOiBzdGVtbWVkUmV2cyA/IE9iamVjdC5rZXlzKHN0ZW1tZWRSZXZzKSA6IFtdXG4gIH07XG59XG5cbmZ1bmN0aW9uIG1lcmdlKHRyZWUsIHBhdGgsIGRlcHRoKSB7XG4gIHZhciBuZXdUcmVlID0gZG9NZXJnZSh0cmVlLCBwYXRoKTtcbiAgdmFyIHN0ZW1tZWQgPSBzdGVtKG5ld1RyZWUudHJlZSwgZGVwdGgpO1xuICByZXR1cm4ge1xuICAgIHRyZWU6IHN0ZW1tZWQudHJlZSxcbiAgICBzdGVtbWVkUmV2czogc3RlbW1lZC5yZXZzLFxuICAgIGNvbmZsaWN0czogbmV3VHJlZS5jb25mbGljdHNcbiAgfTtcbn1cblxuLy8gcmV0dXJuIHRydWUgaWYgYSByZXYgZXhpc3RzIGluIHRoZSByZXYgdHJlZSwgZmFsc2Ugb3RoZXJ3aXNlXG5mdW5jdGlvbiByZXZFeGlzdHMocmV2cywgcmV2KSB7XG4gIHZhciB0b1Zpc2l0ID0gcmV2cy5zbGljZSgpO1xuICB2YXIgc3BsaXRSZXYgPSByZXYuc3BsaXQoJy0nKTtcbiAgdmFyIHRhcmdldFBvcyA9IHBhcnNlSW50KHNwbGl0UmV2WzBdLCAxMCk7XG4gIHZhciB0YXJnZXRJZCA9IHNwbGl0UmV2WzFdO1xuXG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIGlmIChub2RlLnBvcyA9PT0gdGFyZ2V0UG9zICYmIG5vZGUuaWRzWzBdID09PSB0YXJnZXRJZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBicmFuY2hlcyA9IG5vZGUuaWRzWzJdO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBicmFuY2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IG5vZGUucG9zICsgMSwgaWRzOiBicmFuY2hlc1tpXX0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldFRyZWVzKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuaWRzO1xufVxuXG4vLyBjaGVjayBpZiBhIHNwZWNpZmljIHJldmlzaW9uIG9mIGEgZG9jIGhhcyBiZWVuIGRlbGV0ZWRcbi8vICAtIG1ldGFkYXRhOiB0aGUgbWV0YWRhdGEgb2JqZWN0IGZyb20gdGhlIGRvYyBzdG9yZVxuLy8gIC0gcmV2OiAob3B0aW9uYWwpIHRoZSByZXZpc2lvbiB0byBjaGVjay4gZGVmYXVsdHMgdG8gd2lubmluZyByZXZpc2lvblxuZnVuY3Rpb24gaXNEZWxldGVkKG1ldGFkYXRhLCByZXYpIHtcbiAgaWYgKCFyZXYpIHtcbiAgICByZXYgPSB3aW5uaW5nUmV2KG1ldGFkYXRhKTtcbiAgfVxuICB2YXIgaWQgPSByZXYuc3Vic3RyaW5nKHJldi5pbmRleE9mKCctJykgKyAxKTtcbiAgdmFyIHRvVmlzaXQgPSBtZXRhZGF0YS5yZXZfdHJlZS5tYXAoZ2V0VHJlZXMpO1xuXG4gIHZhciB0cmVlO1xuICB3aGlsZSAoKHRyZWUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIGlmICh0cmVlWzBdID09PSBpZCkge1xuICAgICAgcmV0dXJuICEhdHJlZVsxXS5kZWxldGVkO1xuICAgIH1cbiAgICB0b1Zpc2l0ID0gdG9WaXNpdC5jb25jYXQodHJlZVsyXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNMb2NhbElkKGlkKSB7XG4gIHJldHVybiAoL15fbG9jYWwvKS50ZXN0KGlkKTtcbn1cblxuLy8gcmV0dXJucyB0aGUgY3VycmVudCBsZWFmIG5vZGUgZm9yIGEgZ2l2ZW4gcmV2aXNpb25cbmZ1bmN0aW9uIGxhdGVzdChyZXYsIG1ldGFkYXRhKSB7XG4gIHZhciB0b1Zpc2l0ID0gbWV0YWRhdGEucmV2X3RyZWUuc2xpY2UoKTtcbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgdmFyIHBvcyA9IG5vZGUucG9zO1xuICAgIHZhciB0cmVlID0gbm9kZS5pZHM7XG4gICAgdmFyIGlkID0gdHJlZVswXTtcbiAgICB2YXIgb3B0cyA9IHRyZWVbMV07XG4gICAgdmFyIGJyYW5jaGVzID0gdHJlZVsyXTtcbiAgICB2YXIgaXNMZWFmID0gYnJhbmNoZXMubGVuZ3RoID09PSAwO1xuXG4gICAgdmFyIGhpc3RvcnkgPSBub2RlLmhpc3RvcnkgPyBub2RlLmhpc3Rvcnkuc2xpY2UoKSA6IFtdO1xuICAgIGhpc3RvcnkucHVzaCh7aWQ6IGlkLCBwb3M6IHBvcywgb3B0czogb3B0c30pO1xuXG4gICAgaWYgKGlzTGVhZikge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhpc3RvcnkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGhpc3RvcnlOb2RlID0gaGlzdG9yeVtpXTtcbiAgICAgICAgdmFyIGhpc3RvcnlSZXYgPSBoaXN0b3J5Tm9kZS5wb3MgKyAnLScgKyBoaXN0b3J5Tm9kZS5pZDtcblxuICAgICAgICBpZiAoaGlzdG9yeVJldiA9PT0gcmV2KSB7XG4gICAgICAgICAgLy8gcmV0dXJuIHRoZSByZXYgb2YgdGhpcyBsZWFmXG4gICAgICAgICAgcmV0dXJuIHBvcyArICctJyArIGlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaiA9IDAsIGwgPSBicmFuY2hlcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2pdLCBoaXN0b3J5OiBoaXN0b3J5fSk7XG4gICAgfVxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVzb2x2ZSBsYXRlc3QgcmV2aXNpb24gZm9yIGlkICcgKyBtZXRhZGF0YS5pZCArICcsIHJldiAnICsgcmV2KTtcbn1cblxuaW5oZXJpdHMoQ2hhbmdlcyQxLCBFRSk7XG5cbmZ1bmN0aW9uIHRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lcihzZWxmLCBjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpIHtcbiAgLy8gaXNvbGF0ZSB0cnkvY2F0Y2hlcyB0byBhdm9pZCBWOCBkZW9wdGltaXphdGlvbnNcbiAgdHJ5IHtcbiAgICBzZWxmLmVtaXQoJ2NoYW5nZScsIGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCAnRXJyb3IgaW4gLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKTonLCBlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBDaGFuZ2VzJDEoZGIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIEVFLmNhbGwodGhpcyk7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5kYiA9IGRiO1xuICBvcHRzID0gb3B0cyA/IGNsb25lKG9wdHMpIDoge307XG4gIHZhciBjb21wbGV0ZSA9IG9wdHMuY29tcGxldGUgPSBvbmNlKGZ1bmN0aW9uIChlcnIsIHJlc3ApIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBpZiAobGlzdGVuZXJDb3VudChzZWxmLCAnZXJyb3InKSA+IDApIHtcbiAgICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuZW1pdCgnY29tcGxldGUnLCByZXNwKTtcbiAgICB9XG4gICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICBkYi5yZW1vdmVMaXN0ZW5lcignZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgfSk7XG4gIGlmIChjYWxsYmFjaykge1xuICAgIHNlbGYub24oJ2NvbXBsZXRlJywgZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3ApO1xuICAgIH0pO1xuICAgIHNlbGYub24oJ2Vycm9yJywgY2FsbGJhY2spO1xuICB9XG4gIGZ1bmN0aW9uIG9uRGVzdHJveSgpIHtcbiAgICBzZWxmLmNhbmNlbCgpO1xuICB9XG4gIGRiLm9uY2UoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG5cbiAgb3B0cy5vbkNoYW5nZSA9IGZ1bmN0aW9uIChjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5pc0NhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cnlDYXRjaEluQ2hhbmdlTGlzdGVuZXIoc2VsZiwgY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKTtcbiAgfTtcblxuICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICBvcHRzLmNvbXBsZXRlID0gZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVsZmlsbChyZXMpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICBzZWxmLm9uY2UoJ2NhbmNlbCcsIGZ1bmN0aW9uICgpIHtcbiAgICBkYi5yZW1vdmVMaXN0ZW5lcignZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gIH0pO1xuICB0aGlzLnRoZW4gPSBwcm9taXNlLnRoZW4uYmluZChwcm9taXNlKTtcbiAgdGhpc1snY2F0Y2gnXSA9IHByb21pc2VbJ2NhdGNoJ10uYmluZChwcm9taXNlKTtcbiAgdGhpcy50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICBjb21wbGV0ZShudWxsLCByZXN1bHQpO1xuICB9LCBjb21wbGV0ZSk7XG5cblxuXG4gIGlmICghZGIudGFza3F1ZXVlLmlzUmVhZHkpIHtcbiAgICBkYi50YXNrcXVldWUuYWRkVGFzayhmdW5jdGlvbiAoZmFpbGVkKSB7XG4gICAgICBpZiAoZmFpbGVkKSB7XG4gICAgICAgIG9wdHMuY29tcGxldGUoZmFpbGVkKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5pc0NhbmNlbGxlZCkge1xuICAgICAgICBzZWxmLmVtaXQoJ2NhbmNlbCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi52YWxpZGF0ZUNoYW5nZXMob3B0cyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi52YWxpZGF0ZUNoYW5nZXMob3B0cyk7XG4gIH1cbn1cbkNoYW5nZXMkMS5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmlzQ2FuY2VsbGVkID0gdHJ1ZTtcbiAgaWYgKHRoaXMuZGIudGFza3F1ZXVlLmlzUmVhZHkpIHtcbiAgICB0aGlzLmVtaXQoJ2NhbmNlbCcpO1xuICB9XG59O1xuZnVuY3Rpb24gcHJvY2Vzc0NoYW5nZShkb2MsIG1ldGFkYXRhLCBvcHRzKSB7XG4gIHZhciBjaGFuZ2VMaXN0ID0gW3tyZXY6IGRvYy5fcmV2fV07XG4gIGlmIChvcHRzLnN0eWxlID09PSAnYWxsX2RvY3MnKSB7XG4gICAgY2hhbmdlTGlzdCA9IGNvbGxlY3RMZWF2ZXMobWV0YWRhdGEucmV2X3RyZWUpXG4gICAgLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4ge3JldjogeC5yZXZ9OyB9KTtcbiAgfVxuICB2YXIgY2hhbmdlID0ge1xuICAgIGlkOiBtZXRhZGF0YS5pZCxcbiAgICBjaGFuZ2VzOiBjaGFuZ2VMaXN0LFxuICAgIGRvYzogZG9jXG4gIH07XG5cbiAgaWYgKGlzRGVsZXRlZChtZXRhZGF0YSwgZG9jLl9yZXYpKSB7XG4gICAgY2hhbmdlLmRlbGV0ZWQgPSB0cnVlO1xuICB9XG4gIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgIGNoYW5nZS5kb2MuX2NvbmZsaWN0cyA9IGNvbGxlY3RDb25mbGljdHMobWV0YWRhdGEpO1xuICAgIGlmICghY2hhbmdlLmRvYy5fY29uZmxpY3RzLmxlbmd0aCkge1xuICAgICAgZGVsZXRlIGNoYW5nZS5kb2MuX2NvbmZsaWN0cztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNoYW5nZTtcbn1cblxuQ2hhbmdlcyQxLnByb3RvdHlwZS52YWxpZGF0ZUNoYW5nZXMgPSBmdW5jdGlvbiAob3B0cykge1xuICB2YXIgY2FsbGJhY2sgPSBvcHRzLmNvbXBsZXRlO1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4pIHtcbiAgICBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLnZhbGlkYXRlKG9wdHMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgICBzZWxmLmRvQ2hhbmdlcyhvcHRzKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLmRvQ2hhbmdlcyhvcHRzKTtcbiAgfVxufTtcblxuQ2hhbmdlcyQxLnByb3RvdHlwZS5kb0NoYW5nZXMgPSBmdW5jdGlvbiAob3B0cykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBjYWxsYmFjayA9IG9wdHMuY29tcGxldGU7XG5cbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuICBpZiAoJ2xpdmUnIGluIG9wdHMgJiYgISgnY29udGludW91cycgaW4gb3B0cykpIHtcbiAgICBvcHRzLmNvbnRpbnVvdXMgPSBvcHRzLmxpdmU7XG4gIH1cbiAgb3B0cy5wcm9jZXNzQ2hhbmdlID0gcHJvY2Vzc0NoYW5nZTtcblxuICBpZiAob3B0cy5zaW5jZSA9PT0gJ2xhdGVzdCcpIHtcbiAgICBvcHRzLnNpbmNlID0gJ25vdyc7XG4gIH1cbiAgaWYgKCFvcHRzLnNpbmNlKSB7XG4gICAgb3B0cy5zaW5jZSA9IDA7XG4gIH1cbiAgaWYgKG9wdHMuc2luY2UgPT09ICdub3cnKSB7XG4gICAgdGhpcy5kYi5pbmZvKCkudGhlbihmdW5jdGlvbiAoaW5mbykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoc2VsZi5pc0NhbmNlbGxlZCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCB7c3RhdHVzOiAnY2FuY2VsbGVkJ30pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBvcHRzLnNpbmNlID0gaW5mby51cGRhdGVfc2VxO1xuICAgICAgc2VsZi5kb0NoYW5nZXMob3B0cyk7XG4gICAgfSwgY2FsbGJhY2spO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luKSB7XG4gICAgUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbi5ub3JtYWxpemUob3B0cyk7XG4gICAgaWYgKFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4uc2hvdWxkRmlsdGVyKHRoaXMsIG9wdHMpKSB7XG4gICAgICByZXR1cm4gUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbi5maWx0ZXIodGhpcywgb3B0cyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIFsnZG9jX2lkcycsICdmaWx0ZXInLCAnc2VsZWN0b3InLCAndmlldyddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKGtleSBpbiBvcHRzKSB7XG4gICAgICAgIGd1YXJkZWRDb25zb2xlKCd3YXJuJyxcbiAgICAgICAgICAnVGhlIFwiJyArIGtleSArICdcIiBvcHRpb24gd2FzIHBhc3NlZCBpbiB0byBjaGFuZ2VzL3JlcGxpY2F0ZSwgJyArXG4gICAgICAgICAgJ2J1dCBwb3VjaGRiLWNoYW5nZXMtZmlsdGVyIHBsdWdpbiBpcyBub3QgaW5zdGFsbGVkLCBzbyBpdCAnICtcbiAgICAgICAgICAnd2FzIGlnbm9yZWQuIFBsZWFzZSBpbnN0YWxsIHRoZSBwbHVnaW4gdG8gZW5hYmxlIGZpbHRlcmluZy4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoISgnZGVzY2VuZGluZycgaW4gb3B0cykpIHtcbiAgICBvcHRzLmRlc2NlbmRpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIDAgYW5kIDEgc2hvdWxkIHJldHVybiAxIGRvY3VtZW50XG4gIG9wdHMubGltaXQgPSBvcHRzLmxpbWl0ID09PSAwID8gMSA6IG9wdHMubGltaXQ7XG4gIG9wdHMuY29tcGxldGUgPSBjYWxsYmFjaztcbiAgdmFyIG5ld1Byb21pc2UgPSB0aGlzLmRiLl9jaGFuZ2VzKG9wdHMpO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAobmV3UHJvbWlzZSAmJiB0eXBlb2YgbmV3UHJvbWlzZS5jYW5jZWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgY2FuY2VsID0gc2VsZi5jYW5jZWw7XG4gICAgc2VsZi5jYW5jZWwgPSBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgIG5ld1Byb21pc2UuY2FuY2VsKCk7XG4gICAgICBjYW5jZWwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8qXG4gKiBBIGdlbmVyaWMgcG91Y2ggYWRhcHRlclxuICovXG5cbmZ1bmN0aW9uIGNvbXBhcmUobGVmdCwgcmlnaHQpIHtcbiAgcmV0dXJuIGxlZnQgPCByaWdodCA/IC0xIDogbGVmdCA+IHJpZ2h0ID8gMSA6IDA7XG59XG5cbi8vIFdyYXBwZXIgZm9yIGZ1bmN0aW9ucyB0aGF0IGNhbGwgdGhlIGJ1bGtkb2NzIGFwaSB3aXRoIGEgc2luZ2xlIGRvYyxcbi8vIGlmIHRoZSBmaXJzdCByZXN1bHQgaXMgYW4gZXJyb3IsIHJldHVybiBhbiBlcnJvclxuZnVuY3Rpb24geWFua0Vycm9yKGNhbGxiYWNrLCBkb2NJZCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuICAgIGlmIChlcnIgfHwgKHJlc3VsdHNbMF0gJiYgcmVzdWx0c1swXS5lcnJvcikpIHtcbiAgICAgIGVyciA9IGVyciB8fCByZXN1bHRzWzBdO1xuICAgICAgZXJyLmRvY0lkID0gZG9jSWQ7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzLmxlbmd0aCA/IHJlc3VsdHNbMF0gIDogcmVzdWx0cyk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBjbGVhbiBkb2NzIGdpdmVuIHRvIHVzIGJ5IHRoZSB1c2VyXG5mdW5jdGlvbiBjbGVhbkRvY3MoZG9jcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRvY3MubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZG9jID0gZG9jc1tpXTtcbiAgICBpZiAoZG9jLl9kZWxldGVkKSB7XG4gICAgICBkZWxldGUgZG9jLl9hdHRhY2htZW50czsgLy8gaWdub3JlIGF0dHMgZm9yIGRlbGV0ZWQgZG9jc1xuICAgIH0gZWxzZSBpZiAoZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgLy8gZmlsdGVyIG91dCBleHRyYW5lb3VzIGtleXMgZnJvbSBfYXR0YWNobWVudHNcbiAgICAgIHZhciBhdHRzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyk7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGF0dHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdmFyIGF0dCA9IGF0dHNbal07XG4gICAgICAgIGRvYy5fYXR0YWNobWVudHNbYXR0XSA9IHBpY2soZG9jLl9hdHRhY2htZW50c1thdHRdLFxuICAgICAgICAgIFsnZGF0YScsICdkaWdlc3QnLCAnY29udGVudF90eXBlJywgJ2xlbmd0aCcsICdyZXZwb3MnLCAnc3R1YiddKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gY29tcGFyZSB0d28gZG9jcywgZmlyc3QgYnkgX2lkIHRoZW4gYnkgX3JldlxuZnVuY3Rpb24gY29tcGFyZUJ5SWRUaGVuUmV2KGEsIGIpIHtcbiAgdmFyIGlkQ29tcGFyZSA9IGNvbXBhcmUoYS5faWQsIGIuX2lkKTtcbiAgaWYgKGlkQ29tcGFyZSAhPT0gMCkge1xuICAgIHJldHVybiBpZENvbXBhcmU7XG4gIH1cbiAgdmFyIGFTdGFydCA9IGEuX3JldmlzaW9ucyA/IGEuX3JldmlzaW9ucy5zdGFydCA6IDA7XG4gIHZhciBiU3RhcnQgPSBiLl9yZXZpc2lvbnMgPyBiLl9yZXZpc2lvbnMuc3RhcnQgOiAwO1xuICByZXR1cm4gY29tcGFyZShhU3RhcnQsIGJTdGFydCk7XG59XG5cbi8vIGZvciBldmVyeSBub2RlIGluIGEgcmV2aXNpb24gdHJlZSBjb21wdXRlcyBpdHMgZGlzdGFuY2UgZnJvbSB0aGUgY2xvc2VzdFxuLy8gbGVhZlxuZnVuY3Rpb24gY29tcHV0ZUhlaWdodChyZXZzKSB7XG4gIHZhciBoZWlnaHQgPSB7fTtcbiAgdmFyIGVkZ2VzID0gW107XG4gIHRyYXZlcnNlUmV2VHJlZShyZXZzLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIGlkLCBwcm50KSB7XG4gICAgdmFyIHJldiA9IHBvcyArIFwiLVwiICsgaWQ7XG4gICAgaWYgKGlzTGVhZikge1xuICAgICAgaGVpZ2h0W3Jldl0gPSAwO1xuICAgIH1cbiAgICBpZiAocHJudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBlZGdlcy5wdXNoKHtmcm9tOiBwcm50LCB0bzogcmV2fSk7XG4gICAgfVxuICAgIHJldHVybiByZXY7XG4gIH0pO1xuXG4gIGVkZ2VzLnJldmVyc2UoKTtcbiAgZWRnZXMuZm9yRWFjaChmdW5jdGlvbiAoZWRnZSkge1xuICAgIGlmIChoZWlnaHRbZWRnZS5mcm9tXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBoZWlnaHRbZWRnZS5mcm9tXSA9IDEgKyBoZWlnaHRbZWRnZS50b107XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlaWdodFtlZGdlLmZyb21dID0gTWF0aC5taW4oaGVpZ2h0W2VkZ2UuZnJvbV0sIDEgKyBoZWlnaHRbZWRnZS50b10pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBoZWlnaHQ7XG59XG5cbmZ1bmN0aW9uIGFsbERvY3NLZXlzUGFyc2Uob3B0cykge1xuICB2YXIga2V5cyA9ICAoJ2xpbWl0JyBpbiBvcHRzKSA/XG4gICAgb3B0cy5rZXlzLnNsaWNlKG9wdHMuc2tpcCwgb3B0cy5saW1pdCArIG9wdHMuc2tpcCkgOlxuICAgIChvcHRzLnNraXAgPiAwKSA/IG9wdHMua2V5cy5zbGljZShvcHRzLnNraXApIDogb3B0cy5rZXlzO1xuICBvcHRzLmtleXMgPSBrZXlzO1xuICBvcHRzLnNraXAgPSAwO1xuICBkZWxldGUgb3B0cy5saW1pdDtcbiAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgIGtleXMucmV2ZXJzZSgpO1xuICAgIG9wdHMuZGVzY2VuZGluZyA9IGZhbHNlO1xuICB9XG59XG5cbi8vIGFsbCBjb21wYWN0aW9uIGlzIGRvbmUgaW4gYSBxdWV1ZSwgdG8gYXZvaWQgYXR0YWNoaW5nXG4vLyB0b28gbWFueSBsaXN0ZW5lcnMgYXQgb25jZVxuZnVuY3Rpb24gZG9OZXh0Q29tcGFjdGlvbihzZWxmKSB7XG4gIHZhciB0YXNrID0gc2VsZi5fY29tcGFjdGlvblF1ZXVlWzBdO1xuICB2YXIgb3B0cyA9IHRhc2sub3B0cztcbiAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgc2VsZi5nZXQoJ19sb2NhbC9jb21wYWN0aW9uJykuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgaWYgKGRvYyAmJiBkb2MubGFzdF9zZXEpIHtcbiAgICAgIG9wdHMubGFzdF9zZXEgPSBkb2MubGFzdF9zZXE7XG4gICAgfVxuICAgIHNlbGYuX2NvbXBhY3Qob3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gICAgICB9XG4gICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLl9jb21wYWN0aW9uUXVldWUuc2hpZnQoKTtcbiAgICAgICAgaWYgKHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICBkb05leHRDb21wYWN0aW9uKHNlbGYpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGF0dGFjaG1lbnROYW1lRXJyb3IobmFtZSkge1xuICBpZiAobmFtZS5jaGFyQXQoMCkgPT09ICdfJykge1xuICAgIHJldHVybiBuYW1lICsgJyBpcyBub3QgYSB2YWxpZCBhdHRhY2htZW50IG5hbWUsIGF0dGFjaG1lbnQgJyArXG4gICAgICAnbmFtZXMgY2Fubm90IHN0YXJ0IHdpdGggXFwnX1xcJyc7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5pbmhlcml0cyhBYnN0cmFjdFBvdWNoREIsIEVFKTtcblxuZnVuY3Rpb24gQWJzdHJhY3RQb3VjaERCKCkge1xuICBFRS5jYWxsKHRoaXMpO1xuXG4gIC8vIHJlLWJpbmQgcHJvdG90eXBlZCBtZXRob2RzXG4gIGZvciAodmFyIHAgaW4gQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZSkge1xuICAgIGlmICh0eXBlb2YgdGhpc1twXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpc1twXSA9IHRoaXNbcF0uYmluZCh0aGlzKTtcbiAgICB9XG4gIH1cbn1cblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5wb3N0ID1cbiAgYWRhcHRlckZ1bigncG9zdCcsIGZ1bmN0aW9uIChkb2MsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBkb2MgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoZG9jKSkge1xuICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihOT1RfQU5fT0JKRUNUKSk7XG4gIH1cbiAgdGhpcy5idWxrRG9jcyh7ZG9jczogW2RvY119LCBvcHRzLCB5YW5rRXJyb3IoY2FsbGJhY2ssIGRvYy5faWQpKTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnB1dCA9IGFkYXB0ZXJGdW4oJ3B1dCcsIGZ1bmN0aW9uIChkb2MsIG9wdHMsIGNiKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBkb2MgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoZG9jKSkge1xuICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihOT1RfQU5fT0JKRUNUKSk7XG4gIH1cbiAgaW52YWxpZElkRXJyb3IoZG9jLl9pZCk7XG4gIGlmIChpc0xvY2FsSWQoZG9jLl9pZCkgJiYgdHlwZW9mIHRoaXMuX3B1dExvY2FsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGRvYy5fZGVsZXRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlbW92ZUxvY2FsKGRvYywgY2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fcHV0TG9jYWwoZG9jLCBjYik7XG4gICAgfVxuICB9XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKG9wdHMuZm9yY2UgJiYgZG9jLl9yZXYpIHtcbiAgICB0cmFuc2Zvcm1Gb3JjZU9wdGlvblRvTmV3RWRpdHNPcHRpb24oKTtcbiAgICBwdXREb2MoZnVuY3Rpb24gKGVycikge1xuICAgICAgdmFyIHJlc3VsdCA9IGVyciA/IG51bGwgOiB7b2s6IHRydWUsIGlkOiBkb2MuX2lkLCByZXY6IGRvYy5fcmV2fTtcbiAgICAgIGNiKGVyciwgcmVzdWx0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBwdXREb2MoY2IpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhbnNmb3JtRm9yY2VPcHRpb25Ub05ld0VkaXRzT3B0aW9uKCkge1xuICAgIHZhciBwYXJ0cyA9IGRvYy5fcmV2LnNwbGl0KCctJyk7XG4gICAgdmFyIG9sZFJldklkID0gcGFydHNbMV07XG4gICAgdmFyIG9sZFJldk51bSA9IHBhcnNlSW50KHBhcnRzWzBdLCAxMCk7XG5cbiAgICB2YXIgbmV3UmV2TnVtID0gb2xkUmV2TnVtICsgMTtcbiAgICB2YXIgbmV3UmV2SWQgPSByZXYkJDEoKTtcblxuICAgIGRvYy5fcmV2aXNpb25zID0ge1xuICAgICAgc3RhcnQ6IG5ld1Jldk51bSxcbiAgICAgIGlkczogW25ld1JldklkLCBvbGRSZXZJZF1cbiAgICB9O1xuICAgIGRvYy5fcmV2ID0gbmV3UmV2TnVtICsgJy0nICsgbmV3UmV2SWQ7XG4gICAgb3B0cy5uZXdfZWRpdHMgPSBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBwdXREb2MobmV4dCkge1xuICAgIGlmICh0eXBlb2Ygc2VsZi5fcHV0ID09PSAnZnVuY3Rpb24nICYmIG9wdHMubmV3X2VkaXRzICE9PSBmYWxzZSkge1xuICAgICAgc2VsZi5fcHV0KGRvYywgb3B0cywgbmV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuYnVsa0RvY3Moe2RvY3M6IFtkb2NdfSwgb3B0cywgeWFua0Vycm9yKG5leHQsIGRvYy5faWQpKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnB1dEF0dGFjaG1lbnQgPVxuICBhZGFwdGVyRnVuKCdwdXRBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsIHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9iLCB0eXBlKSB7XG4gIHZhciBhcGkgPSB0aGlzO1xuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB0eXBlID0gYmxvYjtcbiAgICBibG9iID0gcmV2O1xuICAgIHJldiA9IG51bGw7XG4gIH1cbiAgLy8gTGV0cyBmaXggaW4gaHR0cHM6Ly9naXRodWIuY29tL3BvdWNoZGIvcG91Y2hkYi9pc3N1ZXMvMzI2N1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgIHR5cGUgPSBibG9iO1xuICAgIGJsb2IgPSByZXY7XG4gICAgcmV2ID0gbnVsbDtcbiAgfVxuICBpZiAoIXR5cGUpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnd2FybicsICdBdHRhY2htZW50JywgYXR0YWNobWVudElkLCAnb24gZG9jdW1lbnQnLCBkb2NJZCwgJ2lzIG1pc3NpbmcgY29udGVudF90eXBlJyk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBdHRhY2htZW50KGRvYykge1xuICAgIHZhciBwcmV2cmV2cG9zID0gJ19yZXYnIGluIGRvYyA/IHBhcnNlSW50KGRvYy5fcmV2LCAxMCkgOiAwO1xuICAgIGRvYy5fYXR0YWNobWVudHMgPSBkb2MuX2F0dGFjaG1lbnRzIHx8IHt9O1xuICAgIGRvYy5fYXR0YWNobWVudHNbYXR0YWNobWVudElkXSA9IHtcbiAgICAgIGNvbnRlbnRfdHlwZTogdHlwZSxcbiAgICAgIGRhdGE6IGJsb2IsXG4gICAgICByZXZwb3M6ICsrcHJldnJldnBvc1xuICAgIH07XG4gICAgcmV0dXJuIGFwaS5wdXQoZG9jKTtcbiAgfVxuXG4gIHJldHVybiBhcGkuZ2V0KGRvY0lkKS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAoZG9jLl9yZXYgIT09IHJldikge1xuICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQXR0YWNobWVudChkb2MpO1xuICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgIC8vIGNyZWF0ZSBuZXcgZG9jXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoZXJyLnJlYXNvbiA9PT0gTUlTU0lOR19ET0MubWVzc2FnZSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUF0dGFjaG1lbnQoe19pZDogZG9jSWR9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5yZW1vdmVBdHRhY2htZW50ID1cbiAgYWRhcHRlckZ1bigncmVtb3ZlQXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLCByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzZWxmLmdldChkb2NJZCwgZnVuY3Rpb24gKGVyciwgb2JqKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG9iai5fcmV2ICE9PSByZXYpIHtcbiAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIW9iai5fYXR0YWNobWVudHMpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cbiAgICBkZWxldGUgb2JqLl9hdHRhY2htZW50c1thdHRhY2htZW50SWRdO1xuICAgIGlmIChPYmplY3Qua2V5cyhvYmouX2F0dGFjaG1lbnRzKS5sZW5ndGggPT09IDApIHtcbiAgICAgIGRlbGV0ZSBvYmouX2F0dGFjaG1lbnRzO1xuICAgIH1cbiAgICBzZWxmLnB1dChvYmosIGNhbGxiYWNrKTtcbiAgfSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5yZW1vdmUgPVxuICBhZGFwdGVyRnVuKCdyZW1vdmUnLCBmdW5jdGlvbiAoZG9jT3JJZCwgb3B0c09yUmV2LCBvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgZG9jO1xuICBpZiAodHlwZW9mIG9wdHNPclJldiA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBpZCwgcmV2LCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgIGRvYyA9IHtcbiAgICAgIF9pZDogZG9jT3JJZCxcbiAgICAgIF9yZXY6IG9wdHNPclJldlxuICAgIH07XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGRvYywgb3B0cywgY2FsbGJhY2sgc3R5bGVcbiAgICBkb2MgPSBkb2NPcklkO1xuICAgIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHNPclJldjtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IG9wdHNPclJldjtcbiAgICB9XG4gIH1cbiAgb3B0cyA9IG9wdHMgfHwge307XG4gIG9wdHMud2FzX2RlbGV0ZSA9IHRydWU7XG4gIHZhciBuZXdEb2MgPSB7X2lkOiBkb2MuX2lkLCBfcmV2OiAoZG9jLl9yZXYgfHwgb3B0cy5yZXYpfTtcbiAgbmV3RG9jLl9kZWxldGVkID0gdHJ1ZTtcbiAgaWYgKGlzTG9jYWxJZChuZXdEb2MuX2lkKSAmJiB0eXBlb2YgdGhpcy5fcmVtb3ZlTG9jYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVtb3ZlTG9jYWwoZG9jLCBjYWxsYmFjayk7XG4gIH1cbiAgdGhpcy5idWxrRG9jcyh7ZG9jczogW25ld0RvY119LCBvcHRzLCB5YW5rRXJyb3IoY2FsbGJhY2ssIG5ld0RvYy5faWQpKTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJldnNEaWZmID1cbiAgYWRhcHRlckZ1bigncmV2c0RpZmYnLCBmdW5jdGlvbiAocmVxLCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIHZhciBpZHMgPSBPYmplY3Qua2V5cyhyZXEpO1xuXG4gIGlmICghaWRzLmxlbmd0aCkge1xuICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB7fSk7XG4gIH1cblxuICB2YXIgY291bnQgPSAwO1xuICB2YXIgbWlzc2luZyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG4gIGZ1bmN0aW9uIGFkZFRvTWlzc2luZyhpZCwgcmV2SWQpIHtcbiAgICBpZiAoIW1pc3NpbmcuaGFzKGlkKSkge1xuICAgICAgbWlzc2luZy5zZXQoaWQsIHttaXNzaW5nOiBbXX0pO1xuICAgIH1cbiAgICBtaXNzaW5nLmdldChpZCkubWlzc2luZy5wdXNoKHJldklkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NEb2MoaWQsIHJldl90cmVlKSB7XG4gICAgLy8gSXMgdGhpcyBmYXN0IGVub3VnaD8gTWF5YmUgd2Ugc2hvdWxkIHN3aXRjaCB0byBhIHNldCBzaW11bGF0ZWQgYnkgYSBtYXBcbiAgICB2YXIgbWlzc2luZ0ZvcklkID0gcmVxW2lkXS5zbGljZSgwKTtcbiAgICB0cmF2ZXJzZVJldlRyZWUocmV2X3RyZWUsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgcmV2SGFzaCwgY3R4LFxuICAgICAgb3B0cykge1xuICAgICAgICB2YXIgcmV2ID0gcG9zICsgJy0nICsgcmV2SGFzaDtcbiAgICAgICAgdmFyIGlkeCA9IG1pc3NpbmdGb3JJZC5pbmRleE9mKHJldik7XG4gICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbWlzc2luZ0ZvcklkLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKG9wdHMuc3RhdHVzICE9PSAnYXZhaWxhYmxlJykge1xuICAgICAgICAgIGFkZFRvTWlzc2luZyhpZCwgcmV2KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAvLyBUcmF2ZXJzaW5nIHRoZSB0cmVlIGlzIHN5bmNocm9ub3VzLCBzbyBub3cgYG1pc3NpbmdGb3JJZGAgY29udGFpbnNcbiAgICAvLyByZXZpc2lvbnMgdGhhdCB3ZXJlIG5vdCBmb3VuZCBpbiB0aGUgdHJlZVxuICAgIG1pc3NpbmdGb3JJZC5mb3JFYWNoKGZ1bmN0aW9uIChyZXYpIHtcbiAgICAgIGFkZFRvTWlzc2luZyhpZCwgcmV2KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlkcy5tYXAoZnVuY3Rpb24gKGlkKSB7XG4gICAgdGhpcy5fZ2V0UmV2aXNpb25UcmVlKGlkLCBmdW5jdGlvbiAoZXJyLCByZXZfdHJlZSkge1xuICAgICAgaWYgKGVyciAmJiBlcnIuc3RhdHVzID09PSA0MDQgJiYgZXJyLm1lc3NhZ2UgPT09ICdtaXNzaW5nJykge1xuICAgICAgICBtaXNzaW5nLnNldChpZCwge21pc3Npbmc6IHJlcVtpZF19KTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzc0RvYyhpZCwgcmV2X3RyZWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoKytjb3VudCA9PT0gaWRzLmxlbmd0aCkge1xuICAgICAgICAvLyBjb252ZXJ0IExhenlNYXAgdG8gb2JqZWN0XG4gICAgICAgIHZhciBtaXNzaW5nT2JqID0ge307XG4gICAgICAgIG1pc3NpbmcuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgIG1pc3NpbmdPYmpba2V5XSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIG1pc3NpbmdPYmopO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCB0aGlzKTtcbn0pO1xuXG4vLyBfYnVsa19nZXQgQVBJIGZvciBmYXN0ZXIgcmVwbGljYXRpb24sIGFzIGRlc2NyaWJlZCBpblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9jb3VjaGRiLWNodHRwZC9wdWxsLzMzXG4vLyBBdCB0aGUgXCJhYnN0cmFjdFwiIGxldmVsLCBpdCB3aWxsIGp1c3QgcnVuIG11bHRpcGxlIGdldCgpcyBpblxuLy8gcGFyYWxsZWwsIGJlY2F1c2UgdGhpcyBpc24ndCBtdWNoIG9mIGEgcGVyZm9ybWFuY2UgY29zdFxuLy8gZm9yIGxvY2FsIGRhdGFiYXNlcyAoZXhjZXB0IHRoZSBjb3N0IG9mIG11bHRpcGxlIHRyYW5zYWN0aW9ucywgd2hpY2ggaXNcbi8vIHNtYWxsKS4gVGhlIGh0dHAgYWRhcHRlciBvdmVycmlkZXMgdGhpcyBpbiBvcmRlclxuLy8gdG8gZG8gYSBtb3JlIGVmZmljaWVudCBzaW5nbGUgSFRUUCByZXF1ZXN0LlxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5idWxrR2V0ID1cbiAgYWRhcHRlckZ1bignYnVsa0dldCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICBidWxrR2V0KHRoaXMsIG9wdHMsIGNhbGxiYWNrKTtcbn0pO1xuXG4vLyBjb21wYWN0IG9uZSBkb2N1bWVudCBhbmQgZmlyZSBjYWxsYmFja1xuLy8gYnkgY29tcGFjdGluZyB3ZSBtZWFuIHJlbW92aW5nIGFsbCByZXZpc2lvbnMgd2hpY2hcbi8vIGFyZSBmdXJ0aGVyIGZyb20gdGhlIGxlYWYgaW4gcmV2aXNpb24gdHJlZSB0aGFuIG1heF9oZWlnaHRcbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuY29tcGFjdERvY3VtZW50ID1cbiAgYWRhcHRlckZ1bignY29tcGFjdERvY3VtZW50JywgZnVuY3Rpb24gKGRvY0lkLCBtYXhIZWlnaHQsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5fZ2V0UmV2aXNpb25UcmVlKGRvY0lkLCBmdW5jdGlvbiAoZXJyLCByZXZUcmVlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIHZhciBoZWlnaHQgPSBjb21wdXRlSGVpZ2h0KHJldlRyZWUpO1xuICAgIHZhciBjYW5kaWRhdGVzID0gW107XG4gICAgdmFyIHJldnMgPSBbXTtcbiAgICBPYmplY3Qua2V5cyhoZWlnaHQpLmZvckVhY2goZnVuY3Rpb24gKHJldikge1xuICAgICAgaWYgKGhlaWdodFtyZXZdID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgIGNhbmRpZGF0ZXMucHVzaChyZXYpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdHJhdmVyc2VSZXZUcmVlKHJldlRyZWUsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgcmV2SGFzaCwgY3R4LCBvcHRzKSB7XG4gICAgICB2YXIgcmV2ID0gcG9zICsgJy0nICsgcmV2SGFzaDtcbiAgICAgIGlmIChvcHRzLnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScgJiYgY2FuZGlkYXRlcy5pbmRleE9mKHJldikgIT09IC0xKSB7XG4gICAgICAgIHJldnMucHVzaChyZXYpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHNlbGYuX2RvQ29tcGFjdGlvbihkb2NJZCwgcmV2cywgY2FsbGJhY2spO1xuICB9KTtcbn0pO1xuXG4vLyBjb21wYWN0IHRoZSB3aG9sZSBkYXRhYmFzZSB1c2luZyBzaW5nbGUgZG9jdW1lbnRcbi8vIGNvbXBhY3Rpb25cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuY29tcGFjdCA9XG4gIGFkYXB0ZXJGdW4oJ2NvbXBhY3QnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgc2VsZi5fY29tcGFjdGlvblF1ZXVlID0gc2VsZi5fY29tcGFjdGlvblF1ZXVlIHx8IFtdO1xuICBzZWxmLl9jb21wYWN0aW9uUXVldWUucHVzaCh7b3B0czogb3B0cywgY2FsbGJhY2s6IGNhbGxiYWNrfSk7XG4gIGlmIChzZWxmLl9jb21wYWN0aW9uUXVldWUubGVuZ3RoID09PSAxKSB7XG4gICAgZG9OZXh0Q29tcGFjdGlvbihzZWxmKTtcbiAgfVxufSk7XG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLl9jb21wYWN0ID0gZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGNoYW5nZXNPcHRzID0ge1xuICAgIHJldHVybl9kb2NzOiBmYWxzZSxcbiAgICBsYXN0X3NlcTogb3B0cy5sYXN0X3NlcSB8fCAwXG4gIH07XG4gIHZhciBwcm9taXNlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlKHJvdykge1xuICAgIHByb21pc2VzLnB1c2goc2VsZi5jb21wYWN0RG9jdW1lbnQocm93LmlkLCAwKSk7XG4gIH1cbiAgZnVuY3Rpb24gb25Db21wbGV0ZShyZXNwKSB7XG4gICAgdmFyIGxhc3RTZXEgPSByZXNwLmxhc3Rfc2VxO1xuICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB1cHNlcnQoc2VsZiwgJ19sb2NhbC9jb21wYWN0aW9uJywgZnVuY3Rpb24gZGVsdGFGdW5jKGRvYykge1xuICAgICAgICBpZiAoIWRvYy5sYXN0X3NlcSB8fCBkb2MubGFzdF9zZXEgPCBsYXN0U2VxKSB7XG4gICAgICAgICAgZG9jLmxhc3Rfc2VxID0gbGFzdFNlcTtcbiAgICAgICAgICByZXR1cm4gZG9jO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gc29tZWJvZHkgZWxzZSBnb3QgaGVyZSBmaXJzdCwgZG9uJ3QgdXBkYXRlXG4gICAgICB9KTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHtvazogdHJ1ZX0pO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgfVxuICBzZWxmLmNoYW5nZXMoY2hhbmdlc09wdHMpXG4gICAgLm9uKCdjaGFuZ2UnLCBvbkNoYW5nZSlcbiAgICAub24oJ2NvbXBsZXRlJywgb25Db21wbGV0ZSlcbiAgICAub24oJ2Vycm9yJywgY2FsbGJhY2spO1xufTtcblxuLyogQmVnaW4gYXBpIHdyYXBwZXJzLiBTcGVjaWZpYyBmdW5jdGlvbmFsaXR5IHRvIHN0b3JhZ2UgYmVsb25ncyBpbiB0aGVcbiAgIF9bbWV0aG9kXSAqL1xuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5nZXQgPSBhZGFwdGVyRnVuKCdnZXQnLCBmdW5jdGlvbiAoaWQsIG9wdHMsIGNiKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gY2IoY3JlYXRlRXJyb3IoSU5WQUxJRF9JRCkpO1xuICB9XG4gIGlmIChpc0xvY2FsSWQoaWQpICYmIHR5cGVvZiB0aGlzLl9nZXRMb2NhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0aGlzLl9nZXRMb2NhbChpZCwgY2IpO1xuICB9XG4gIHZhciBsZWF2ZXMgPSBbXSwgc2VsZiA9IHRoaXM7XG5cbiAgZnVuY3Rpb24gZmluaXNoT3BlblJldnMoKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBjb3VudCA9IGxlYXZlcy5sZW5ndGg7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFjb3VudCkge1xuICAgICAgcmV0dXJuIGNiKG51bGwsIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLy8gb3JkZXIgd2l0aCBvcGVuX3JldnMgaXMgdW5zcGVjaWZpZWRcbiAgICBsZWF2ZXMuZm9yRWFjaChmdW5jdGlvbiAobGVhZikge1xuICAgICAgc2VsZi5nZXQoaWQsIHtcbiAgICAgICAgcmV2OiBsZWFmLFxuICAgICAgICByZXZzOiBvcHRzLnJldnMsXG4gICAgICAgIGxhdGVzdDogb3B0cy5sYXRlc3QsXG4gICAgICAgIGF0dGFjaG1lbnRzOiBvcHRzLmF0dGFjaG1lbnRzLFxuICAgICAgICBiaW5hcnk6IG9wdHMuYmluYXJ5XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyLCBkb2MpIHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAvLyB1c2luZyBsYXRlc3Q9dHJ1ZSBjYW4gcHJvZHVjZSBkdXBsaWNhdGVzXG4gICAgICAgICAgdmFyIGV4aXN0aW5nO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcmVzdWx0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKHJlc3VsdFtpXS5vayAmJiByZXN1bHRbaV0ub2suX3JldiA9PT0gZG9jLl9yZXYpIHtcbiAgICAgICAgICAgICAgZXhpc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFleGlzdGluZykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goe29rOiBkb2N9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goe21pc3Npbmc6IGxlYWZ9KTtcbiAgICAgICAgfVxuICAgICAgICBjb3VudC0tO1xuICAgICAgICBpZiAoIWNvdW50KSB7XG4gICAgICAgICAgY2IobnVsbCwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAob3B0cy5vcGVuX3JldnMpIHtcbiAgICBpZiAob3B0cy5vcGVuX3JldnMgPT09IFwiYWxsXCIpIHtcbiAgICAgIHRoaXMuX2dldFJldmlzaW9uVHJlZShpZCwgZnVuY3Rpb24gKGVyciwgcmV2X3RyZWUpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBsZWF2ZXMgPSBjb2xsZWN0TGVhdmVzKHJldl90cmVlKS5tYXAoZnVuY3Rpb24gKGxlYWYpIHtcbiAgICAgICAgICByZXR1cm4gbGVhZi5yZXY7XG4gICAgICAgIH0pO1xuICAgICAgICBmaW5pc2hPcGVuUmV2cygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdHMub3Blbl9yZXZzKSkge1xuICAgICAgICBsZWF2ZXMgPSBvcHRzLm9wZW5fcmV2cztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWF2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgbCA9IGxlYXZlc1tpXTtcbiAgICAgICAgICAvLyBsb29rcyBsaWtlIGl0J3MgdGhlIG9ubHkgdGhpbmcgY291Y2hkYiBjaGVja3NcbiAgICAgICAgICBpZiAoISh0eXBlb2YgKGwpID09PSBcInN0cmluZ1wiICYmIC9eXFxkKy0vLnRlc3QobCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2IoY3JlYXRlRXJyb3IoSU5WQUxJRF9SRVYpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluaXNoT3BlblJldnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihVTktOT1dOX0VSUk9SLCAnZnVuY3Rpb25fY2xhdXNlJykpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47IC8vIG9wZW5fcmV2cyBkb2VzIG5vdCBsaWtlIG90aGVyIG9wdGlvbnNcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9nZXQoaWQsIG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGVyci5kb2NJZCA9IGlkO1xuICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgfVxuXG4gICAgdmFyIGRvYyA9IHJlc3VsdC5kb2M7XG4gICAgdmFyIG1ldGFkYXRhID0gcmVzdWx0Lm1ldGFkYXRhO1xuICAgIHZhciBjdHggPSByZXN1bHQuY3R4O1xuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICB2YXIgY29uZmxpY3RzID0gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSk7XG4gICAgICBpZiAoY29uZmxpY3RzLmxlbmd0aCkge1xuICAgICAgICBkb2MuX2NvbmZsaWN0cyA9IGNvbmZsaWN0cztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNEZWxldGVkKG1ldGFkYXRhLCBkb2MuX3JldikpIHtcbiAgICAgIGRvYy5fZGVsZXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMucmV2cyB8fCBvcHRzLnJldnNfaW5mbykge1xuICAgICAgdmFyIHNwbGl0dGVkUmV2ID0gZG9jLl9yZXYuc3BsaXQoJy0nKTtcbiAgICAgIHZhciByZXZObyAgICAgICA9IHBhcnNlSW50KHNwbGl0dGVkUmV2WzBdLCAxMCk7XG4gICAgICB2YXIgcmV2SGFzaCAgICAgPSBzcGxpdHRlZFJldlsxXTtcblxuICAgICAgdmFyIHBhdGhzID0gcm9vdFRvTGVhZihtZXRhZGF0YS5yZXZfdHJlZSk7XG4gICAgICB2YXIgcGF0aCA9IG51bGw7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGN1cnJlbnRQYXRoID0gcGF0aHNbaV07XG4gICAgICAgIHZhciBoYXNoSW5kZXggPSBjdXJyZW50UGF0aC5pZHMubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkOyB9KVxuICAgICAgICAgIC5pbmRleE9mKHJldkhhc2gpO1xuICAgICAgICB2YXIgaGFzaEZvdW5kQXRSZXZQb3MgPSBoYXNoSW5kZXggPT09IChyZXZObyAtIDEpO1xuXG4gICAgICAgIGlmIChoYXNoRm91bmRBdFJldlBvcyB8fCAoIXBhdGggJiYgaGFzaEluZGV4ICE9PSAtMSkpIHtcbiAgICAgICAgICBwYXRoID0gY3VycmVudFBhdGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgZXJyID0gbmV3IEVycm9yKCdpbnZhbGlkIHJldiB0cmVlJyk7XG4gICAgICAgIGVyci5kb2NJZCA9IGlkO1xuICAgICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGluZGV4T2ZSZXYgPSBwYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguaWQ7IH0pXG4gICAgICAgIC5pbmRleE9mKGRvYy5fcmV2LnNwbGl0KCctJylbMV0pICsgMTtcbiAgICAgIHZhciBob3dNYW55ID0gcGF0aC5pZHMubGVuZ3RoIC0gaW5kZXhPZlJldjtcbiAgICAgIHBhdGguaWRzLnNwbGljZShpbmRleE9mUmV2LCBob3dNYW55KTtcbiAgICAgIHBhdGguaWRzLnJldmVyc2UoKTtcblxuICAgICAgaWYgKG9wdHMucmV2cykge1xuICAgICAgICBkb2MuX3JldmlzaW9ucyA9IHtcbiAgICAgICAgICBzdGFydDogKHBhdGgucG9zICsgcGF0aC5pZHMubGVuZ3RoKSAtIDEsXG4gICAgICAgICAgaWRzOiBwYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHJldikge1xuICAgICAgICAgICAgcmV0dXJuIHJldi5pZDtcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMucmV2c19pbmZvKSB7XG4gICAgICAgIHZhciBwb3MgPSAgcGF0aC5wb3MgKyBwYXRoLmlkcy5sZW5ndGg7XG4gICAgICAgIGRvYy5fcmV2c19pbmZvID0gcGF0aC5pZHMubWFwKGZ1bmN0aW9uIChyZXYpIHtcbiAgICAgICAgICBwb3MtLTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmV2OiBwb3MgKyAnLScgKyByZXYuaWQsXG4gICAgICAgICAgICBzdGF0dXM6IHJldi5vcHRzLnN0YXR1c1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzICYmIGRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgIHZhciBhdHRhY2htZW50cyA9IGRvYy5fYXR0YWNobWVudHM7XG4gICAgICB2YXIgY291bnQgPSBPYmplY3Qua2V5cyhhdHRhY2htZW50cykubGVuZ3RoO1xuICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBjYihudWxsLCBkb2MpO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmtleXMoYXR0YWNobWVudHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLl9nZXRBdHRhY2htZW50KGRvYy5faWQsIGtleSwgYXR0YWNobWVudHNba2V5XSwge1xuICAgICAgICAgIC8vIFByZXZpb3VzbHkgdGhlIHJldmlzaW9uIGhhbmRsaW5nIHdhcyBkb25lIGluIGFkYXB0ZXIuanNcbiAgICAgICAgICAvLyBnZXRBdHRhY2htZW50LCBob3dldmVyIHNpbmNlIGlkYi1uZXh0IGRvZXNudCB3ZSBuZWVkIHRvXG4gICAgICAgICAgLy8gcGFzcyB0aGUgcmV2IHRocm91Z2hcbiAgICAgICAgICByZXY6IGRvYy5fcmV2LFxuICAgICAgICAgIGJpbmFyeTogb3B0cy5iaW5hcnksXG4gICAgICAgICAgY3R4OiBjdHhcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICAgIHZhciBhdHQgPSBkb2MuX2F0dGFjaG1lbnRzW2tleV07XG4gICAgICAgICAgYXR0LmRhdGEgPSBkYXRhO1xuICAgICAgICAgIGRlbGV0ZSBhdHQuc3R1YjtcbiAgICAgICAgICBkZWxldGUgYXR0Lmxlbmd0aDtcbiAgICAgICAgICBpZiAoIS0tY291bnQpIHtcbiAgICAgICAgICAgIGNiKG51bGwsIGRvYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sIHNlbGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkb2MuX2F0dGFjaG1lbnRzLCBrZXkpKSB7XG4gICAgICAgICAgICBkb2MuX2F0dGFjaG1lbnRzW2tleV0uc3R1YiA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYihudWxsLCBkb2MpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuLy8gVE9ETzogSSBkb250IGxpa2UgdGhpcywgaXQgZm9yY2VzIGFuIGV4dHJhIHJlYWQgZm9yIGV2ZXJ5XG4vLyBhdHRhY2htZW50IHJlYWQgYW5kIGVuZm9yY2VzIGEgY29uZnVzaW5nIGFwaSBiZXR3ZWVuXG4vLyBhZGFwdGVyLmpzIGFuZCB0aGUgYWRhcHRlciBpbXBsZW1lbnRhdGlvblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5nZXRBdHRhY2htZW50ID1cbiAgYWRhcHRlckZ1bignZ2V0QXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLCBvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmIChvcHRzIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIHRoaXMuX2dldChkb2NJZCwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIGlmIChyZXMuZG9jLl9hdHRhY2htZW50cyAmJiByZXMuZG9jLl9hdHRhY2htZW50c1thdHRhY2htZW50SWRdKSB7XG4gICAgICBvcHRzLmN0eCA9IHJlcy5jdHg7XG4gICAgICBvcHRzLmJpbmFyeSA9IHRydWU7XG4gICAgICBzZWxmLl9nZXRBdHRhY2htZW50KGRvY0lkLCBhdHRhY2htZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5kb2MuX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF0sIG9wdHMsIGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DKSk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmFsbERvY3MgPVxuICBhZGFwdGVyRnVuKCdhbGxEb2NzJywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgb3B0cy5za2lwID0gdHlwZW9mIG9wdHMuc2tpcCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzLnNraXAgOiAwO1xuICBpZiAob3B0cy5zdGFydF9rZXkpIHtcbiAgICBvcHRzLnN0YXJ0a2V5ID0gb3B0cy5zdGFydF9rZXk7XG4gIH1cbiAgaWYgKG9wdHMuZW5kX2tleSkge1xuICAgIG9wdHMuZW5ka2V5ID0gb3B0cy5lbmRfa2V5O1xuICB9XG4gIGlmICgna2V5cycgaW4gb3B0cykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShvcHRzLmtleXMpKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sobmV3IFR5cGVFcnJvcignb3B0aW9ucy5rZXlzIG11c3QgYmUgYW4gYXJyYXknKSk7XG4gICAgfVxuICAgIHZhciBpbmNvbXBhdGlibGVPcHQgPVxuICAgICAgWydzdGFydGtleScsICdlbmRrZXknLCAna2V5J10uZmlsdGVyKGZ1bmN0aW9uIChpbmNvbXBhdGlibGVPcHQpIHtcbiAgICAgIHJldHVybiBpbmNvbXBhdGlibGVPcHQgaW4gb3B0cztcbiAgICB9KVswXTtcbiAgICBpZiAoaW5jb21wYXRpYmxlT3B0KSB7XG4gICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihRVUVSWV9QQVJTRV9FUlJPUixcbiAgICAgICAgJ1F1ZXJ5IHBhcmFtZXRlciBgJyArIGluY29tcGF0aWJsZU9wdCArXG4gICAgICAgICdgIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggbXVsdGktZ2V0J1xuICAgICAgKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaXNSZW1vdGUodGhpcykpIHtcbiAgICAgIGFsbERvY3NLZXlzUGFyc2Uob3B0cyk7XG4gICAgICBpZiAob3B0cy5rZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxsRG9jcyh7bGltaXQ6IDB9LCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXMuX2FsbERvY3Mob3B0cywgY2FsbGJhY2spO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuY2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgLy8gQnkgZGVmYXVsdCBzZXQgcmV0dXJuX2RvY3MgdG8gZmFsc2UgaWYgdGhlIGNhbGxlciBoYXMgb3B0cy5saXZlID0gdHJ1ZSxcbiAgLy8gdGhpcyB3aWxsIHByZXZlbnQgdXMgZnJvbSBjb2xsZWN0aW5nIHRoZSBzZXQgb2YgY2hhbmdlcyBpbmRlZmluaXRlbHlcbiAgLy8gcmVzdWx0aW5nIGluIGdyb3dpbmcgbWVtb3J5XG4gIG9wdHMucmV0dXJuX2RvY3MgPSAoJ3JldHVybl9kb2NzJyBpbiBvcHRzKSA/IG9wdHMucmV0dXJuX2RvY3MgOiAhb3B0cy5saXZlO1xuXG4gIHJldHVybiBuZXcgQ2hhbmdlcyQxKHRoaXMsIG9wdHMsIGNhbGxiYWNrKTtcbn07XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuY2xvc2UgPSBhZGFwdGVyRnVuKCdjbG9zZScsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICB0aGlzLl9jbG9zZWQgPSB0cnVlO1xuICB0aGlzLmVtaXQoJ2Nsb3NlZCcpO1xuICByZXR1cm4gdGhpcy5fY2xvc2UoY2FsbGJhY2spO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuaW5mbyA9IGFkYXB0ZXJGdW4oJ2luZm8nLCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLl9pbmZvKGZ1bmN0aW9uIChlcnIsIGluZm8pIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgLy8gYXNzdW1lIHdlIGtub3cgYmV0dGVyIHRoYW4gdGhlIGFkYXB0ZXIsIHVubGVzcyBpdCBpbmZvcm1zIHVzXG4gICAgaW5mby5kYl9uYW1lID0gaW5mby5kYl9uYW1lIHx8IHNlbGYubmFtZTtcbiAgICBpbmZvLmF1dG9fY29tcGFjdGlvbiA9ICEhKHNlbGYuYXV0b19jb21wYWN0aW9uICYmICFpc1JlbW90ZShzZWxmKSk7XG4gICAgaW5mby5hZGFwdGVyID0gc2VsZi5hZGFwdGVyO1xuICAgIGNhbGxiYWNrKG51bGwsIGluZm8pO1xuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmlkID0gYWRhcHRlckZ1bignaWQnLCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgcmV0dXJuIHRoaXMuX2lkKGNhbGxiYWNrKTtcbn0pO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS50eXBlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gKHR5cGVvZiB0aGlzLl90eXBlID09PSAnZnVuY3Rpb24nKSA/IHRoaXMuX3R5cGUoKSA6IHRoaXMuYWRhcHRlcjtcbn07XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuYnVsa0RvY3MgPVxuICBhZGFwdGVyRnVuKCdidWxrRG9jcycsIGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShyZXEpKSB7XG4gICAgcmVxID0ge1xuICAgICAgZG9jczogcmVxXG4gICAgfTtcbiAgfVxuXG4gIGlmICghcmVxIHx8ICFyZXEuZG9jcyB8fCAhQXJyYXkuaXNBcnJheShyZXEuZG9jcykpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19CVUxLX0RPQ1MpKTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVxLmRvY3MubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAodHlwZW9mIHJlcS5kb2NzW2ldICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHJlcS5kb2NzW2ldKSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE5PVF9BTl9PQkpFQ1QpKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYXR0YWNobWVudEVycm9yO1xuICByZXEuZG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAoZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBhdHRhY2htZW50RXJyb3IgPSBhdHRhY2htZW50RXJyb3IgfHwgYXR0YWNobWVudE5hbWVFcnJvcihuYW1lKTtcbiAgICAgICAgaWYgKCFkb2MuX2F0dGFjaG1lbnRzW25hbWVdLmNvbnRlbnRfdHlwZSkge1xuICAgICAgICAgIGd1YXJkZWRDb25zb2xlKCd3YXJuJywgJ0F0dGFjaG1lbnQnLCBuYW1lLCAnb24gZG9jdW1lbnQnLCBkb2MuX2lkLCAnaXMgbWlzc2luZyBjb250ZW50X3R5cGUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBpZiAoYXR0YWNobWVudEVycm9yKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKEJBRF9SRVFVRVNULCBhdHRhY2htZW50RXJyb3IpKTtcbiAgfVxuXG4gIGlmICghKCduZXdfZWRpdHMnIGluIG9wdHMpKSB7XG4gICAgaWYgKCduZXdfZWRpdHMnIGluIHJlcSkge1xuICAgICAgb3B0cy5uZXdfZWRpdHMgPSByZXEubmV3X2VkaXRzO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRzLm5ld19lZGl0cyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgdmFyIGFkYXB0ZXIgPSB0aGlzO1xuICBpZiAoIW9wdHMubmV3X2VkaXRzICYmICFpc1JlbW90ZShhZGFwdGVyKSkge1xuICAgIC8vIGVuc3VyZSByZXZpc2lvbnMgb2YgdGhlIHNhbWUgZG9jIGFyZSBzb3J0ZWQsIHNvIHRoYXRcbiAgICAvLyB0aGUgbG9jYWwgYWRhcHRlciBwcm9jZXNzZXMgdGhlbSBjb3JyZWN0bHkgKCMyOTM1KVxuICAgIHJlcS5kb2NzLnNvcnQoY29tcGFyZUJ5SWRUaGVuUmV2KTtcbiAgfVxuXG4gIGNsZWFuRG9jcyhyZXEuZG9jcyk7XG5cbiAgLy8gaW4gdGhlIGNhc2Ugb2YgY29uZmxpY3RzLCB3ZSB3YW50IHRvIHJldHVybiB0aGUgX2lkcyB0byB0aGUgdXNlclxuICAvLyBob3dldmVyLCB0aGUgdW5kZXJseWluZyBhZGFwdGVyIG1heSBkZXN0cm95IHRoZSBkb2NzIGFycmF5LCBzb1xuICAvLyBjcmVhdGUgYSBjb3B5IGhlcmVcbiAgdmFyIGlkcyA9IHJlcS5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7XG4gICAgcmV0dXJuIGRvYy5faWQ7XG4gIH0pO1xuXG4gIHJldHVybiB0aGlzLl9idWxrRG9jcyhyZXEsIG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICBpZiAoIW9wdHMubmV3X2VkaXRzKSB7XG4gICAgICAvLyB0aGlzIGlzIHdoYXQgY291Y2ggZG9lcyB3aGVuIG5ld19lZGl0cyBpcyBmYWxzZVxuICAgICAgcmVzID0gcmVzLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geC5lcnJvcjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBhZGQgaWRzIGZvciBlcnJvci9jb25mbGljdCByZXNwb25zZXMgKG5vdCByZXF1aXJlZCBmb3IgQ291Y2hEQilcbiAgICBpZiAoIWlzUmVtb3RlKGFkYXB0ZXIpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHJlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgcmVzW2ldLmlkID0gcmVzW2ldLmlkIHx8IGlkc1tpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjYWxsYmFjayhudWxsLCByZXMpO1xuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UgPVxuICBhZGFwdGVyRnVuKCdyZWdpc3RlckRlcGVuZGVudERhdGFiYXNlJywgZnVuY3Rpb24gKGRlcGVuZGVudERiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKSB7XG4gIHZhciBkYk9wdGlvbnMgPSBjbG9uZSh0aGlzLl9fb3B0cyk7XG4gIGlmICh0aGlzLl9fb3B0cy52aWV3X2FkYXB0ZXIpIHtcbiAgICBkYk9wdGlvbnMuYWRhcHRlciA9IHRoaXMuX19vcHRzLnZpZXdfYWRhcHRlcjtcbiAgfVxuXG4gIHZhciBkZXBEQiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGRlcGVuZGVudERiLCBkYk9wdGlvbnMpO1xuXG4gIGZ1bmN0aW9uIGRpZmZGdW4oZG9jKSB7XG4gICAgZG9jLmRlcGVuZGVudERicyA9IGRvYy5kZXBlbmRlbnREYnMgfHwge307XG4gICAgaWYgKGRvYy5kZXBlbmRlbnREYnNbZGVwZW5kZW50RGJdKSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIG5vIHVwZGF0ZSByZXF1aXJlZFxuICAgIH1cbiAgICBkb2MuZGVwZW5kZW50RGJzW2RlcGVuZGVudERiXSA9IHRydWU7XG4gICAgcmV0dXJuIGRvYztcbiAgfVxuICB1cHNlcnQodGhpcywgJ19sb2NhbC9fcG91Y2hfZGVwZW5kZW50RGJzJywgZGlmZkZ1bilcbiAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCB7ZGI6IGRlcERCfSk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuZGVzdHJveSA9XG4gIGFkYXB0ZXJGdW4oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcblxuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgdXNlUHJlZml4ID0gJ3VzZV9wcmVmaXgnIGluIHNlbGYgPyBzZWxmLnVzZV9wcmVmaXggOiB0cnVlO1xuXG4gIGZ1bmN0aW9uIGRlc3Ryb3lEYigpIHtcbiAgICAvLyBjYWxsIGRlc3Ryb3kgbWV0aG9kIG9mIHRoZSBwYXJ0aWN1bGFyIGFkYXB0b3JcbiAgICBzZWxmLl9kZXN0cm95KG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlc3ApIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgICBzZWxmLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgc2VsZi5lbWl0KCdkZXN0cm95ZWQnKTtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3AgfHwgeyAnb2snOiB0cnVlIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGlzUmVtb3RlKHNlbGYpKSB7XG4gICAgLy8gbm8gbmVlZCB0byBjaGVjayBmb3IgZGVwZW5kZW50IERCcyBpZiBpdCdzIGEgcmVtb3RlIERCXG4gICAgcmV0dXJuIGRlc3Ryb3lEYigpO1xuICB9XG5cbiAgc2VsZi5nZXQoJ19sb2NhbC9fcG91Y2hfZGVwZW5kZW50RGJzJywgZnVuY3Rpb24gKGVyciwgbG9jYWxEb2MpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2UgeyAvLyBubyBkZXBlbmRlbmNpZXNcbiAgICAgICAgcmV0dXJuIGRlc3Ryb3lEYigpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgZGVwZW5kZW50RGJzID0gbG9jYWxEb2MuZGVwZW5kZW50RGJzO1xuICAgIHZhciBQb3VjaERCID0gc2VsZi5jb25zdHJ1Y3RvcjtcbiAgICB2YXIgZGVsZXRlZE1hcCA9IE9iamVjdC5rZXlzKGRlcGVuZGVudERicykubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAvLyB1c2VfcHJlZml4IGlzIG9ubHkgZmFsc2UgaW4gdGhlIGJyb3dzZXJcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICB2YXIgdHJ1ZU5hbWUgPSB1c2VQcmVmaXggP1xuICAgICAgICBuYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnXicgKyBQb3VjaERCLnByZWZpeCksICcnKSA6IG5hbWU7XG4gICAgICByZXR1cm4gbmV3IFBvdWNoREIodHJ1ZU5hbWUsIHNlbGYuX19vcHRzKS5kZXN0cm95KCk7XG4gICAgfSk7XG4gICAgUHJvbWlzZS5hbGwoZGVsZXRlZE1hcCkudGhlbihkZXN0cm95RGIsIGNhbGxiYWNrKTtcbiAgfSk7XG59KTtcblxuZnVuY3Rpb24gVGFza1F1ZXVlKCkge1xuICB0aGlzLmlzUmVhZHkgPSBmYWxzZTtcbiAgdGhpcy5mYWlsZWQgPSBmYWxzZTtcbiAgdGhpcy5xdWV1ZSA9IFtdO1xufVxuXG5UYXNrUXVldWUucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBmdW47XG4gIGlmICh0aGlzLmZhaWxlZCkge1xuICAgIHdoaWxlICgoZnVuID0gdGhpcy5xdWV1ZS5zaGlmdCgpKSkge1xuICAgICAgZnVuKHRoaXMuZmFpbGVkKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKChmdW4gPSB0aGlzLnF1ZXVlLnNoaWZ0KCkpKSB7XG4gICAgICBmdW4oKTtcbiAgICB9XG4gIH1cbn07XG5cblRhc2tRdWV1ZS5wcm90b3R5cGUuZmFpbCA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgdGhpcy5mYWlsZWQgPSBlcnI7XG4gIHRoaXMuZXhlY3V0ZSgpO1xufTtcblxuVGFza1F1ZXVlLnByb3RvdHlwZS5yZWFkeSA9IGZ1bmN0aW9uIChkYikge1xuICB0aGlzLmlzUmVhZHkgPSB0cnVlO1xuICB0aGlzLmRiID0gZGI7XG4gIHRoaXMuZXhlY3V0ZSgpO1xufTtcblxuVGFza1F1ZXVlLnByb3RvdHlwZS5hZGRUYXNrID0gZnVuY3Rpb24gKGZ1bikge1xuICB0aGlzLnF1ZXVlLnB1c2goZnVuKTtcbiAgaWYgKHRoaXMuZmFpbGVkKSB7XG4gICAgdGhpcy5leGVjdXRlKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHBhcnNlQWRhcHRlcihuYW1lLCBvcHRzKSB7XG4gIHZhciBtYXRjaCA9IG5hbWUubWF0Y2goLyhbYS16LV0qKTpcXC9cXC8oLiopLyk7XG4gIGlmIChtYXRjaCkge1xuICAgIC8vIHRoZSBodHRwIGFkYXB0ZXIgZXhwZWN0cyB0aGUgZnVsbHkgcXVhbGlmaWVkIG5hbWVcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogL2h0dHBzPy8udGVzdChtYXRjaFsxXSkgPyBtYXRjaFsxXSArICc6Ly8nICsgbWF0Y2hbMl0gOiBtYXRjaFsyXSxcbiAgICAgIGFkYXB0ZXI6IG1hdGNoWzFdXG4gICAgfTtcbiAgfVxuXG4gIHZhciBhZGFwdGVycyA9IFBvdWNoREIuYWRhcHRlcnM7XG4gIHZhciBwcmVmZXJyZWRBZGFwdGVycyA9IFBvdWNoREIucHJlZmVycmVkQWRhcHRlcnM7XG4gIHZhciBwcmVmaXggPSBQb3VjaERCLnByZWZpeDtcbiAgdmFyIGFkYXB0ZXJOYW1lID0gb3B0cy5hZGFwdGVyO1xuXG4gIGlmICghYWRhcHRlck5hbWUpIHsgLy8gYXV0b21hdGljYWxseSBkZXRlcm1pbmUgYWRhcHRlclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZmVycmVkQWRhcHRlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGFkYXB0ZXJOYW1lID0gcHJlZmVycmVkQWRhcHRlcnNbaV07XG4gICAgICAvLyBjaGVjayBmb3IgYnJvd3NlcnMgdGhhdCBoYXZlIGJlZW4gdXBncmFkZWQgZnJvbSB3ZWJzcWwtb25seSB0byB3ZWJzcWwraWRiXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChhZGFwdGVyTmFtZSA9PT0gJ2lkYicgJiYgJ3dlYnNxbCcgaW4gYWRhcHRlcnMgJiZcbiAgICAgICAgICBoYXNMb2NhbFN0b3JhZ2UoKSAmJiBsb2NhbFN0b3JhZ2VbJ19wb3VjaF9fd2Vic3FsZGJfJyArIHByZWZpeCArIG5hbWVdKSB7XG4gICAgICAgIC8vIGxvZyBpdCwgYmVjYXVzZSB0aGlzIGNhbiBiZSBjb25mdXNpbmcgZHVyaW5nIGRldmVsb3BtZW50XG4gICAgICAgIGd1YXJkZWRDb25zb2xlKCdsb2cnLCAnUG91Y2hEQiBpcyBkb3duZ3JhZGluZyBcIicgKyBuYW1lICsgJ1wiIHRvIFdlYlNRTCB0bycgK1xuICAgICAgICAgICcgYXZvaWQgZGF0YSBsb3NzLCBiZWNhdXNlIGl0IHdhcyBhbHJlYWR5IG9wZW5lZCB3aXRoIFdlYlNRTC4nKTtcbiAgICAgICAgY29udGludWU7IC8vIGtlZXAgdXNpbmcgd2Vic3FsIHRvIGF2b2lkIHVzZXIgZGF0YSBsb3NzXG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgYWRhcHRlciA9IGFkYXB0ZXJzW2FkYXB0ZXJOYW1lXTtcblxuICAvLyBpZiBhZGFwdGVyIGlzIGludmFsaWQsIHRoZW4gYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24gbGF0ZXJcbiAgdmFyIHVzZVByZWZpeCA9IChhZGFwdGVyICYmICd1c2VfcHJlZml4JyBpbiBhZGFwdGVyKSA/XG4gICAgYWRhcHRlci51c2VfcHJlZml4IDogdHJ1ZTtcblxuICByZXR1cm4ge1xuICAgIG5hbWU6IHVzZVByZWZpeCA/IChwcmVmaXggKyBuYW1lKSA6IG5hbWUsXG4gICAgYWRhcHRlcjogYWRhcHRlck5hbWVcbiAgfTtcbn1cblxuLy8gT0ssIHNvIGhlcmUncyB0aGUgZGVhbC4gQ29uc2lkZXIgdGhpcyBjb2RlOlxuLy8gICAgIHZhciBkYjEgPSBuZXcgUG91Y2hEQignZm9vJyk7XG4vLyAgICAgdmFyIGRiMiA9IG5ldyBQb3VjaERCKCdmb28nKTtcbi8vICAgICBkYjEuZGVzdHJveSgpO1xuLy8gXiB0aGVzZSB0d28gYm90aCBuZWVkIHRvIGVtaXQgJ2Rlc3Ryb3llZCcgZXZlbnRzLFxuLy8gYXMgd2VsbCBhcyB0aGUgUG91Y2hEQiBjb25zdHJ1Y3RvciBpdHNlbGYuXG4vLyBTbyB3ZSBoYXZlIG9uZSBkYiBvYmplY3QgKHdoaWNoZXZlciBvbmUgZ290IGRlc3Ryb3koKSBjYWxsZWQgb24gaXQpXG4vLyByZXNwb25zaWJsZSBmb3IgZW1pdHRpbmcgdGhlIGluaXRpYWwgZXZlbnQsIHdoaWNoIHRoZW4gZ2V0cyBlbWl0dGVkXG4vLyBieSB0aGUgY29uc3RydWN0b3IsIHdoaWNoIHRoZW4gYnJvYWRjYXN0cyBpdCB0byBhbnkgb3RoZXIgZGJzXG4vLyB0aGF0IG1heSBoYXZlIGJlZW4gY3JlYXRlZCB3aXRoIHRoZSBzYW1lIG5hbWUuXG5mdW5jdGlvbiBwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24oc2VsZikge1xuXG4gIGZ1bmN0aW9uIG9uRGVzdHJveWVkKGZyb21fY29uc3RydWN0b3IpIHtcbiAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCdjbG9zZWQnLCBvbkNsb3NlZCk7XG4gICAgaWYgKCFmcm9tX2NvbnN0cnVjdG9yKSB7XG4gICAgICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ2Rlc3Ryb3llZCcsIHNlbGYubmFtZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25DbG9zZWQoKSB7XG4gICAgc2VsZi5yZW1vdmVMaXN0ZW5lcignZGVzdHJveWVkJywgb25EZXN0cm95ZWQpO1xuICAgIHNlbGYuY29uc3RydWN0b3IuZW1pdCgndW5yZWYnLCBzZWxmKTtcbiAgfVxuXG4gIHNlbGYub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95ZWQpO1xuICBzZWxmLm9uY2UoJ2Nsb3NlZCcsIG9uQ2xvc2VkKTtcbiAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCdyZWYnLCBzZWxmKTtcbn1cblxuaW5oZXJpdHMoUG91Y2hEQiwgQWJzdHJhY3RQb3VjaERCKTtcbmZ1bmN0aW9uIFBvdWNoREIobmFtZSwgb3B0cykge1xuICAvLyBJbiBOb2RlIG91ciB0ZXN0IHN1aXRlIG9ubHkgdGVzdHMgdGhpcyBmb3IgUG91Y2hBbHQgdW5mb3J0dW5hdGVseVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBvdWNoREIpKSB7XG4gICAgcmV0dXJuIG5ldyBQb3VjaERCKG5hbWUsIG9wdHMpO1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICBpZiAobmFtZSAmJiB0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICBvcHRzID0gbmFtZTtcbiAgICBuYW1lID0gb3B0cy5uYW1lO1xuICAgIGRlbGV0ZSBvcHRzLm5hbWU7XG4gIH1cblxuICBpZiAob3B0cy5kZXRlcm1pbmlzdGljX3JldnMgPT09IHVuZGVmaW5lZCkge1xuICAgIG9wdHMuZGV0ZXJtaW5pc3RpY19yZXZzID0gdHJ1ZTtcbiAgfVxuXG4gIHRoaXMuX19vcHRzID0gb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gIHNlbGYuYXV0b19jb21wYWN0aW9uID0gb3B0cy5hdXRvX2NvbXBhY3Rpb247XG4gIHNlbGYucHJlZml4ID0gUG91Y2hEQi5wcmVmaXg7XG5cbiAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZy9pbnZhbGlkIERCIG5hbWUnKTtcbiAgfVxuXG4gIHZhciBwcmVmaXhlZE5hbWUgPSAob3B0cy5wcmVmaXggfHwgJycpICsgbmFtZTtcbiAgdmFyIGJhY2tlbmQgPSBwYXJzZUFkYXB0ZXIocHJlZml4ZWROYW1lLCBvcHRzKTtcblxuICBvcHRzLm5hbWUgPSBiYWNrZW5kLm5hbWU7XG4gIG9wdHMuYWRhcHRlciA9IG9wdHMuYWRhcHRlciB8fCBiYWNrZW5kLmFkYXB0ZXI7XG5cbiAgc2VsZi5uYW1lID0gbmFtZTtcbiAgc2VsZi5fYWRhcHRlciA9IG9wdHMuYWRhcHRlcjtcbiAgUG91Y2hEQi5lbWl0KCdkZWJ1ZycsIFsnYWRhcHRlcicsICdQaWNrZWQgYWRhcHRlcjogJywgb3B0cy5hZGFwdGVyXSk7XG5cbiAgaWYgKCFQb3VjaERCLmFkYXB0ZXJzW29wdHMuYWRhcHRlcl0gfHxcbiAgICAgICFQb3VjaERCLmFkYXB0ZXJzW29wdHMuYWRhcHRlcl0udmFsaWQoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBBZGFwdGVyOiAnICsgb3B0cy5hZGFwdGVyKTtcbiAgfVxuXG4gIGlmIChvcHRzLnZpZXdfYWRhcHRlcikge1xuICAgIGlmICghUG91Y2hEQi5hZGFwdGVyc1tvcHRzLnZpZXdfYWRhcHRlcl0gfHxcbiAgICAgICAgIVBvdWNoREIuYWRhcHRlcnNbb3B0cy52aWV3X2FkYXB0ZXJdLnZhbGlkKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBWaWV3IEFkYXB0ZXI6ICcgKyBvcHRzLnZpZXdfYWRhcHRlcik7XG4gICAgfVxuICB9XG5cbiAgQWJzdHJhY3RQb3VjaERCLmNhbGwoc2VsZik7XG4gIHNlbGYudGFza3F1ZXVlID0gbmV3IFRhc2tRdWV1ZSgpO1xuXG4gIHNlbGYuYWRhcHRlciA9IG9wdHMuYWRhcHRlcjtcblxuICBQb3VjaERCLmFkYXB0ZXJzW29wdHMuYWRhcHRlcl0uY2FsbChzZWxmLCBvcHRzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIHNlbGYudGFza3F1ZXVlLmZhaWwoZXJyKTtcbiAgICB9XG4gICAgcHJlcGFyZUZvckRlc3RydWN0aW9uKHNlbGYpO1xuXG4gICAgc2VsZi5lbWl0KCdjcmVhdGVkJywgc2VsZik7XG4gICAgUG91Y2hEQi5lbWl0KCdjcmVhdGVkJywgc2VsZi5uYW1lKTtcbiAgICBzZWxmLnRhc2txdWV1ZS5yZWFkeShzZWxmKTtcbiAgfSk7XG5cbn1cblxuLy8gQWJvcnRDb250cm9sbGVyIHdhcyBpbnRyb2R1Y2VkIHF1aXRlIGEgd2hpbGUgYWZ0ZXIgZmV0Y2ggYW5kXG4vLyBpc250IHJlcXVpcmVkIGZvciBQb3VjaERCIHRvIGZ1bmN0aW9uIHNvIHBvbHlmaWxsIGlmIG5lZWRlZFxudmFyIGEgPSAodHlwZW9mIEFib3J0Q29udHJvbGxlciAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgPyBBYm9ydENvbnRyb2xsZXJcbiAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHthYm9ydDogZnVuY3Rpb24gKCkge319OyB9O1xuXG52YXIgZiQxID0gZmV0Y2g7XG52YXIgaCA9IEhlYWRlcnM7XG5cblBvdWNoREIuYWRhcHRlcnMgPSB7fTtcblBvdWNoREIucHJlZmVycmVkQWRhcHRlcnMgPSBbXTtcblxuUG91Y2hEQi5wcmVmaXggPSAnX3BvdWNoXyc7XG5cbnZhciBldmVudEVtaXR0ZXIgPSBuZXcgRUUoKTtcblxuZnVuY3Rpb24gc2V0VXBFdmVudEVtaXR0ZXIoUG91Y2gpIHtcbiAgT2JqZWN0LmtleXMoRUUucHJvdG90eXBlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAodHlwZW9mIEVFLnByb3RvdHlwZVtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBQb3VjaFtrZXldID0gZXZlbnRFbWl0dGVyW2tleV0uYmluZChldmVudEVtaXR0ZXIpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gdGhlc2UgYXJlIGNyZWF0ZWQgaW4gY29uc3RydWN0b3IuanMsIGFuZCBhbGxvdyB1cyB0byBub3RpZnkgZWFjaCBEQiB3aXRoXG4gIC8vIHRoZSBzYW1lIG5hbWUgdGhhdCBpdCB3YXMgZGVzdHJveWVkLCB2aWEgdGhlIGNvbnN0cnVjdG9yIG9iamVjdFxuICB2YXIgZGVzdHJ1Y3RMaXN0ZW5lcnMgPSBQb3VjaC5fZGVzdHJ1Y3Rpb25MaXN0ZW5lcnMgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuICBQb3VjaC5vbigncmVmJywgZnVuY3Rpb24gb25Db25zdHJ1Y3RvclJlZihkYikge1xuICAgIGlmICghZGVzdHJ1Y3RMaXN0ZW5lcnMuaGFzKGRiLm5hbWUpKSB7XG4gICAgICBkZXN0cnVjdExpc3RlbmVycy5zZXQoZGIubmFtZSwgW10pO1xuICAgIH1cbiAgICBkZXN0cnVjdExpc3RlbmVycy5nZXQoZGIubmFtZSkucHVzaChkYik7XG4gIH0pO1xuXG4gIFBvdWNoLm9uKCd1bnJlZicsIGZ1bmN0aW9uIG9uQ29uc3RydWN0b3JVbnJlZihkYikge1xuICAgIGlmICghZGVzdHJ1Y3RMaXN0ZW5lcnMuaGFzKGRiLm5hbWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBkYkxpc3QgPSBkZXN0cnVjdExpc3RlbmVycy5nZXQoZGIubmFtZSk7XG4gICAgdmFyIHBvcyA9IGRiTGlzdC5pbmRleE9mKGRiKTtcbiAgICBpZiAocG9zIDwgMCkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGJMaXN0LnNwbGljZShwb3MsIDEpO1xuICAgIGlmIChkYkxpc3QubGVuZ3RoID4gMSkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGRlc3RydWN0TGlzdGVuZXJzLnNldChkYi5uYW1lLCBkYkxpc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZXN0cnVjdExpc3RlbmVycy5kZWxldGUoZGIubmFtZSk7XG4gICAgfVxuICB9KTtcblxuICBQb3VjaC5vbignZGVzdHJveWVkJywgZnVuY3Rpb24gb25Db25zdHJ1Y3RvckRlc3Ryb3llZChuYW1lKSB7XG4gICAgaWYgKCFkZXN0cnVjdExpc3RlbmVycy5oYXMobmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRiTGlzdCA9IGRlc3RydWN0TGlzdGVuZXJzLmdldChuYW1lKTtcbiAgICBkZXN0cnVjdExpc3RlbmVycy5kZWxldGUobmFtZSk7XG4gICAgZGJMaXN0LmZvckVhY2goZnVuY3Rpb24gKGRiKSB7XG4gICAgICBkYi5lbWl0KCdkZXN0cm95ZWQnLHRydWUpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuc2V0VXBFdmVudEVtaXR0ZXIoUG91Y2hEQik7XG5cblBvdWNoREIuYWRhcHRlciA9IGZ1bmN0aW9uIChpZCwgb2JqLCBhZGRUb1ByZWZlcnJlZEFkYXB0ZXJzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChvYmoudmFsaWQoKSkge1xuICAgIFBvdWNoREIuYWRhcHRlcnNbaWRdID0gb2JqO1xuICAgIGlmIChhZGRUb1ByZWZlcnJlZEFkYXB0ZXJzKSB7XG4gICAgICBQb3VjaERCLnByZWZlcnJlZEFkYXB0ZXJzLnB1c2goaWQpO1xuICAgIH1cbiAgfVxufTtcblxuUG91Y2hEQi5wbHVnaW4gPSBmdW5jdGlvbiAob2JqKSB7XG4gIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7IC8vIGZ1bmN0aW9uIHN0eWxlIGZvciBwbHVnaW5zXG4gICAgb2JqKFBvdWNoREIpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHBsdWdpbjogZ290IFwiJyArIG9iaiArICdcIiwgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24nKTtcbiAgfSBlbHNlIHtcbiAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7IC8vIG9iamVjdCBzdHlsZSBmb3IgcGx1Z2luc1xuICAgICAgUG91Y2hEQi5wcm90b3R5cGVbaWRdID0gb2JqW2lkXTtcbiAgICB9KTtcbiAgfVxuICBpZiAodGhpcy5fX2RlZmF1bHRzKSB7XG4gICAgUG91Y2hEQi5fX2RlZmF1bHRzID0gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCB0aGlzLl9fZGVmYXVsdHMpO1xuICB9XG4gIHJldHVybiBQb3VjaERCO1xufTtcblxuUG91Y2hEQi5kZWZhdWx0cyA9IGZ1bmN0aW9uIChkZWZhdWx0T3B0cykge1xuICBmdW5jdGlvbiBQb3VjaEFsdChuYW1lLCBvcHRzKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBvdWNoQWx0KSkge1xuICAgICAgcmV0dXJuIG5ldyBQb3VjaEFsdChuYW1lLCBvcHRzKTtcbiAgICB9XG5cbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICAgIGlmIChuYW1lICYmIHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuICAgICAgb3B0cyA9IG5hbWU7XG4gICAgICBuYW1lID0gb3B0cy5uYW1lO1xuICAgICAgZGVsZXRlIG9wdHMubmFtZTtcbiAgICB9XG5cbiAgICBvcHRzID0gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCBQb3VjaEFsdC5fX2RlZmF1bHRzLCBvcHRzKTtcbiAgICBQb3VjaERCLmNhbGwodGhpcywgbmFtZSwgb3B0cyk7XG4gIH1cblxuICBpbmhlcml0cyhQb3VjaEFsdCwgUG91Y2hEQik7XG5cbiAgUG91Y2hBbHQucHJlZmVycmVkQWRhcHRlcnMgPSBQb3VjaERCLnByZWZlcnJlZEFkYXB0ZXJzLnNsaWNlKCk7XG4gIE9iamVjdC5rZXlzKFBvdWNoREIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICghKGtleSBpbiBQb3VjaEFsdCkpIHtcbiAgICAgIFBvdWNoQWx0W2tleV0gPSBQb3VjaERCW2tleV07XG4gICAgfVxuICB9KTtcblxuICAvLyBtYWtlIGRlZmF1bHQgb3B0aW9ucyB0cmFuc2l0aXZlXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3VjaGRiL3BvdWNoZGIvaXNzdWVzLzU5MjJcbiAgUG91Y2hBbHQuX19kZWZhdWx0cyA9ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgdGhpcy5fX2RlZmF1bHRzLCBkZWZhdWx0T3B0cyk7XG5cbiAgcmV0dXJuIFBvdWNoQWx0O1xufTtcblxuUG91Y2hEQi5mZXRjaCA9IGZ1bmN0aW9uICh1cmwsIG9wdHMpIHtcbiAgcmV0dXJuIGYkMSh1cmwsIG9wdHMpO1xufTtcblxuLy8gbWFuYWdlZCBhdXRvbWF0aWNhbGx5IGJ5IHNldC12ZXJzaW9uLmpzXG52YXIgdmVyc2lvbiA9IFwiNy4zLjBcIjtcblxuLy8gdGhpcyB3b3VsZCBqdXN0IGJlIFwicmV0dXJuIGRvY1tmaWVsZF1cIiwgYnV0IGZpZWxkc1xuLy8gY2FuIGJlIFwiZGVlcFwiIGR1ZSB0byBkb3Qgbm90YXRpb25cbmZ1bmN0aW9uIGdldEZpZWxkRnJvbURvYyhkb2MsIHBhcnNlZEZpZWxkKSB7XG4gIHZhciB2YWx1ZSA9IGRvYztcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhcnNlZEZpZWxkLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHBhcnNlZEZpZWxkW2ldO1xuICAgIHZhbHVlID0gdmFsdWVba2V5XTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlJDEobGVmdCwgcmlnaHQpIHtcbiAgcmV0dXJuIGxlZnQgPCByaWdodCA/IC0xIDogbGVmdCA+IHJpZ2h0ID8gMSA6IDA7XG59XG5cbi8vIENvbnZlcnRzIGEgc3RyaW5nIGluIGRvdCBub3RhdGlvbiB0byBhbiBhcnJheSBvZiBpdHMgY29tcG9uZW50cywgd2l0aCBiYWNrc2xhc2ggZXNjYXBpbmdcbmZ1bmN0aW9uIHBhcnNlRmllbGQoZmllbGROYW1lKSB7XG4gIC8vIGZpZWxkcyBtYXkgYmUgZGVlcCAoZS5nLiBcImZvby5iYXIuYmF6XCIpLCBzbyBwYXJzZVxuICB2YXIgZmllbGRzID0gW107XG4gIHZhciBjdXJyZW50ID0gJyc7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBmaWVsZE5hbWUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgY2ggPSBmaWVsZE5hbWVbaV07XG4gICAgaWYgKGkgPiAwICYmIGZpZWxkTmFtZVtpIC0gMV0gPT09ICdcXFxcJyAmJiAoY2ggPT09ICckJyB8fCBjaCA9PT0gJy4nKSkge1xuICAgICAgLy8gZXNjYXBlZCBkZWxpbWl0ZXJcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnN1YnN0cmluZygwLCBjdXJyZW50Lmxlbmd0aCAtIDEpICsgY2g7XG4gICAgfSBlbHNlIGlmIChjaCA9PT0gJy4nKSB7XG4gICAgICAvLyBXaGVuIGAuYCBpcyBub3QgZXNjYXBlZCAoYWJvdmUpLCBpdCBpcyBhIGZpZWxkIGRlbGltaXRlclxuICAgICAgZmllbGRzLnB1c2goY3VycmVudCk7XG4gICAgICBjdXJyZW50ID0gJyc7XG4gICAgfSBlbHNlIHsgLy8gbm9ybWFsIGNoYXJhY3RlclxuICAgICAgY3VycmVudCArPSBjaDtcbiAgICB9XG4gIH1cbiAgZmllbGRzLnB1c2goY3VycmVudCk7XG4gIHJldHVybiBmaWVsZHM7XG59XG5cbnZhciBjb21iaW5hdGlvbkZpZWxkcyA9IFsnJG9yJywgJyRub3InLCAnJG5vdCddO1xuZnVuY3Rpb24gaXNDb21iaW5hdGlvbmFsRmllbGQoZmllbGQpIHtcbiAgcmV0dXJuIGNvbWJpbmF0aW9uRmllbGRzLmluZGV4T2YoZmllbGQpID4gLTE7XG59XG5cbmZ1bmN0aW9uIGdldEtleShvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iailbMF07XG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlKG9iaikge1xuICByZXR1cm4gb2JqW2dldEtleShvYmopXTtcbn1cblxuXG4vLyBmbGF0dGVuIGFuIGFycmF5IG9mIHNlbGVjdG9ycyBqb2luZWQgYnkgYW4gJGFuZCBvcGVyYXRvclxuZnVuY3Rpb24gbWVyZ2VBbmRlZFNlbGVjdG9ycyhzZWxlY3RvcnMpIHtcblxuICAvLyBzb3J0IHRvIGVuc3VyZSB0aGF0IGUuZy4gaWYgdGhlIHVzZXIgc3BlY2lmaWVkXG4gIC8vICRhbmQ6IFt7JGd0OiAnYSd9LCB7JGd0OiAnYid9XSwgdGhlbiBpdCdzIGNvbGxhcHNlZCBpbnRvXG4gIC8vIGp1c3QgeyRndDogJ2InfVxuICB2YXIgcmVzID0ge307XG4gIHZhciBmaXJzdCA9IHskb3I6IHRydWUsICRub3I6IHRydWV9O1xuXG4gIHNlbGVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIE9iamVjdC5rZXlzKHNlbGVjdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgdmFyIG1hdGNoZXIgPSBzZWxlY3RvcltmaWVsZF07XG4gICAgICBpZiAodHlwZW9mIG1hdGNoZXIgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIG1hdGNoZXIgPSB7JGVxOiBtYXRjaGVyfTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQ29tYmluYXRpb25hbEZpZWxkKGZpZWxkKSkge1xuICAgICAgICAvLyBvciwgbm9yXG4gICAgICAgIGlmIChtYXRjaGVyIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICBpZiAoZmlyc3RbZmllbGRdKSB7XG4gICAgICAgICAgICBmaXJzdFtmaWVsZF0gPSBmYWxzZTtcbiAgICAgICAgICAgIHJlc1tmaWVsZF0gPSBtYXRjaGVyO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBlbnRyaWVzID0gW107XG4gICAgICAgICAgcmVzW2ZpZWxkXS5mb3JFYWNoKGZ1bmN0aW9uIChleGlzdGluZykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMobWF0Y2hlcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgIHZhciBtID0gbWF0Y2hlcltrZXldO1xuICAgICAgICAgICAgICB2YXIgbG9uZ2VzdCA9IE1hdGgubWF4KE9iamVjdC5rZXlzKGV4aXN0aW5nKS5sZW5ndGgsIE9iamVjdC5rZXlzKG0pLmxlbmd0aCk7XG4gICAgICAgICAgICAgIHZhciBtZXJnZWQgPSBtZXJnZUFuZGVkU2VsZWN0b3JzKFtleGlzdGluZywgbV0pO1xuICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMobWVyZ2VkKS5sZW5ndGggPD0gbG9uZ2VzdCkge1xuICAgICAgICAgICAgICAgIC8vIHdlIGhhdmUgYSBzaXR1YXRpb24gbGlrZTogKGEgOnskZXEgOjF9IHx8IC4uLikgJiYgKGEgeyRlcTogMn0gfHwgLi4uKVxuICAgICAgICAgICAgICAgIC8vIG1lcmdpbmcgd291bGQgcHJvZHVjZSBhICRlcSAyIHdoZW4gYWN0dWFsbHkgd2Ugc2hvdWxkbid0IGV2ZXIgbWF0Y2ggYWdhaW5zdCB0aGVzZSBtZXJnZWQgY29uZGl0aW9uc1xuICAgICAgICAgICAgICAgIC8vIG1lcmdlZCBzaG91bGQgYWx3YXlzIGNvbnRhaW4gbW9yZSB2YWx1ZXMgdG8gYmUgdmFsaWRcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZW50cmllcy5wdXNoKG1lcmdlZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXNbZmllbGRdID0gZW50cmllcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBub3RcbiAgICAgICAgICByZXNbZmllbGRdID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhbbWF0Y2hlcl0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZmllbGRNYXRjaGVycyA9IHJlc1tmaWVsZF0gPSByZXNbZmllbGRdIHx8IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhtYXRjaGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG1hdGNoZXJbb3BlcmF0b3JdO1xuXG4gICAgICAgICAgaWYgKG9wZXJhdG9yID09PSAnJGd0JyB8fCBvcGVyYXRvciA9PT0gJyRndGUnKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VHdEd0ZShvcGVyYXRvciwgdmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09ICckbHQnIHx8IG9wZXJhdG9yID09PSAnJGx0ZScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZUx0THRlKG9wZXJhdG9yLCB2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gJyRuZScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZU5lKHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSAnJGVxJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlRXEodmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiJHJlZ2V4XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZVJlZ2V4KHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmllbGRNYXRjaGVyc1tvcGVyYXRvcl0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXM7XG59XG5cblxuXG4vLyBjb2xsYXBzZSBsb2dpY2FsbHkgZXF1aXZhbGVudCBndC9ndGUgdmFsdWVzXG5mdW5jdGlvbiBtZXJnZUd0R3RlKG9wZXJhdG9yLCB2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGVxICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjsgLy8gZG8gbm90aGluZ1xuICB9XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZ3RlICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChvcGVyYXRvciA9PT0gJyRndGUnKSB7XG4gICAgICBpZiAodmFsdWUgPiBmaWVsZE1hdGNoZXJzLiRndGUpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRndGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBvcGVyYXRvciA9PT0gJyRndCdcbiAgICAgIGlmICh2YWx1ZSA+PSBmaWVsZE1hdGNoZXJzLiRndGUpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3RlO1xuICAgICAgICBmaWVsZE1hdGNoZXJzLiRndCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZ3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGd0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA+IGZpZWxkTWF0Y2hlcnMuJGd0KSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGd0O1xuICAgICAgICBmaWVsZE1hdGNoZXJzLiRndGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBvcGVyYXRvciA9PT0gJyRndCdcbiAgICAgIGlmICh2YWx1ZSA+IGZpZWxkTWF0Y2hlcnMuJGd0KSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZmllbGRNYXRjaGVycy4kZ3QgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZmllbGRNYXRjaGVyc1tvcGVyYXRvcl0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vLyBjb2xsYXBzZSBsb2dpY2FsbHkgZXF1aXZhbGVudCBsdC9sdGUgdmFsdWVzXG5mdW5jdGlvbiBtZXJnZUx0THRlKG9wZXJhdG9yLCB2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGVxICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjsgLy8gZG8gbm90aGluZ1xuICB9XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kbHRlICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChvcGVyYXRvciA9PT0gJyRsdGUnKSB7XG4gICAgICBpZiAodmFsdWUgPCBmaWVsZE1hdGNoZXJzLiRsdGUpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRsdGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBvcGVyYXRvciA9PT0gJyRndCdcbiAgICAgIGlmICh2YWx1ZSA8PSBmaWVsZE1hdGNoZXJzLiRsdGUpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHRlO1xuICAgICAgICBmaWVsZE1hdGNoZXJzLiRsdCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kbHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGx0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA8IGZpZWxkTWF0Y2hlcnMuJGx0KSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGx0O1xuICAgICAgICBmaWVsZE1hdGNoZXJzLiRsdGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBvcGVyYXRvciA9PT0gJyRndCdcbiAgICAgIGlmICh2YWx1ZSA8IGZpZWxkTWF0Y2hlcnMuJGx0KSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZmllbGRNYXRjaGVycy4kbHQgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZmllbGRNYXRjaGVyc1tvcGVyYXRvcl0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vLyBjb21iaW5lICRuZSB2YWx1ZXMgaW50byBvbmUgYXJyYXlcbmZ1bmN0aW9uIG1lcmdlTmUodmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgaWYgKCckbmUnIGluIGZpZWxkTWF0Y2hlcnMpIHtcbiAgICAvLyB0aGVyZSBhcmUgbWFueSB0aGluZ3MgdGhpcyBjb3VsZCBcIm5vdFwiIGJlXG4gICAgZmllbGRNYXRjaGVycy4kbmUucHVzaCh2YWx1ZSk7XG4gIH0gZWxzZSB7IC8vIGRvZXNuJ3QgZXhpc3QgeWV0XG4gICAgZmllbGRNYXRjaGVycy4kbmUgPSBbdmFsdWVdO1xuICB9XG59XG5cbi8vIGFkZCAkZXEgaW50byB0aGUgbWl4XG5mdW5jdGlvbiBtZXJnZUVxKHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIC8vIHRoZXNlIGFsbCBoYXZlIGxlc3Mgc3BlY2lmaWNpdHkgdGhhbiB0aGUgJGVxXG4gIC8vIFRPRE86IGNoZWNrIGZvciB1c2VyIGVycm9ycyBoZXJlXG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRndDtcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGd0ZTtcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGx0O1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHRlO1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kbmU7XG4gIGZpZWxkTWF0Y2hlcnMuJGVxID0gdmFsdWU7XG59XG5cbi8vIGNvbWJpbmUgJHJlZ2V4IHZhbHVlcyBpbnRvIG9uZSBhcnJheVxuZnVuY3Rpb24gbWVyZ2VSZWdleCh2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICBpZiAoJyRyZWdleCcgaW4gZmllbGRNYXRjaGVycykge1xuICAgIC8vIGEgdmFsdWUgY291bGQgbWF0Y2ggbXVsdGlwbGUgcmVnZXhlc1xuICAgIGZpZWxkTWF0Y2hlcnMuJHJlZ2V4LnB1c2godmFsdWUpO1xuICB9IGVsc2UgeyAvLyBkb2Vzbid0IGV4aXN0IHlldFxuICAgIGZpZWxkTWF0Y2hlcnMuJHJlZ2V4ID0gW3ZhbHVlXTtcbiAgfVxufVxuXG4vLyM3NDU4OiBleGVjdXRlIGZ1bmN0aW9uIG1lcmdlQW5kZWRTZWxlY3RvcnMgb24gbmVzdGVkICRhbmRcbmZ1bmN0aW9uIG1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQob2JqKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqW2ldWyckYW5kJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW2ldID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhvYmpbaV1bJyRhbmQnXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZSA9IG9ialtwcm9wXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIG1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQodmFsdWUpOyAvLyA8LSByZWN1cnNpdmUgY2FsbFxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG59XG5cbi8vIzc0NTg6IGRldGVybWluZSBpZCAkYW5kIGlzIHByZXNlbnQgaW4gc2VsZWN0b3IgKGF0IGFueSBsZXZlbClcbmZ1bmN0aW9uIGlzQW5kSW5TZWxlY3RvcihvYmosIGlzQW5kKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgaWYgKHByb3AgPT09ICckYW5kJykge1xuICAgICAgICAgICAgaXNBbmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZSA9IG9ialtwcm9wXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlzQW5kID0gaXNBbmRJblNlbGVjdG9yKHZhbHVlLCBpc0FuZCk7IC8vIDwtIHJlY3Vyc2l2ZSBjYWxsXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlzQW5kO1xufVxuXG4vL1xuLy8gbm9ybWFsaXplIHRoZSBzZWxlY3RvclxuLy9cbmZ1bmN0aW9uIG1hc3NhZ2VTZWxlY3RvcihpbnB1dCkge1xuICB2YXIgcmVzdWx0ID0gY2xvbmUoaW5wdXQpO1xuICB2YXIgd2FzQW5kZWQgPSBmYWxzZTtcbiAgICAvLyM3NDU4OiBpZiAkYW5kIGlzIHByZXNlbnQgaW4gc2VsZWN0b3IgKGF0IGFueSBsZXZlbCkgbWVyZ2UgbmVzdGVkICRhbmRcbiAgICBpZiAoaXNBbmRJblNlbGVjdG9yKHJlc3VsdCwgZmFsc2UpKSB7XG4gICAgICAgIHJlc3VsdCA9IG1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQocmVzdWx0KTtcbiAgICAgICAgaWYgKCckYW5kJyBpbiByZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG1lcmdlQW5kZWRTZWxlY3RvcnMocmVzdWx0WyckYW5kJ10pO1xuICAgICAgICB9XG4gICAgICAgIHdhc0FuZGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgWyckb3InLCAnJG5vciddLmZvckVhY2goZnVuY3Rpb24gKG9yT3JOb3IpIHtcbiAgICBpZiAob3JPck5vciBpbiByZXN1bHQpIHtcbiAgICAgIC8vIG1lc3NhZ2UgZWFjaCBpbmRpdmlkdWFsIHNlbGVjdG9yXG4gICAgICAvLyBlLmcuIHtmb286ICdiYXInfSBiZWNvbWVzIHtmb286IHskZXE6ICdiYXInfX1cbiAgICAgIHJlc3VsdFtvck9yTm9yXS5mb3JFYWNoKGZ1bmN0aW9uIChzdWJTZWxlY3Rvcikge1xuICAgICAgICB2YXIgZmllbGRzID0gT2JqZWN0LmtleXMoc3ViU2VsZWN0b3IpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBmaWVsZCA9IGZpZWxkc1tpXTtcbiAgICAgICAgICB2YXIgbWF0Y2hlciA9IHN1YlNlbGVjdG9yW2ZpZWxkXTtcbiAgICAgICAgICBpZiAodHlwZW9mIG1hdGNoZXIgIT09ICdvYmplY3QnIHx8IG1hdGNoZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHN1YlNlbGVjdG9yW2ZpZWxkXSA9IHskZXE6IG1hdGNoZXJ9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBpZiAoJyRub3QnIGluIHJlc3VsdCkge1xuICAgIC8vVGhpcyBmZWVscyBhIGxpdHRsZSBsaWtlIGZvcmNpbmcsIGJ1dCBpdCB3aWxsIHdvcmsgZm9yIG5vdyxcbiAgICAvL0kgd291bGQgbGlrZSB0byBjb21lIGJhY2sgdG8gdGhpcyBhbmQgbWFrZSB0aGUgbWVyZ2luZyBvZiBzZWxlY3RvcnMgYSBsaXR0bGUgbW9yZSBnZW5lcmljXG4gICAgcmVzdWx0Wyckbm90J10gPSBtZXJnZUFuZGVkU2VsZWN0b3JzKFtyZXN1bHRbJyRub3QnXV0pO1xuICB9XG5cbiAgdmFyIGZpZWxkcyA9IE9iamVjdC5rZXlzKHJlc3VsdCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZmllbGQgPSBmaWVsZHNbaV07XG4gICAgdmFyIG1hdGNoZXIgPSByZXN1bHRbZmllbGRdO1xuXG4gICAgaWYgKHR5cGVvZiBtYXRjaGVyICE9PSAnb2JqZWN0JyB8fCBtYXRjaGVyID09PSBudWxsKSB7XG4gICAgICBtYXRjaGVyID0geyRlcTogbWF0Y2hlcn07XG4gICAgfSBlbHNlIGlmICghd2FzQW5kZWQpIHtcbiAgICAgIC8vIFRoZXNlIHZhbHVlcyBtdXN0IGJlIHBsYWNlZCBpbiBhbiBhcnJheSBiZWNhdXNlIHRoZXNlIG9wZXJhdG9ycyBjYW4gYmUgdXNlZCBtdWx0aXBsZSB0aW1lcyBvbiB0aGUgc2FtZSBmaWVsZFxuICAgICAgLy8gd2hlbiAkYW5kIGlzIHVzZWQsIG1lcmdlQW5kZWRTZWxlY3RvcnMgdGFrZXMgY2FyZSBvZiBwdXR0aW5nIHRoZW0gaW50byBhcnJheXMsIG90aGVyd2lzZSBpdCdzIGRvbmUgaGVyZTpcbiAgICAgIGlmICgnJG5lJyBpbiBtYXRjaGVyKSB7XG4gICAgICAgIG1hdGNoZXIuJG5lID0gW21hdGNoZXIuJG5lXTtcbiAgICAgIH1cbiAgICAgIGlmICgnJHJlZ2V4JyBpbiBtYXRjaGVyKSB7XG4gICAgICAgIG1hdGNoZXIuJHJlZ2V4ID0gW21hdGNoZXIuJHJlZ2V4XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0W2ZpZWxkXSA9IG1hdGNoZXI7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBwYWQoc3RyLCBwYWRXaXRoLCB1cFRvTGVuZ3RoKSB7XG4gIHZhciBwYWRkaW5nID0gJyc7XG4gIHZhciB0YXJnZXRMZW5ndGggPSB1cFRvTGVuZ3RoIC0gc3RyLmxlbmd0aDtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgd2hpbGUgKHBhZGRpbmcubGVuZ3RoIDwgdGFyZ2V0TGVuZ3RoKSB7XG4gICAgcGFkZGluZyArPSBwYWRXaXRoO1xuICB9XG4gIHJldHVybiBwYWRkaW5nO1xufVxuXG5mdW5jdGlvbiBwYWRMZWZ0KHN0ciwgcGFkV2l0aCwgdXBUb0xlbmd0aCkge1xuICB2YXIgcGFkZGluZyA9IHBhZChzdHIsIHBhZFdpdGgsIHVwVG9MZW5ndGgpO1xuICByZXR1cm4gcGFkZGluZyArIHN0cjtcbn1cblxudmFyIE1JTl9NQUdOSVRVREUgPSAtMzI0OyAvLyB2ZXJpZmllZCBieSAtTnVtYmVyLk1JTl9WQUxVRVxudmFyIE1BR05JVFVERV9ESUdJVFMgPSAzOyAvLyBkaXR0b1xudmFyIFNFUCA9ICcnOyAvLyBzZXQgdG8gJ18nIGZvciBlYXNpZXIgZGVidWdnaW5nXG5cbmZ1bmN0aW9uIGNvbGxhdGUoYSwgYikge1xuXG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBhID0gbm9ybWFsaXplS2V5KGEpO1xuICBiID0gbm9ybWFsaXplS2V5KGIpO1xuXG4gIHZhciBhaSA9IGNvbGxhdGlvbkluZGV4KGEpO1xuICB2YXIgYmkgPSBjb2xsYXRpb25JbmRleChiKTtcbiAgaWYgKChhaSAtIGJpKSAhPT0gMCkge1xuICAgIHJldHVybiBhaSAtIGJpO1xuICB9XG4gIHN3aXRjaCAodHlwZW9mIGEpIHtcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIGEgLSBiO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiAxO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gc3RyaW5nQ29sbGF0ZShhLCBiKTtcbiAgfVxuICByZXR1cm4gQXJyYXkuaXNBcnJheShhKSA/IGFycmF5Q29sbGF0ZShhLCBiKSA6IG9iamVjdENvbGxhdGUoYSwgYik7XG59XG5cbi8vIGNvdWNoIGNvbnNpZGVycyBudWxsL05hTi9JbmZpbml0eS8tSW5maW5pdHkgPT09IHVuZGVmaW5lZCxcbi8vIGZvciB0aGUgcHVycG9zZXMgb2YgbWFwcmVkdWNlIGluZGV4ZXMuIGFsc28sIGRhdGVzIGdldCBzdHJpbmdpZmllZC5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUtleShrZXkpIHtcbiAgc3dpdGNoICh0eXBlb2Yga2V5KSB7XG4gICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBpZiAoa2V5ID09PSBJbmZpbml0eSB8fCBrZXkgPT09IC1JbmZpbml0eSB8fCBpc05hTihrZXkpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGtleTtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgdmFyIG9yaWdLZXkgPSBrZXk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShrZXkpKSB7XG4gICAgICAgIHZhciBsZW4gPSBrZXkubGVuZ3RoO1xuICAgICAgICBrZXkgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGtleVtpXSA9IG5vcm1hbGl6ZUtleShvcmlnS2V5W2ldKTtcbiAgICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIH0gZWxzZSBpZiAoa2V5IGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4ga2V5LnRvSlNPTigpO1xuICAgICAgfSBlbHNlIGlmIChrZXkgIT09IG51bGwpIHsgLy8gZ2VuZXJpYyBvYmplY3RcbiAgICAgICAga2V5ID0ge307XG4gICAgICAgIGZvciAodmFyIGsgaW4gb3JpZ0tleSkge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3JpZ0tleSwgaykpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBvcmlnS2V5W2tdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIGtleVtrXSA9IG5vcm1hbGl6ZUtleSh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIHJldHVybiBrZXk7XG59XG5cbmZ1bmN0aW9uIGluZGV4aWZ5KGtleSkge1xuICBpZiAoa2V5ICE9PSBudWxsKSB7XG4gICAgc3dpdGNoICh0eXBlb2Yga2V5KSB7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgcmV0dXJuIGtleSA/IDEgOiAwO1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgcmV0dXJuIG51bVRvSW5kZXhhYmxlU3RyaW5nKGtleSk7XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAvLyBXZSd2ZSB0byBiZSBzdXJlIHRoYXQga2V5IGRvZXMgbm90IGNvbnRhaW4gXFx1MDAwMFxuICAgICAgICAvLyBEbyBvcmRlci1wcmVzZXJ2aW5nIHJlcGxhY2VtZW50czpcbiAgICAgICAgLy8gMCAtPiAxLCAxXG4gICAgICAgIC8vIDEgLT4gMSwgMlxuICAgICAgICAvLyAyIC0+IDIsIDJcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29udHJvbC1yZWdleCAqL1xuICAgICAgICByZXR1cm4ga2V5XG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDIvZywgJ1xcdTAwMDJcXHUwMDAyJylcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMS9nLCAnXFx1MDAwMVxcdTAwMDInKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAwL2csICdcXHUwMDAxXFx1MDAwMScpO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShrZXkpO1xuICAgICAgICB2YXIgYXJyID0gaXNBcnJheSA/IGtleSA6IE9iamVjdC5rZXlzKGtleSk7XG4gICAgICAgIHZhciBpID0gLTE7XG4gICAgICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvSW5kZXhhYmxlU3RyaW5nKGFycltpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICAgICAgICAgIHZhciBvYmpLZXkgPSBhcnJbaV07XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9JbmRleGFibGVTdHJpbmcob2JqS2V5KSArXG4gICAgICAgICAgICAgICAgdG9JbmRleGFibGVTdHJpbmcoa2V5W29iaktleV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8vIGNvbnZlcnQgdGhlIGdpdmVuIGtleSB0byBhIHN0cmluZyB0aGF0IHdvdWxkIGJlIGFwcHJvcHJpYXRlXG4vLyBmb3IgbGV4aWNhbCBzb3J0aW5nLCBlLmcuIHdpdGhpbiBhIGRhdGFiYXNlLCB3aGVyZSB0aGVcbi8vIHNvcnRpbmcgaXMgdGhlIHNhbWUgZ2l2ZW4gYnkgdGhlIGNvbGxhdGUoKSBmdW5jdGlvbi5cbmZ1bmN0aW9uIHRvSW5kZXhhYmxlU3RyaW5nKGtleSkge1xuICB2YXIgemVybyA9ICdcXHUwMDAwJztcbiAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG4gIHJldHVybiBjb2xsYXRpb25JbmRleChrZXkpICsgU0VQICsgaW5kZXhpZnkoa2V5KSArIHplcm87XG59XG5cbmZ1bmN0aW9uIHBhcnNlTnVtYmVyKHN0ciwgaSkge1xuICB2YXIgb3JpZ2luYWxJZHggPSBpO1xuICB2YXIgbnVtO1xuICB2YXIgemVybyA9IHN0cltpXSA9PT0gJzEnO1xuICBpZiAoemVybykge1xuICAgIG51bSA9IDA7XG4gICAgaSsrO1xuICB9IGVsc2Uge1xuICAgIHZhciBuZWcgPSBzdHJbaV0gPT09ICcwJztcbiAgICBpKys7XG4gICAgdmFyIG51bUFzU3RyaW5nID0gJyc7XG4gICAgdmFyIG1hZ0FzU3RyaW5nID0gc3RyLnN1YnN0cmluZyhpLCBpICsgTUFHTklUVURFX0RJR0lUUyk7XG4gICAgdmFyIG1hZ25pdHVkZSA9IHBhcnNlSW50KG1hZ0FzU3RyaW5nLCAxMCkgKyBNSU5fTUFHTklUVURFO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKG5lZykge1xuICAgICAgbWFnbml0dWRlID0gLW1hZ25pdHVkZTtcbiAgICB9XG4gICAgaSArPSBNQUdOSVRVREVfRElHSVRTO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICB2YXIgY2ggPSBzdHJbaV07XG4gICAgICBpZiAoY2ggPT09ICdcXHUwMDAwJykge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG51bUFzU3RyaW5nICs9IGNoO1xuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH1cbiAgICBudW1Bc1N0cmluZyA9IG51bUFzU3RyaW5nLnNwbGl0KCcuJyk7XG4gICAgaWYgKG51bUFzU3RyaW5nLmxlbmd0aCA9PT0gMSkge1xuICAgICAgbnVtID0gcGFyc2VJbnQobnVtQXNTdHJpbmcsIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIG51bSA9IHBhcnNlRmxvYXQobnVtQXNTdHJpbmdbMF0gKyAnLicgKyBudW1Bc1N0cmluZ1sxXSk7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKG5lZykge1xuICAgICAgbnVtID0gbnVtIC0gMTA7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKG1hZ25pdHVkZSAhPT0gMCkge1xuICAgICAgLy8gcGFyc2VGbG9hdCBpcyBtb3JlIHJlbGlhYmxlIHRoYW4gcG93IGR1ZSB0byByb3VuZGluZyBlcnJvcnNcbiAgICAgIC8vIGUuZy4gTnVtYmVyLk1BWF9WQUxVRSB3b3VsZCByZXR1cm4gSW5maW5pdHkgaWYgd2UgZGlkXG4gICAgICAvLyBudW0gKiBNYXRoLnBvdygxMCwgbWFnbml0dWRlKTtcbiAgICAgIG51bSA9IHBhcnNlRmxvYXQobnVtICsgJ2UnICsgbWFnbml0dWRlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtudW06IG51bSwgbGVuZ3RoIDogaSAtIG9yaWdpbmFsSWR4fTtcbn1cblxuLy8gbW92ZSB1cCB0aGUgc3RhY2sgd2hpbGUgcGFyc2luZ1xuLy8gdGhpcyBmdW5jdGlvbiBtb3ZlZCBvdXRzaWRlIG9mIHBhcnNlSW5kZXhhYmxlU3RyaW5nIGZvciBwZXJmb3JtYW5jZVxuZnVuY3Rpb24gcG9wKHN0YWNrLCBtZXRhU3RhY2spIHtcbiAgdmFyIG9iaiA9IHN0YWNrLnBvcCgpO1xuXG4gIGlmIChtZXRhU3RhY2subGVuZ3RoKSB7XG4gICAgdmFyIGxhc3RNZXRhRWxlbWVudCA9IG1ldGFTdGFja1ttZXRhU3RhY2subGVuZ3RoIC0gMV07XG4gICAgaWYgKG9iaiA9PT0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQpIHtcbiAgICAgIC8vIHBvcHBpbmcgYSBtZXRhLWVsZW1lbnQsIGUuZy4gYW4gb2JqZWN0IHdob3NlIHZhbHVlIGlzIGFub3RoZXIgb2JqZWN0XG4gICAgICBtZXRhU3RhY2sucG9wKCk7XG4gICAgICBsYXN0TWV0YUVsZW1lbnQgPSBtZXRhU3RhY2tbbWV0YVN0YWNrLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICB2YXIgZWxlbWVudCA9IGxhc3RNZXRhRWxlbWVudC5lbGVtZW50O1xuICAgIHZhciBsYXN0RWxlbWVudEluZGV4ID0gbGFzdE1ldGFFbGVtZW50LmluZGV4O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpKSB7XG4gICAgICBlbGVtZW50LnB1c2gob2JqKTtcbiAgICB9IGVsc2UgaWYgKGxhc3RFbGVtZW50SW5kZXggPT09IHN0YWNrLmxlbmd0aCAtIDIpIHsgLy8gb2JqIHdpdGgga2V5K3ZhbHVlXG4gICAgICB2YXIga2V5ID0gc3RhY2sucG9wKCk7XG4gICAgICBlbGVtZW50W2tleV0gPSBvYmo7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YWNrLnB1c2gob2JqKTsgLy8gb2JqIHdpdGgga2V5IG9ubHlcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VJbmRleGFibGVTdHJpbmcoc3RyKSB7XG4gIHZhciBzdGFjayA9IFtdO1xuICB2YXIgbWV0YVN0YWNrID0gW107IC8vIHN0YWNrIGZvciBhcnJheXMgYW5kIG9iamVjdHNcbiAgdmFyIGkgPSAwO1xuXG4gIC8qZXNsaW50IG5vLWNvbnN0YW50LWNvbmRpdGlvbjogW1wiZXJyb3JcIiwgeyBcImNoZWNrTG9vcHNcIjogZmFsc2UgfV0qL1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciBjb2xsYXRpb25JbmRleCA9IHN0cltpKytdO1xuICAgIGlmIChjb2xsYXRpb25JbmRleCA9PT0gJ1xcdTAwMDAnKSB7XG4gICAgICBpZiAoc3RhY2subGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBzdGFjay5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvcChzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAoY29sbGF0aW9uSW5kZXgpIHtcbiAgICAgIGNhc2UgJzEnOlxuICAgICAgICBzdGFjay5wdXNoKG51bGwpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzInOlxuICAgICAgICBzdGFjay5wdXNoKHN0cltpXSA9PT0gJzEnKTtcbiAgICAgICAgaSsrO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzMnOlxuICAgICAgICB2YXIgcGFyc2VkTnVtID0gcGFyc2VOdW1iZXIoc3RyLCBpKTtcbiAgICAgICAgc3RhY2sucHVzaChwYXJzZWROdW0ubnVtKTtcbiAgICAgICAgaSArPSBwYXJzZWROdW0ubGVuZ3RoO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzQnOlxuICAgICAgICB2YXIgcGFyc2VkU3RyID0gJyc7XG4gICAgICAgIC8qZXNsaW50IG5vLWNvbnN0YW50LWNvbmRpdGlvbjogW1wiZXJyb3JcIiwgeyBcImNoZWNrTG9vcHNcIjogZmFsc2UgfV0qL1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIHZhciBjaCA9IHN0cltpXTtcbiAgICAgICAgICBpZiAoY2ggPT09ICdcXHUwMDAwJykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcnNlZFN0ciArPSBjaDtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGVyZm9ybSB0aGUgcmV2ZXJzZSBvZiB0aGUgb3JkZXItcHJlc2VydmluZyByZXBsYWNlbWVudFxuICAgICAgICAvLyBhbGdvcml0aG0gKHNlZSBhYm92ZSlcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29udHJvbC1yZWdleCAqL1xuICAgICAgICBwYXJzZWRTdHIgPSBwYXJzZWRTdHIucmVwbGFjZSgvXFx1MDAwMVxcdTAwMDEvZywgJ1xcdTAwMDAnKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAxXFx1MDAwMi9nLCAnXFx1MDAwMScpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDJcXHUwMDAyL2csICdcXHUwMDAyJyk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29udHJvbC1yZWdleCAqL1xuICAgICAgICBzdGFjay5wdXNoKHBhcnNlZFN0cik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnNSc6XG4gICAgICAgIHZhciBhcnJheUVsZW1lbnQgPSB7IGVsZW1lbnQ6IFtdLCBpbmRleDogc3RhY2subGVuZ3RoIH07XG4gICAgICAgIHN0YWNrLnB1c2goYXJyYXlFbGVtZW50LmVsZW1lbnQpO1xuICAgICAgICBtZXRhU3RhY2sucHVzaChhcnJheUVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzYnOlxuICAgICAgICB2YXIgb2JqRWxlbWVudCA9IHsgZWxlbWVudDoge30sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChvYmpFbGVtZW50LmVsZW1lbnQpO1xuICAgICAgICBtZXRhU3RhY2sucHVzaChvYmpFbGVtZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdiYWQgY29sbGF0aW9uSW5kZXggb3IgdW5leHBlY3RlZGx5IHJlYWNoZWQgZW5kIG9mIGlucHV0OiAnICtcbiAgICAgICAgICAgIGNvbGxhdGlvbkluZGV4KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXJyYXlDb2xsYXRlKGEsIGIpIHtcbiAgdmFyIGxlbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgc29ydCA9IGNvbGxhdGUoYVtpXSwgYltpXSk7XG4gICAgaWYgKHNvcnQgIT09IDApIHtcbiAgICAgIHJldHVybiBzb3J0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gKGEubGVuZ3RoID09PSBiLmxlbmd0aCkgPyAwIDpcbiAgICAoYS5sZW5ndGggPiBiLmxlbmd0aCkgPyAxIDogLTE7XG59XG5mdW5jdGlvbiBzdHJpbmdDb2xsYXRlKGEsIGIpIHtcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGFsZWhhcnZleS9wb3VjaGRiL2lzc3Vlcy80MFxuICAvLyBUaGlzIGlzIGluY29tcGF0aWJsZSB3aXRoIHRoZSBDb3VjaERCIGltcGxlbWVudGF0aW9uLCBidXQgaXRzIHRoZVxuICAvLyBiZXN0IHdlIGNhbiBkbyBmb3Igbm93XG4gIHJldHVybiAoYSA9PT0gYikgPyAwIDogKChhID4gYikgPyAxIDogLTEpO1xufVxuZnVuY3Rpb24gb2JqZWN0Q29sbGF0ZShhLCBiKSB7XG4gIHZhciBhayA9IE9iamVjdC5rZXlzKGEpLCBiayA9IE9iamVjdC5rZXlzKGIpO1xuICB2YXIgbGVuID0gTWF0aC5taW4oYWsubGVuZ3RoLCBiay5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgLy8gRmlyc3Qgc29ydCB0aGUga2V5c1xuICAgIHZhciBzb3J0ID0gY29sbGF0ZShha1tpXSwgYmtbaV0pO1xuICAgIGlmIChzb3J0ICE9PSAwKSB7XG4gICAgICByZXR1cm4gc29ydDtcbiAgICB9XG4gICAgLy8gaWYgdGhlIGtleXMgYXJlIGVxdWFsIHNvcnQgdGhlIHZhbHVlc1xuICAgIHNvcnQgPSBjb2xsYXRlKGFbYWtbaV1dLCBiW2JrW2ldXSk7XG4gICAgaWYgKHNvcnQgIT09IDApIHtcbiAgICAgIHJldHVybiBzb3J0O1xuICAgIH1cblxuICB9XG4gIHJldHVybiAoYWsubGVuZ3RoID09PSBiay5sZW5ndGgpID8gMCA6XG4gICAgKGFrLmxlbmd0aCA+IGJrLmxlbmd0aCkgPyAxIDogLTE7XG59XG4vLyBUaGUgY29sbGF0aW9uIGlzIGRlZmluZWQgYnkgZXJsYW5ncyBvcmRlcmVkIHRlcm1zXG4vLyB0aGUgYXRvbXMgbnVsbCwgdHJ1ZSwgZmFsc2UgY29tZSBmaXJzdCwgdGhlbiBudW1iZXJzLCBzdHJpbmdzLFxuLy8gYXJyYXlzLCB0aGVuIG9iamVjdHNcbi8vIG51bGwvdW5kZWZpbmVkL05hTi9JbmZpbml0eS8tSW5maW5pdHkgYXJlIGFsbCBjb25zaWRlcmVkIG51bGxcbmZ1bmN0aW9uIGNvbGxhdGlvbkluZGV4KHgpIHtcbiAgdmFyIGlkID0gWydib29sZWFuJywgJ251bWJlcicsICdzdHJpbmcnLCAnb2JqZWN0J107XG4gIHZhciBpZHggPSBpZC5pbmRleE9mKHR5cGVvZiB4KTtcbiAgLy9mYWxzZSBpZiAtMSBvdGhlcndpc2UgdHJ1ZSwgYnV0IGZhc3QhISEhMVxuICBpZiAofmlkeCkge1xuICAgIGlmICh4ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICAgIHJldHVybiA1O1xuICAgIH1cbiAgICByZXR1cm4gaWR4IDwgMyA/IChpZHggKyAyKSA6IChpZHggKyAzKTtcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgIHJldHVybiA1O1xuICB9XG59XG5cbi8vIGNvbnZlcnNpb246XG4vLyB4IHl5eSB6ei4uLnp6XG4vLyB4ID0gMCBmb3IgbmVnYXRpdmUsIDEgZm9yIDAsIDIgZm9yIHBvc2l0aXZlXG4vLyB5ID0gZXhwb25lbnQgKGZvciBuZWdhdGl2ZSBudW1iZXJzIG5lZ2F0ZWQpIG1vdmVkIHNvIHRoYXQgaXQncyA+PSAwXG4vLyB6ID0gbWFudGlzc2VcbmZ1bmN0aW9uIG51bVRvSW5kZXhhYmxlU3RyaW5nKG51bSkge1xuXG4gIGlmIChudW0gPT09IDApIHtcbiAgICByZXR1cm4gJzEnO1xuICB9XG5cbiAgLy8gY29udmVydCBudW1iZXIgdG8gZXhwb25lbnRpYWwgZm9ybWF0IGZvciBlYXNpZXIgYW5kXG4gIC8vIG1vcmUgc3VjY2luY3Qgc3RyaW5nIHNvcnRpbmdcbiAgdmFyIGV4cEZvcm1hdCA9IG51bS50b0V4cG9uZW50aWFsKCkuc3BsaXQoL2VcXCs/Lyk7XG4gIHZhciBtYWduaXR1ZGUgPSBwYXJzZUludChleHBGb3JtYXRbMV0sIDEwKTtcblxuICB2YXIgbmVnID0gbnVtIDwgMDtcblxuICB2YXIgcmVzdWx0ID0gbmVnID8gJzAnIDogJzInO1xuXG4gIC8vIGZpcnN0IHNvcnQgYnkgbWFnbml0dWRlXG4gIC8vIGl0J3MgZWFzaWVyIGlmIGFsbCBtYWduaXR1ZGVzIGFyZSBwb3NpdGl2ZVxuICB2YXIgbWFnRm9yQ29tcGFyaXNvbiA9ICgobmVnID8gLW1hZ25pdHVkZSA6IG1hZ25pdHVkZSkgLSBNSU5fTUFHTklUVURFKTtcbiAgdmFyIG1hZ1N0cmluZyA9IHBhZExlZnQoKG1hZ0ZvckNvbXBhcmlzb24pLnRvU3RyaW5nKCksICcwJywgTUFHTklUVURFX0RJR0lUUyk7XG5cbiAgcmVzdWx0ICs9IFNFUCArIG1hZ1N0cmluZztcblxuICAvLyB0aGVuIHNvcnQgYnkgdGhlIGZhY3RvclxuICB2YXIgZmFjdG9yID0gTWF0aC5hYnMocGFyc2VGbG9hdChleHBGb3JtYXRbMF0pKTsgLy8gWzEuLjEwKVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAobmVnKSB7IC8vIGZvciBuZWdhdGl2ZSByZXZlcnNlIG9yZGVyaW5nXG4gICAgZmFjdG9yID0gMTAgLSBmYWN0b3I7XG4gIH1cblxuICB2YXIgZmFjdG9yU3RyID0gZmFjdG9yLnRvRml4ZWQoMjApO1xuXG4gIC8vIHN0cmlwIHplcm9zIGZyb20gdGhlIGVuZFxuICBmYWN0b3JTdHIgPSBmYWN0b3JTdHIucmVwbGFjZSgvXFwuPzArJC8sICcnKTtcblxuICByZXN1bHQgKz0gU0VQICsgZmFjdG9yU3RyO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIGNyZWF0ZSBhIGNvbXBhcmF0b3IgYmFzZWQgb24gdGhlIHNvcnQgb2JqZWN0XG5mdW5jdGlvbiBjcmVhdGVGaWVsZFNvcnRlcihzb3J0KSB7XG5cbiAgZnVuY3Rpb24gZ2V0RmllbGRWYWx1ZXNBc0FycmF5KGRvYykge1xuICAgIHJldHVybiBzb3J0Lm1hcChmdW5jdGlvbiAoc29ydGluZykge1xuICAgICAgdmFyIGZpZWxkTmFtZSA9IGdldEtleShzb3J0aW5nKTtcbiAgICAgIHZhciBwYXJzZWRGaWVsZCA9IHBhcnNlRmllbGQoZmllbGROYW1lKTtcbiAgICAgIHZhciBkb2NGaWVsZFZhbHVlID0gZ2V0RmllbGRGcm9tRG9jKGRvYywgcGFyc2VkRmllbGQpO1xuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWU7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGFSb3csIGJSb3cpIHtcbiAgICB2YXIgYUZpZWxkVmFsdWVzID0gZ2V0RmllbGRWYWx1ZXNBc0FycmF5KGFSb3cuZG9jKTtcbiAgICB2YXIgYkZpZWxkVmFsdWVzID0gZ2V0RmllbGRWYWx1ZXNBc0FycmF5KGJSb3cuZG9jKTtcbiAgICB2YXIgY29sbGF0aW9uID0gY29sbGF0ZShhRmllbGRWYWx1ZXMsIGJGaWVsZFZhbHVlcyk7XG4gICAgaWYgKGNvbGxhdGlvbiAhPT0gMCkge1xuICAgICAgcmV0dXJuIGNvbGxhdGlvbjtcbiAgICB9XG4gICAgLy8gdGhpcyBpcyB3aGF0IG1hbmdvIHNlZW1zIHRvIGRvXG4gICAgcmV0dXJuIGNvbXBhcmUkMShhUm93LmRvYy5faWQsIGJSb3cuZG9jLl9pZCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZpbHRlckluTWVtb3J5RmllbGRzKHJvd3MsIHJlcXVlc3REZWYsIGluTWVtb3J5RmllbGRzKSB7XG4gIHJvd3MgPSByb3dzLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XG4gICAgcmV0dXJuIHJvd0ZpbHRlcihyb3cuZG9jLCByZXF1ZXN0RGVmLnNlbGVjdG9yLCBpbk1lbW9yeUZpZWxkcyk7XG4gIH0pO1xuXG4gIGlmIChyZXF1ZXN0RGVmLnNvcnQpIHtcbiAgICAvLyBpbi1tZW1vcnkgc29ydFxuICAgIHZhciBmaWVsZFNvcnRlciA9IGNyZWF0ZUZpZWxkU29ydGVyKHJlcXVlc3REZWYuc29ydCk7XG4gICAgcm93cyA9IHJvd3Muc29ydChmaWVsZFNvcnRlcik7XG4gICAgaWYgKHR5cGVvZiByZXF1ZXN0RGVmLnNvcnRbMF0gIT09ICdzdHJpbmcnICYmXG4gICAgICAgIGdldFZhbHVlKHJlcXVlc3REZWYuc29ydFswXSkgPT09ICdkZXNjJykge1xuICAgICAgcm93cyA9IHJvd3MucmV2ZXJzZSgpO1xuICAgIH1cbiAgfVxuXG4gIGlmICgnbGltaXQnIGluIHJlcXVlc3REZWYgfHwgJ3NraXAnIGluIHJlcXVlc3REZWYpIHtcbiAgICAvLyBoYXZlIHRvIGRvIHRoZSBsaW1pdCBpbi1tZW1vcnlcbiAgICB2YXIgc2tpcCA9IHJlcXVlc3REZWYuc2tpcCB8fCAwO1xuICAgIHZhciBsaW1pdCA9ICgnbGltaXQnIGluIHJlcXVlc3REZWYgPyByZXF1ZXN0RGVmLmxpbWl0IDogcm93cy5sZW5ndGgpICsgc2tpcDtcbiAgICByb3dzID0gcm93cy5zbGljZShza2lwLCBsaW1pdCk7XG4gIH1cbiAgcmV0dXJuIHJvd3M7XG59XG5cbmZ1bmN0aW9uIHJvd0ZpbHRlcihkb2MsIHNlbGVjdG9yLCBpbk1lbW9yeUZpZWxkcykge1xuICByZXR1cm4gaW5NZW1vcnlGaWVsZHMuZXZlcnkoZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgdmFyIG1hdGNoZXIgPSBzZWxlY3RvcltmaWVsZF07XG4gICAgdmFyIHBhcnNlZEZpZWxkID0gcGFyc2VGaWVsZChmaWVsZCk7XG4gICAgdmFyIGRvY0ZpZWxkVmFsdWUgPSBnZXRGaWVsZEZyb21Eb2MoZG9jLCBwYXJzZWRGaWVsZCk7XG4gICAgaWYgKGlzQ29tYmluYXRpb25hbEZpZWxkKGZpZWxkKSkge1xuICAgICAgcmV0dXJuIG1hdGNoQ29taW5hdGlvbmFsU2VsZWN0b3IoZmllbGQsIG1hdGNoZXIsIGRvYyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGNoU2VsZWN0b3IobWF0Y2hlciwgZG9jLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBtYXRjaFNlbGVjdG9yKG1hdGNoZXIsIGRvYywgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgaWYgKCFtYXRjaGVyKSB7XG4gICAgLy8gbm8gZmlsdGVyaW5nIG5lY2Vzc2FyeTsgdGhpcyBmaWVsZCBpcyBqdXN0IG5lZWRlZCBmb3Igc29ydGluZ1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gaXMgbWF0Y2hlciBhbiBvYmplY3QsIGlmIHNvIGNvbnRpbnVlIHJlY3Vyc2lvblxuICBpZiAodHlwZW9mIG1hdGNoZXIgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hdGNoZXIpLmV2ZXJ5KGZ1bmN0aW9uIChtYXliZVVzZXJPcGVyYXRvcikge1xuICAgICAgdmFyIHVzZXJWYWx1ZSA9IG1hdGNoZXJbIG1heWJlVXNlck9wZXJhdG9yIF07XG4gICAgICAvLyBleHBsaWNpdCBvcGVyYXRvclxuICAgICAgaWYgKG1heWJlVXNlck9wZXJhdG9yLmluZGV4T2YoXCIkXCIpID09PSAwKSB7XG4gICAgICAgIHJldHVybiBtYXRjaChtYXliZVVzZXJPcGVyYXRvciwgZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzdWJQYXJzZWRGaWVsZCA9IHBhcnNlRmllbGQobWF5YmVVc2VyT3BlcmF0b3IpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBkb2NGaWVsZFZhbHVlID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICB0eXBlb2YgdXNlclZhbHVlICE9PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgc3ViUGFyc2VkRmllbGQubGVuZ3RoID4gMFxuICAgICAgICApIHtcbiAgICAgICAgICAvLyB0aGUgZmllbGQgZG9lcyBub3QgZXhpc3QsIHJldHVybiBvciBnZXRGaWVsZEZyb21Eb2Mgd2lsbCB0aHJvd1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdWJEb2NGaWVsZFZhbHVlID0gZ2V0RmllbGRGcm9tRG9jKGRvY0ZpZWxkVmFsdWUsIHN1YlBhcnNlZEZpZWxkKTtcblxuICAgICAgICBpZiAodHlwZW9mIHVzZXJWYWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIC8vIGZpZWxkIHZhbHVlIGlzIGFuIG9iamVjdCB0aGF0IG1pZ2h0IGNvbnRhaW4gbW9yZSBvcGVyYXRvcnNcbiAgICAgICAgICByZXR1cm4gbWF0Y2hTZWxlY3Rvcih1c2VyVmFsdWUsIGRvYywgcGFyc2VkRmllbGQsIHN1YkRvY0ZpZWxkVmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW1wbGljaXQgb3BlcmF0b3JcbiAgICAgICAgcmV0dXJuIG1hdGNoKFwiJGVxXCIsIGRvYywgdXNlclZhbHVlLCBzdWJQYXJzZWRGaWVsZCwgc3ViRG9jRmllbGRWYWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBubyBtb3JlIGRlcHRoLCBObyBuZWVkIHRvIHJlY3Vyc2UgZnVydGhlclxuICByZXR1cm4gbWF0Y2hlciA9PT0gZG9jRmllbGRWYWx1ZTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hDb21pbmF0aW9uYWxTZWxlY3RvcihmaWVsZCwgbWF0Y2hlciwgZG9jKSB7XG5cbiAgaWYgKGZpZWxkID09PSAnJG9yJykge1xuICAgIHJldHVybiBtYXRjaGVyLnNvbWUoZnVuY3Rpb24gKG9yTWF0Y2hlcnMpIHtcbiAgICAgIHJldHVybiByb3dGaWx0ZXIoZG9jLCBvck1hdGNoZXJzLCBPYmplY3Qua2V5cyhvck1hdGNoZXJzKSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoZmllbGQgPT09ICckbm90Jykge1xuICAgIHJldHVybiAhcm93RmlsdGVyKGRvYywgbWF0Y2hlciwgT2JqZWN0LmtleXMobWF0Y2hlcikpO1xuICB9XG5cbiAgLy9gJG5vcmBcbiAgcmV0dXJuICFtYXRjaGVyLmZpbmQoZnVuY3Rpb24gKG9yTWF0Y2hlcnMpIHtcbiAgICByZXR1cm4gcm93RmlsdGVyKGRvYywgb3JNYXRjaGVycywgT2JqZWN0LmtleXMob3JNYXRjaGVycykpO1xuICB9KTtcblxufVxuXG5mdW5jdGlvbiBtYXRjaCh1c2VyT3BlcmF0b3IsIGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICBpZiAoIW1hdGNoZXJzW3VzZXJPcGVyYXRvcl0pIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBvcGVyYXRvciBcIicgKyB1c2VyT3BlcmF0b3IgK1xuICAgICAgJ1wiIC0gc2hvdWxkIGJlIG9uZSBvZiAkZXEsICRsdGUsICRsdCwgJGd0LCAkZ3RlLCAkZXhpc3RzLCAkbmUsICRpbiwgJyArXG4gICAgICAnJG5pbiwgJHNpemUsICRtb2QsICRyZWdleCwgJGVsZW1NYXRjaCwgJHR5cGUsICRhbGxNYXRjaCBvciAkYWxsJyk7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXJzW3VzZXJPcGVyYXRvcl0oZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKTtcbn1cblxuZnVuY3Rpb24gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIGRvY0ZpZWxkVmFsdWUgIT09ICd1bmRlZmluZWQnICYmIGRvY0ZpZWxkVmFsdWUgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIGRvY0ZpZWxkVmFsdWUgIT09ICd1bmRlZmluZWQnO1xufVxuXG5mdW5jdGlvbiBtb2RGaWVsZChkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBkb2NGaWVsZFZhbHVlICE9PSBcIm51bWJlclwiIHx8XG4gICAgcGFyc2VJbnQoZG9jRmllbGRWYWx1ZSwgMTApICE9PSBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGRpdmlzb3IgPSB1c2VyVmFsdWVbMF07XG4gIHZhciBtb2QgPSB1c2VyVmFsdWVbMV07XG5cbiAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUgJSBkaXZpc29yID09PSBtb2Q7XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnNWYWx1ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgcmV0dXJuIHVzZXJWYWx1ZS5zb21lKGZ1bmN0aW9uICh2YWwpIHtcbiAgICBpZiAoZG9jRmllbGRWYWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uIChkb2NGaWVsZFZhbHVlSXRlbSkge1xuICAgICAgICByZXR1cm4gY29sbGF0ZSh2YWwsIGRvY0ZpZWxkVmFsdWVJdGVtKSA9PT0gMDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjb2xsYXRlKHZhbCwgZG9jRmllbGRWYWx1ZSkgPT09IDA7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhcnJheUNvbnRhaW5zQWxsVmFsdWVzKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICByZXR1cm4gdXNlclZhbHVlLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uIChkb2NGaWVsZFZhbHVlSXRlbSkge1xuICAgICAgcmV0dXJuIGNvbGxhdGUodmFsLCBkb2NGaWVsZFZhbHVlSXRlbSkgPT09IDA7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhcnJheVNpemUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHJldHVybiBkb2NGaWVsZFZhbHVlLmxlbmd0aCA9PT0gdXNlclZhbHVlO1xufVxuXG5mdW5jdGlvbiByZWdleE1hdGNoKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICB2YXIgcmUgPSBuZXcgUmVnRXhwKHVzZXJWYWx1ZSk7XG5cbiAgcmV0dXJuIHJlLnRlc3QoZG9jRmllbGRWYWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHR5cGVNYXRjaChkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcblxuICBzd2l0Y2ggKHVzZXJWYWx1ZSkge1xuICAgIGNhc2UgJ251bGwnOlxuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUgPT09IG51bGw7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gdHlwZW9mIChkb2NGaWVsZFZhbHVlKSA9PT0gJ2Jvb2xlYW4nO1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gdHlwZW9mIChkb2NGaWVsZFZhbHVlKSA9PT0gJ251bWJlcic7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiB0eXBlb2YgKGRvY0ZpZWxkVmFsdWUpID09PSAnc3RyaW5nJztcbiAgICBjYXNlICdhcnJheSc6XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZSBpbnN0YW5jZW9mIEFycmF5O1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICByZXR1cm4gKHt9KS50b1N0cmluZy5jYWxsKGRvY0ZpZWxkVmFsdWUpID09PSAnW29iamVjdCBPYmplY3RdJztcbiAgfVxufVxuXG52YXIgbWF0Y2hlcnMgPSB7XG5cbiAgJyRlbGVtTWF0Y2gnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRvY0ZpZWxkVmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGRvY0ZpZWxkVmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkb2NGaWVsZFZhbHVlWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuc29tZShmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiByb3dGaWx0ZXIodmFsLCB1c2VyVmFsdWUsIE9iamVjdC5rZXlzKHVzZXJWYWx1ZSkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuc29tZShmdW5jdGlvbiAodmFsKSB7XG4gICAgICByZXR1cm4gbWF0Y2hTZWxlY3Rvcih1c2VyVmFsdWUsIGRvYywgcGFyc2VkRmllbGQsIHZhbCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgJyRhbGxNYXRjaCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChkb2NGaWVsZFZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZG9jRmllbGRWYWx1ZVswXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHJvd0ZpbHRlcih2YWwsIHVzZXJWYWx1ZSwgT2JqZWN0LmtleXModXNlclZhbHVlKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5ldmVyeShmdW5jdGlvbiAodmFsKSB7XG4gICAgICByZXR1cm4gbWF0Y2hTZWxlY3Rvcih1c2VyVmFsdWUsIGRvYywgcGFyc2VkRmllbGQsIHZhbCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgJyRlcSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPT09IDA7XG4gIH0sXG5cbiAgJyRndGUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpID49IDA7XG4gIH0sXG5cbiAgJyRndCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPiAwO1xuICB9LFxuXG4gICckbHRlJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA8PSAwO1xuICB9LFxuXG4gICckbHQnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIDwgMDtcbiAgfSxcblxuICAnJGV4aXN0cyc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICAvL2EgZmllbGQgdGhhdCBpcyBudWxsIGlzIHN0aWxsIGNvbnNpZGVyZWQgdG8gZXhpc3RcbiAgICBpZiAodXNlclZhbHVlKSB7XG4gICAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gIWZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSk7XG4gIH0sXG5cbiAgJyRtb2QnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpICYmIG1vZEZpZWxkKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH0sXG5cbiAgJyRuZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gdXNlclZhbHVlLmV2ZXJ5KGZ1bmN0aW9uIChuZVZhbHVlKSB7XG4gICAgICByZXR1cm4gY29sbGF0ZShkb2NGaWVsZFZhbHVlLCBuZVZhbHVlKSAhPT0gMDtcbiAgICB9KTtcbiAgfSxcbiAgJyRpbic6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiYgYXJyYXlDb250YWluc1ZhbHVlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH0sXG5cbiAgJyRuaW4nOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpICYmICFhcnJheUNvbnRhaW5zVmFsdWUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJHNpemUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpICYmXG4gICAgICBBcnJheS5pc0FycmF5KGRvY0ZpZWxkVmFsdWUpICYmXG4gICAgICBhcnJheVNpemUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJGFsbCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkb2NGaWVsZFZhbHVlKSAmJiBhcnJheUNvbnRhaW5zQWxsVmFsdWVzKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH0sXG5cbiAgJyRyZWdleCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiZcbiAgICAgIHR5cGVvZiBkb2NGaWVsZFZhbHVlID09IFwic3RyaW5nXCIgJiZcbiAgICAgIHVzZXJWYWx1ZS5ldmVyeShmdW5jdGlvbiAocmVnZXhWYWx1ZSkge1xuICAgICAgICByZXR1cm4gcmVnZXhNYXRjaChkb2NGaWVsZFZhbHVlLCByZWdleFZhbHVlKTtcbiAgICAgIH0pO1xuICB9LFxuXG4gICckdHlwZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZU1hdGNoKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH1cbn07XG5cbi8vIHJldHVybiB0cnVlIGlmIHRoZSBnaXZlbiBkb2MgbWF0Y2hlcyB0aGUgc3VwcGxpZWQgc2VsZWN0b3JcbmZ1bmN0aW9uIG1hdGNoZXNTZWxlY3Rvcihkb2MsIHNlbGVjdG9yKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIHNlbGVjdG9yICE9PSAnb2JqZWN0Jykge1xuICAgIC8vIG1hdGNoIHRoZSBDb3VjaERCIGVycm9yIG1lc3NhZ2VcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbGVjdG9yIGVycm9yOiBleHBlY3RlZCBhIEpTT04gb2JqZWN0Jyk7XG4gIH1cblxuICBzZWxlY3RvciA9IG1hc3NhZ2VTZWxlY3RvcihzZWxlY3Rvcik7XG4gIHZhciByb3cgPSB7XG4gICAgJ2RvYyc6IGRvY1xuICB9O1xuXG4gIHZhciByb3dzTWF0Y2hlZCA9IGZpbHRlckluTWVtb3J5RmllbGRzKFtyb3ddLCB7ICdzZWxlY3Rvcic6IHNlbGVjdG9yIH0sIE9iamVjdC5rZXlzKHNlbGVjdG9yKSk7XG4gIHJldHVybiByb3dzTWF0Y2hlZCAmJiByb3dzTWF0Y2hlZC5sZW5ndGggPT09IDE7XG59XG5cbmZ1bmN0aW9uIGV2YWxGaWx0ZXIoaW5wdXQpIHtcbiAgcmV0dXJuIHNjb3BlRXZhbCgnXCJ1c2Ugc3RyaWN0XCI7XFxucmV0dXJuICcgKyBpbnB1dCArICc7Jywge30pO1xufVxuXG5mdW5jdGlvbiBldmFsVmlldyhpbnB1dCkge1xuICB2YXIgY29kZSA9IFtcbiAgICAncmV0dXJuIGZ1bmN0aW9uKGRvYykgeycsXG4gICAgJyAgXCJ1c2Ugc3RyaWN0XCI7JyxcbiAgICAnICB2YXIgZW1pdHRlZCA9IGZhbHNlOycsXG4gICAgJyAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoYSwgYikgeycsXG4gICAgJyAgICBlbWl0dGVkID0gdHJ1ZTsnLFxuICAgICcgIH07JyxcbiAgICAnICB2YXIgdmlldyA9ICcgKyBpbnB1dCArICc7JyxcbiAgICAnICB2aWV3KGRvYyk7JyxcbiAgICAnICBpZiAoZW1pdHRlZCkgeycsXG4gICAgJyAgICByZXR1cm4gdHJ1ZTsnLFxuICAgICcgIH0nLFxuICAgICd9OydcbiAgXS5qb2luKCdcXG4nKTtcblxuICByZXR1cm4gc2NvcGVFdmFsKGNvZGUsIHt9KTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGUob3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKG9wdHMuc2VsZWN0b3IpIHtcbiAgICBpZiAob3B0cy5maWx0ZXIgJiYgb3B0cy5maWx0ZXIgIT09ICdfc2VsZWN0b3InKSB7XG4gICAgICB2YXIgZmlsdGVyTmFtZSA9IHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ3N0cmluZycgP1xuICAgICAgICBvcHRzLmZpbHRlciA6ICdmdW5jdGlvbic7XG4gICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCdzZWxlY3RvciBpbnZhbGlkIGZvciBmaWx0ZXIgXCInICsgZmlsdGVyTmFtZSArICdcIicpKTtcbiAgICB9XG4gIH1cbiAgY2FsbGJhY2soKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplKG9wdHMpIHtcbiAgaWYgKG9wdHMudmlldyAmJiAhb3B0cy5maWx0ZXIpIHtcbiAgICBvcHRzLmZpbHRlciA9ICdfdmlldyc7XG4gIH1cblxuICBpZiAob3B0cy5zZWxlY3RvciAmJiAhb3B0cy5maWx0ZXIpIHtcbiAgICBvcHRzLmZpbHRlciA9ICdfc2VsZWN0b3InO1xuICB9XG5cbiAgaWYgKG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAob3B0cy5maWx0ZXIgPT09ICdfdmlldycpIHtcbiAgICAgIG9wdHMudmlldyA9IG5vcm1hbGl6ZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShvcHRzLnZpZXcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRzLmZpbHRlciA9IG5vcm1hbGl6ZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShvcHRzLmZpbHRlcik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNob3VsZEZpbHRlcihjaGFuZ2VzSGFuZGxlciwgb3B0cykge1xuICByZXR1cm4gb3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJyAmJlxuICAgICFvcHRzLmRvY19pZHMgJiYgIWlzUmVtb3RlKGNoYW5nZXNIYW5kbGVyLmRiKTtcbn1cblxuZnVuY3Rpb24gZmlsdGVyKGNoYW5nZXNIYW5kbGVyLCBvcHRzKSB7XG4gIHZhciBjYWxsYmFjayA9IG9wdHMuY29tcGxldGU7XG4gIGlmIChvcHRzLmZpbHRlciA9PT0gJ192aWV3Jykge1xuICAgIGlmICghb3B0cy52aWV3IHx8IHR5cGVvZiBvcHRzLnZpZXcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgZXJyID0gY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsXG4gICAgICAgICdgdmlld2AgZmlsdGVyIHBhcmFtZXRlciBub3QgZm91bmQgb3IgaW52YWxpZC4nKTtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICAvLyBmZXRjaCBhIHZpZXcgZnJvbSBhIGRlc2lnbiBkb2MsIG1ha2UgaXQgYmVoYXZlIGxpa2UgYSBmaWx0ZXJcbiAgICB2YXIgdmlld05hbWUgPSBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShvcHRzLnZpZXcpO1xuICAgIGNoYW5nZXNIYW5kbGVyLmRiLmdldCgnX2Rlc2lnbi8nICsgdmlld05hbWVbMF0sIGZ1bmN0aW9uIChlcnIsIGRkb2MpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGNoYW5nZXNIYW5kbGVyLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB7c3RhdHVzOiAnY2FuY2VsbGVkJ30pO1xuICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UoZXJyKSk7XG4gICAgICB9XG4gICAgICB2YXIgbWFwRnVuID0gZGRvYyAmJiBkZG9jLnZpZXdzICYmIGRkb2Mudmlld3Nbdmlld05hbWVbMV1dICYmXG4gICAgICAgIGRkb2Mudmlld3Nbdmlld05hbWVbMV1dLm1hcDtcbiAgICAgIGlmICghbWFwRnVuKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQyxcbiAgICAgICAgICAoZGRvYy52aWV3cyA/ICdtaXNzaW5nIGpzb24ga2V5OiAnICsgdmlld05hbWVbMV0gOlxuICAgICAgICAgICAgJ21pc3NpbmcganNvbiBrZXk6IHZpZXdzJykpKTtcbiAgICAgIH1cbiAgICAgIG9wdHMuZmlsdGVyID0gZXZhbFZpZXcobWFwRnVuKTtcbiAgICAgIGNoYW5nZXNIYW5kbGVyLmRvQ2hhbmdlcyhvcHRzKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChvcHRzLnNlbGVjdG9yKSB7XG4gICAgb3B0cy5maWx0ZXIgPSBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICByZXR1cm4gbWF0Y2hlc1NlbGVjdG9yKGRvYywgb3B0cy5zZWxlY3Rvcik7XG4gICAgfTtcbiAgICBjaGFuZ2VzSGFuZGxlci5kb0NoYW5nZXMob3B0cyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gZmV0Y2ggYSBmaWx0ZXIgZnJvbSBhIGRlc2lnbiBkb2NcbiAgICB2YXIgZmlsdGVyTmFtZSA9IHBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMuZmlsdGVyKTtcbiAgICBjaGFuZ2VzSGFuZGxlci5kYi5nZXQoJ19kZXNpZ24vJyArIGZpbHRlck5hbWVbMF0sIGZ1bmN0aW9uIChlcnIsIGRkb2MpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGNoYW5nZXNIYW5kbGVyLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB7c3RhdHVzOiAnY2FuY2VsbGVkJ30pO1xuICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UoZXJyKSk7XG4gICAgICB9XG4gICAgICB2YXIgZmlsdGVyRnVuID0gZGRvYyAmJiBkZG9jLmZpbHRlcnMgJiYgZGRvYy5maWx0ZXJzW2ZpbHRlck5hbWVbMV1dO1xuICAgICAgaWYgKCFmaWx0ZXJGdW4pIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLFxuICAgICAgICAgICgoZGRvYyAmJiBkZG9jLmZpbHRlcnMpID8gJ21pc3NpbmcganNvbiBrZXk6ICcgKyBmaWx0ZXJOYW1lWzFdXG4gICAgICAgICAgICA6ICdtaXNzaW5nIGpzb24ga2V5OiBmaWx0ZXJzJykpKTtcbiAgICAgIH1cbiAgICAgIG9wdHMuZmlsdGVyID0gZXZhbEZpbHRlcihmaWx0ZXJGdW4pO1xuICAgICAgY2hhbmdlc0hhbmRsZXIuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5Q2hhbmdlc0ZpbHRlclBsdWdpbihQb3VjaERCKSB7XG4gIFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4gPSB7XG4gICAgdmFsaWRhdGU6IHZhbGlkYXRlLFxuICAgIG5vcm1hbGl6ZTogbm9ybWFsaXplLFxuICAgIHNob3VsZEZpbHRlcjogc2hvdWxkRmlsdGVyLFxuICAgIGZpbHRlcjogZmlsdGVyXG4gIH07XG59XG5cbi8vIFRPRE86IHJlbW92ZSBmcm9tIHBvdWNoZGItY29yZSAoYnJlYWtpbmcpXG5Qb3VjaERCLnBsdWdpbihhcHBseUNoYW5nZXNGaWx0ZXJQbHVnaW4pO1xuXG5Qb3VjaERCLnZlcnNpb24gPSB2ZXJzaW9uO1xuXG5mdW5jdGlvbiB0b09iamVjdChhcnJheSkge1xuICByZXR1cm4gYXJyYXkucmVkdWNlKGZ1bmN0aW9uIChvYmosIGl0ZW0pIHtcbiAgICBvYmpbaXRlbV0gPSB0cnVlO1xuICAgIHJldHVybiBvYmo7XG4gIH0sIHt9KTtcbn1cbi8vIExpc3Qgb2YgdG9wIGxldmVsIHJlc2VydmVkIHdvcmRzIGZvciBkb2NcbnZhciByZXNlcnZlZFdvcmRzID0gdG9PYmplY3QoW1xuICAnX2lkJyxcbiAgJ19yZXYnLFxuICAnX2FjY2VzcycsXG4gICdfYXR0YWNobWVudHMnLFxuICAnX2RlbGV0ZWQnLFxuICAnX3JldmlzaW9ucycsXG4gICdfcmV2c19pbmZvJyxcbiAgJ19jb25mbGljdHMnLFxuICAnX2RlbGV0ZWRfY29uZmxpY3RzJyxcbiAgJ19sb2NhbF9zZXEnLFxuICAnX3Jldl90cmVlJyxcbiAgLy8gcmVwbGljYXRpb24gZG9jdW1lbnRzXG4gICdfcmVwbGljYXRpb25faWQnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZV90aW1lJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZV9yZWFzb24nLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRzJyxcbiAgLy8gU3BlY2lmaWMgdG8gQ291Y2hiYXNlIFN5bmMgR2F0ZXdheVxuICAnX3JlbW92ZWQnXG5dKTtcblxuLy8gTGlzdCBvZiByZXNlcnZlZCB3b3JkcyB0aGF0IHNob3VsZCBlbmQgdXAgaW4gdGhlIGRvY3VtZW50XG52YXIgZGF0YVdvcmRzID0gdG9PYmplY3QoW1xuICAnX2FjY2VzcycsXG4gICdfYXR0YWNobWVudHMnLFxuICAvLyByZXBsaWNhdGlvbiBkb2N1bWVudHNcbiAgJ19yZXBsaWNhdGlvbl9pZCcsXG4gICdfcmVwbGljYXRpb25fc3RhdGUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3RpbWUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3JlYXNvbicsXG4gICdfcmVwbGljYXRpb25fc3RhdHMnXG5dKTtcblxuZnVuY3Rpb24gcGFyc2VSZXZpc2lvbkluZm8ocmV2KSB7XG4gIGlmICghL15cXGQrLS8udGVzdChyZXYpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVycm9yKElOVkFMSURfUkVWKTtcbiAgfVxuICB2YXIgaWR4ID0gcmV2LmluZGV4T2YoJy0nKTtcbiAgdmFyIGxlZnQgPSByZXYuc3Vic3RyaW5nKDAsIGlkeCk7XG4gIHZhciByaWdodCA9IHJldi5zdWJzdHJpbmcoaWR4ICsgMSk7XG4gIHJldHVybiB7XG4gICAgcHJlZml4OiBwYXJzZUludChsZWZ0LCAxMCksXG4gICAgaWQ6IHJpZ2h0XG4gIH07XG59XG5cbmZ1bmN0aW9uIG1ha2VSZXZUcmVlRnJvbVJldmlzaW9ucyhyZXZpc2lvbnMsIG9wdHMpIHtcbiAgdmFyIHBvcyA9IHJldmlzaW9ucy5zdGFydCAtIHJldmlzaW9ucy5pZHMubGVuZ3RoICsgMTtcblxuICB2YXIgcmV2aXNpb25JZHMgPSByZXZpc2lvbnMuaWRzO1xuICB2YXIgaWRzID0gW3JldmlzaW9uSWRzWzBdLCBvcHRzLCBbXV07XG5cbiAgZm9yICh2YXIgaSA9IDEsIGxlbiA9IHJldmlzaW9uSWRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWRzID0gW3JldmlzaW9uSWRzW2ldLCB7c3RhdHVzOiAnbWlzc2luZyd9LCBbaWRzXV07XG4gIH1cblxuICByZXR1cm4gW3tcbiAgICBwb3M6IHBvcyxcbiAgICBpZHM6IGlkc1xuICB9XTtcbn1cblxuLy8gUHJlcHJvY2VzcyBkb2N1bWVudHMsIHBhcnNlIHRoZWlyIHJldmlzaW9ucywgYXNzaWduIGFuIGlkIGFuZCBhXG4vLyByZXZpc2lvbiBmb3IgbmV3IHdyaXRlcyB0aGF0IGFyZSBtaXNzaW5nIHRoZW0sIGV0Y1xuZnVuY3Rpb24gcGFyc2VEb2MoZG9jLCBuZXdFZGl0cywgZGJPcHRzKSB7XG4gIGlmICghZGJPcHRzKSB7XG4gICAgZGJPcHRzID0ge1xuICAgICAgZGV0ZXJtaW5pc3RpY19yZXZzOiB0cnVlXG4gICAgfTtcbiAgfVxuXG4gIHZhciBuUmV2TnVtO1xuICB2YXIgbmV3UmV2SWQ7XG4gIHZhciByZXZJbmZvO1xuICB2YXIgb3B0cyA9IHtzdGF0dXM6ICdhdmFpbGFibGUnfTtcbiAgaWYgKGRvYy5fZGVsZXRlZCkge1xuICAgIG9wdHMuZGVsZXRlZCA9IHRydWU7XG4gIH1cblxuICBpZiAobmV3RWRpdHMpIHtcbiAgICBpZiAoIWRvYy5faWQpIHtcbiAgICAgIGRvYy5faWQgPSB1dWlkKCk7XG4gICAgfVxuICAgIG5ld1JldklkID0gcmV2JCQxKGRvYywgZGJPcHRzLmRldGVybWluaXN0aWNfcmV2cyk7XG4gICAgaWYgKGRvYy5fcmV2KSB7XG4gICAgICByZXZJbmZvID0gcGFyc2VSZXZpc2lvbkluZm8oZG9jLl9yZXYpO1xuICAgICAgaWYgKHJldkluZm8uZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHJldkluZm87XG4gICAgICB9XG4gICAgICBkb2MuX3Jldl90cmVlID0gW3tcbiAgICAgICAgcG9zOiByZXZJbmZvLnByZWZpeCxcbiAgICAgICAgaWRzOiBbcmV2SW5mby5pZCwge3N0YXR1czogJ21pc3NpbmcnfSwgW1tuZXdSZXZJZCwgb3B0cywgW11dXV1cbiAgICAgIH1dO1xuICAgICAgblJldk51bSA9IHJldkluZm8ucHJlZml4ICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jLl9yZXZfdHJlZSA9IFt7XG4gICAgICAgIHBvczogMSxcbiAgICAgICAgaWRzIDogW25ld1JldklkLCBvcHRzLCBbXV1cbiAgICAgIH1dO1xuICAgICAgblJldk51bSA9IDE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkb2MuX3JldmlzaW9ucykge1xuICAgICAgZG9jLl9yZXZfdHJlZSA9IG1ha2VSZXZUcmVlRnJvbVJldmlzaW9ucyhkb2MuX3JldmlzaW9ucywgb3B0cyk7XG4gICAgICBuUmV2TnVtID0gZG9jLl9yZXZpc2lvbnMuc3RhcnQ7XG4gICAgICBuZXdSZXZJZCA9IGRvYy5fcmV2aXNpb25zLmlkc1swXTtcbiAgICB9XG4gICAgaWYgKCFkb2MuX3Jldl90cmVlKSB7XG4gICAgICByZXZJbmZvID0gcGFyc2VSZXZpc2lvbkluZm8oZG9jLl9yZXYpO1xuICAgICAgaWYgKHJldkluZm8uZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHJldkluZm87XG4gICAgICB9XG4gICAgICBuUmV2TnVtID0gcmV2SW5mby5wcmVmaXg7XG4gICAgICBuZXdSZXZJZCA9IHJldkluZm8uaWQ7XG4gICAgICBkb2MuX3Jldl90cmVlID0gW3tcbiAgICAgICAgcG9zOiBuUmV2TnVtLFxuICAgICAgICBpZHM6IFtuZXdSZXZJZCwgb3B0cywgW11dXG4gICAgICB9XTtcbiAgICB9XG4gIH1cblxuICBpbnZhbGlkSWRFcnJvcihkb2MuX2lkKTtcblxuICBkb2MuX3JldiA9IG5SZXZOdW0gKyAnLScgKyBuZXdSZXZJZDtcblxuICB2YXIgcmVzdWx0ID0ge21ldGFkYXRhIDoge30sIGRhdGEgOiB7fX07XG4gIGZvciAodmFyIGtleSBpbiBkb2MpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZG9jLCBrZXkpKSB7XG4gICAgICB2YXIgc3BlY2lhbEtleSA9IGtleVswXSA9PT0gJ18nO1xuICAgICAgaWYgKHNwZWNpYWxLZXkgJiYgIXJlc2VydmVkV29yZHNba2V5XSkge1xuICAgICAgICB2YXIgZXJyb3IgPSBjcmVhdGVFcnJvcihET0NfVkFMSURBVElPTiwga2V5KTtcbiAgICAgICAgZXJyb3IubWVzc2FnZSA9IERPQ19WQUxJREFUSU9OLm1lc3NhZ2UgKyAnOiAnICsga2V5O1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0gZWxzZSBpZiAoc3BlY2lhbEtleSAmJiAhZGF0YVdvcmRzW2tleV0pIHtcbiAgICAgICAgcmVzdWx0Lm1ldGFkYXRhW2tleS5zbGljZSgxKV0gPSBkb2Nba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5kYXRhW2tleV0gPSBkb2Nba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcGFyc2VCYXNlNjQoZGF0YSkge1xuICB0cnkge1xuICAgIHJldHVybiB0aGlzQXRvYihkYXRhKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihCQURfQVJHLFxuICAgICAgJ0F0dGFjaG1lbnQgaXMgbm90IGEgdmFsaWQgYmFzZTY0IHN0cmluZycpO1xuICAgIHJldHVybiB7ZXJyb3I6IGVycn07XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc1N0cmluZyhhdHQsIGJsb2JUeXBlLCBjYWxsYmFjaykge1xuICB2YXIgYXNCaW5hcnkgPSBwYXJzZUJhc2U2NChhdHQuZGF0YSk7XG4gIGlmIChhc0JpbmFyeS5lcnJvcikge1xuICAgIHJldHVybiBjYWxsYmFjayhhc0JpbmFyeS5lcnJvcik7XG4gIH1cblxuICBhdHQubGVuZ3RoID0gYXNCaW5hcnkubGVuZ3RoO1xuICBpZiAoYmxvYlR5cGUgPT09ICdibG9iJykge1xuICAgIGF0dC5kYXRhID0gYmluU3RyaW5nVG9CbHVmZmVyKGFzQmluYXJ5LCBhdHQuY29udGVudF90eXBlKTtcbiAgfSBlbHNlIGlmIChibG9iVHlwZSA9PT0gJ2Jhc2U2NCcpIHtcbiAgICBhdHQuZGF0YSA9IHRoaXNCdG9hKGFzQmluYXJ5KTtcbiAgfSBlbHNlIHsgLy8gYmluYXJ5XG4gICAgYXR0LmRhdGEgPSBhc0JpbmFyeTtcbiAgfVxuICBiaW5hcnlNZDUoYXNCaW5hcnksIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICBhdHQuZGlnZXN0ID0gJ21kNS0nICsgcmVzdWx0O1xuICAgIGNhbGxiYWNrKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzQmxvYihhdHQsIGJsb2JUeXBlLCBjYWxsYmFjaykge1xuICBiaW5hcnlNZDUoYXR0LmRhdGEsIGZ1bmN0aW9uIChtZDUpIHtcbiAgICBhdHQuZGlnZXN0ID0gJ21kNS0nICsgbWQ1O1xuICAgIC8vIHNpemUgaXMgZm9yIGJsb2JzIChicm93c2VyKSwgbGVuZ3RoIGlzIGZvciBidWZmZXJzIChub2RlKVxuICAgIGF0dC5sZW5ndGggPSBhdHQuZGF0YS5zaXplIHx8IGF0dC5kYXRhLmxlbmd0aCB8fCAwO1xuICAgIGlmIChibG9iVHlwZSA9PT0gJ2JpbmFyeScpIHtcbiAgICAgIGJsb2JUb0JpbmFyeVN0cmluZyhhdHQuZGF0YSwgZnVuY3Rpb24gKGJpblN0cmluZykge1xuICAgICAgICBhdHQuZGF0YSA9IGJpblN0cmluZztcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoYmxvYlR5cGUgPT09ICdiYXNlNjQnKSB7XG4gICAgICBibG9iVG9CYXNlNjQoYXR0LmRhdGEsIGZ1bmN0aW9uIChiNjQpIHtcbiAgICAgICAgYXR0LmRhdGEgPSBiNjQ7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzQXR0YWNobWVudChhdHQsIGJsb2JUeXBlLCBjYWxsYmFjaykge1xuICBpZiAoYXR0LnN0dWIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgfVxuICBpZiAodHlwZW9mIGF0dC5kYXRhID09PSAnc3RyaW5nJykgeyAvLyBpbnB1dCBpcyBhIGJhc2U2NCBzdHJpbmdcbiAgICBwcmVwcm9jZXNzU3RyaW5nKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKTtcbiAgfSBlbHNlIHsgLy8gaW5wdXQgaXMgYSBibG9iXG4gICAgcHJlcHJvY2Vzc0Jsb2IoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NBdHRhY2htZW50cyhkb2NJbmZvcywgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG5cbiAgaWYgKCFkb2NJbmZvcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgfVxuXG4gIHZhciBkb2N2ID0gMDtcbiAgdmFyIG92ZXJhbGxFcnI7XG5cbiAgZG9jSW5mb3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jSW5mbykge1xuICAgIHZhciBhdHRhY2htZW50cyA9IGRvY0luZm8uZGF0YSAmJiBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzID9cbiAgICAgIE9iamVjdC5rZXlzKGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMpIDogW107XG4gICAgdmFyIHJlY3YgPSAwO1xuXG4gICAgaWYgKCFhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBkb25lKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc2VkQXR0YWNobWVudChlcnIpIHtcbiAgICAgIG92ZXJhbGxFcnIgPSBlcnI7XG4gICAgICByZWN2Kys7XG4gICAgICBpZiAocmVjdiA9PT0gYXR0YWNobWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzLCBrZXkpKSB7XG4gICAgICAgIHByZXByb2Nlc3NBdHRhY2htZW50KGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHNba2V5XSxcbiAgICAgICAgICBibG9iVHlwZSwgcHJvY2Vzc2VkQXR0YWNobWVudCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBkb25lKCkge1xuICAgIGRvY3YrKztcbiAgICBpZiAoZG9jSW5mb3MubGVuZ3RoID09PSBkb2N2KSB7XG4gICAgICBpZiAob3ZlcmFsbEVycikge1xuICAgICAgICBjYWxsYmFjayhvdmVyYWxsRXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZURvYyhyZXZMaW1pdCwgcHJldiwgZG9jSW5mbywgcmVzdWx0cyxcbiAgICAgICAgICAgICAgICAgICBpLCBjYiwgd3JpdGVEb2MsIG5ld0VkaXRzKSB7XG5cbiAgaWYgKHJldkV4aXN0cyhwcmV2LnJldl90cmVlLCBkb2NJbmZvLm1ldGFkYXRhLnJldikgJiYgIW5ld0VkaXRzKSB7XG4gICAgcmVzdWx0c1tpXSA9IGRvY0luZm87XG4gICAgcmV0dXJuIGNiKCk7XG4gIH1cblxuICAvLyBzb21ldGltZXMgdGhpcyBpcyBwcmUtY2FsY3VsYXRlZC4gaGlzdG9yaWNhbGx5IG5vdCBhbHdheXNcbiAgdmFyIHByZXZpb3VzV2lubmluZ1JldiA9IHByZXYud2lubmluZ1JldiB8fCB3aW5uaW5nUmV2KHByZXYpO1xuICB2YXIgcHJldmlvdXNseURlbGV0ZWQgPSAnZGVsZXRlZCcgaW4gcHJldiA/IHByZXYuZGVsZXRlZCA6XG4gICAgaXNEZWxldGVkKHByZXYsIHByZXZpb3VzV2lubmluZ1Jldik7XG4gIHZhciBkZWxldGVkID0gJ2RlbGV0ZWQnIGluIGRvY0luZm8ubWV0YWRhdGEgPyBkb2NJbmZvLm1ldGFkYXRhLmRlbGV0ZWQgOlxuICAgIGlzRGVsZXRlZChkb2NJbmZvLm1ldGFkYXRhKTtcbiAgdmFyIGlzUm9vdCA9IC9eMS0vLnRlc3QoZG9jSW5mby5tZXRhZGF0YS5yZXYpO1xuXG4gIGlmIChwcmV2aW91c2x5RGVsZXRlZCAmJiAhZGVsZXRlZCAmJiBuZXdFZGl0cyAmJiBpc1Jvb3QpIHtcbiAgICB2YXIgbmV3RG9jID0gZG9jSW5mby5kYXRhO1xuICAgIG5ld0RvYy5fcmV2ID0gcHJldmlvdXNXaW5uaW5nUmV2O1xuICAgIG5ld0RvYy5faWQgPSBkb2NJbmZvLm1ldGFkYXRhLmlkO1xuICAgIGRvY0luZm8gPSBwYXJzZURvYyhuZXdEb2MsIG5ld0VkaXRzKTtcbiAgfVxuXG4gIHZhciBtZXJnZWQgPSBtZXJnZShwcmV2LnJldl90cmVlLCBkb2NJbmZvLm1ldGFkYXRhLnJldl90cmVlWzBdLCByZXZMaW1pdCk7XG5cbiAgdmFyIGluQ29uZmxpY3QgPSBuZXdFZGl0cyAmJiAoKFxuICAgIChwcmV2aW91c2x5RGVsZXRlZCAmJiBkZWxldGVkICYmIG1lcmdlZC5jb25mbGljdHMgIT09ICduZXdfbGVhZicpIHx8XG4gICAgKCFwcmV2aW91c2x5RGVsZXRlZCAmJiBtZXJnZWQuY29uZmxpY3RzICE9PSAnbmV3X2xlYWYnKSB8fFxuICAgIChwcmV2aW91c2x5RGVsZXRlZCAmJiAhZGVsZXRlZCAmJiBtZXJnZWQuY29uZmxpY3RzID09PSAnbmV3X2JyYW5jaCcpKSk7XG5cbiAgaWYgKGluQ29uZmxpY3QpIHtcbiAgICB2YXIgZXJyID0gY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKTtcbiAgICByZXN1bHRzW2ldID0gZXJyO1xuICAgIHJldHVybiBjYigpO1xuICB9XG5cbiAgdmFyIG5ld1JldiA9IGRvY0luZm8ubWV0YWRhdGEucmV2O1xuICBkb2NJbmZvLm1ldGFkYXRhLnJldl90cmVlID0gbWVyZ2VkLnRyZWU7XG4gIGRvY0luZm8uc3RlbW1lZFJldnMgPSBtZXJnZWQuc3RlbW1lZFJldnMgfHwgW107XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChwcmV2LnJldl9tYXApIHtcbiAgICBkb2NJbmZvLm1ldGFkYXRhLnJldl9tYXAgPSBwcmV2LnJldl9tYXA7IC8vIHVzZWQgb25seSBieSBsZXZlbGRiXG4gIH1cblxuICAvLyByZWNhbGN1bGF0ZVxuICB2YXIgd2lubmluZ1JldiQkMSA9IHdpbm5pbmdSZXYoZG9jSW5mby5tZXRhZGF0YSk7XG4gIHZhciB3aW5uaW5nUmV2SXNEZWxldGVkID0gaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEpO1xuXG4gIC8vIGNhbGN1bGF0ZSB0aGUgdG90YWwgbnVtYmVyIG9mIGRvY3VtZW50cyB0aGF0IHdlcmUgYWRkZWQvcmVtb3ZlZCxcbiAgLy8gZnJvbSB0aGUgcGVyc3BlY3RpdmUgb2YgdG90YWxfcm93cy9kb2NfY291bnRcbiAgdmFyIGRlbHRhID0gKHByZXZpb3VzbHlEZWxldGVkID09PSB3aW5uaW5nUmV2SXNEZWxldGVkKSA/IDAgOlxuICAgIHByZXZpb3VzbHlEZWxldGVkIDwgd2lubmluZ1JldklzRGVsZXRlZCA/IC0xIDogMTtcblxuICB2YXIgbmV3UmV2SXNEZWxldGVkO1xuICBpZiAobmV3UmV2ID09PSB3aW5uaW5nUmV2JCQxKSB7XG4gICAgLy8gaWYgdGhlIG5ldyByZXYgaXMgdGhlIHNhbWUgYXMgdGhlIHdpbm5pbmcgcmV2LCB3ZSBjYW4gcmV1c2UgdGhhdCB2YWx1ZVxuICAgIG5ld1JldklzRGVsZXRlZCA9IHdpbm5pbmdSZXZJc0RlbGV0ZWQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gaWYgdGhleSdyZSBub3QgdGhlIHNhbWUsIHRoZW4gd2UgbmVlZCB0byByZWNhbGN1bGF0ZVxuICAgIG5ld1JldklzRGVsZXRlZCA9IGlzRGVsZXRlZChkb2NJbmZvLm1ldGFkYXRhLCBuZXdSZXYpO1xuICB9XG5cbiAgd3JpdGVEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCwgbmV3UmV2SXNEZWxldGVkLFxuICAgIHRydWUsIGRlbHRhLCBpLCBjYik7XG59XG5cbmZ1bmN0aW9uIHJvb3RJc01pc3NpbmcoZG9jSW5mbykge1xuICByZXR1cm4gZG9jSW5mby5tZXRhZGF0YS5yZXZfdHJlZVswXS5pZHNbMV0uc3RhdHVzID09PSAnbWlzc2luZyc7XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NEb2NzKHJldkxpbWl0LCBkb2NJbmZvcywgYXBpLCBmZXRjaGVkRG9jcywgdHgsIHJlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgICB3cml0ZURvYywgb3B0cywgb3ZlcmFsbENhbGxiYWNrKSB7XG5cbiAgLy8gRGVmYXVsdCB0byAxMDAwIGxvY2FsbHlcbiAgcmV2TGltaXQgPSByZXZMaW1pdCB8fCAxMDAwO1xuXG4gIGZ1bmN0aW9uIGluc2VydERvYyhkb2NJbmZvLCByZXN1bHRzSWR4LCBjYWxsYmFjaykge1xuICAgIC8vIENhbnQgaW5zZXJ0IG5ldyBkZWxldGVkIGRvY3VtZW50c1xuICAgIHZhciB3aW5uaW5nUmV2JCQxID0gd2lubmluZ1Jldihkb2NJbmZvLm1ldGFkYXRhKTtcbiAgICB2YXIgZGVsZXRlZCA9IGlzRGVsZXRlZChkb2NJbmZvLm1ldGFkYXRhLCB3aW5uaW5nUmV2JCQxKTtcbiAgICBpZiAoJ3dhc19kZWxldGUnIGluIG9wdHMgJiYgZGVsZXRlZCkge1xuICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLCAnZGVsZXRlZCcpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgLy8gNDcxMiAtIGRldGVjdCB3aGV0aGVyIGEgbmV3IGRvY3VtZW50IHdhcyBpbnNlcnRlZCB3aXRoIGEgX3JldlxuICAgIHZhciBpbkNvbmZsaWN0ID0gbmV3RWRpdHMgJiYgcm9vdElzTWlzc2luZyhkb2NJbmZvKTtcblxuICAgIGlmIChpbkNvbmZsaWN0KSB7XG4gICAgICB2YXIgZXJyID0gY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKTtcbiAgICAgIHJlc3VsdHNbcmVzdWx0c0lkeF0gPSBlcnI7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICB2YXIgZGVsdGEgPSBkZWxldGVkID8gMCA6IDE7XG5cbiAgICB3cml0ZURvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCBkZWxldGVkLCBkZWxldGVkLCBmYWxzZSxcbiAgICAgIGRlbHRhLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gIH1cblxuICB2YXIgbmV3RWRpdHMgPSBvcHRzLm5ld19lZGl0cztcbiAgdmFyIGlkc1RvRG9jcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG4gIHZhciBkb2NzRG9uZSA9IDA7XG4gIHZhciBkb2NzVG9EbyA9IGRvY0luZm9zLmxlbmd0aDtcblxuICBmdW5jdGlvbiBjaGVja0FsbERvY3NEb25lKCkge1xuICAgIGlmICgrK2RvY3NEb25lID09PSBkb2NzVG9EbyAmJiBvdmVyYWxsQ2FsbGJhY2spIHtcbiAgICAgIG92ZXJhbGxDYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIGRvY0luZm9zLmZvckVhY2goZnVuY3Rpb24gKGN1cnJlbnREb2MsIHJlc3VsdHNJZHgpIHtcblxuICAgIGlmIChjdXJyZW50RG9jLl9pZCAmJiBpc0xvY2FsSWQoY3VycmVudERvYy5faWQpKSB7XG4gICAgICB2YXIgZnVuID0gY3VycmVudERvYy5fZGVsZXRlZCA/ICdfcmVtb3ZlTG9jYWwnIDogJ19wdXRMb2NhbCc7XG4gICAgICBhcGlbZnVuXShjdXJyZW50RG9jLCB7Y3R4OiB0eH0sIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICByZXN1bHRzW3Jlc3VsdHNJZHhdID0gZXJyIHx8IHJlcztcbiAgICAgICAgY2hlY2tBbGxEb2NzRG9uZSgpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGlkID0gY3VycmVudERvYy5tZXRhZGF0YS5pZDtcbiAgICBpZiAoaWRzVG9Eb2NzLmhhcyhpZCkpIHtcbiAgICAgIGRvY3NUb0RvLS07IC8vIGR1cGxpY2F0ZVxuICAgICAgaWRzVG9Eb2NzLmdldChpZCkucHVzaChbY3VycmVudERvYywgcmVzdWx0c0lkeF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZHNUb0RvY3Muc2V0KGlkLCBbW2N1cnJlbnREb2MsIHJlc3VsdHNJZHhdXSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBpbiB0aGUgY2FzZSBvZiBuZXdfZWRpdHMsIHRoZSB1c2VyIGNhbiBwcm92aWRlIG11bHRpcGxlIGRvY3NcbiAgLy8gd2l0aCB0aGUgc2FtZSBpZC4gdGhlc2UgbmVlZCB0byBiZSBwcm9jZXNzZWQgc2VxdWVudGlhbGx5XG4gIGlkc1RvRG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2NzLCBpZCkge1xuICAgIHZhciBudW1Eb25lID0gMDtcblxuICAgIGZ1bmN0aW9uIGRvY1dyaXR0ZW4oKSB7XG4gICAgICBpZiAoKytudW1Eb25lIDwgZG9jcy5sZW5ndGgpIHtcbiAgICAgICAgbmV4dERvYygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hlY2tBbGxEb2NzRG9uZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBuZXh0RG9jKCkge1xuICAgICAgdmFyIHZhbHVlID0gZG9jc1tudW1Eb25lXTtcbiAgICAgIHZhciBjdXJyZW50RG9jID0gdmFsdWVbMF07XG4gICAgICB2YXIgcmVzdWx0c0lkeCA9IHZhbHVlWzFdO1xuXG4gICAgICBpZiAoZmV0Y2hlZERvY3MuaGFzKGlkKSkge1xuICAgICAgICB1cGRhdGVEb2MocmV2TGltaXQsIGZldGNoZWREb2NzLmdldChpZCksIGN1cnJlbnREb2MsIHJlc3VsdHMsXG4gICAgICAgICAgcmVzdWx0c0lkeCwgZG9jV3JpdHRlbiwgd3JpdGVEb2MsIG5ld0VkaXRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEVuc3VyZSBzdGVtbWluZyBhcHBsaWVzIHRvIG5ldyB3cml0ZXMgYXMgd2VsbFxuICAgICAgICB2YXIgbWVyZ2VkID0gbWVyZ2UoW10sIGN1cnJlbnREb2MubWV0YWRhdGEucmV2X3RyZWVbMF0sIHJldkxpbWl0KTtcbiAgICAgICAgY3VycmVudERvYy5tZXRhZGF0YS5yZXZfdHJlZSA9IG1lcmdlZC50cmVlO1xuICAgICAgICBjdXJyZW50RG9jLnN0ZW1tZWRSZXZzID0gbWVyZ2VkLnN0ZW1tZWRSZXZzIHx8IFtdO1xuICAgICAgICBpbnNlcnREb2MoY3VycmVudERvYywgcmVzdWx0c0lkeCwgZG9jV3JpdHRlbik7XG4gICAgICB9XG4gICAgfVxuICAgIG5leHREb2MoKTtcbiAgfSk7XG59XG5cbi8vIEluZGV4ZWREQiByZXF1aXJlcyBhIHZlcnNpb25lZCBkYXRhYmFzZSBzdHJ1Y3R1cmUsIHNvIHdlIHVzZSB0aGVcbi8vIHZlcnNpb24gaGVyZSB0byBtYW5hZ2UgbWlncmF0aW9ucy5cbnZhciBBREFQVEVSX1ZFUlNJT04gPSA1O1xuXG4vLyBUaGUgb2JqZWN0IHN0b3JlcyBjcmVhdGVkIGZvciBlYWNoIGRhdGFiYXNlXG4vLyBET0NfU1RPUkUgc3RvcmVzIHRoZSBkb2N1bWVudCBtZXRhIGRhdGEsIGl0cyByZXZpc2lvbiBoaXN0b3J5IGFuZCBzdGF0ZVxuLy8gS2V5ZWQgYnkgZG9jdW1lbnQgaWRcbnZhciBET0NfU1RPUkUgPSAnZG9jdW1lbnQtc3RvcmUnO1xuLy8gQllfU0VRX1NUT1JFIHN0b3JlcyBhIHBhcnRpY3VsYXIgdmVyc2lvbiBvZiBhIGRvY3VtZW50LCBrZXllZCBieSBpdHNcbi8vIHNlcXVlbmNlIGlkXG52YXIgQllfU0VRX1NUT1JFID0gJ2J5LXNlcXVlbmNlJztcbi8vIFdoZXJlIHdlIHN0b3JlIGF0dGFjaG1lbnRzXG52YXIgQVRUQUNIX1NUT1JFID0gJ2F0dGFjaC1zdG9yZSc7XG4vLyBXaGVyZSB3ZSBzdG9yZSBtYW55LXRvLW1hbnkgcmVsYXRpb25zXG4vLyBiZXR3ZWVuIGF0dGFjaG1lbnQgZGlnZXN0cyBhbmQgc2Vxc1xudmFyIEFUVEFDSF9BTkRfU0VRX1NUT1JFID0gJ2F0dGFjaC1zZXEtc3RvcmUnO1xuXG4vLyBXaGVyZSB3ZSBzdG9yZSBkYXRhYmFzZS13aWRlIG1ldGEgZGF0YSBpbiBhIHNpbmdsZSByZWNvcmRcbi8vIGtleWVkIGJ5IGlkOiBNRVRBX1NUT1JFXG52YXIgTUVUQV9TVE9SRSA9ICdtZXRhLXN0b3JlJztcbi8vIFdoZXJlIHdlIHN0b3JlIGxvY2FsIGRvY3VtZW50c1xudmFyIExPQ0FMX1NUT1JFID0gJ2xvY2FsLXN0b3JlJztcbi8vIFdoZXJlIHdlIGRldGVjdCBibG9iIHN1cHBvcnRcbnZhciBERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFID0gJ2RldGVjdC1ibG9iLXN1cHBvcnQnO1xuXG5mdW5jdGlvbiBzYWZlSnNvblBhcnNlKHN0cikge1xuICAvLyBUaGlzIHRyeS9jYXRjaCBndWFyZHMgYWdhaW5zdCBzdGFjayBvdmVyZmxvdyBlcnJvcnMuXG4gIC8vIEpTT04ucGFyc2UoKSBpcyBmYXN0ZXIgdGhhbiB2dXZ1emVsYS5wYXJzZSgpIGJ1dCB2dXZ1emVsYVxuICAvLyBjYW5ub3Qgb3ZlcmZsb3cuXG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcmV0dXJuIHZ1dnV6ZWxhLnBhcnNlKHN0cik7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2FmZUpzb25TdHJpbmdpZnkoanNvbikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShqc29uKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcmV0dXJuIHZ1dnV6ZWxhLnN0cmluZ2lmeShqc29uKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpZGJFcnJvcihjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gKGV2dCkge1xuICAgIHZhciBtZXNzYWdlID0gJ3Vua25vd25fZXJyb3InO1xuICAgIGlmIChldnQudGFyZ2V0ICYmIGV2dC50YXJnZXQuZXJyb3IpIHtcbiAgICAgIG1lc3NhZ2UgPSBldnQudGFyZ2V0LmVycm9yLm5hbWUgfHwgZXZ0LnRhcmdldC5lcnJvci5tZXNzYWdlO1xuICAgIH1cbiAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihJREJfRVJST1IsIG1lc3NhZ2UsIGV2dC50eXBlKSk7XG4gIH07XG59XG5cbi8vIFVuZm9ydHVuYXRlbHksIHRoZSBtZXRhZGF0YSBoYXMgdG8gYmUgc3RyaW5naWZpZWRcbi8vIHdoZW4gaXQgaXMgcHV0IGludG8gdGhlIGRhdGFiYXNlLCBiZWNhdXNlIG90aGVyd2lzZVxuLy8gSW5kZXhlZERCIGNhbiB0aHJvdyBlcnJvcnMgZm9yIGRlZXBseS1uZXN0ZWQgb2JqZWN0cy5cbi8vIE9yaWdpbmFsbHkgd2UganVzdCB1c2VkIEpTT04ucGFyc2UvSlNPTi5zdHJpbmdpZnk7IG5vd1xuLy8gd2UgdXNlIHRoaXMgY3VzdG9tIHZ1dnV6ZWxhIGxpYnJhcnkgdGhhdCBhdm9pZHMgcmVjdXJzaW9uLlxuLy8gSWYgd2UgY291bGQgZG8gaXQgYWxsIG92ZXIgYWdhaW4sIHdlJ2QgcHJvYmFibHkgdXNlIGFcbi8vIGZvcm1hdCBmb3IgdGhlIHJldmlzaW9uIHRyZWVzIG90aGVyIHRoYW4gSlNPTi5cbmZ1bmN0aW9uIGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLCB3aW5uaW5nUmV2LCBkZWxldGVkKSB7XG4gIHJldHVybiB7XG4gICAgZGF0YTogc2FmZUpzb25TdHJpbmdpZnkobWV0YWRhdGEpLFxuICAgIHdpbm5pbmdSZXY6IHdpbm5pbmdSZXYsXG4gICAgZGVsZXRlZE9yTG9jYWw6IGRlbGV0ZWQgPyAnMScgOiAnMCcsXG4gICAgc2VxOiBtZXRhZGF0YS5zZXEsIC8vIGhpZ2hlc3Qgc2VxIGZvciB0aGlzIGRvY1xuICAgIGlkOiBtZXRhZGF0YS5pZFxuICB9O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVNZXRhZGF0YShzdG9yZWRPYmplY3QpIHtcbiAgaWYgKCFzdG9yZWRPYmplY3QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbWV0YWRhdGEgPSBzYWZlSnNvblBhcnNlKHN0b3JlZE9iamVjdC5kYXRhKTtcbiAgbWV0YWRhdGEud2lubmluZ1JldiA9IHN0b3JlZE9iamVjdC53aW5uaW5nUmV2O1xuICBtZXRhZGF0YS5kZWxldGVkID0gc3RvcmVkT2JqZWN0LmRlbGV0ZWRPckxvY2FsID09PSAnMSc7XG4gIG1ldGFkYXRhLnNlcSA9IHN0b3JlZE9iamVjdC5zZXE7XG4gIHJldHVybiBtZXRhZGF0YTtcbn1cblxuLy8gcmVhZCB0aGUgZG9jIGJhY2sgb3V0IGZyb20gdGhlIGRhdGFiYXNlLiB3ZSBkb24ndCBzdG9yZSB0aGVcbi8vIF9pZCBvciBfcmV2IGJlY2F1c2Ugd2UgYWxyZWFkeSBoYXZlIF9kb2NfaWRfcmV2LlxuZnVuY3Rpb24gZGVjb2RlRG9jKGRvYykge1xuICBpZiAoIWRvYykge1xuICAgIHJldHVybiBkb2M7XG4gIH1cbiAgdmFyIGlkeCA9IGRvYy5fZG9jX2lkX3Jldi5sYXN0SW5kZXhPZignOicpO1xuICBkb2MuX2lkID0gZG9jLl9kb2NfaWRfcmV2LnN1YnN0cmluZygwLCBpZHggLSAxKTtcbiAgZG9jLl9yZXYgPSBkb2MuX2RvY19pZF9yZXYuc3Vic3RyaW5nKGlkeCArIDEpO1xuICBkZWxldGUgZG9jLl9kb2NfaWRfcmV2O1xuICByZXR1cm4gZG9jO1xufVxuXG4vLyBSZWFkIGEgYmxvYiBmcm9tIHRoZSBkYXRhYmFzZSwgZW5jb2RpbmcgYXMgbmVjZXNzYXJ5XG4vLyBhbmQgdHJhbnNsYXRpbmcgZnJvbSBiYXNlNjQgaWYgdGhlIElEQiBkb2Vzbid0IHN1cHBvcnRcbi8vIG5hdGl2ZSBCbG9ic1xuZnVuY3Rpb24gcmVhZEJsb2JEYXRhKGJvZHksIHR5cGUsIGFzQmxvYiwgY2FsbGJhY2spIHtcbiAgaWYgKGFzQmxvYikge1xuICAgIGlmICghYm9keSkge1xuICAgICAgY2FsbGJhY2soY3JlYXRlQmxvYihbJyddLCB7dHlwZTogdHlwZX0pKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ICE9PSAnc3RyaW5nJykgeyAvLyB3ZSBoYXZlIGJsb2Igc3VwcG9ydFxuICAgICAgY2FsbGJhY2soYm9keSk7XG4gICAgfSBlbHNlIHsgLy8gbm8gYmxvYiBzdXBwb3J0XG4gICAgICBjYWxsYmFjayhiNjRUb0JsdWZmZXIoYm9keSwgdHlwZSkpO1xuICAgIH1cbiAgfSBlbHNlIHsgLy8gYXMgYmFzZTY0IHN0cmluZ1xuICAgIGlmICghYm9keSkge1xuICAgICAgY2FsbGJhY2soJycpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgIT09ICdzdHJpbmcnKSB7IC8vIHdlIGhhdmUgYmxvYiBzdXBwb3J0XG4gICAgICByZWFkQXNCaW5hcnlTdHJpbmcoYm9keSwgZnVuY3Rpb24gKGJpbmFyeSkge1xuICAgICAgICBjYWxsYmFjayh0aGlzQnRvYShiaW5hcnkpKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7IC8vIG5vIGJsb2Igc3VwcG9ydFxuICAgICAgY2FsbGJhY2soYm9keSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeShkb2MsIG9wdHMsIHR4biwgY2IpIHtcbiAgdmFyIGF0dGFjaG1lbnRzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyB8fCB7fSk7XG4gIGlmICghYXR0YWNobWVudHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNiICYmIGNiKCk7XG4gIH1cbiAgdmFyIG51bURvbmUgPSAwO1xuXG4gIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICBpZiAoKytudW1Eb25lID09PSBhdHRhY2htZW50cy5sZW5ndGggJiYgY2IpIHtcbiAgICAgIGNiKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hBdHRhY2htZW50KGRvYywgYXR0KSB7XG4gICAgdmFyIGF0dE9iaiA9IGRvYy5fYXR0YWNobWVudHNbYXR0XTtcbiAgICB2YXIgZGlnZXN0ID0gYXR0T2JqLmRpZ2VzdDtcbiAgICB2YXIgcmVxID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSkuZ2V0KGRpZ2VzdCk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBhdHRPYmouYm9keSA9IGUudGFyZ2V0LnJlc3VsdC5ib2R5O1xuICAgICAgY2hlY2tEb25lKCk7XG4gICAgfTtcbiAgfVxuXG4gIGF0dGFjaG1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGF0dCkge1xuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICBmZXRjaEF0dGFjaG1lbnQoZG9jLCBhdHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MuX2F0dGFjaG1lbnRzW2F0dF0uc3R1YiA9IHRydWU7XG4gICAgICBjaGVja0RvbmUoKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBJREItc3BlY2lmaWMgcG9zdHByb2Nlc3NpbmcgbmVjZXNzYXJ5IGJlY2F1c2Vcbi8vIHdlIGRvbid0IGtub3cgd2hldGhlciB3ZSBzdG9yZWQgYSB0cnVlIEJsb2Igb3Jcbi8vIGEgYmFzZTY0LWVuY29kZWQgc3RyaW5nLCBhbmQgaWYgaXQncyBhIEJsb2IgaXRcbi8vIG5lZWRzIHRvIGJlIHJlYWQgb3V0c2lkZSBvZiB0aGUgdHJhbnNhY3Rpb24gY29udGV4dFxuZnVuY3Rpb24gcG9zdFByb2Nlc3NBdHRhY2htZW50cyhyZXN1bHRzLCBhc0Jsb2IpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHJlc3VsdHMubWFwKGZ1bmN0aW9uIChyb3cpIHtcbiAgICBpZiAocm93LmRvYyAmJiByb3cuZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgdmFyIGF0dE5hbWVzID0gT2JqZWN0LmtleXMocm93LmRvYy5fYXR0YWNobWVudHMpO1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGF0dE5hbWVzLm1hcChmdW5jdGlvbiAoYXR0KSB7XG4gICAgICAgIHZhciBhdHRPYmogPSByb3cuZG9jLl9hdHRhY2htZW50c1thdHRdO1xuICAgICAgICBpZiAoISgnYm9keScgaW4gYXR0T2JqKSkgeyAvLyBhbHJlYWR5IHByb2Nlc3NlZFxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYm9keSA9IGF0dE9iai5ib2R5O1xuICAgICAgICB2YXIgdHlwZSA9IGF0dE9iai5jb250ZW50X3R5cGU7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgIHJlYWRCbG9iRGF0YShib2R5LCB0eXBlLCBhc0Jsb2IsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByb3cuZG9jLl9hdHRhY2htZW50c1thdHRdID0gJGluamVjdF9PYmplY3RfYXNzaWduKFxuICAgICAgICAgICAgICBwaWNrKGF0dE9iaiwgWydkaWdlc3QnLCAnY29udGVudF90eXBlJ10pLFxuICAgICAgICAgICAgICB7ZGF0YTogZGF0YX1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBjb21wYWN0UmV2cyhyZXZzLCBkb2NJZCwgdHhuKSB7XG5cbiAgdmFyIHBvc3NpYmx5T3JwaGFuZWREaWdlc3RzID0gW107XG4gIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICB2YXIgYXR0U3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKTtcbiAgdmFyIGF0dEFuZFNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9BTkRfU0VRX1NUT1JFKTtcbiAgdmFyIGNvdW50ID0gcmV2cy5sZW5ndGg7XG5cbiAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgIGNvdW50LS07XG4gICAgaWYgKCFjb3VudCkgeyAvLyBkb25lIHByb2Nlc3NpbmcgYWxsIHJldnNcbiAgICAgIGRlbGV0ZU9ycGhhbmVkQXR0YWNobWVudHMoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZWxldGVPcnBoYW5lZEF0dGFjaG1lbnRzKCkge1xuICAgIGlmICghcG9zc2libHlPcnBoYW5lZERpZ2VzdHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBvc3NpYmx5T3JwaGFuZWREaWdlc3RzLmZvckVhY2goZnVuY3Rpb24gKGRpZ2VzdCkge1xuICAgICAgdmFyIGNvdW50UmVxID0gYXR0QW5kU2VxU3RvcmUuaW5kZXgoJ2RpZ2VzdFNlcScpLmNvdW50KFxuICAgICAgICBJREJLZXlSYW5nZS5ib3VuZChcbiAgICAgICAgICBkaWdlc3QgKyAnOjonLCBkaWdlc3QgKyAnOjpcXHVmZmZmJywgZmFsc2UsIGZhbHNlKSk7XG4gICAgICBjb3VudFJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgY291bnQgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmICghY291bnQpIHtcbiAgICAgICAgICAvLyBvcnBoYW5lZFxuICAgICAgICAgIGF0dFN0b3JlLmRlbGV0ZShkaWdlc3QpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgcmV2cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXYpIHtcbiAgICB2YXIgaW5kZXggPSBzZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKTtcbiAgICB2YXIga2V5ID0gZG9jSWQgKyBcIjo6XCIgKyByZXY7XG4gICAgaW5kZXguZ2V0S2V5KGtleSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBzZXEgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAodHlwZW9mIHNlcSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrRG9uZSgpO1xuICAgICAgfVxuICAgICAgc2VxU3RvcmUuZGVsZXRlKHNlcSk7XG5cbiAgICAgIHZhciBjdXJzb3IgPSBhdHRBbmRTZXFTdG9yZS5pbmRleCgnc2VxJylcbiAgICAgICAgLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2Uub25seShzZXEpKTtcblxuICAgICAgY3Vyc29yLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgIHZhciBkaWdlc3QgPSBjdXJzb3IudmFsdWUuZGlnZXN0U2VxLnNwbGl0KCc6OicpWzBdO1xuICAgICAgICAgIHBvc3NpYmx5T3JwaGFuZWREaWdlc3RzLnB1c2goZGlnZXN0KTtcbiAgICAgICAgICBhdHRBbmRTZXFTdG9yZS5kZWxldGUoY3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9IGVsc2UgeyAvLyBkb25lXG4gICAgICAgICAgY2hlY2tEb25lKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgbW9kZSkge1xuICB0cnkge1xuICAgIHJldHVybiB7XG4gICAgICB0eG46IGlkYi50cmFuc2FjdGlvbihzdG9yZXMsIG1vZGUpXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVycm9yOiBlcnJcbiAgICB9O1xuICB9XG59XG5cbnZhciBjaGFuZ2VzSGFuZGxlciA9IG5ldyBDaGFuZ2VzKCk7XG5cbmZ1bmN0aW9uIGlkYkJ1bGtEb2NzKGRiT3B0cywgcmVxLCBvcHRzLCBhcGksIGlkYiwgY2FsbGJhY2spIHtcbiAgdmFyIGRvY0luZm9zID0gcmVxLmRvY3M7XG4gIHZhciB0eG47XG4gIHZhciBkb2NTdG9yZTtcbiAgdmFyIGJ5U2VxU3RvcmU7XG4gIHZhciBhdHRhY2hTdG9yZTtcbiAgdmFyIGF0dGFjaEFuZFNlcVN0b3JlO1xuICB2YXIgbWV0YVN0b3JlO1xuICB2YXIgZG9jSW5mb0Vycm9yO1xuICB2YXIgbWV0YURvYztcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gZG9jSW5mb3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgZG9jID0gZG9jSW5mb3NbaV07XG4gICAgaWYgKGRvYy5faWQgJiYgaXNMb2NhbElkKGRvYy5faWQpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgZG9jID0gZG9jSW5mb3NbaV0gPSBwYXJzZURvYyhkb2MsIG9wdHMubmV3X2VkaXRzLCBkYk9wdHMpO1xuICAgIGlmIChkb2MuZXJyb3IgJiYgIWRvY0luZm9FcnJvcikge1xuICAgICAgZG9jSW5mb0Vycm9yID0gZG9jO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkb2NJbmZvRXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soZG9jSW5mb0Vycm9yKTtcbiAgfVxuXG4gIHZhciBhbGxEb2NzUHJvY2Vzc2VkID0gZmFsc2U7XG4gIHZhciBkb2NDb3VudERlbHRhID0gMDtcbiAgdmFyIHJlc3VsdHMgPSBuZXcgQXJyYXkoZG9jSW5mb3MubGVuZ3RoKTtcbiAgdmFyIGZldGNoZWREb2NzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gIHZhciBwcmVjb25kaXRpb25FcnJvcmVkID0gZmFsc2U7XG4gIHZhciBibG9iVHlwZSA9IGFwaS5fbWV0YS5ibG9iU3VwcG9ydCA/ICdibG9iJyA6ICdiYXNlNjQnO1xuXG4gIHByZXByb2Nlc3NBdHRhY2htZW50cyhkb2NJbmZvcywgYmxvYlR5cGUsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgc3RhcnRUcmFuc2FjdGlvbigpO1xuICB9KTtcblxuICBmdW5jdGlvbiBzdGFydFRyYW5zYWN0aW9uKCkge1xuXG4gICAgdmFyIHN0b3JlcyA9IFtcbiAgICAgIERPQ19TVE9SRSwgQllfU0VRX1NUT1JFLFxuICAgICAgQVRUQUNIX1NUT1JFLFxuICAgICAgTE9DQUxfU1RPUkUsIEFUVEFDSF9BTkRfU0VRX1NUT1JFLFxuICAgICAgTUVUQV9TVE9SRVxuICAgIF07XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgJ3JlYWR3cml0ZScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICAgIHR4bi5vbmFib3J0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHR4bi5vbnRpbWVvdXQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgdHhuLm9uY29tcGxldGUgPSBjb21wbGV0ZTtcbiAgICBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICAgIGJ5U2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgICBhdHRhY2hTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpO1xuICAgIGF0dGFjaEFuZFNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9BTkRfU0VRX1NUT1JFKTtcbiAgICBtZXRhU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSk7XG5cbiAgICBtZXRhU3RvcmUuZ2V0KE1FVEFfU1RPUkUpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBtZXRhRG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgdXBkYXRlRG9jQ291bnRJZlJlYWR5KCk7XG4gICAgfTtcblxuICAgIHZlcmlmeUF0dGFjaG1lbnRzKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcHJlY29uZGl0aW9uRXJyb3JlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuICAgICAgZmV0Y2hFeGlzdGluZ0RvY3MoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQWxsRG9jc1Byb2Nlc3NlZCgpIHtcbiAgICBhbGxEb2NzUHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICB1cGRhdGVEb2NDb3VudElmUmVhZHkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlkYlByb2Nlc3NEb2NzKCkge1xuICAgIHByb2Nlc3NEb2NzKGRiT3B0cy5yZXZzX2xpbWl0LCBkb2NJbmZvcywgYXBpLCBmZXRjaGVkRG9jcyxcbiAgICAgICAgICAgICAgICB0eG4sIHJlc3VsdHMsIHdyaXRlRG9jLCBvcHRzLCBvbkFsbERvY3NQcm9jZXNzZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRG9jQ291bnRJZlJlYWR5KCkge1xuICAgIGlmICghbWV0YURvYyB8fCAhYWxsRG9jc1Byb2Nlc3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBjYWNoaW5nIHRoZSBkb2NDb3VudCBzYXZlcyBhIGxvdCBvZiB0aW1lIGluIGFsbERvY3MoKSBhbmRcbiAgICAvLyBpbmZvKCksIHdoaWNoIGlzIHdoeSB3ZSBnbyB0byBhbGwgdGhlIHRyb3VibGUgb2YgZG9pbmcgdGhpc1xuICAgIG1ldGFEb2MuZG9jQ291bnQgKz0gZG9jQ291bnREZWx0YTtcbiAgICBtZXRhU3RvcmUucHV0KG1ldGFEb2MpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hFeGlzdGluZ0RvY3MoKSB7XG5cbiAgICBpZiAoIWRvY0luZm9zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBudW1GZXRjaGVkID0gMDtcblxuICAgIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICAgIGlmICgrK251bUZldGNoZWQgPT09IGRvY0luZm9zLmxlbmd0aCkge1xuICAgICAgICBpZGJQcm9jZXNzRG9jcygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlYWRNZXRhZGF0YShldmVudCkge1xuICAgICAgdmFyIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG5cbiAgICAgIGlmIChtZXRhZGF0YSkge1xuICAgICAgICBmZXRjaGVkRG9jcy5zZXQobWV0YWRhdGEuaWQsIG1ldGFkYXRhKTtcbiAgICAgIH1cbiAgICAgIGNoZWNrRG9uZSgpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkb2NJbmZvcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGRvY0luZm8gPSBkb2NJbmZvc1tpXTtcbiAgICAgIGlmIChkb2NJbmZvLl9pZCAmJiBpc0xvY2FsSWQoZG9jSW5mby5faWQpKSB7XG4gICAgICAgIGNoZWNrRG9uZSgpOyAvLyBza2lwIGxvY2FsIGRvY3NcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgcmVxID0gZG9jU3RvcmUuZ2V0KGRvY0luZm8ubWV0YWRhdGEuaWQpO1xuICAgICAgcmVxLm9uc3VjY2VzcyA9IHJlYWRNZXRhZGF0YTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICBpZiAocHJlY29uZGl0aW9uRXJyb3JlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNoYW5nZXNIYW5kbGVyLm5vdGlmeShhcGkuX21ldGEubmFtZSk7XG4gICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0cyk7XG4gIH1cblxuICBmdW5jdGlvbiB2ZXJpZnlBdHRhY2htZW50KGRpZ2VzdCwgY2FsbGJhY2spIHtcblxuICAgIHZhciByZXEgPSBhdHRhY2hTdG9yZS5nZXQoZGlnZXN0KTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICghZS50YXJnZXQucmVzdWx0KSB7XG4gICAgICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX1NUVUIsXG4gICAgICAgICAgJ3Vua25vd24gc3R1YiBhdHRhY2htZW50IHdpdGggZGlnZXN0ICcgK1xuICAgICAgICAgIGRpZ2VzdCk7XG4gICAgICAgIGVyci5zdGF0dXMgPSA0MTI7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB2ZXJpZnlBdHRhY2htZW50cyhmaW5pc2gpIHtcblxuXG4gICAgdmFyIGRpZ2VzdHMgPSBbXTtcbiAgICBkb2NJbmZvcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2NJbmZvKSB7XG4gICAgICBpZiAoZG9jSW5mby5kYXRhICYmIGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgICB2YXIgYXR0ID0gZG9jSW5mby5kYXRhLl9hdHRhY2htZW50c1tmaWxlbmFtZV07XG4gICAgICAgICAgaWYgKGF0dC5zdHViKSB7XG4gICAgICAgICAgICBkaWdlc3RzLnB1c2goYXR0LmRpZ2VzdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWRpZ2VzdHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmluaXNoKCk7XG4gICAgfVxuICAgIHZhciBudW1Eb25lID0gMDtcbiAgICB2YXIgZXJyO1xuXG4gICAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgICAgaWYgKCsrbnVtRG9uZSA9PT0gZGlnZXN0cy5sZW5ndGgpIHtcbiAgICAgICAgZmluaXNoKGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIGRpZ2VzdHMuZm9yRWFjaChmdW5jdGlvbiAoZGlnZXN0KSB7XG4gICAgICB2ZXJpZnlBdHRhY2htZW50KGRpZ2VzdCwgZnVuY3Rpb24gKGF0dEVycikge1xuICAgICAgICBpZiAoYXR0RXJyICYmICFlcnIpIHtcbiAgICAgICAgICBlcnIgPSBhdHRFcnI7XG4gICAgICAgIH1cbiAgICAgICAgY2hlY2tEb25lKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsIG5ld1JldklzRGVsZXRlZCxcbiAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGUsIGRlbHRhLCByZXN1bHRzSWR4LCBjYWxsYmFjaykge1xuXG4gICAgZG9jSW5mby5tZXRhZGF0YS53aW5uaW5nUmV2ID0gd2lubmluZ1JldiQkMTtcbiAgICBkb2NJbmZvLm1ldGFkYXRhLmRlbGV0ZWQgPSB3aW5uaW5nUmV2SXNEZWxldGVkO1xuXG4gICAgdmFyIGRvYyA9IGRvY0luZm8uZGF0YTtcbiAgICBkb2MuX2lkID0gZG9jSW5mby5tZXRhZGF0YS5pZDtcbiAgICBkb2MuX3JldiA9IGRvY0luZm8ubWV0YWRhdGEucmV2O1xuXG4gICAgaWYgKG5ld1JldklzRGVsZXRlZCkge1xuICAgICAgZG9jLl9kZWxldGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaGFzQXR0YWNobWVudHMgPSBkb2MuX2F0dGFjaG1lbnRzICYmXG4gICAgICBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKS5sZW5ndGg7XG4gICAgaWYgKGhhc0F0dGFjaG1lbnRzKSB7XG4gICAgICByZXR1cm4gd3JpdGVBdHRhY2htZW50cyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICBpc1VwZGF0ZSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGRvY0NvdW50RGVsdGEgKz0gZGVsdGE7XG4gICAgdXBkYXRlRG9jQ291bnRJZlJlYWR5KCk7XG5cbiAgICBmaW5pc2hEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCxcbiAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCxcbiAgICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjaykge1xuXG4gICAgdmFyIGRvYyA9IGRvY0luZm8uZGF0YTtcbiAgICB2YXIgbWV0YWRhdGEgPSBkb2NJbmZvLm1ldGFkYXRhO1xuXG4gICAgZG9jLl9kb2NfaWRfcmV2ID0gbWV0YWRhdGEuaWQgKyAnOjonICsgbWV0YWRhdGEucmV2O1xuICAgIGRlbGV0ZSBkb2MuX2lkO1xuICAgIGRlbGV0ZSBkb2MuX3JldjtcblxuICAgIGZ1bmN0aW9uIGFmdGVyUHV0RG9jKGUpIHtcbiAgICAgIHZhciByZXZzVG9EZWxldGUgPSBkb2NJbmZvLnN0ZW1tZWRSZXZzIHx8IFtdO1xuXG4gICAgICBpZiAoaXNVcGRhdGUgJiYgYXBpLmF1dG9fY29tcGFjdGlvbikge1xuICAgICAgICByZXZzVG9EZWxldGUgPSByZXZzVG9EZWxldGUuY29uY2F0KGNvbXBhY3RUcmVlKGRvY0luZm8ubWV0YWRhdGEpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJldnNUb0RlbGV0ZSAmJiByZXZzVG9EZWxldGUubGVuZ3RoKSB7XG4gICAgICAgIGNvbXBhY3RSZXZzKHJldnNUb0RlbGV0ZSwgZG9jSW5mby5tZXRhZGF0YS5pZCwgdHhuKTtcbiAgICAgIH1cblxuICAgICAgbWV0YWRhdGEuc2VxID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgLy8gQ3VycmVudCBfcmV2IGlzIGNhbGN1bGF0ZWQgZnJvbSBfcmV2X3RyZWUgb24gcmVhZFxuICAgICAgLy8gZGVsZXRlIG1ldGFkYXRhLnJldjtcbiAgICAgIHZhciBtZXRhZGF0YVRvU3RvcmUgPSBlbmNvZGVNZXRhZGF0YShtZXRhZGF0YSwgd2lubmluZ1JldiQkMSxcbiAgICAgICAgd2lubmluZ1JldklzRGVsZXRlZCk7XG4gICAgICB2YXIgbWV0YURhdGFSZXEgPSBkb2NTdG9yZS5wdXQobWV0YWRhdGFUb1N0b3JlKTtcbiAgICAgIG1ldGFEYXRhUmVxLm9uc3VjY2VzcyA9IGFmdGVyUHV0TWV0YWRhdGE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWZ0ZXJQdXREb2NFcnJvcihlKSB7XG4gICAgICAvLyBDb25zdHJhaW50RXJyb3IsIG5lZWQgdG8gdXBkYXRlLCBub3QgcHV0IChzZWUgIzE2MzggZm9yIGRldGFpbHMpXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIGFib3J0XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBvbmVycm9yXG4gICAgICB2YXIgaW5kZXggPSBieVNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICAgICAgdmFyIGdldEtleVJlcSA9IGluZGV4LmdldEtleShkb2MuX2RvY19pZF9yZXYpO1xuICAgICAgZ2V0S2V5UmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBwdXRSZXEgPSBieVNlcVN0b3JlLnB1dChkb2MsIGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgIHB1dFJlcS5vbnN1Y2Nlc3MgPSBhZnRlclB1dERvYztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWZ0ZXJQdXRNZXRhZGF0YSgpIHtcbiAgICAgIHJlc3VsdHNbcmVzdWx0c0lkeF0gPSB7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBpZDogbWV0YWRhdGEuaWQsXG4gICAgICAgIHJldjogbWV0YWRhdGEucmV2XG4gICAgICB9O1xuICAgICAgZmV0Y2hlZERvY3Muc2V0KGRvY0luZm8ubWV0YWRhdGEuaWQsIGRvY0luZm8ubWV0YWRhdGEpO1xuICAgICAgaW5zZXJ0QXR0YWNobWVudE1hcHBpbmdzKGRvY0luZm8sIG1ldGFkYXRhLnNlcSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHZhciBwdXRSZXEgPSBieVNlcVN0b3JlLnB1dChkb2MpO1xuXG4gICAgcHV0UmVxLm9uc3VjY2VzcyA9IGFmdGVyUHV0RG9jO1xuICAgIHB1dFJlcS5vbmVycm9yID0gYWZ0ZXJQdXREb2NFcnJvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlQXR0YWNobWVudHMoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spIHtcblxuXG4gICAgdmFyIGRvYyA9IGRvY0luZm8uZGF0YTtcblxuICAgIHZhciBudW1Eb25lID0gMDtcbiAgICB2YXIgYXR0YWNobWVudHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcblxuICAgIGZ1bmN0aW9uIGNvbGxlY3RSZXN1bHRzKCkge1xuICAgICAgaWYgKG51bURvbmUgPT09IGF0dGFjaG1lbnRzLmxlbmd0aCkge1xuICAgICAgICBmaW5pc2hEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCxcbiAgICAgICAgICBpc1VwZGF0ZSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGF0dGFjaG1lbnRTYXZlZCgpIHtcbiAgICAgIG51bURvbmUrKztcbiAgICAgIGNvbGxlY3RSZXN1bHRzKCk7XG4gICAgfVxuXG4gICAgYXR0YWNobWVudHMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgYXR0ID0gZG9jSW5mby5kYXRhLl9hdHRhY2htZW50c1trZXldO1xuICAgICAgaWYgKCFhdHQuc3R1Yikge1xuICAgICAgICB2YXIgZGF0YSA9IGF0dC5kYXRhO1xuICAgICAgICBkZWxldGUgYXR0LmRhdGE7XG4gICAgICAgIGF0dC5yZXZwb3MgPSBwYXJzZUludCh3aW5uaW5nUmV2JCQxLCAxMCk7XG4gICAgICAgIHZhciBkaWdlc3QgPSBhdHQuZGlnZXN0O1xuICAgICAgICBzYXZlQXR0YWNobWVudChkaWdlc3QsIGRhdGEsIGF0dGFjaG1lbnRTYXZlZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBudW1Eb25lKys7XG4gICAgICAgIGNvbGxlY3RSZXN1bHRzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBtYXAgc2VxcyB0byBhdHRhY2htZW50IGRpZ2VzdHMsIHdoaWNoXG4gIC8vIHdlIHdpbGwgbmVlZCBsYXRlciBkdXJpbmcgY29tcGFjdGlvblxuICBmdW5jdGlvbiBpbnNlcnRBdHRhY2htZW50TWFwcGluZ3MoZG9jSW5mbywgc2VxLCBjYWxsYmFjaykge1xuXG4gICAgdmFyIGF0dHNBZGRlZCA9IDA7XG4gICAgdmFyIGF0dHNUb0FkZCA9IE9iamVjdC5rZXlzKGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMgfHwge30pO1xuXG4gICAgaWYgKCFhdHRzVG9BZGQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgICBpZiAoKythdHRzQWRkZWQgPT09IGF0dHNUb0FkZC5sZW5ndGgpIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGQoYXR0KSB7XG4gICAgICB2YXIgZGlnZXN0ID0gZG9jSW5mby5kYXRhLl9hdHRhY2htZW50c1thdHRdLmRpZ2VzdDtcbiAgICAgIHZhciByZXEgPSBhdHRhY2hBbmRTZXFTdG9yZS5wdXQoe1xuICAgICAgICBzZXE6IHNlcSxcbiAgICAgICAgZGlnZXN0U2VxOiBkaWdlc3QgKyAnOjonICsgc2VxXG4gICAgICB9KTtcblxuICAgICAgcmVxLm9uc3VjY2VzcyA9IGNoZWNrRG9uZTtcbiAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gdGhpcyBjYWxsYmFjayBpcyBmb3IgYSBjb25zdGFpbnQgZXJyb3IsIHdoaWNoIHdlIGlnbm9yZVxuICAgICAgICAvLyBiZWNhdXNlIHRoaXMgZG9jaWQvcmV2IGhhcyBhbHJlYWR5IGJlZW4gYXNzb2NpYXRlZCB3aXRoXG4gICAgICAgIC8vIHRoZSBkaWdlc3QgKGUuZy4gd2hlbiBuZXdfZWRpdHMgPT0gZmFsc2UpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gYWJvcnRcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gb25lcnJvclxuICAgICAgICBjaGVja0RvbmUoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0c1RvQWRkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhZGQoYXR0c1RvQWRkW2ldKTsgLy8gZG8gaW4gcGFyYWxsZWxcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzYXZlQXR0YWNobWVudChkaWdlc3QsIGRhdGEsIGNhbGxiYWNrKSB7XG5cblxuICAgIHZhciBnZXRLZXlSZXEgPSBhdHRhY2hTdG9yZS5jb3VudChkaWdlc3QpO1xuICAgIGdldEtleVJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGNvdW50ID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKGNvdW50KSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjaygpOyAvLyBhbHJlYWR5IGV4aXN0c1xuICAgICAgfVxuICAgICAgdmFyIG5ld0F0dCA9IHtcbiAgICAgICAgZGlnZXN0OiBkaWdlc3QsXG4gICAgICAgIGJvZHk6IGRhdGFcbiAgICAgIH07XG4gICAgICB2YXIgcHV0UmVxID0gYXR0YWNoU3RvcmUucHV0KG5ld0F0dCk7XG4gICAgICBwdXRSZXEub25zdWNjZXNzID0gY2FsbGJhY2s7XG4gICAgfTtcbiAgfVxufVxuXG4vLyBBYnN0cmFjdGlvbiBvdmVyIElEQkN1cnNvciBhbmQgZ2V0QWxsKCkvZ2V0QWxsS2V5cygpIHRoYXQgYWxsb3dzIHVzIHRvIGJhdGNoIG91ciBvcGVyYXRpb25zXG4vLyB3aGlsZSBmYWxsaW5nIGJhY2sgdG8gYSBub3JtYWwgSURCQ3Vyc29yIG9wZXJhdGlvbiBvbiBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgZ2V0QWxsKCkgb3Jcbi8vIGdldEFsbEtleXMoKS4gVGhpcyBhbGxvd3MgZm9yIGEgbXVjaCBmYXN0ZXIgaW1wbGVtZW50YXRpb24gdGhhbiBqdXN0IHN0cmFpZ2h0LXVwIGN1cnNvcnMsIGJlY2F1c2Vcbi8vIHdlJ3JlIG5vdCBwcm9jZXNzaW5nIGVhY2ggZG9jdW1lbnQgb25lLWF0LWEtdGltZS5cbmZ1bmN0aW9uIHJ1bkJhdGNoZWRDdXJzb3Iob2JqZWN0U3RvcmUsIGtleVJhbmdlLCBkZXNjZW5kaW5nLCBiYXRjaFNpemUsIG9uQmF0Y2gpIHtcblxuICBpZiAoYmF0Y2hTaXplID09PSAtMSkge1xuICAgIGJhdGNoU2l6ZSA9IDEwMDA7XG4gIH1cblxuICAvLyBCYWlsIG91dCBvZiBnZXRBbGwoKS9nZXRBbGxLZXlzKCkgaW4gdGhlIGZvbGxvd2luZyBjYXNlczpcbiAgLy8gMSkgZWl0aGVyIG1ldGhvZCBpcyB1bnN1cHBvcnRlZCAtIHdlIG5lZWQgYm90aFxuICAvLyAyKSBiYXRjaFNpemUgaXMgMSAobWlnaHQgYXMgd2VsbCB1c2UgSURCQ3Vyc29yKVxuICAvLyAzKSBkZXNjZW5kaW5nIOKAkyBubyByZWFsIHdheSB0byBkbyB0aGlzIHZpYSBnZXRBbGwoKS9nZXRBbGxLZXlzKClcblxuICB2YXIgdXNlR2V0QWxsID0gdHlwZW9mIG9iamVjdFN0b3JlLmdldEFsbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiBvYmplY3RTdG9yZS5nZXRBbGxLZXlzID09PSAnZnVuY3Rpb24nICYmXG4gICAgYmF0Y2hTaXplID4gMSAmJiAhZGVzY2VuZGluZztcblxuICB2YXIga2V5c0JhdGNoO1xuICB2YXIgdmFsdWVzQmF0Y2g7XG4gIHZhciBwc2V1ZG9DdXJzb3I7XG5cbiAgZnVuY3Rpb24gb25HZXRBbGwoZSkge1xuICAgIHZhbHVlc0JhdGNoID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmIChrZXlzQmF0Y2gpIHtcbiAgICAgIG9uQmF0Y2goa2V5c0JhdGNoLCB2YWx1ZXNCYXRjaCwgcHNldWRvQ3Vyc29yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkdldEFsbEtleXMoZSkge1xuICAgIGtleXNCYXRjaCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAodmFsdWVzQmF0Y2gpIHtcbiAgICAgIG9uQmF0Y2goa2V5c0JhdGNoLCB2YWx1ZXNCYXRjaCwgcHNldWRvQ3Vyc29yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb250aW51ZVBzZXVkb0N1cnNvcigpIHtcbiAgICBpZiAoIWtleXNCYXRjaC5sZW5ndGgpIHsgLy8gbm8gbW9yZSByZXN1bHRzXG4gICAgICByZXR1cm4gb25CYXRjaCgpO1xuICAgIH1cbiAgICAvLyBmZXRjaCBuZXh0IGJhdGNoLCBleGNsdXNpdmUgc3RhcnRcbiAgICB2YXIgbGFzdEtleSA9IGtleXNCYXRjaFtrZXlzQmF0Y2gubGVuZ3RoIC0gMV07XG4gICAgdmFyIG5ld0tleVJhbmdlO1xuICAgIGlmIChrZXlSYW5nZSAmJiBrZXlSYW5nZS51cHBlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3S2V5UmFuZ2UgPSBJREJLZXlSYW5nZS5ib3VuZChsYXN0S2V5LCBrZXlSYW5nZS51cHBlcixcbiAgICAgICAgICB0cnVlLCBrZXlSYW5nZS51cHBlck9wZW4pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZS5uYW1lID09PSBcIkRhdGFFcnJvclwiICYmIGUuY29kZSA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBvbkJhdGNoKCk7IC8vIHdlJ3JlIGRvbmUsIHN0YXJ0a2V5IGFuZCBlbmRrZXkgYXJlIGVxdWFsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3S2V5UmFuZ2UgPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKGxhc3RLZXksIHRydWUpO1xuICAgIH1cbiAgICBrZXlSYW5nZSA9IG5ld0tleVJhbmdlO1xuICAgIGtleXNCYXRjaCA9IG51bGw7XG4gICAgdmFsdWVzQmF0Y2ggPSBudWxsO1xuICAgIG9iamVjdFN0b3JlLmdldEFsbChrZXlSYW5nZSwgYmF0Y2hTaXplKS5vbnN1Y2Nlc3MgPSBvbkdldEFsbDtcbiAgICBvYmplY3RTdG9yZS5nZXRBbGxLZXlzKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsS2V5cztcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ3Vyc29yKGUpIHtcbiAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmICghY3Vyc29yKSB7IC8vIGRvbmVcbiAgICAgIHJldHVybiBvbkJhdGNoKCk7XG4gICAgfVxuICAgIC8vIHJlZ3VsYXIgSURCQ3Vyc29yIGFjdHMgbGlrZSBhIGJhdGNoIHdoZXJlIGJhdGNoIHNpemUgaXMgYWx3YXlzIDFcbiAgICBvbkJhdGNoKFtjdXJzb3Iua2V5XSwgW2N1cnNvci52YWx1ZV0sIGN1cnNvcik7XG4gIH1cblxuICBpZiAodXNlR2V0QWxsKSB7XG4gICAgcHNldWRvQ3Vyc29yID0ge1wiY29udGludWVcIjogY29udGludWVQc2V1ZG9DdXJzb3J9O1xuICAgIG9iamVjdFN0b3JlLmdldEFsbChrZXlSYW5nZSwgYmF0Y2hTaXplKS5vbnN1Y2Nlc3MgPSBvbkdldEFsbDtcbiAgICBvYmplY3RTdG9yZS5nZXRBbGxLZXlzKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsS2V5cztcbiAgfSBlbHNlIGlmIChkZXNjZW5kaW5nKSB7XG4gICAgb2JqZWN0U3RvcmUub3BlbkN1cnNvcihrZXlSYW5nZSwgJ3ByZXYnKS5vbnN1Y2Nlc3MgPSBvbkN1cnNvcjtcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKGtleVJhbmdlKS5vbnN1Y2Nlc3MgPSBvbkN1cnNvcjtcbiAgfVxufVxuXG4vLyBzaW1wbGUgc2hpbSBmb3Igb2JqZWN0U3RvcmUuZ2V0QWxsKCksIGZhbGxpbmcgYmFjayB0byBJREJDdXJzb3JcbmZ1bmN0aW9uIGdldEFsbChvYmplY3RTdG9yZSwga2V5UmFuZ2UsIG9uU3VjY2Vzcykge1xuICBpZiAodHlwZW9mIG9iamVjdFN0b3JlLmdldEFsbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIHVzZSBuYXRpdmUgZ2V0QWxsXG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsKGtleVJhbmdlKS5vbnN1Y2Nlc3MgPSBvblN1Y2Nlc3M7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGZhbGwgYmFjayB0byBjdXJzb3JzXG4gIHZhciB2YWx1ZXMgPSBbXTtcblxuICBmdW5jdGlvbiBvbkN1cnNvcihlKSB7XG4gICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAoY3Vyc29yKSB7XG4gICAgICB2YWx1ZXMucHVzaChjdXJzb3IudmFsdWUpO1xuICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uU3VjY2Vzcyh7XG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIHJlc3VsdDogdmFsdWVzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9iamVjdFN0b3JlLm9wZW5DdXJzb3Ioa2V5UmFuZ2UpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xufVxuXG5mdW5jdGlvbiBhbGxEb2NzS2V5cyhrZXlzLCBkb2NTdG9yZSwgb25CYXRjaCkge1xuICAvLyBJdCdzIG5vdCBndWFyYW50ZWQgdG8gYmUgcmV0dXJuZWQgaW4gcmlnaHQgb3JkZXIgIFxuICB2YXIgdmFsdWVzQmF0Y2ggPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xuICB2YXIgY291bnQgPSAwO1xuICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSwgaW5kZXgpIHtcbiAgICBkb2NTdG9yZS5nZXQoa2V5KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50YXJnZXQucmVzdWx0KSB7XG4gICAgICAgIHZhbHVlc0JhdGNoW2luZGV4XSA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZXNCYXRjaFtpbmRleF0gPSB7a2V5OiBrZXksIGVycm9yOiAnbm90X2ZvdW5kJ307XG4gICAgICB9XG4gICAgICBjb3VudCsrO1xuICAgICAgaWYgKGNvdW50ID09PSBrZXlzLmxlbmd0aCkge1xuICAgICAgICBvbkJhdGNoKGtleXMsIHZhbHVlc0JhdGNoLCB7fSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUtleVJhbmdlKHN0YXJ0LCBlbmQsIGluY2x1c2l2ZUVuZCwga2V5LCBkZXNjZW5kaW5nKSB7XG4gIHRyeSB7XG4gICAgaWYgKHN0YXJ0ICYmIGVuZCkge1xuICAgICAgaWYgKGRlc2NlbmRpbmcpIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmJvdW5kKGVuZCwgc3RhcnQsICFpbmNsdXNpdmVFbmQsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS5ib3VuZChzdGFydCwgZW5kLCBmYWxzZSwgIWluY2x1c2l2ZUVuZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzdGFydCkge1xuICAgICAgaWYgKGRlc2NlbmRpbmcpIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLnVwcGVyQm91bmQoc3RhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmxvd2VyQm91bmQoc3RhcnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZW5kKSB7XG4gICAgICBpZiAoZGVzY2VuZGluZykge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChlbmQsICFpbmNsdXNpdmVFbmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLnVwcGVyQm91bmQoZW5kLCAhaW5jbHVzaXZlRW5kKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGtleSkge1xuICAgICAgcmV0dXJuIElEQktleVJhbmdlLm9ubHkoa2V5KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge2Vycm9yOiBlfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaWRiQWxsRG9jcyhvcHRzLCBpZGIsIGNhbGxiYWNrKSB7XG4gIHZhciBzdGFydCA9ICdzdGFydGtleScgaW4gb3B0cyA/IG9wdHMuc3RhcnRrZXkgOiBmYWxzZTtcbiAgdmFyIGVuZCA9ICdlbmRrZXknIGluIG9wdHMgPyBvcHRzLmVuZGtleSA6IGZhbHNlO1xuICB2YXIga2V5ID0gJ2tleScgaW4gb3B0cyA/IG9wdHMua2V5IDogZmFsc2U7XG4gIHZhciBrZXlzID0gJ2tleXMnIGluIG9wdHMgPyBvcHRzLmtleXMgOiBmYWxzZTsgXG4gIHZhciBza2lwID0gb3B0cy5za2lwIHx8IDA7XG4gIHZhciBsaW1pdCA9IHR5cGVvZiBvcHRzLmxpbWl0ID09PSAnbnVtYmVyJyA/IG9wdHMubGltaXQgOiAtMTtcbiAgdmFyIGluY2x1c2l2ZUVuZCA9IG9wdHMuaW5jbHVzaXZlX2VuZCAhPT0gZmFsc2U7XG5cbiAgdmFyIGtleVJhbmdlIDsgXG4gIHZhciBrZXlSYW5nZUVycm9yO1xuICBpZiAoIWtleXMpIHtcbiAgICBrZXlSYW5nZSA9IGNyZWF0ZUtleVJhbmdlKHN0YXJ0LCBlbmQsIGluY2x1c2l2ZUVuZCwga2V5LCBvcHRzLmRlc2NlbmRpbmcpO1xuICAgIGtleVJhbmdlRXJyb3IgPSBrZXlSYW5nZSAmJiBrZXlSYW5nZS5lcnJvcjtcbiAgICBpZiAoa2V5UmFuZ2VFcnJvciAmJiBcbiAgICAgICEoa2V5UmFuZ2VFcnJvci5uYW1lID09PSBcIkRhdGFFcnJvclwiICYmIGtleVJhbmdlRXJyb3IuY29kZSA9PT0gMCkpIHtcbiAgICAgIC8vIERhdGFFcnJvciB3aXRoIGVycm9yIGNvZGUgMCBpbmRpY2F0ZXMgc3RhcnQgaXMgbGVzcyB0aGFuIGVuZCwgc29cbiAgICAgIC8vIGNhbiBqdXN0IGRvIGFuIGVtcHR5IHF1ZXJ5LiBFbHNlIG5lZWQgdG8gdGhyb3dcbiAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihJREJfRVJST1IsXG4gICAgICAgIGtleVJhbmdlRXJyb3IubmFtZSwga2V5UmFuZ2VFcnJvci5tZXNzYWdlKSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHN0b3JlcyA9IFtET0NfU1RPUkUsIEJZX1NFUV9TVE9SRSwgTUVUQV9TVE9SRV07XG5cbiAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICBzdG9yZXMucHVzaChBVFRBQ0hfU1RPUkUpO1xuICB9XG4gIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBzdG9yZXMsICdyZWFkb25seScpO1xuICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gIH1cbiAgdmFyIHR4biA9IHR4blJlc3VsdC50eG47XG4gIHR4bi5vbmNvbXBsZXRlID0gb25UeG5Db21wbGV0ZTtcbiAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICB2YXIgc2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgdmFyIG1ldGFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKTtcbiAgdmFyIGRvY0lkUmV2SW5kZXggPSBzZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKTtcbiAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgdmFyIGRvY0NvdW50O1xuICB2YXIgdXBkYXRlU2VxO1xuXG4gIG1ldGFTdG9yZS5nZXQoTUVUQV9TVE9SRSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICBkb2NDb3VudCA9IGUudGFyZ2V0LnJlc3VsdC5kb2NDb3VudDtcbiAgfTtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgIGdldE1heFVwZGF0ZVNlcShzZXFTdG9yZSwgZnVuY3Rpb24gKGUpIHsgXG4gICAgICBpZiAoZS50YXJnZXQucmVzdWx0ICYmIGUudGFyZ2V0LnJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHVwZGF0ZVNlcSA9IGUudGFyZ2V0LnJlc3VsdFswXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1heFVwZGF0ZVNlcShvYmplY3RTdG9yZSwgb25TdWNjZXNzKSB7XG4gICAgZnVuY3Rpb24gb25DdXJzb3IoZSkge1xuICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIHZhciBtYXhLZXkgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoY3Vyc29yICYmIGN1cnNvci5rZXkpIHtcbiAgICAgICAgbWF4S2V5ID0gY3Vyc29yLmtleTtcbiAgICAgIH0gXG4gICAgICByZXR1cm4gb25TdWNjZXNzKHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgcmVzdWx0OiBbbWF4S2V5XVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgb2JqZWN0U3RvcmUub3BlbkN1cnNvcihudWxsLCAncHJldicpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xuICB9XG5cbiAgLy8gaWYgdGhlIHVzZXIgc3BlY2lmaWVzIGluY2x1ZGVfZG9jcz10cnVlLCB0aGVuIHdlIGRvbid0XG4gIC8vIHdhbnQgdG8gYmxvY2sgdGhlIG1haW4gY3Vyc29yIHdoaWxlIHdlJ3JlIGZldGNoaW5nIHRoZSBkb2NcbiAgZnVuY3Rpb24gZmV0Y2hEb2NBc3luY2hyb25vdXNseShtZXRhZGF0YSwgcm93LCB3aW5uaW5nUmV2JCQxKSB7XG4gICAgdmFyIGtleSA9IG1ldGFkYXRhLmlkICsgXCI6OlwiICsgd2lubmluZ1JldiQkMTtcbiAgICBkb2NJZFJldkluZGV4LmdldChrZXkpLm9uc3VjY2VzcyA9ICBmdW5jdGlvbiBvbkdldERvYyhlKSB7XG4gICAgICByb3cuZG9jID0gZGVjb2RlRG9jKGUudGFyZ2V0LnJlc3VsdCkgfHwge307XG4gICAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgICAgdmFyIGNvbmZsaWN0cyA9IGNvbGxlY3RDb25mbGljdHMobWV0YWRhdGEpO1xuICAgICAgICBpZiAoY29uZmxpY3RzLmxlbmd0aCkge1xuICAgICAgICAgIHJvdy5kb2MuX2NvbmZsaWN0cyA9IGNvbmZsaWN0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmV0Y2hBdHRhY2htZW50c0lmTmVjZXNzYXJ5KHJvdy5kb2MsIG9wdHMsIHR4bik7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFsbERvY3NJbm5lcih3aW5uaW5nUmV2JCQxLCBtZXRhZGF0YSkge1xuICAgIHZhciByb3cgPSB7XG4gICAgICBpZDogbWV0YWRhdGEuaWQsXG4gICAgICBrZXk6IG1ldGFkYXRhLmlkLFxuICAgICAgdmFsdWU6IHtcbiAgICAgICAgcmV2OiB3aW5uaW5nUmV2JCQxXG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVsZXRlZCA9IG1ldGFkYXRhLmRlbGV0ZWQ7XG4gICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgIGlmIChrZXlzKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChyb3cpO1xuICAgICAgICAvLyBkZWxldGVkIGRvY3MgYXJlIG9rYXkgd2l0aCBcImtleXNcIiByZXF1ZXN0c1xuICAgICAgICByb3cudmFsdWUuZGVsZXRlZCA9IHRydWU7XG4gICAgICAgIHJvdy5kb2MgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2tpcC0tIDw9IDApIHtcbiAgICAgIHJlc3VsdHMucHVzaChyb3cpO1xuICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIGZldGNoRG9jQXN5bmNocm9ub3VzbHkobWV0YWRhdGEsIHJvdywgd2lubmluZ1JldiQkMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0JhdGNoKGJhdGNoVmFsdWVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJhdGNoVmFsdWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPT09IGxpbWl0KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdmFyIGJhdGNoVmFsdWUgPSBiYXRjaFZhbHVlc1tpXTtcbiAgICAgIGlmIChiYXRjaFZhbHVlLmVycm9yICYmIGtleXMpIHtcbiAgICAgICAgLy8ga2V5IHdhcyBub3QgZm91bmQgd2l0aCBcImtleXNcIiByZXF1ZXN0c1xuICAgICAgICByZXN1bHRzLnB1c2goYmF0Y2hWYWx1ZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoYmF0Y2hWYWx1ZSk7XG4gICAgICB2YXIgd2lubmluZ1JldiQkMSA9IG1ldGFkYXRhLndpbm5pbmdSZXY7XG4gICAgICBhbGxEb2NzSW5uZXIod2lubmluZ1JldiQkMSwgbWV0YWRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQmF0Y2goYmF0Y2hLZXlzLCBiYXRjaFZhbHVlcywgY3Vyc29yKSB7XG4gICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcHJvY2Vzc0JhdGNoKGJhdGNoVmFsdWVzKTtcbiAgICBpZiAocmVzdWx0cy5sZW5ndGggPCBsaW1pdCkge1xuICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25HZXRBbGwoZSkge1xuICAgIHZhciB2YWx1ZXMgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgdmFsdWVzID0gdmFsdWVzLnJldmVyc2UoKTtcbiAgICB9XG4gICAgcHJvY2Vzc0JhdGNoKHZhbHVlcyk7XG4gIH1cblxuICBmdW5jdGlvbiBvblJlc3VsdHNSZWFkeSgpIHtcbiAgICB2YXIgcmV0dXJuVmFsID0ge1xuICAgICAgdG90YWxfcm93czogZG9jQ291bnQsXG4gICAgICBvZmZzZXQ6IG9wdHMuc2tpcCxcbiAgICAgIHJvd3M6IHJlc3VsdHNcbiAgICB9O1xuICAgIFxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEgJiYgdXBkYXRlU2VxICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVyblZhbC51cGRhdGVfc2VxID0gdXBkYXRlU2VxO1xuICAgIH1cbiAgICBjYWxsYmFjayhudWxsLCByZXR1cm5WYWwpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25UeG5Db21wbGV0ZSgpIHtcbiAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgcG9zdFByb2Nlc3NBdHRhY2htZW50cyhyZXN1bHRzLCBvcHRzLmJpbmFyeSkudGhlbihvblJlc3VsdHNSZWFkeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uUmVzdWx0c1JlYWR5KCk7XG4gICAgfVxuICB9XG5cbiAgLy8gZG9uJ3QgYm90aGVyIGRvaW5nIGFueSByZXF1ZXN0cyBpZiBzdGFydCA+IGVuZCBvciBsaW1pdCA9PT0gMFxuICBpZiAoa2V5UmFuZ2VFcnJvciB8fCBsaW1pdCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoa2V5cykge1xuICAgIHJldHVybiBhbGxEb2NzS2V5cyhvcHRzLmtleXMsIGRvY1N0b3JlLCBvbkJhdGNoKTtcbiAgfVxuICBpZiAobGltaXQgPT09IC0xKSB7IC8vIGp1c3QgZmV0Y2ggZXZlcnl0aGluZ1xuICAgIHJldHVybiBnZXRBbGwoZG9jU3RvcmUsIGtleVJhbmdlLCBvbkdldEFsbCk7XG4gIH1cbiAgLy8gZWxzZSBkbyBhIGN1cnNvclxuICAvLyBjaG9vc2UgYSBiYXRjaCBzaXplIGJhc2VkIG9uIHRoZSBza2lwLCBzaW5jZSB3ZSdsbCBuZWVkIHRvIHNraXAgdGhhdCBtYW55XG4gIHJ1bkJhdGNoZWRDdXJzb3IoZG9jU3RvcmUsIGtleVJhbmdlLCBvcHRzLmRlc2NlbmRpbmcsIGxpbWl0ICsgc2tpcCwgb25CYXRjaCk7XG59XG5cbi8vXG4vLyBCbG9icyBhcmUgbm90IHN1cHBvcnRlZCBpbiBhbGwgdmVyc2lvbnMgb2YgSW5kZXhlZERCLCBub3RhYmx5XG4vLyBDaHJvbWUgPDM3IGFuZCBBbmRyb2lkIDw1LiBJbiB0aG9zZSB2ZXJzaW9ucywgc3RvcmluZyBhIGJsb2Igd2lsbCB0aHJvdy5cbi8vXG4vLyBWYXJpb3VzIG90aGVyIGJsb2IgYnVncyBleGlzdCBpbiBDaHJvbWUgdjM3LTQyIChpbmNsdXNpdmUpLlxuLy8gRGV0ZWN0aW5nIHRoZW0gaXMgZXhwZW5zaXZlIGFuZCBjb25mdXNpbmcgdG8gdXNlcnMsIGFuZCBDaHJvbWUgMzctNDJcbi8vIGlzIGF0IHZlcnkgbG93IHVzYWdlIHdvcmxkd2lkZSwgc28gd2UgZG8gYSBoYWNreSB1c2VyQWdlbnQgY2hlY2sgaW5zdGVhZC5cbi8vXG4vLyBjb250ZW50LXR5cGUgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDA4MTIwXG4vLyA0MDQgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3OTE2XG4vLyBGaWxlUmVhZGVyIGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0NzgzNlxuLy9cbmZ1bmN0aW9uIGNoZWNrQmxvYlN1cHBvcnQodHhuKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgIHZhciBibG9iJCQxID0gY3JlYXRlQmxvYihbJyddKTtcbiAgICB2YXIgcmVxID0gdHhuLm9iamVjdFN0b3JlKERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUpLnB1dChibG9iJCQxLCAna2V5Jyk7XG5cbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG1hdGNoZWRDaHJvbWUgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKTtcbiAgICAgIHZhciBtYXRjaGVkRWRnZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0VkZ2VcXC8vKTtcbiAgICAgIC8vIE1TIEVkZ2UgcHJldGVuZHMgdG8gYmUgQ2hyb21lIDQyOlxuICAgICAgLy8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9oaDg2OTMwMSUyOHY9dnMuODUlMjkuYXNweFxuICAgICAgcmVzb2x2ZShtYXRjaGVkRWRnZSB8fCAhbWF0Y2hlZENocm9tZSB8fFxuICAgICAgICBwYXJzZUludChtYXRjaGVkQ2hyb21lWzFdLCAxMCkgPj0gNDMpO1xuICAgIH07XG5cbiAgICByZXEub25lcnJvciA9IHR4bi5vbmFib3J0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vIElmIHRoZSB0cmFuc2FjdGlvbiBhYm9ydHMgbm93IGl0cyBkdWUgdG8gbm90IGJlaW5nIGFibGUgdG9cbiAgICAgIC8vIHdyaXRlIHRvIHRoZSBkYXRhYmFzZSwgbGlrZWx5IGR1ZSB0byB0aGUgZGlzayBiZWluZyBmdWxsXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgfTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTsgLy8gZXJyb3IsIHNvIGFzc3VtZSB1bnN1cHBvcnRlZFxuICB9KTtcbn1cblxuZnVuY3Rpb24gY291bnREb2NzKHR4biwgY2IpIHtcbiAgdmFyIGluZGV4ID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSkuaW5kZXgoJ2RlbGV0ZWRPckxvY2FsJyk7XG4gIGluZGV4LmNvdW50KElEQktleVJhbmdlLm9ubHkoJzAnKSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICBjYihlLnRhcmdldC5yZXN1bHQpO1xuICB9O1xufVxuXG4vLyBUaGlzIHRhc2sgcXVldWUgZW5zdXJlcyB0aGF0IElEQiBvcGVuIGNhbGxzIGFyZSBkb25lIGluIHRoZWlyIG93biB0aWNrXG5cbnZhciBydW5uaW5nID0gZmFsc2U7XG52YXIgcXVldWUgPSBbXTtcblxuZnVuY3Rpb24gdHJ5Q29kZShmdW4sIGVyciwgcmVzLCBQb3VjaERCKSB7XG4gIHRyeSB7XG4gICAgZnVuKGVyciwgcmVzKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gU2hvdWxkbid0IGhhcHBlbiwgYnV0IGluIHNvbWUgb2RkIGNhc2VzXG4gICAgLy8gSW5kZXhlZERCIGltcGxlbWVudGF0aW9ucyBtaWdodCB0aHJvdyBhIHN5bmNcbiAgICAvLyBlcnJvciwgaW4gd2hpY2ggY2FzZSB0aGlzIHdpbGwgYXQgbGVhc3QgbG9nIGl0LlxuICAgIFBvdWNoREIuZW1pdCgnZXJyb3InLCBlcnIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5TmV4dCgpIHtcbiAgaWYgKHJ1bm5pbmcgfHwgIXF1ZXVlLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuICBydW5uaW5nID0gdHJ1ZTtcbiAgcXVldWUuc2hpZnQoKSgpO1xufVxuXG5mdW5jdGlvbiBlbnF1ZXVlVGFzayhhY3Rpb24sIGNhbGxiYWNrLCBQb3VjaERCKSB7XG4gIHF1ZXVlLnB1c2goZnVuY3Rpb24gcnVuQWN0aW9uKCkge1xuICAgIGFjdGlvbihmdW5jdGlvbiBydW5DYWxsYmFjayhlcnIsIHJlcykge1xuICAgICAgdHJ5Q29kZShjYWxsYmFjaywgZXJyLCByZXMsIFBvdWNoREIpO1xuICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uIHJ1bk5leHQoKSB7XG4gICAgICAgIGFwcGx5TmV4dChQb3VjaERCKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgYXBwbHlOZXh0KCk7XG59XG5cbmZ1bmN0aW9uIGNoYW5nZXMob3B0cywgYXBpLCBkYk5hbWUsIGlkYikge1xuICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgaWYgKG9wdHMuY29udGludW91cykge1xuICAgIHZhciBpZCA9IGRiTmFtZSArICc6JyArIHV1aWQoKTtcbiAgICBjaGFuZ2VzSGFuZGxlci5hZGRMaXN0ZW5lcihkYk5hbWUsIGlkLCBhcGksIG9wdHMpO1xuICAgIGNoYW5nZXNIYW5kbGVyLm5vdGlmeShkYk5hbWUpO1xuICAgIHJldHVybiB7XG4gICAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2hhbmdlc0hhbmRsZXIucmVtb3ZlTGlzdGVuZXIoZGJOYW1lLCBpZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHZhciBkb2NJZHMgPSBvcHRzLmRvY19pZHMgJiYgbmV3IEV4cG9ydGVkU2V0KG9wdHMuZG9jX2lkcyk7XG5cbiAgb3B0cy5zaW5jZSA9IG9wdHMuc2luY2UgfHwgMDtcbiAgdmFyIGxhc3RTZXEgPSBvcHRzLnNpbmNlO1xuXG4gIHZhciBsaW1pdCA9ICdsaW1pdCcgaW4gb3B0cyA/IG9wdHMubGltaXQgOiAtMTtcbiAgaWYgKGxpbWl0ID09PSAwKSB7XG4gICAgbGltaXQgPSAxOyAvLyBwZXIgQ291Y2hEQiBfY2hhbmdlcyBzcGVjXG4gIH1cblxuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgbnVtUmVzdWx0cyA9IDA7XG4gIHZhciBmaWx0ZXIgPSBmaWx0ZXJDaGFuZ2Uob3B0cyk7XG4gIHZhciBkb2NJZHNUb01ldGFkYXRhID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgdmFyIHR4bjtcbiAgdmFyIGJ5U2VxU3RvcmU7XG4gIHZhciBkb2NTdG9yZTtcbiAgdmFyIGRvY0lkUmV2SW5kZXg7XG5cbiAgZnVuY3Rpb24gb25CYXRjaChiYXRjaEtleXMsIGJhdGNoVmFsdWVzLCBjdXJzb3IpIHtcbiAgICBpZiAoIWN1cnNvciB8fCAhYmF0Y2hLZXlzLmxlbmd0aCkgeyAvLyBkb25lXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHdpbm5pbmdEb2NzID0gbmV3IEFycmF5KGJhdGNoS2V5cy5sZW5ndGgpO1xuICAgIHZhciBtZXRhZGF0YXMgPSBuZXcgQXJyYXkoYmF0Y2hLZXlzLmxlbmd0aCk7XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzTWV0YWRhdGFBbmRXaW5uaW5nRG9jKG1ldGFkYXRhLCB3aW5uaW5nRG9jKSB7XG4gICAgICB2YXIgY2hhbmdlID0gb3B0cy5wcm9jZXNzQ2hhbmdlKHdpbm5pbmdEb2MsIG1ldGFkYXRhLCBvcHRzKTtcbiAgICAgIGxhc3RTZXEgPSBjaGFuZ2Uuc2VxID0gbWV0YWRhdGEuc2VxO1xuXG4gICAgICB2YXIgZmlsdGVyZWQgPSBmaWx0ZXIoY2hhbmdlKTtcbiAgICAgIGlmICh0eXBlb2YgZmlsdGVyZWQgPT09ICdvYmplY3QnKSB7IC8vIGFueXRoaW5nIGJ1dCB0cnVlL2ZhbHNlIGluZGljYXRlcyBlcnJvclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZmlsdGVyZWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWZpbHRlcmVkKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICAgIG51bVJlc3VsdHMrKztcbiAgICAgIGlmIChvcHRzLnJldHVybl9kb2NzKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChjaGFuZ2UpO1xuICAgICAgfVxuICAgICAgLy8gcHJvY2VzcyB0aGUgYXR0YWNobWVudCBpbW1lZGlhdGVseVxuICAgICAgLy8gZm9yIHRoZSBiZW5lZml0IG9mIGxpdmUgbGlzdGVuZXJzXG4gICAgICBpZiAob3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICBmZXRjaEF0dGFjaG1lbnRzSWZOZWNlc3Nhcnkod2lubmluZ0RvYywgb3B0cywgdHhuLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKFtjaGFuZ2VdLCBvcHRzLmJpbmFyeSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoY2hhbmdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY2hhbmdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkJhdGNoRG9uZSgpIHtcbiAgICAgIHZhciBwcm9taXNlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHdpbm5pbmdEb2NzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChudW1SZXN1bHRzID09PSBsaW1pdCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aW5uaW5nRG9jID0gd2lubmluZ0RvY3NbaV07XG4gICAgICAgIGlmICghd2lubmluZ0RvYykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IG1ldGFkYXRhc1tpXTtcbiAgICAgICAgcHJvbWlzZXMucHVzaChwcm9jZXNzTWV0YWRhdGFBbmRXaW5uaW5nRG9jKG1ldGFkYXRhLCB3aW5uaW5nRG9jKSk7XG4gICAgICB9XG5cbiAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGFuZ2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgaWYgKGNoYW5nZXNbaV0pIHtcbiAgICAgICAgICAgIG9wdHMub25DaGFuZ2UoY2hhbmdlc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KS5jYXRjaChvcHRzLmNvbXBsZXRlKTtcblxuICAgICAgaWYgKG51bVJlc3VsdHMgIT09IGxpbWl0KSB7XG4gICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZldGNoIGFsbCBtZXRhZGF0YXMvd2lubmluZ2RvY3MgZnJvbSB0aGlzIGJhdGNoIGluIHBhcmFsbGVsLCB0aGVuIHByb2Nlc3NcbiAgICAvLyB0aGVtIGFsbCBvbmx5IG9uY2UgYWxsIGRhdGEgaGFzIGJlZW4gY29sbGVjdGVkLiBUaGlzIGlzIGRvbmUgaW4gcGFyYWxsZWxcbiAgICAvLyBiZWNhdXNlIGl0J3MgZmFzdGVyIHRoYW4gZG9pbmcgaXQgb25lLWF0LWEtdGltZS5cbiAgICB2YXIgbnVtRG9uZSA9IDA7XG4gICAgYmF0Y2hWYWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGkpIHtcbiAgICAgIHZhciBkb2MgPSBkZWNvZGVEb2ModmFsdWUpO1xuICAgICAgdmFyIHNlcSA9IGJhdGNoS2V5c1tpXTtcbiAgICAgIGZldGNoV2lubmluZ0RvY0FuZE1ldGFkYXRhKGRvYywgc2VxLCBmdW5jdGlvbiAobWV0YWRhdGEsIHdpbm5pbmdEb2MpIHtcbiAgICAgICAgbWV0YWRhdGFzW2ldID0gbWV0YWRhdGE7XG4gICAgICAgIHdpbm5pbmdEb2NzW2ldID0gd2lubmluZ0RvYztcbiAgICAgICAgaWYgKCsrbnVtRG9uZSA9PT0gYmF0Y2hLZXlzLmxlbmd0aCkge1xuICAgICAgICAgIG9uQmF0Y2hEb25lKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25HZXRNZXRhZGF0YShkb2MsIHNlcSwgbWV0YWRhdGEsIGNiKSB7XG4gICAgaWYgKG1ldGFkYXRhLnNlcSAhPT0gc2VxKSB7XG4gICAgICAvLyBzb21lIG90aGVyIHNlcSBpcyBsYXRlclxuICAgICAgcmV0dXJuIGNiKCk7XG4gICAgfVxuXG4gICAgaWYgKG1ldGFkYXRhLndpbm5pbmdSZXYgPT09IGRvYy5fcmV2KSB7XG4gICAgICAvLyB0aGlzIGlzIHRoZSB3aW5uaW5nIGRvY1xuICAgICAgcmV0dXJuIGNiKG1ldGFkYXRhLCBkb2MpO1xuICAgIH1cblxuICAgIC8vIGZldGNoIHdpbm5pbmcgZG9jIGluIHNlcGFyYXRlIHJlcXVlc3RcbiAgICB2YXIgZG9jSWRSZXYgPSBkb2MuX2lkICsgJzo6JyArIG1ldGFkYXRhLndpbm5pbmdSZXY7XG4gICAgdmFyIHJlcSA9IGRvY0lkUmV2SW5kZXguZ2V0KGRvY0lkUmV2KTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGNiKG1ldGFkYXRhLCBkZWNvZGVEb2MoZS50YXJnZXQucmVzdWx0KSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoV2lubmluZ0RvY0FuZE1ldGFkYXRhKGRvYywgc2VxLCBjYikge1xuICAgIGlmIChkb2NJZHMgJiYgIWRvY0lkcy5oYXMoZG9jLl9pZCkpIHtcbiAgICAgIHJldHVybiBjYigpO1xuICAgIH1cblxuICAgIHZhciBtZXRhZGF0YSA9IGRvY0lkc1RvTWV0YWRhdGEuZ2V0KGRvYy5faWQpO1xuICAgIGlmIChtZXRhZGF0YSkgeyAvLyBjYWNoZWRcbiAgICAgIHJldHVybiBvbkdldE1ldGFkYXRhKGRvYywgc2VxLCBtZXRhZGF0YSwgY2IpO1xuICAgIH1cbiAgICAvLyBtZXRhZGF0YSBub3QgY2FjaGVkLCBoYXZlIHRvIGdvIGZldGNoIGl0XG4gICAgZG9jU3RvcmUuZ2V0KGRvYy5faWQpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICBkb2NJZHNUb01ldGFkYXRhLnNldChkb2MuX2lkLCBtZXRhZGF0YSk7XG4gICAgICBvbkdldE1ldGFkYXRhKGRvYywgc2VxLCBtZXRhZGF0YSwgY2IpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgb3B0cy5jb21wbGV0ZShudWxsLCB7XG4gICAgICByZXN1bHRzOiByZXN1bHRzLFxuICAgICAgbGFzdF9zZXE6IGxhc3RTZXFcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVHhuQ29tcGxldGUoKSB7XG4gICAgaWYgKCFvcHRzLmNvbnRpbnVvdXMgJiYgb3B0cy5hdHRhY2htZW50cykge1xuICAgICAgLy8gY2Fubm90IGd1YXJhbnRlZSB0aGF0IHBvc3RQcm9jZXNzaW5nIHdhcyBhbHJlYWR5IGRvbmUsXG4gICAgICAvLyBzbyBkbyBpdCBhZ2FpblxuICAgICAgcG9zdFByb2Nlc3NBdHRhY2htZW50cyhyZXN1bHRzKS50aGVuKGZpbmlzaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbmlzaCgpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvYmplY3RTdG9yZXMgPSBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkVdO1xuICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgIG9iamVjdFN0b3Jlcy5wdXNoKEFUVEFDSF9TVE9SRSk7XG4gIH1cbiAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIG9iamVjdFN0b3JlcywgJ3JlYWRvbmx5Jyk7XG4gIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICByZXR1cm4gb3B0cy5jb21wbGV0ZSh0eG5SZXN1bHQuZXJyb3IpO1xuICB9XG4gIHR4biA9IHR4blJlc3VsdC50eG47XG4gIHR4bi5vbmFib3J0ID0gaWRiRXJyb3Iob3B0cy5jb21wbGV0ZSk7XG4gIHR4bi5vbmNvbXBsZXRlID0gb25UeG5Db21wbGV0ZTtcblxuICBieVNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gIGRvY0lkUmV2SW5kZXggPSBieVNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuXG4gIHZhciBrZXlSYW5nZSA9IChvcHRzLnNpbmNlICYmICFvcHRzLmRlc2NlbmRpbmcpID9cbiAgICBJREJLZXlSYW5nZS5sb3dlckJvdW5kKG9wdHMuc2luY2UsIHRydWUpIDogbnVsbDtcblxuICBydW5CYXRjaGVkQ3Vyc29yKGJ5U2VxU3RvcmUsIGtleVJhbmdlLCBvcHRzLmRlc2NlbmRpbmcsIGxpbWl0LCBvbkJhdGNoKTtcbn1cblxudmFyIGNhY2hlZERCcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xudmFyIGJsb2JTdXBwb3J0UHJvbWlzZTtcbnZhciBvcGVuUmVxTGlzdCA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG5mdW5jdGlvbiBJZGJQb3VjaChvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgYXBpID0gdGhpcztcblxuICBlbnF1ZXVlVGFzayhmdW5jdGlvbiAodGhpc0NhbGxiYWNrKSB7XG4gICAgaW5pdChhcGksIG9wdHMsIHRoaXNDYWxsYmFjayk7XG4gIH0sIGNhbGxiYWNrLCBhcGkuY29uc3RydWN0b3IpO1xufVxuXG5mdW5jdGlvbiBpbml0KGFwaSwgb3B0cywgY2FsbGJhY2spIHtcblxuICB2YXIgZGJOYW1lID0gb3B0cy5uYW1lO1xuXG4gIHZhciBpZGIgPSBudWxsO1xuICB2YXIgaWRiR2xvYmFsRmFpbHVyZUVycm9yID0gbnVsbDtcbiAgYXBpLl9tZXRhID0gbnVsbDtcblxuICBmdW5jdGlvbiBlbnJpY2hDYWxsYmFja0Vycm9yKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlcnJvciwgcmVzdWx0KSB7XG4gICAgICBpZiAoZXJyb3IgJiYgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhZXJyb3IucmVhc29uKSB7XG4gICAgICAgIGlmIChpZGJHbG9iYWxGYWlsdXJlRXJyb3IpIHtcbiAgICAgICAgICBlcnJvci5yZWFzb24gPSBpZGJHbG9iYWxGYWlsdXJlRXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2soZXJyb3IsIHJlc3VsdCk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIGNhbGxlZCB3aGVuIGNyZWF0aW5nIGEgZnJlc2ggbmV3IGRhdGFiYXNlXG4gIGZ1bmN0aW9uIGNyZWF0ZVNjaGVtYShkYikge1xuICAgIHZhciBkb2NTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKERPQ19TVE9SRSwge2tleVBhdGggOiAnaWQnfSk7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFLCB7YXV0b0luY3JlbWVudDogdHJ1ZX0pXG4gICAgICAuY3JlYXRlSW5kZXgoJ19kb2NfaWRfcmV2JywgJ19kb2NfaWRfcmV2Jywge3VuaXF1ZTogdHJ1ZX0pO1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSwge2tleVBhdGg6ICdkaWdlc3QnfSk7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoTUVUQV9TVE9SRSwge2tleVBhdGg6ICdpZCcsIGF1dG9JbmNyZW1lbnQ6IGZhbHNlfSk7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSk7XG5cbiAgICAvLyBhZGRlZCBpbiB2MlxuICAgIGRvY1N0b3JlLmNyZWF0ZUluZGV4KCdkZWxldGVkT3JMb2NhbCcsICdkZWxldGVkT3JMb2NhbCcsIHt1bmlxdWUgOiBmYWxzZX0pO1xuXG4gICAgLy8gYWRkZWQgaW4gdjNcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShMT0NBTF9TVE9SRSwge2tleVBhdGg6ICdfaWQnfSk7XG5cbiAgICAvLyBhZGRlZCBpbiB2NFxuICAgIHZhciBhdHRBbmRTZXFTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKEFUVEFDSF9BTkRfU0VRX1NUT1JFLFxuICAgICAge2F1dG9JbmNyZW1lbnQ6IHRydWV9KTtcbiAgICBhdHRBbmRTZXFTdG9yZS5jcmVhdGVJbmRleCgnc2VxJywgJ3NlcScpO1xuICAgIGF0dEFuZFNlcVN0b3JlLmNyZWF0ZUluZGV4KCdkaWdlc3RTZXEnLCAnZGlnZXN0U2VxJywge3VuaXF1ZTogdHJ1ZX0pO1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gMlxuICAvLyB1bmZvcnR1bmF0ZWx5IFwiZGVsZXRlZE9yTG9jYWxcIiBpcyBhIG1pc25vbWVyIG5vdyB0aGF0IHdlIG5vIGxvbmdlclxuICAvLyBzdG9yZSBsb2NhbCBkb2NzIGluIHRoZSBtYWluIGRvYy1zdG9yZSwgYnV0IHdoYWRkeWFnb25uYWRvXG4gIGZ1bmN0aW9uIGFkZERlbGV0ZWRPckxvY2FsSW5kZXgodHhuLCBjYWxsYmFjaykge1xuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICAgIGRvY1N0b3JlLmNyZWF0ZUluZGV4KCdkZWxldGVkT3JMb2NhbCcsICdkZWxldGVkT3JMb2NhbCcsIHt1bmlxdWUgOiBmYWxzZX0pO1xuXG4gICAgZG9jU3RvcmUub3BlbkN1cnNvcigpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgdmFyIGRlbGV0ZWQgPSBpc0RlbGV0ZWQobWV0YWRhdGEpO1xuICAgICAgICBtZXRhZGF0YS5kZWxldGVkT3JMb2NhbCA9IGRlbGV0ZWQgPyBcIjFcIiA6IFwiMFwiO1xuICAgICAgICBkb2NTdG9yZS5wdXQobWV0YWRhdGEpO1xuICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDMgKHBhcnQgMSlcbiAgZnVuY3Rpb24gY3JlYXRlTG9jYWxTdG9yZVNjaGVtYShkYikge1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKExPQ0FMX1NUT1JFLCB7a2V5UGF0aDogJ19pZCd9KVxuICAgICAgLmNyZWF0ZUluZGV4KCdfZG9jX2lkX3JldicsICdfZG9jX2lkX3JldicsIHt1bmlxdWU6IHRydWV9KTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDMgKHBhcnQgMilcbiAgZnVuY3Rpb24gbWlncmF0ZUxvY2FsU3RvcmUodHhuLCBjYikge1xuICAgIHZhciBsb2NhbFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKTtcbiAgICB2YXIgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgICB2YXIgc2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcblxuICAgIHZhciBjdXJzb3IgPSBkb2NTdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgY3Vyc29yLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgdmFyIGRvY0lkID0gbWV0YWRhdGEuaWQ7XG4gICAgICAgIHZhciBsb2NhbCA9IGlzTG9jYWxJZChkb2NJZCk7XG4gICAgICAgIHZhciByZXYgPSB3aW5uaW5nUmV2KG1ldGFkYXRhKTtcbiAgICAgICAgaWYgKGxvY2FsKSB7XG4gICAgICAgICAgdmFyIGRvY0lkUmV2ID0gZG9jSWQgKyBcIjo6XCIgKyByZXY7XG4gICAgICAgICAgLy8gcmVtb3ZlIGFsbCBzZXEgZW50cmllc1xuICAgICAgICAgIC8vIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRvY0lkXG4gICAgICAgICAgdmFyIHN0YXJ0ID0gZG9jSWQgKyBcIjo6XCI7XG4gICAgICAgICAgdmFyIGVuZCA9IGRvY0lkICsgXCI6On5cIjtcbiAgICAgICAgICB2YXIgaW5kZXggPSBzZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKTtcbiAgICAgICAgICB2YXIgcmFuZ2UgPSBJREJLZXlSYW5nZS5ib3VuZChzdGFydCwgZW5kLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgIHZhciBzZXFDdXJzb3IgPSBpbmRleC5vcGVuQ3Vyc29yKHJhbmdlKTtcbiAgICAgICAgICBzZXFDdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHNlcUN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgIGlmICghc2VxQ3Vyc29yKSB7XG4gICAgICAgICAgICAgIC8vIGRvbmVcbiAgICAgICAgICAgICAgZG9jU3RvcmUuZGVsZXRlKGN1cnNvci5wcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgZGF0YSA9IHNlcUN1cnNvci52YWx1ZTtcbiAgICAgICAgICAgICAgaWYgKGRhdGEuX2RvY19pZF9yZXYgPT09IGRvY0lkUmV2KSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yZS5wdXQoZGF0YSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2VxU3RvcmUuZGVsZXRlKHNlcUN1cnNvci5wcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgc2VxQ3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgICBjYigpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiA0IChwYXJ0IDEpXG4gIGZ1bmN0aW9uIGFkZEF0dGFjaEFuZFNlcVN0b3JlKGRiKSB7XG4gICAgdmFyIGF0dEFuZFNlcVN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUsXG4gICAgICB7YXV0b0luY3JlbWVudDogdHJ1ZX0pO1xuICAgIGF0dEFuZFNlcVN0b3JlLmNyZWF0ZUluZGV4KCdzZXEnLCAnc2VxJyk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ2RpZ2VzdFNlcScsICdkaWdlc3RTZXEnLCB7dW5pcXVlOiB0cnVlfSk7XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiA0IChwYXJ0IDIpXG4gIGZ1bmN0aW9uIG1pZ3JhdGVBdHRzQW5kU2Vxcyh0eG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gICAgdmFyIGF0dFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSk7XG4gICAgdmFyIGF0dEFuZFNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9BTkRfU0VRX1NUT1JFKTtcblxuICAgIC8vIG5lZWQgdG8gYWN0dWFsbHkgcG9wdWxhdGUgdGhlIHRhYmxlLiB0aGlzIGlzIHRoZSBleHBlbnNpdmUgcGFydCxcbiAgICAvLyBzbyBhcyBhbiBvcHRpbWl6YXRpb24sIGNoZWNrIGZpcnN0IHRoYXQgdGhpcyBkYXRhYmFzZSBldmVuXG4gICAgLy8gY29udGFpbnMgYXR0YWNobWVudHNcbiAgICB2YXIgcmVxID0gYXR0U3RvcmUuY291bnQoKTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjb3VudCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICghY291bnQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7IC8vIGRvbmVcbiAgICAgIH1cblxuICAgICAgc2VxU3RvcmUub3BlbkN1cnNvcigpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7IC8vIGRvbmVcbiAgICAgICAgfVxuICAgICAgICB2YXIgZG9jID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICB2YXIgc2VxID0gY3Vyc29yLnByaW1hcnlLZXk7XG4gICAgICAgIHZhciBhdHRzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyB8fCB7fSk7XG4gICAgICAgIHZhciBkaWdlc3RNYXAgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhdHRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFyIGF0dCA9IGRvYy5fYXR0YWNobWVudHNbYXR0c1tqXV07XG4gICAgICAgICAgZGlnZXN0TWFwW2F0dC5kaWdlc3RdID0gdHJ1ZTsgLy8gdW5pcSBkaWdlc3RzLCBqdXN0IGluIGNhc2VcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGlnZXN0cyA9IE9iamVjdC5rZXlzKGRpZ2VzdE1hcCk7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBkaWdlc3RzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFyIGRpZ2VzdCA9IGRpZ2VzdHNbal07XG4gICAgICAgICAgYXR0QW5kU2VxU3RvcmUucHV0KHtcbiAgICAgICAgICAgIHNlcTogc2VxLFxuICAgICAgICAgICAgZGlnZXN0U2VxOiBkaWdlc3QgKyAnOjonICsgc2VxXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICB9O1xuICAgIH07XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiA1XG4gIC8vIEluc3RlYWQgb2YgcmVseWluZyBvbiBvbi10aGUtZmx5IG1pZ3JhdGlvbiBvZiBtZXRhZGF0YSxcbiAgLy8gdGhpcyBicmluZ3MgdGhlIGRvYy1zdG9yZSB0byBpdHMgbW9kZXJuIGZvcm06XG4gIC8vIC0gbWV0YWRhdGEud2lubmluZ3JldlxuICAvLyAtIG1ldGFkYXRhLnNlcVxuICAvLyAtIHN0cmluZ2lmeSB0aGUgbWV0YWRhdGEgd2hlbiBzdG9yaW5nIGl0XG4gIGZ1bmN0aW9uIG1pZ3JhdGVNZXRhZGF0YSh0eG4pIHtcblxuICAgIGZ1bmN0aW9uIGRlY29kZU1ldGFkYXRhQ29tcGF0KHN0b3JlZE9iamVjdCkge1xuICAgICAgaWYgKCFzdG9yZWRPYmplY3QuZGF0YSkge1xuICAgICAgICAvLyBvbGQgZm9ybWF0LCB3aGVuIHdlIGRpZG4ndCBzdG9yZSBpdCBzdHJpbmdpZmllZFxuICAgICAgICBzdG9yZWRPYmplY3QuZGVsZXRlZCA9IHN0b3JlZE9iamVjdC5kZWxldGVkT3JMb2NhbCA9PT0gJzEnO1xuICAgICAgICByZXR1cm4gc3RvcmVkT2JqZWN0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlY29kZU1ldGFkYXRhKHN0b3JlZE9iamVjdCk7XG4gICAgfVxuXG4gICAgLy8gZW5zdXJlIHRoYXQgZXZlcnkgbWV0YWRhdGEgaGFzIGEgd2lubmluZ1JldiBhbmQgc2VxLFxuICAgIC8vIHdoaWNoIHdhcyBwcmV2aW91c2x5IGNyZWF0ZWQgb24tdGhlLWZseSBidXQgYmV0dGVyIHRvIG1pZ3JhdGVcbiAgICB2YXIgYnlTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICAgIHZhciBjdXJzb3IgPSBkb2NTdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgY3Vyc29yLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgcmV0dXJuOyAvLyBkb25lXG4gICAgICB9XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YUNvbXBhdChjdXJzb3IudmFsdWUpO1xuXG4gICAgICBtZXRhZGF0YS53aW5uaW5nUmV2ID0gbWV0YWRhdGEud2lubmluZ1JldiB8fFxuICAgICAgICB3aW5uaW5nUmV2KG1ldGFkYXRhKTtcblxuICAgICAgZnVuY3Rpb24gZmV0Y2hNZXRhZGF0YVNlcSgpIHtcbiAgICAgICAgLy8gbWV0YWRhdGEuc2VxIHdhcyBhZGRlZCBwb3N0LTMuMi4wLCBzbyBpZiBpdCdzIG1pc3NpbmcsXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gZmV0Y2ggaXQgbWFudWFsbHlcbiAgICAgICAgdmFyIHN0YXJ0ID0gbWV0YWRhdGEuaWQgKyAnOjonO1xuICAgICAgICB2YXIgZW5kID0gbWV0YWRhdGEuaWQgKyAnOjpcXHVmZmZmJztcbiAgICAgICAgdmFyIHJlcSA9IGJ5U2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jykub3BlbkN1cnNvcihcbiAgICAgICAgICBJREJLZXlSYW5nZS5ib3VuZChzdGFydCwgZW5kKSk7XG5cbiAgICAgICAgdmFyIG1ldGFkYXRhU2VxID0gMDtcbiAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICAgICAgbWV0YWRhdGEuc2VxID0gbWV0YWRhdGFTZXE7XG4gICAgICAgICAgICByZXR1cm4gb25HZXRNZXRhZGF0YVNlcSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgc2VxID0gY3Vyc29yLnByaW1hcnlLZXk7XG4gICAgICAgICAgaWYgKHNlcSA+IG1ldGFkYXRhU2VxKSB7XG4gICAgICAgICAgICBtZXRhZGF0YVNlcSA9IHNlcTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uR2V0TWV0YWRhdGFTZXEoKSB7XG4gICAgICAgIHZhciBtZXRhZGF0YVRvU3RvcmUgPSBlbmNvZGVNZXRhZGF0YShtZXRhZGF0YSxcbiAgICAgICAgICBtZXRhZGF0YS53aW5uaW5nUmV2LCBtZXRhZGF0YS5kZWxldGVkKTtcblxuICAgICAgICB2YXIgcmVxID0gZG9jU3RvcmUucHV0KG1ldGFkYXRhVG9TdG9yZSk7XG4gICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXRhZGF0YS5zZXEpIHtcbiAgICAgICAgcmV0dXJuIG9uR2V0TWV0YWRhdGFTZXEoKTtcbiAgICAgIH1cblxuICAgICAgZmV0Y2hNZXRhZGF0YVNlcSgpO1xuICAgIH07XG5cbiAgfVxuXG4gIGFwaS5fcmVtb3RlID0gZmFsc2U7XG4gIGFwaS50eXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnaWRiJztcbiAgfTtcblxuICBhcGkuX2lkID0gdG9Qcm9taXNlKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKG51bGwsIGFwaS5fbWV0YS5pbnN0YW5jZUlkKTtcbiAgfSk7XG5cbiAgYXBpLl9idWxrRG9jcyA9IGZ1bmN0aW9uIGlkYl9idWxrRG9jcyhyZXEsIHJlcU9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWRiQnVsa0RvY3Mob3B0cywgcmVxLCByZXFPcHRzLCBhcGksIGlkYiwgZW5yaWNoQ2FsbGJhY2tFcnJvcihjYWxsYmFjaykpO1xuICB9O1xuXG4gIC8vIEZpcnN0IHdlIGxvb2sgdXAgdGhlIG1ldGFkYXRhIGluIHRoZSBpZHMgZGF0YWJhc2UsIHRoZW4gd2UgZmV0Y2ggdGhlXG4gIC8vIGN1cnJlbnQgcmV2aXNpb24ocykgZnJvbSB0aGUgYnkgc2VxdWVuY2Ugc3RvcmVcbiAgYXBpLl9nZXQgPSBmdW5jdGlvbiBpZGJfZ2V0KGlkLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHZhciBkb2M7XG4gICAgdmFyIG1ldGFkYXRhO1xuICAgIHZhciBlcnI7XG4gICAgdmFyIHR4biA9IG9wdHMuY3R4O1xuICAgIGlmICghdHhuKSB7XG4gICAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYixcbiAgICAgICAgW0RPQ19TVE9SRSwgQllfU0VRX1NUT1JFLCBBVFRBQ0hfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmlzaCgpIHtcbiAgICAgIGNhbGxiYWNrKGVyciwge2RvYzogZG9jLCBtZXRhZGF0YTogbWV0YWRhdGEsIGN0eDogdHhufSk7XG4gICAgfVxuXG4gICAgdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSkuZ2V0KGlkKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShlLnRhcmdldC5yZXN1bHQpO1xuICAgICAgLy8gd2UgY2FuIGRldGVybWluZSB0aGUgcmVzdWx0IGhlcmUgaWY6XG4gICAgICAvLyAxLiB0aGVyZSBpcyBubyBzdWNoIGRvY3VtZW50XG4gICAgICAvLyAyLiB0aGUgZG9jdW1lbnQgaXMgZGVsZXRlZCBhbmQgd2UgZG9uJ3QgYXNrIGFib3V0IHNwZWNpZmljIHJldlxuICAgICAgLy8gV2hlbiB3ZSBhc2sgd2l0aCBvcHRzLnJldiB3ZSBleHBlY3QgdGhlIGFuc3dlciB0byBiZSBlaXRoZXJcbiAgICAgIC8vIGRvYyAocG9zc2libHkgd2l0aCBfZGVsZXRlZD10cnVlKSBvciBtaXNzaW5nIGVycm9yXG4gICAgICBpZiAoIW1ldGFkYXRhKSB7XG4gICAgICAgIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLCAnbWlzc2luZycpO1xuICAgICAgICByZXR1cm4gZmluaXNoKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXY7XG4gICAgICBpZiAoIW9wdHMucmV2KSB7XG4gICAgICAgIHJldiA9IG1ldGFkYXRhLndpbm5pbmdSZXY7XG4gICAgICAgIHZhciBkZWxldGVkID0gaXNEZWxldGVkKG1ldGFkYXRhKTtcbiAgICAgICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgICAgICBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX0RPQywgXCJkZWxldGVkXCIpO1xuICAgICAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV2ID0gb3B0cy5sYXRlc3QgPyBsYXRlc3Qob3B0cy5yZXYsIG1ldGFkYXRhKSA6IG9wdHMucmV2O1xuICAgICAgfVxuXG4gICAgICB2YXIgb2JqZWN0U3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgICAgIHZhciBrZXkgPSBtZXRhZGF0YS5pZCArICc6OicgKyByZXY7XG5cbiAgICAgIG9iamVjdFN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpLmdldChrZXkpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGRvYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKGRvYykge1xuICAgICAgICAgIGRvYyA9IGRlY29kZURvYyhkb2MpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZG9jKSB7XG4gICAgICAgICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsICdtaXNzaW5nJyk7XG4gICAgICAgICAgcmV0dXJuIGZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmlzaCgpO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xuXG4gIGFwaS5fZ2V0QXR0YWNobWVudCA9IGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNoSWQsIGF0dGFjaG1lbnQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHR4bjtcbiAgICBpZiAob3B0cy5jdHgpIHtcbiAgICAgIHR4biA9IG9wdHMuY3R4O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYixcbiAgICAgICAgW0RPQ19TVE9SRSwgQllfU0VRX1NUT1JFLCBBVFRBQ0hfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICAgIH1cbiAgICB2YXIgZGlnZXN0ID0gYXR0YWNobWVudC5kaWdlc3Q7XG4gICAgdmFyIHR5cGUgPSBhdHRhY2htZW50LmNvbnRlbnRfdHlwZTtcblxuICAgIHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpLmdldChkaWdlc3QpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgYm9keSA9IGUudGFyZ2V0LnJlc3VsdC5ib2R5O1xuICAgICAgcmVhZEJsb2JEYXRhKGJvZHksIHR5cGUsIG9wdHMuYmluYXJ5LCBmdW5jdGlvbiAoYmxvYkRhdGEpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgYmxvYkRhdGEpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX2luZm8gPSBmdW5jdGlvbiBpZGJfaW5mbyhjYWxsYmFjaykge1xuICAgIHZhciB1cGRhdGVTZXE7XG4gICAgdmFyIGRvY0NvdW50O1xuXG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtNRVRBX1NUT1JFLCBCWV9TRVFfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdmFyIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZG9jQ291bnQgPSBlLnRhcmdldC5yZXN1bHQuZG9jQ291bnQ7XG4gICAgfTtcbiAgICB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKS5vcGVuQ3Vyc29yKG51bGwsICdwcmV2Jykub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICB1cGRhdGVTZXEgPSBjdXJzb3IgPyBjdXJzb3Iua2V5IDogMDtcbiAgICB9O1xuXG4gICAgdHhuLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCB7XG4gICAgICAgIGRvY19jb3VudDogZG9jQ291bnQsXG4gICAgICAgIHVwZGF0ZV9zZXE6IHVwZGF0ZVNlcSxcbiAgICAgICAgLy8gZm9yIGRlYnVnZ2luZ1xuICAgICAgICBpZGJfYXR0YWNobWVudF9mb3JtYXQ6IChhcGkuX21ldGEuYmxvYlN1cHBvcnQgPyAnYmluYXJ5JyA6ICdiYXNlNjQnKVxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX2FsbERvY3MgPSBmdW5jdGlvbiBpZGJfYWxsRG9jcyhvcHRzLCBjYWxsYmFjaykge1xuICAgIGlkYkFsbERvY3Mob3B0cywgaWRiLCBlbnJpY2hDYWxsYmFja0Vycm9yKGNhbGxiYWNrKSk7XG4gIH07XG5cbiAgYXBpLl9jaGFuZ2VzID0gZnVuY3Rpb24gaWRiQ2hhbmdlcyhvcHRzKSB7XG4gICAgcmV0dXJuIGNoYW5nZXMob3B0cywgYXBpLCBkYk5hbWUsIGlkYik7XG4gIH07XG5cbiAgYXBpLl9jbG9zZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvSW5kZXhlZERCL0lEQkRhdGFiYXNlI2Nsb3NlXG4gICAgLy8gXCJSZXR1cm5zIGltbWVkaWF0ZWx5IGFuZCBjbG9zZXMgdGhlIGNvbm5lY3Rpb24gaW4gYSBzZXBhcmF0ZSB0aHJlYWQuLi5cIlxuICAgIGlkYi5jbG9zZSgpO1xuICAgIGNhY2hlZERCcy5kZWxldGUoZGJOYW1lKTtcbiAgICBjYWxsYmFjaygpO1xuICB9O1xuXG4gIGFwaS5fZ2V0UmV2aXNpb25UcmVlID0gZnVuY3Rpb24gKGRvY0lkLCBjYWxsYmFjaykge1xuICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBbRE9DX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHZhciB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICAgIHZhciByZXEgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5nZXQoZG9jSWQpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBkb2MgPSBkZWNvZGVNZXRhZGF0YShldmVudC50YXJnZXQucmVzdWx0KTtcbiAgICAgIGlmICghZG9jKSB7XG4gICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhudWxsLCBkb2MucmV2X3RyZWUpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gVGhpcyBmdW5jdGlvbiByZW1vdmVzIHJldmlzaW9ucyBvZiBkb2N1bWVudCBkb2NJZFxuICAvLyB3aGljaCBhcmUgbGlzdGVkIGluIHJldnMgYW5kIHNldHMgdGhpcyBkb2N1bWVudFxuICAvLyByZXZpc2lvbiB0byB0byByZXZfdHJlZVxuICBhcGkuX2RvQ29tcGFjdGlvbiA9IGZ1bmN0aW9uIChkb2NJZCwgcmV2cywgY2FsbGJhY2spIHtcbiAgICB2YXIgc3RvcmVzID0gW1xuICAgICAgRE9DX1NUT1JFLFxuICAgICAgQllfU0VRX1NUT1JFLFxuICAgICAgQVRUQUNIX1NUT1JFLFxuICAgICAgQVRUQUNIX0FORF9TRVFfU1RPUkVcbiAgICBdO1xuICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBzdG9yZXMsICdyZWFkd3JpdGUnKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdmFyIHR4biA9IHR4blJlc3VsdC50eG47XG5cbiAgICB2YXIgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcblxuICAgIGRvY1N0b3JlLmdldChkb2NJZCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShldmVudC50YXJnZXQucmVzdWx0KTtcbiAgICAgIHRyYXZlcnNlUmV2VHJlZShtZXRhZGF0YS5yZXZfdHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2SGFzaCwgY3R4LCBvcHRzKSB7XG4gICAgICAgIHZhciByZXYgPSBwb3MgKyAnLScgKyByZXZIYXNoO1xuICAgICAgICBpZiAocmV2cy5pbmRleE9mKHJldikgIT09IC0xKSB7XG4gICAgICAgICAgb3B0cy5zdGF0dXMgPSAnbWlzc2luZyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29tcGFjdFJldnMocmV2cywgZG9jSWQsIHR4bik7XG4gICAgICB2YXIgd2lubmluZ1JldiQkMSA9IG1ldGFkYXRhLndpbm5pbmdSZXY7XG4gICAgICB2YXIgZGVsZXRlZCA9IG1ldGFkYXRhLmRlbGV0ZWQ7XG4gICAgICB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5wdXQoXG4gICAgICAgIGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLCB3aW5uaW5nUmV2JCQxLCBkZWxldGVkKSk7XG4gICAgfTtcbiAgICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfTtcbiAgfTtcblxuXG4gIGFwaS5fZ2V0TG9jYWwgPSBmdW5jdGlvbiAoaWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtMT0NBTF9TVE9SRV0sICdyZWFkb25seScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHggPSB0eG5SZXN1bHQudHhuO1xuICAgIHZhciByZXEgPSB0eC5vYmplY3RTdG9yZShMT0NBTF9TVE9SRSkuZ2V0KGlkKTtcblxuICAgIHJlcS5vbmVycm9yID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGRvYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICghZG9jKSB7XG4gICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgZG9jWydfZG9jX2lkX3JldiddOyAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdFxuICAgICAgICBjYWxsYmFjayhudWxsLCBkb2MpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgYXBpLl9wdXRMb2NhbCA9IGZ1bmN0aW9uIChkb2MsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIGRlbGV0ZSBkb2MuX3JldmlzaW9uczsgLy8gaWdub3JlIHRoaXMsIHRydXN0IHRoZSByZXZcbiAgICB2YXIgb2xkUmV2ID0gZG9jLl9yZXY7XG4gICAgdmFyIGlkID0gZG9jLl9pZDtcbiAgICBpZiAoIW9sZFJldikge1xuICAgICAgZG9jLl9yZXYgPSAnMC0xJztcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jLl9yZXYgPSAnMC0nICsgKHBhcnNlSW50KG9sZFJldi5zcGxpdCgnLScpWzFdLCAxMCkgKyAxKTtcbiAgICB9XG5cbiAgICB2YXIgdHggPSBvcHRzLmN0eDtcbiAgICB2YXIgcmV0O1xuICAgIGlmICghdHgpIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBbTE9DQUxfU1RPUkVdLCAncmVhZHdyaXRlJyk7XG4gICAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgdHggPSB0eG5SZXN1bHQudHhuO1xuICAgICAgdHgub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICAgIHR4Lm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBvU3RvcmUgPSB0eC5vYmplY3RTdG9yZShMT0NBTF9TVE9SRSk7XG4gICAgdmFyIHJlcTtcbiAgICBpZiAob2xkUmV2KSB7XG4gICAgICByZXEgPSBvU3RvcmUuZ2V0KGlkKTtcbiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgb2xkRG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoIW9sZERvYyB8fCBvbGREb2MuX3JldiAhPT0gb2xkUmV2KSB7XG4gICAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKSk7XG4gICAgICAgIH0gZWxzZSB7IC8vIHVwZGF0ZVxuICAgICAgICAgIHZhciByZXEgPSBvU3RvcmUucHV0KGRvYyk7XG4gICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldCA9IHtvazogdHJ1ZSwgaWQ6IGRvYy5faWQsIHJldjogZG9jLl9yZXZ9O1xuICAgICAgICAgICAgaWYgKG9wdHMuY3R4KSB7IC8vIHJldHVybiBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIHsgLy8gbmV3IGRvY1xuICAgICAgcmVxID0gb1N0b3JlLmFkZChkb2MpO1xuICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvLyBjb25zdHJhaW50IGVycm9yLCBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBhYm9ydFxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBvbmVycm9yXG4gICAgICB9O1xuICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0ID0ge29rOiB0cnVlLCBpZDogZG9jLl9pZCwgcmV2OiBkb2MuX3Jldn07XG4gICAgICAgIGlmIChvcHRzLmN0eCkgeyAvLyByZXR1cm4gaW1tZWRpYXRlbHlcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICBhcGkuX3JlbW92ZUxvY2FsID0gZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgdmFyIHR4ID0gb3B0cy5jdHg7XG4gICAgaWYgKCF0eCkge1xuICAgICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtMT0NBTF9TVE9SRV0sICdyZWFkd3JpdGUnKTtcbiAgICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICB0eCA9IHR4blJlc3VsdC50eG47XG4gICAgICB0eC5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmV0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHJldDtcbiAgICB2YXIgaWQgPSBkb2MuX2lkO1xuICAgIHZhciBvU3RvcmUgPSB0eC5vYmplY3RTdG9yZShMT0NBTF9TVE9SRSk7XG4gICAgdmFyIHJlcSA9IG9TdG9yZS5nZXQoaWQpO1xuXG4gICAgcmVxLm9uZXJyb3IgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgb2xkRG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFvbGREb2MgfHwgb2xkRG9jLl9yZXYgIT09IGRvYy5fcmV2KSB7XG4gICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvU3RvcmUuZGVsZXRlKGlkKTtcbiAgICAgICAgcmV0ID0ge29rOiB0cnVlLCBpZDogaWQsIHJldjogJzAtMCd9O1xuICAgICAgICBpZiAob3B0cy5jdHgpIHsgLy8gcmV0dXJuIGltbWVkaWF0ZWx5XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmV0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgYXBpLl9kZXN0cm95ID0gZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgY2hhbmdlc0hhbmRsZXIucmVtb3ZlQWxsTGlzdGVuZXJzKGRiTmFtZSk7XG5cbiAgICAvL0Nsb3NlIG9wZW4gcmVxdWVzdCBmb3IgXCJkYk5hbWVcIiBkYXRhYmFzZSB0byBmaXggaWUgZGVsYXkuXG4gICAgdmFyIG9wZW5SZXEgPSBvcGVuUmVxTGlzdC5nZXQoZGJOYW1lKTtcbiAgICBpZiAob3BlblJlcSAmJiBvcGVuUmVxLnJlc3VsdCkge1xuICAgICAgb3BlblJlcS5yZXN1bHQuY2xvc2UoKTtcbiAgICAgIGNhY2hlZERCcy5kZWxldGUoZGJOYW1lKTtcbiAgICB9XG4gICAgdmFyIHJlcSA9IGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShkYk5hbWUpO1xuXG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vUmVtb3ZlIG9wZW4gcmVxdWVzdCBmcm9tIHRoZSBsaXN0LlxuICAgICAgb3BlblJlcUxpc3QuZGVsZXRlKGRiTmFtZSk7XG4gICAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKCkgJiYgKGRiTmFtZSBpbiBsb2NhbFN0b3JhZ2UpKSB7XG4gICAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbZGJOYW1lXTtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKG51bGwsIHsgJ29rJzogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgcmVxLm9uZXJyb3IgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gIH07XG5cbiAgdmFyIGNhY2hlZCA9IGNhY2hlZERCcy5nZXQoZGJOYW1lKTtcblxuICBpZiAoY2FjaGVkKSB7XG4gICAgaWRiID0gY2FjaGVkLmlkYjtcbiAgICBhcGkuX21ldGEgPSBjYWNoZWQuZ2xvYmFsO1xuICAgIHJldHVybiBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgYXBpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciByZXEgPSBpbmRleGVkREIub3BlbihkYk5hbWUsIEFEQVBURVJfVkVSU0lPTik7XG4gIG9wZW5SZXFMaXN0LnNldChkYk5hbWUsIHJlcSk7XG5cbiAgcmVxLm9udXBncmFkZW5lZWRlZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGRiID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmIChlLm9sZFZlcnNpb24gPCAxKSB7XG4gICAgICByZXR1cm4gY3JlYXRlU2NoZW1hKGRiKTsgLy8gbmV3IGRiLCBpbml0aWFsIHNjaGVtYVxuICAgIH1cbiAgICAvLyBkbyBtaWdyYXRpb25zXG5cbiAgICB2YXIgdHhuID0gZS5jdXJyZW50VGFyZ2V0LnRyYW5zYWN0aW9uO1xuICAgIC8vIHRoZXNlIG1pZ3JhdGlvbnMgaGF2ZSB0byBiZSBkb25lIGluIHRoaXMgZnVuY3Rpb24sIGJlZm9yZVxuICAgIC8vIGNvbnRyb2wgaXMgcmV0dXJuZWQgdG8gdGhlIGV2ZW50IGxvb3AsIGJlY2F1c2UgSW5kZXhlZERCXG5cbiAgICBpZiAoZS5vbGRWZXJzaW9uIDwgMykge1xuICAgICAgY3JlYXRlTG9jYWxTdG9yZVNjaGVtYShkYik7IC8vIHYyIC0+IHYzXG4gICAgfVxuICAgIGlmIChlLm9sZFZlcnNpb24gPCA0KSB7XG4gICAgICBhZGRBdHRhY2hBbmRTZXFTdG9yZShkYik7IC8vIHYzIC0+IHY0XG4gICAgfVxuXG4gICAgdmFyIG1pZ3JhdGlvbnMgPSBbXG4gICAgICBhZGREZWxldGVkT3JMb2NhbEluZGV4LCAvLyB2MSAtPiB2MlxuICAgICAgbWlncmF0ZUxvY2FsU3RvcmUsICAgICAgLy8gdjIgLT4gdjNcbiAgICAgIG1pZ3JhdGVBdHRzQW5kU2VxcywgICAgIC8vIHYzIC0+IHY0XG4gICAgICBtaWdyYXRlTWV0YWRhdGEgICAgICAgICAvLyB2NCAtPiB2NVxuICAgIF07XG5cbiAgICB2YXIgaSA9IGUub2xkVmVyc2lvbjtcblxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB2YXIgbWlncmF0aW9uID0gbWlncmF0aW9uc1tpIC0gMV07XG4gICAgICBpKys7XG4gICAgICBpZiAobWlncmF0aW9uKSB7XG4gICAgICAgIG1pZ3JhdGlvbih0eG4sIG5leHQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIG5leHQoKTtcbiAgfTtcblxuICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIGlkYiA9IGUudGFyZ2V0LnJlc3VsdDtcblxuICAgIGlkYi5vbnZlcnNpb25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZGIuY2xvc2UoKTtcbiAgICAgIGNhY2hlZERCcy5kZWxldGUoZGJOYW1lKTtcbiAgICB9O1xuXG4gICAgaWRiLm9uYWJvcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJywgJ0RhdGFiYXNlIGhhcyBhIGdsb2JhbCBmYWlsdXJlJywgZS50YXJnZXQuZXJyb3IpO1xuICAgICAgaWRiR2xvYmFsRmFpbHVyZUVycm9yID0gZS50YXJnZXQuZXJyb3I7XG4gICAgICBpZGIuY2xvc2UoKTtcbiAgICAgIGNhY2hlZERCcy5kZWxldGUoZGJOYW1lKTtcbiAgICB9O1xuXG4gICAgLy8gRG8gYSBmZXcgc2V0dXAgb3BlcmF0aW9ucyAoaW4gcGFyYWxsZWwgYXMgbXVjaCBhcyBwb3NzaWJsZSk6XG4gICAgLy8gMS4gRmV0Y2ggbWV0YSBkb2NcbiAgICAvLyAyLiBDaGVjayBibG9iIHN1cHBvcnRcbiAgICAvLyAzLiBDYWxjdWxhdGUgZG9jQ291bnRcbiAgICAvLyA0LiBHZW5lcmF0ZSBhbiBpbnN0YW5jZUlkIGlmIG5lY2Vzc2FyeVxuICAgIC8vIDUuIFN0b3JlIGRvY0NvdW50IGFuZCBpbnN0YW5jZUlkIG9uIG1ldGEgZG9jXG5cbiAgICB2YXIgdHhuID0gaWRiLnRyYW5zYWN0aW9uKFtcbiAgICAgIE1FVEFfU1RPUkUsXG4gICAgICBERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFLFxuICAgICAgRE9DX1NUT1JFXG4gICAgXSwgJ3JlYWR3cml0ZScpO1xuXG4gICAgdmFyIHN0b3JlZE1ldGFEb2MgPSBmYWxzZTtcbiAgICB2YXIgbWV0YURvYztcbiAgICB2YXIgZG9jQ291bnQ7XG4gICAgdmFyIGJsb2JTdXBwb3J0O1xuICAgIHZhciBpbnN0YW5jZUlkO1xuXG4gICAgZnVuY3Rpb24gY29tcGxldGVTZXR1cCgpIHtcbiAgICAgIGlmICh0eXBlb2YgYmxvYlN1cHBvcnQgPT09ICd1bmRlZmluZWQnIHx8ICFzdG9yZWRNZXRhRG9jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFwaS5fbWV0YSA9IHtcbiAgICAgICAgbmFtZTogZGJOYW1lLFxuICAgICAgICBpbnN0YW5jZUlkOiBpbnN0YW5jZUlkLFxuICAgICAgICBibG9iU3VwcG9ydDogYmxvYlN1cHBvcnRcbiAgICAgIH07XG5cbiAgICAgIGNhY2hlZERCcy5zZXQoZGJOYW1lLCB7XG4gICAgICAgIGlkYjogaWRiLFxuICAgICAgICBnbG9iYWw6IGFwaS5fbWV0YVxuICAgICAgfSk7XG4gICAgICBjYWxsYmFjayhudWxsLCBhcGkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0b3JlTWV0YURvY0lmUmVhZHkoKSB7XG4gICAgICBpZiAodHlwZW9mIGRvY0NvdW50ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgbWV0YURvYyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGluc3RhbmNlS2V5ID0gZGJOYW1lICsgJ19pZCc7XG4gICAgICBpZiAoaW5zdGFuY2VLZXkgaW4gbWV0YURvYykge1xuICAgICAgICBpbnN0YW5jZUlkID0gbWV0YURvY1tpbnN0YW5jZUtleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXRhRG9jW2luc3RhbmNlS2V5XSA9IGluc3RhbmNlSWQgPSB1dWlkKCk7XG4gICAgICB9XG4gICAgICBtZXRhRG9jLmRvY0NvdW50ID0gZG9jQ291bnQ7XG4gICAgICB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSkucHV0KG1ldGFEb2MpO1xuICAgIH1cblxuICAgIC8vXG4gICAgLy8gZmV0Y2ggb3IgZ2VuZXJhdGUgdGhlIGluc3RhbmNlSWRcbiAgICAvL1xuICAgIHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKS5nZXQoTUVUQV9TVE9SRSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFEb2MgPSBlLnRhcmdldC5yZXN1bHQgfHwgeyBpZDogTUVUQV9TVE9SRSB9O1xuICAgICAgc3RvcmVNZXRhRG9jSWZSZWFkeSgpO1xuICAgIH07XG5cbiAgICAvL1xuICAgIC8vIGNvdW50RG9jc1xuICAgIC8vXG4gICAgY291bnREb2NzKHR4biwgZnVuY3Rpb24gKGNvdW50KSB7XG4gICAgICBkb2NDb3VudCA9IGNvdW50O1xuICAgICAgc3RvcmVNZXRhRG9jSWZSZWFkeSgpO1xuICAgIH0pO1xuXG4gICAgLy9cbiAgICAvLyBjaGVjayBibG9iIHN1cHBvcnRcbiAgICAvL1xuICAgIGlmICghYmxvYlN1cHBvcnRQcm9taXNlKSB7XG4gICAgICAvLyBtYWtlIHN1cmUgYmxvYiBzdXBwb3J0IGlzIG9ubHkgY2hlY2tlZCBvbmNlXG4gICAgICBibG9iU3VwcG9ydFByb21pc2UgPSBjaGVja0Jsb2JTdXBwb3J0KHR4bik7XG4gICAgfVxuXG4gICAgYmxvYlN1cHBvcnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbCkge1xuICAgICAgYmxvYlN1cHBvcnQgPSB2YWw7XG4gICAgICBjb21wbGV0ZVNldHVwKCk7XG4gICAgfSk7XG5cbiAgICAvLyBvbmx5IHdoZW4gdGhlIG1ldGFkYXRhIHB1dCB0cmFuc2FjdGlvbiBoYXMgY29tcGxldGVkLFxuICAgIC8vIGNvbnNpZGVyIHRoZSBzZXR1cCBkb25lXG4gICAgdHhuLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzdG9yZWRNZXRhRG9jID0gdHJ1ZTtcbiAgICAgIGNvbXBsZXRlU2V0dXAoKTtcbiAgICB9O1xuICAgIHR4bi5vbmFib3J0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICB9O1xuXG4gIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgbXNnID0gZS50YXJnZXQuZXJyb3IgJiYgZS50YXJnZXQuZXJyb3IubWVzc2FnZTtcblxuICAgIGlmICghbXNnKSB7XG4gICAgICBtc2cgPSAnRmFpbGVkIHRvIG9wZW4gaW5kZXhlZERCLCBhcmUgeW91IGluIHByaXZhdGUgYnJvd3NpbmcgbW9kZT8nO1xuICAgIH0gZWxzZSBpZiAobXNnLmluZGV4T2YoXCJzdG9yZWQgZGF0YWJhc2UgaXMgYSBoaWdoZXIgdmVyc2lvblwiKSAhPT0gLTEpIHtcbiAgICAgIG1zZyA9IG5ldyBFcnJvcignVGhpcyBEQiB3YXMgY3JlYXRlZCB3aXRoIHRoZSBuZXdlciBcImluZGV4ZWRkYlwiIGFkYXB0ZXIsIGJ1dCB5b3UgYXJlIHRyeWluZyB0byBvcGVuIGl0IHdpdGggdGhlIG9sZGVyIFwiaWRiXCIgYWRhcHRlcicpO1xuICAgIH1cblxuICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsIG1zZyk7XG4gICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoSURCX0VSUk9SLCBtc2cpKTtcbiAgfTtcbn1cblxuSWRiUG91Y2gudmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIEZvbGxvd2luZyAjNzA4NSBidWdneSBpZGIgdmVyc2lvbnMgKHR5cGljYWxseSBTYWZhcmkgPCAxMC4xKSBhcmVcbiAgLy8gY29uc2lkZXJlZCB2YWxpZC5cblxuICAvLyBPbiBGaXJlZm94IFNlY3VyaXR5RXJyb3IgaXMgdGhyb3duIHdoaWxlIHJlZmVyZW5jaW5nIGluZGV4ZWREQiBpZiBjb29raWVzXG4gIC8vIGFyZSBub3QgYWxsb3dlZC4gYHR5cGVvZiBpbmRleGVkREJgIGFsc28gdHJpZ2dlcnMgdGhlIGVycm9yLlxuICB0cnkge1xuICAgIC8vIHNvbWUgb3V0ZGF0ZWQgaW1wbGVtZW50YXRpb25zIG9mIElEQiB0aGF0IGFwcGVhciBvbiBTYW1zdW5nXG4gICAgLy8gYW5kIEhUQyBBbmRyb2lkIGRldmljZXMgPDQuNCBhcmUgbWlzc2luZyBJREJLZXlSYW5nZVxuICAgIHJldHVybiB0eXBlb2YgaW5kZXhlZERCICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgSURCS2V5UmFuZ2UgIT09ICd1bmRlZmluZWQnO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5mdW5jdGlvbiBJREJQb3VjaCAoUG91Y2hEQikge1xuICBQb3VjaERCLmFkYXB0ZXIoJ2lkYicsIElkYlBvdWNoLCB0cnVlKTtcbn1cblxuLy8gZGVhZCBzaW1wbGUgcHJvbWlzZSBwb29sLCBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vdGltZHAvZXM2LXByb21pc2UtcG9vbFxuLy8gYnV0IG11Y2ggc21hbGxlciBpbiBjb2RlIHNpemUuIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGNvbmN1cnJlbnQgcHJvbWlzZXMgdGhhdCBhcmUgZXhlY3V0ZWRcblxuXG5mdW5jdGlvbiBwb29sKHByb21pc2VGYWN0b3JpZXMsIGxpbWl0KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJ1bm5pbmcgPSAwO1xuICAgIHZhciBjdXJyZW50ID0gMDtcbiAgICB2YXIgZG9uZSA9IDA7XG4gICAgdmFyIGxlbiA9IHByb21pc2VGYWN0b3JpZXMubGVuZ3RoO1xuICAgIHZhciBlcnI7XG5cbiAgICBmdW5jdGlvbiBydW5OZXh0KCkge1xuICAgICAgcnVubmluZysrO1xuICAgICAgcHJvbWlzZUZhY3Rvcmllc1tjdXJyZW50KytdKCkudGhlbihvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvTmV4dCgpIHtcbiAgICAgIGlmICgrK2RvbmUgPT09IGxlbikge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcnVuTmV4dEJhdGNoKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25TdWNjZXNzKCkge1xuICAgICAgcnVubmluZy0tO1xuICAgICAgZG9OZXh0KCk7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBmdW5jdGlvbiBvbkVycm9yKHRoaXNFcnIpIHtcbiAgICAgIHJ1bm5pbmctLTtcbiAgICAgIGVyciA9IGVyciB8fCB0aGlzRXJyO1xuICAgICAgZG9OZXh0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuTmV4dEJhdGNoKCkge1xuICAgICAgd2hpbGUgKHJ1bm5pbmcgPCBsaW1pdCAmJiBjdXJyZW50IDwgbGVuKSB7XG4gICAgICAgIHJ1bk5leHQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBydW5OZXh0QmF0Y2goKTtcbiAgfSk7XG59XG5cbnZhciBDSEFOR0VTX0JBVENIX1NJWkUgPSAyNTtcbnZhciBNQVhfU0lNVUxUQU5FT1VTX1JFVlMgPSA1MDtcbnZhciBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSID0gNTAwMDtcbnZhciBERUZBVUxUX0hFQVJUQkVBVCA9IDEwMDAwO1xuXG52YXIgc3VwcG9ydHNCdWxrR2V0TWFwID0ge307XG5cbmZ1bmN0aW9uIHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKHJvdykge1xuICB2YXIgZG9jID0gcm93LmRvYyB8fCByb3cub2s7XG4gIHZhciBhdHRzID0gZG9jICYmIGRvYy5fYXR0YWNobWVudHM7XG4gIGlmICghYXR0cykge1xuICAgIHJldHVybjtcbiAgfVxuICBPYmplY3Qua2V5cyhhdHRzKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgIHZhciBhdHQgPSBhdHRzW2ZpbGVuYW1lXTtcbiAgICBhdHQuZGF0YSA9IGI2NFRvQmx1ZmZlcihhdHQuZGF0YSwgYXR0LmNvbnRlbnRfdHlwZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVEb2NJZChpZCkge1xuICBpZiAoL15fZGVzaWduLy50ZXN0KGlkKSkge1xuICAgIHJldHVybiAnX2Rlc2lnbi8nICsgZW5jb2RlVVJJQ29tcG9uZW50KGlkLnNsaWNlKDgpKTtcbiAgfVxuICBpZiAoL15fbG9jYWwvLnRlc3QoaWQpKSB7XG4gICAgcmV0dXJuICdfbG9jYWwvJyArIGVuY29kZVVSSUNvbXBvbmVudChpZC5zbGljZSg3KSk7XG4gIH1cbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChpZCk7XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NBdHRhY2htZW50cyQxKGRvYykge1xuICBpZiAoIWRvYy5fYXR0YWNobWVudHMgfHwgIU9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIGF0dGFjaG1lbnQgPSBkb2MuX2F0dGFjaG1lbnRzW2tleV07XG4gICAgaWYgKGF0dGFjaG1lbnQuZGF0YSAmJiB0eXBlb2YgYXR0YWNobWVudC5kYXRhICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIGJsb2JUb0Jhc2U2NChhdHRhY2htZW50LmRhdGEsIHJlc29sdmUpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoYjY0KSB7XG4gICAgICAgIGF0dGFjaG1lbnQuZGF0YSA9IGI2NDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBoYXNVcmxQcmVmaXgob3B0cykge1xuICBpZiAoIW9wdHMucHJlZml4KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90b2NvbCA9IHBhcnNlVXJpKG9wdHMucHJlZml4KS5wcm90b2NvbDtcbiAgcmV0dXJuIHByb3RvY29sID09PSAnaHR0cCcgfHwgcHJvdG9jb2wgPT09ICdodHRwcyc7XG59XG5cbi8vIEdldCBhbGwgdGhlIGluZm9ybWF0aW9uIHlvdSBwb3NzaWJseSBjYW4gYWJvdXQgdGhlIFVSSSBnaXZlbiBieSBuYW1lIGFuZFxuLy8gcmV0dXJuIGl0IGFzIGEgc3VpdGFibGUgb2JqZWN0LlxuZnVuY3Rpb24gZ2V0SG9zdChuYW1lLCBvcHRzKSB7XG4gIC8vIGVuY29kZSBkYiBuYW1lIGlmIG9wdHMucHJlZml4IGlzIGEgdXJsICgjNTU3NClcbiAgaWYgKGhhc1VybFByZWZpeChvcHRzKSkge1xuICAgIHZhciBkYk5hbWUgPSBvcHRzLm5hbWUuc3Vic3RyKG9wdHMucHJlZml4Lmxlbmd0aCk7XG4gICAgLy8gRW5zdXJlIHByZWZpeCBoYXMgYSB0cmFpbGluZyBzbGFzaFxuICAgIHZhciBwcmVmaXggPSBvcHRzLnByZWZpeC5yZXBsYWNlKC9cXC8/JC8sICcvJyk7XG4gICAgbmFtZSA9IHByZWZpeCArIGVuY29kZVVSSUNvbXBvbmVudChkYk5hbWUpO1xuICB9XG5cbiAgdmFyIHVyaSA9IHBhcnNlVXJpKG5hbWUpO1xuICBpZiAodXJpLnVzZXIgfHwgdXJpLnBhc3N3b3JkKSB7XG4gICAgdXJpLmF1dGggPSB7dXNlcm5hbWU6IHVyaS51c2VyLCBwYXNzd29yZDogdXJpLnBhc3N3b3JkfTtcbiAgfVxuXG4gIC8vIFNwbGl0IHRoZSBwYXRoIHBhcnQgb2YgdGhlIFVSSSBpbnRvIHBhcnRzIHVzaW5nICcvJyBhcyB0aGUgZGVsaW1pdGVyXG4gIC8vIGFmdGVyIHJlbW92aW5nIGFueSBsZWFkaW5nICcvJyBhbmQgYW55IHRyYWlsaW5nICcvJ1xuICB2YXIgcGFydHMgPSB1cmkucGF0aC5yZXBsYWNlKC8oXlxcL3xcXC8kKS9nLCAnJykuc3BsaXQoJy8nKTtcblxuICB1cmkuZGIgPSBwYXJ0cy5wb3AoKTtcbiAgLy8gUHJldmVudCBkb3VibGUgZW5jb2Rpbmcgb2YgVVJJIGNvbXBvbmVudFxuICBpZiAodXJpLmRiLmluZGV4T2YoJyUnKSA9PT0gLTEpIHtcbiAgICB1cmkuZGIgPSBlbmNvZGVVUklDb21wb25lbnQodXJpLmRiKTtcbiAgfVxuXG4gIHVyaS5wYXRoID0gcGFydHMuam9pbignLycpO1xuXG4gIHJldHVybiB1cmk7XG59XG5cbi8vIEdlbmVyYXRlIGEgVVJMIHdpdGggdGhlIGhvc3QgZGF0YSBnaXZlbiBieSBvcHRzIGFuZCB0aGUgZ2l2ZW4gcGF0aFxuZnVuY3Rpb24gZ2VuREJVcmwob3B0cywgcGF0aCkge1xuICByZXR1cm4gZ2VuVXJsKG9wdHMsIG9wdHMuZGIgKyAnLycgKyBwYXRoKTtcbn1cblxuLy8gR2VuZXJhdGUgYSBVUkwgd2l0aCB0aGUgaG9zdCBkYXRhIGdpdmVuIGJ5IG9wdHMgYW5kIHRoZSBnaXZlbiBwYXRoXG5mdW5jdGlvbiBnZW5Vcmwob3B0cywgcGF0aCkge1xuICAvLyBJZiB0aGUgaG9zdCBhbHJlYWR5IGhhcyBhIHBhdGgsIHRoZW4gd2UgbmVlZCB0byBoYXZlIGEgcGF0aCBkZWxpbWl0ZXJcbiAgLy8gT3RoZXJ3aXNlLCB0aGUgcGF0aCBkZWxpbWl0ZXIgaXMgdGhlIGVtcHR5IHN0cmluZ1xuICB2YXIgcGF0aERlbCA9ICFvcHRzLnBhdGggPyAnJyA6ICcvJztcblxuICAvLyBJZiB0aGUgaG9zdCBhbHJlYWR5IGhhcyBhIHBhdGgsIHRoZW4gd2UgbmVlZCB0byBoYXZlIGEgcGF0aCBkZWxpbWl0ZXJcbiAgLy8gT3RoZXJ3aXNlLCB0aGUgcGF0aCBkZWxpbWl0ZXIgaXMgdGhlIGVtcHR5IHN0cmluZ1xuICByZXR1cm4gb3B0cy5wcm90b2NvbCArICc6Ly8nICsgb3B0cy5ob3N0ICtcbiAgICAgICAgIChvcHRzLnBvcnQgPyAoJzonICsgb3B0cy5wb3J0KSA6ICcnKSArXG4gICAgICAgICAnLycgKyBvcHRzLnBhdGggKyBwYXRoRGVsICsgcGF0aDtcbn1cblxuZnVuY3Rpb24gcGFyYW1zVG9TdHIocGFyYW1zKSB7XG4gIHJldHVybiAnPycgKyBPYmplY3Qua2V5cyhwYXJhbXMpLm1hcChmdW5jdGlvbiAoaykge1xuICAgIHJldHVybiBrICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtc1trXSk7XG4gIH0pLmpvaW4oJyYnKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkQ2FjaGVCdXN0KG9wdHMpIHtcbiAgdmFyIHVhID0gKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQpID9cbiAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSA6ICcnO1xuICB2YXIgaXNJRSA9IHVhLmluZGV4T2YoJ21zaWUnKSAhPT0gLTE7XG4gIHZhciBpc1RyaWRlbnQgPSB1YS5pbmRleE9mKCd0cmlkZW50JykgIT09IC0xO1xuICB2YXIgaXNFZGdlID0gdWEuaW5kZXhPZignZWRnZScpICE9PSAtMTtcbiAgdmFyIGlzR0VUID0gISgnbWV0aG9kJyBpbiBvcHRzKSB8fCBvcHRzLm1ldGhvZCA9PT0gJ0dFVCc7XG4gIHJldHVybiAoaXNJRSB8fCBpc1RyaWRlbnQgfHwgaXNFZGdlKSAmJiBpc0dFVDtcbn1cblxuLy8gSW1wbGVtZW50cyB0aGUgUG91Y2hEQiBBUEkgZm9yIGRlYWxpbmcgd2l0aCBDb3VjaERCIGluc3RhbmNlcyBvdmVyIEhUVFBcbmZ1bmN0aW9uIEh0dHBQb3VjaChvcHRzLCBjYWxsYmFjaykge1xuXG4gIC8vIFRoZSBmdW5jdGlvbnMgdGhhdCB3aWxsIGJlIHB1YmxpY2x5IGF2YWlsYWJsZSBmb3IgSHR0cFBvdWNoXG4gIHZhciBhcGkgPSB0aGlzO1xuXG4gIHZhciBob3N0ID0gZ2V0SG9zdChvcHRzLm5hbWUsIG9wdHMpO1xuICB2YXIgZGJVcmwgPSBnZW5EQlVybChob3N0LCAnJyk7XG5cbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gIHZhciBvdXJGZXRjaCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCBuZXcgaCgpO1xuXG4gICAgb3B0aW9ucy5jcmVkZW50aWFscyA9ICdpbmNsdWRlJztcblxuICAgIGlmIChvcHRzLmF1dGggfHwgaG9zdC5hdXRoKSB7XG4gICAgICB2YXIgbkF1dGggPSBvcHRzLmF1dGggfHwgaG9zdC5hdXRoO1xuICAgICAgdmFyIHN0ciA9IG5BdXRoLnVzZXJuYW1lICsgJzonICsgbkF1dGgucGFzc3dvcmQ7XG4gICAgICB2YXIgdG9rZW4gPSB0aGlzQnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSkpO1xuICAgICAgb3B0aW9ucy5oZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsICdCYXNpYyAnICsgdG9rZW4pO1xuICAgIH1cblxuICAgIHZhciBoZWFkZXJzID0gb3B0cy5oZWFkZXJzIHx8IHt9O1xuICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzLmFwcGVuZChrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgfSk7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2hvdWxkQ2FjaGVCdXN0KG9wdGlvbnMpKSB7XG4gICAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArICdfbm9uY2U9JyArIERhdGUubm93KCk7XG4gICAgfVxuXG4gICAgdmFyIGZldGNoRnVuID0gb3B0cy5mZXRjaCB8fCBmJDE7XG4gICAgcmV0dXJuIGZldGNoRnVuKHVybCwgb3B0aW9ucyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gYWRhcHRlckZ1biQkMShuYW1lLCBmdW4pIHtcbiAgICByZXR1cm4gYWRhcHRlckZ1bihuYW1lLCBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmdW4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICBjYWxsYmFjayhlKTtcbiAgICAgIH0pO1xuICAgIH0pKS5iaW5kKGFwaSk7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaEpTT04odXJsLCBvcHRpb25zLCBjYWxsYmFjaykge1xuXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IG5ldyBoKCk7XG5cbiAgICBpZiAoIW9wdGlvbnMuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpKSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuaGVhZGVycy5nZXQoJ0FjY2VwdCcpKSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuc2V0KCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXJGZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXN1bHQub2sgPSByZXNwb25zZS5vaztcbiAgICAgIHJlc3VsdC5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgIHJlc3VsdC5kYXRhID0ganNvbjtcbiAgICAgIGlmICghcmVzdWx0Lm9rKSB7XG4gICAgICAgIHJlc3VsdC5kYXRhLnN0YXR1cyA9IHJlc3VsdC5zdGF0dXM7XG4gICAgICAgIHZhciBlcnIgPSBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKHJlc3VsdC5kYXRhKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdC5kYXRhKSkge1xuICAgICAgICByZXN1bHQuZGF0YSA9IHJlc3VsdC5kYXRhLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICAgIGlmICh2LmVycm9yIHx8IHYubWlzc2luZykge1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2Uodik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIHNldHVwUHJvbWlzZTtcblxuICBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICBpZiAob3B0cy5za2lwX3NldHVwKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlcmUgaXMgYSBzZXR1cCBpbiBwcm9jZXNzIG9yIHByZXZpb3VzIHN1Y2Nlc3NmdWwgc2V0dXBcbiAgICAvLyBkb25lIHRoZW4gd2Ugd2lsbCB1c2UgdGhhdFxuICAgIC8vIElmIHByZXZpb3VzIHNldHVwcyBoYXZlIGJlZW4gcmVqZWN0ZWQgd2Ugd2lsbCB0cnkgYWdhaW5cbiAgICBpZiAoc2V0dXBQcm9taXNlKSB7XG4gICAgICByZXR1cm4gc2V0dXBQcm9taXNlO1xuICAgIH1cblxuICAgIHNldHVwUHJvbWlzZSA9IGZldGNoSlNPTihkYlVybCkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVyciAmJiBlcnIuc3RhdHVzICYmIGVyci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAvLyBEb2VzbnQgZXhpc3QsIGNyZWF0ZSBpdFxuICAgICAgICBleHBsYWluRXJyb3IoNDA0LCAnUG91Y2hEQiBpcyBqdXN0IGRldGVjdGluZyBpZiB0aGUgcmVtb3RlIGV4aXN0cy4nKTtcbiAgICAgICAgcmV0dXJuIGZldGNoSlNPTihkYlVybCwge21ldGhvZDogJ1BVVCd9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8vIElmIHdlIHRyeSB0byBjcmVhdGUgYSBkYXRhYmFzZSB0aGF0IGFscmVhZHkgZXhpc3RzLCBza2lwcGVkIGluXG4gICAgICAvLyBpc3RhbmJ1bCBzaW5jZSBpdHMgY2F0Y2hpbmcgYSByYWNlIGNvbmRpdGlvbi5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyciAmJiBlcnIuc3RhdHVzICYmIGVyci5zdGF0dXMgPT09IDQxMikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgIH0pO1xuXG4gICAgc2V0dXBQcm9taXNlLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldHVwUHJvbWlzZSA9IG51bGw7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2V0dXBQcm9taXNlO1xuICB9XG5cbiAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICBjYWxsYmFjayhudWxsLCBhcGkpO1xuICB9KTtcblxuICBhcGkuX3JlbW90ZSA9IHRydWU7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgYXBpLnR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdodHRwJztcbiAgfTtcblxuICBhcGkuaWQgPSBhZGFwdGVyRnVuJCQxKCdpZCcsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIG91ckZldGNoKGdlblVybChob3N0LCAnJykpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIC8vIEJhZCByZXNwb25zZSBvciBtaXNzaW5nIGB1dWlkYCBzaG91bGQgbm90IHByZXZlbnQgSUQgZ2VuZXJhdGlvbi5cbiAgICAgIHZhciB1dWlkJCQxID0gKHJlc3VsdCAmJiByZXN1bHQudXVpZCkgP1xuICAgICAgICAgIChyZXN1bHQudXVpZCArIGhvc3QuZGIpIDogZ2VuREJVcmwoaG9zdCwgJycpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgdXVpZCQkMSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIFNlbmRzIGEgUE9TVCByZXF1ZXN0IHRvIHRoZSBob3N0IGNhbGxpbmcgdGhlIGNvdWNoZGIgX2NvbXBhY3QgZnVuY3Rpb25cbiAgLy8gICAgdmVyc2lvbjogVGhlIHZlcnNpb24gb2YgQ291Y2hEQiBpdCBpcyBydW5uaW5nXG4gIGFwaS5jb21wYWN0ID0gYWRhcHRlckZ1biQkMSgnY29tcGFjdCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19jb21wYWN0JyksIHttZXRob2Q6ICdQT1NUJ30pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcGluZygpIHtcbiAgICAgICAgYXBpLmluZm8oZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgICAgLy8gQ291Y2hEQiBtYXkgc2VuZCBhIFwiY29tcGFjdF9ydW5uaW5nOnRydWVcIiBpZiBpdCdzXG4gICAgICAgICAgLy8gYWxyZWFkeSBjb21wYWN0aW5nLiBQb3VjaERCIFNlcnZlciBkb2Vzbid0LlxuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgaWYgKHJlcyAmJiAhcmVzLmNvbXBhY3RfcnVubmluZykge1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwge29rOiB0cnVlfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocGluZywgb3B0cy5pbnRlcnZhbCB8fCAyMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBQaW5nIHRoZSBodHRwIGlmIGl0J3MgZmluaXNoZWQgY29tcGFjdGlvblxuICAgICAgcGluZygpO1xuICAgIH0pO1xuICB9KTtcblxuICBhcGkuYnVsa0dldCA9IGFkYXB0ZXJGdW4oJ2J1bGtHZXQnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBkb0J1bGtHZXQoY2IpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7fTtcbiAgICAgIGlmIChvcHRzLnJldnMpIHtcbiAgICAgICAgcGFyYW1zLnJldnMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgcGFyYW1zLmF0dGFjaG1lbnRzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmxhdGVzdCkge1xuICAgICAgICBwYXJhbXMubGF0ZXN0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2J1bGtfZ2V0JyArIHBhcmFtc1RvU3RyKHBhcmFtcykpLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGRvY3M6IG9wdHMuZG9jc30pXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5iaW5hcnkpIHtcbiAgICAgICAgICByZXN1bHQuZGF0YS5yZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgcmVzLmRvY3MuZm9yRWFjaChyZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2IobnVsbCwgcmVzdWx0LmRhdGEpO1xuICAgICAgfSkuY2F0Y2goY2IpO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZnVuY3Rpb24gZG9CdWxrR2V0U2hpbSgpIHtcbiAgICAgIC8vIGF2b2lkIFwidXJsIHRvbyBsb25nIGVycm9yXCIgYnkgc3BsaXR0aW5nIHVwIGludG8gbXVsdGlwbGUgcmVxdWVzdHNcbiAgICAgIHZhciBiYXRjaFNpemUgPSBNQVhfU0lNVUxUQU5FT1VTX1JFVlM7XG4gICAgICB2YXIgbnVtQmF0Y2hlcyA9IE1hdGguY2VpbChvcHRzLmRvY3MubGVuZ3RoIC8gYmF0Y2hTaXplKTtcbiAgICAgIHZhciBudW1Eb25lID0gMDtcbiAgICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KG51bUJhdGNoZXMpO1xuXG4gICAgICBmdW5jdGlvbiBvblJlc3VsdChiYXRjaE51bSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgICAgLy8gZXJyIGlzIGltcG9zc2libGUgYmVjYXVzZSBzaGltIHJldHVybnMgYSBsaXN0IG9mIGVycnMgaW4gdGhhdCBjYXNlXG4gICAgICAgICAgcmVzdWx0c1tiYXRjaE51bV0gPSByZXMucmVzdWx0cztcbiAgICAgICAgICBpZiAoKytudW1Eb25lID09PSBudW1CYXRjaGVzKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCB7cmVzdWx0czogZmxhdHRlbihyZXN1bHRzKX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1CYXRjaGVzOyBpKyspIHtcbiAgICAgICAgdmFyIHN1Yk9wdHMgPSBwaWNrKG9wdHMsIFsncmV2cycsICdhdHRhY2htZW50cycsICdiaW5hcnknLCAnbGF0ZXN0J10pO1xuICAgICAgICBzdWJPcHRzLmRvY3MgPSBvcHRzLmRvY3Muc2xpY2UoaSAqIGJhdGNoU2l6ZSxcbiAgICAgICAgICBNYXRoLm1pbihvcHRzLmRvY3MubGVuZ3RoLCAoaSArIDEpICogYmF0Y2hTaXplKSk7XG4gICAgICAgIGJ1bGtHZXQoc2VsZiwgc3ViT3B0cywgb25SZXN1bHQoaSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG1hcmsgdGhlIHdob2xlIGRhdGFiYXNlIGFzIGVpdGhlciBzdXBwb3J0aW5nIG9yIG5vdCBzdXBwb3J0aW5nIF9idWxrX2dldFxuICAgIHZhciBkYlVybCA9IGdlblVybChob3N0LCAnJyk7XG4gICAgdmFyIHN1cHBvcnRzQnVsa0dldCA9IHN1cHBvcnRzQnVsa0dldE1hcFtkYlVybF07XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0eXBlb2Ygc3VwcG9ydHNCdWxrR2V0ICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIC8vIGNoZWNrIGlmIHRoaXMgZGF0YWJhc2Ugc3VwcG9ydHMgX2J1bGtfZ2V0XG4gICAgICBkb0J1bGtHZXQoZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBzdXBwb3J0c0J1bGtHZXRNYXBbZGJVcmxdID0gZmFsc2U7XG4gICAgICAgICAgZXhwbGFpbkVycm9yKFxuICAgICAgICAgICAgZXJyLnN0YXR1cyxcbiAgICAgICAgICAgICdQb3VjaERCIGlzIGp1c3QgZGV0ZWN0aW5nIGlmIHRoZSByZW1vdGUgJyArXG4gICAgICAgICAgICAnc3VwcG9ydHMgdGhlIF9idWxrX2dldCBBUEkuJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgZG9CdWxrR2V0U2hpbSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1cHBvcnRzQnVsa0dldE1hcFtkYlVybF0gPSB0cnVlO1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoc3VwcG9ydHNCdWxrR2V0KSB7XG4gICAgICBkb0J1bGtHZXQoY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb0J1bGtHZXRTaGltKCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBDYWxscyBHRVQgb24gdGhlIGhvc3QsIHdoaWNoIGdldHMgYmFjayBhIEpTT04gc3RyaW5nIGNvbnRhaW5pbmdcbiAgLy8gICAgY291Y2hkYjogQSB3ZWxjb21lIHN0cmluZ1xuICAvLyAgICB2ZXJzaW9uOiBUaGUgdmVyc2lvbiBvZiBDb3VjaERCIGl0IGlzIHJ1bm5pbmdcbiAgYXBpLl9pbmZvID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvdXJGZXRjaChnZW5EQlVybChob3N0LCAnJykpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgIGluZm8uaG9zdCA9IGdlbkRCVXJsKGhvc3QsICcnKTtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGluZm8pO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgfTtcblxuICBhcGkuZmV0Y2ggPSBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgIHJldHVybiBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHVybCA9IHBhdGguc3Vic3RyaW5nKDAsIDEpID09PSAnLycgP1xuICAgICAgICBnZW5VcmwoaG9zdCwgcGF0aC5zdWJzdHJpbmcoMSkpIDpcbiAgICAgICAgZ2VuREJVcmwoaG9zdCwgcGF0aCk7XG4gICAgICByZXR1cm4gb3VyRmV0Y2godXJsLCBvcHRpb25zKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIGRvY3VtZW50IHdpdGggdGhlIGdpdmVuIGlkIGZyb20gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIC8vIFRoZSBpZCBjb3VsZCBiZSBzb2xlbHkgdGhlIF9pZCBpbiB0aGUgZGF0YWJhc2UsIG9yIGl0IG1heSBiZSBhXG4gIC8vIF9kZXNpZ24vSUQgb3IgX2xvY2FsL0lEIHBhdGhcbiAgYXBpLmdldCA9IGFkYXB0ZXJGdW4kJDEoJ2dldCcsIGZ1bmN0aW9uIChpZCwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAvLyBJZiBubyBvcHRpb25zIHdlcmUgZ2l2ZW4sIHNldCB0aGUgY2FsbGJhY2sgdG8gdGhlIHNlY29uZCBwYXJhbWV0ZXJcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgLy8gTGlzdCBvZiBwYXJhbWV0ZXJzIHRvIGFkZCB0byB0aGUgR0VUIHJlcXVlc3RcbiAgICB2YXIgcGFyYW1zID0ge307XG5cbiAgICBpZiAob3B0cy5yZXZzKSB7XG4gICAgICBwYXJhbXMucmV2cyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMucmV2c19pbmZvKSB7XG4gICAgICBwYXJhbXMucmV2c19pbmZvID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5sYXRlc3QpIHtcbiAgICAgIHBhcmFtcy5sYXRlc3QgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLm9wZW5fcmV2cykge1xuICAgICAgaWYgKG9wdHMub3Blbl9yZXZzICE9PSBcImFsbFwiKSB7XG4gICAgICAgIG9wdHMub3Blbl9yZXZzID0gSlNPTi5zdHJpbmdpZnkob3B0cy5vcGVuX3JldnMpO1xuICAgICAgfVxuICAgICAgcGFyYW1zLm9wZW5fcmV2cyA9IG9wdHMub3Blbl9yZXZzO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnJldikge1xuICAgICAgcGFyYW1zLnJldiA9IG9wdHMucmV2O1xuICAgIH1cblxuICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgcGFyYW1zLmNvbmZsaWN0cyA9IG9wdHMuY29uZmxpY3RzO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgIHBhcmFtcy51cGRhdGVfc2VxID0gb3B0cy51cGRhdGVfc2VxO1xuICAgIH1cblxuICAgIGlkID0gZW5jb2RlRG9jSWQoaWQpO1xuXG4gICAgZnVuY3Rpb24gZmV0Y2hBdHRhY2htZW50cyhkb2MpIHtcbiAgICAgIHZhciBhdHRzID0gZG9jLl9hdHRhY2htZW50cztcbiAgICAgIHZhciBmaWxlbmFtZXMgPSBhdHRzICYmIE9iamVjdC5rZXlzKGF0dHMpO1xuICAgICAgaWYgKCFhdHRzIHx8ICFmaWxlbmFtZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIHdlIGZldGNoIHRoZXNlIG1hbnVhbGx5IGluIHNlcGFyYXRlIFhIUnMsIGJlY2F1c2VcbiAgICAgIC8vIFN5bmMgR2F0ZXdheSB3b3VsZCBub3JtYWxseSBzZW5kIGl0IGJhY2sgYXMgbXVsdGlwYXJ0L21peGVkLFxuICAgICAgLy8gd2hpY2ggd2UgY2Fubm90IHBhcnNlLiBBbHNvLCB0aGlzIGlzIG1vcmUgZWZmaWNpZW50IHRoYW5cbiAgICAgIC8vIHJlY2VpdmluZyBhdHRhY2htZW50cyBhcyBiYXNlNjQtZW5jb2RlZCBzdHJpbmdzLlxuICAgICAgZnVuY3Rpb24gZmV0Y2hEYXRhKGZpbGVuYW1lKSB7XG4gICAgICAgIHZhciBhdHQgPSBhdHRzW2ZpbGVuYW1lXTtcbiAgICAgICAgdmFyIHBhdGggPSBlbmNvZGVEb2NJZChkb2MuX2lkKSArICcvJyArIGVuY29kZUF0dGFjaG1lbnRJZChmaWxlbmFtZSkgK1xuICAgICAgICAgICAgJz9yZXY9JyArIGRvYy5fcmV2O1xuICAgICAgICByZXR1cm4gb3VyRmV0Y2goZ2VuREJVcmwoaG9zdCwgcGF0aCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKCdidWZmZXInIGluIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYnVmZmVyKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoYmxvYikge1xuICAgICAgICAgIGlmIChvcHRzLmJpbmFyeSkge1xuICAgICAgICAgICAgdmFyIHR5cGVGaWVsZERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJsb2IuX19wcm90b19fLCAndHlwZScpO1xuICAgICAgICAgICAgaWYgKCF0eXBlRmllbGREZXNjcmlwdG9yIHx8IHR5cGVGaWVsZERlc2NyaXB0b3Iuc2V0KSB7XG4gICAgICAgICAgICAgIGJsb2IudHlwZSA9IGF0dC5jb250ZW50X3R5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYmxvYjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBibG9iVG9CYXNlNjQoYmxvYiwgcmVzb2x2ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICBkZWxldGUgYXR0LnN0dWI7XG4gICAgICAgICAgZGVsZXRlIGF0dC5sZW5ndGg7XG4gICAgICAgICAgYXR0LmRhdGEgPSBkYXRhO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb21pc2VGYWN0b3JpZXMgPSBmaWxlbmFtZXMubWFwKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBmZXRjaERhdGEoZmlsZW5hbWUpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFRoaXMgbGltaXRzIHRoZSBudW1iZXIgb2YgcGFyYWxsZWwgeGhyIHJlcXVlc3RzIHRvIDUgYW55IHRpbWVcbiAgICAgIC8vIHRvIGF2b2lkIGlzc3VlcyB3aXRoIG1heGltdW0gYnJvd3NlciByZXF1ZXN0IGxpbWl0c1xuICAgICAgcmV0dXJuIHBvb2wocHJvbWlzZUZhY3RvcmllcywgNSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmV0Y2hBbGxBdHRhY2htZW50cyhkb2NPckRvY3MpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRvY09yRG9jcykpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGRvY09yRG9jcy5tYXAoZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgIGlmIChkb2Mub2spIHtcbiAgICAgICAgICAgIHJldHVybiBmZXRjaEF0dGFjaG1lbnRzKGRvYy5vayk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmV0Y2hBdHRhY2htZW50cyhkb2NPckRvY3MpO1xuICAgIH1cblxuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBpZCArIHBhcmFtc1RvU3RyKHBhcmFtcykpO1xuICAgIGZldGNoSlNPTih1cmwpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgICAgIHJldHVybiBmZXRjaEFsbEF0dGFjaG1lbnRzKHJlcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcy5kYXRhKTtcbiAgICAgIH0pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLmRvY0lkID0gaWQ7XG4gICAgICBjYWxsYmFjayhlKTtcbiAgICB9KTtcbiAgfSk7XG5cblxuICAvLyBEZWxldGUgdGhlIGRvY3VtZW50IGdpdmVuIGJ5IGRvYyBmcm9tIHRoZSBkYXRhYmFzZSBnaXZlbiBieSBob3N0LlxuICBhcGkucmVtb3ZlID0gYWRhcHRlckZ1biQkMSgncmVtb3ZlJywgZnVuY3Rpb24gKGRvY09ySWQsIG9wdHNPclJldiwgb3B0cywgY2IpIHtcbiAgICB2YXIgZG9jO1xuICAgIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gaWQsIHJldiwgb3B0cywgY2FsbGJhY2sgc3R5bGVcbiAgICAgIGRvYyA9IHtcbiAgICAgICAgX2lkOiBkb2NPcklkLFxuICAgICAgICBfcmV2OiBvcHRzT3JSZXZcbiAgICAgIH07XG4gICAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2IgPSBvcHRzO1xuICAgICAgICBvcHRzID0ge307XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRvYywgb3B0cywgY2FsbGJhY2sgc3R5bGVcbiAgICAgIGRvYyA9IGRvY09ySWQ7XG4gICAgICBpZiAodHlwZW9mIG9wdHNPclJldiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYiA9IG9wdHNPclJldjtcbiAgICAgICAgb3B0cyA9IHt9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2IgPSBvcHRzO1xuICAgICAgICBvcHRzID0gb3B0c09yUmV2O1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByZXYgPSAoZG9jLl9yZXYgfHwgb3B0cy5yZXYpO1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBlbmNvZGVEb2NJZChkb2MuX2lkKSkgKyAnP3Jldj0nICsgcmV2O1xuXG4gICAgZmV0Y2hKU09OKHVybCwge21ldGhvZDogJ0RFTEVURSd9LCBjYikuY2F0Y2goY2IpO1xuICB9KTtcblxuICBmdW5jdGlvbiBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKSB7XG4gICAgcmV0dXJuIGF0dGFjaG1lbnRJZC5zcGxpdChcIi9cIikubWFwKGVuY29kZVVSSUNvbXBvbmVudCkuam9pbihcIi9cIik7XG4gIH1cblxuICAvLyBHZXQgdGhlIGF0dGFjaG1lbnRcbiAgYXBpLmdldEF0dGFjaG1lbnQgPSBhZGFwdGVyRnVuJCQxKCdnZXRBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICB2YXIgcGFyYW1zID0gb3B0cy5yZXYgPyAoJz9yZXY9JyArIG9wdHMucmV2KSA6ICcnO1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBlbmNvZGVEb2NJZChkb2NJZCkpICsgJy8nICtcbiAgICAgICAgZW5jb2RlQXR0YWNobWVudElkKGF0dGFjaG1lbnRJZCkgKyBwYXJhbXM7XG4gICAgdmFyIGNvbnRlbnRUeXBlO1xuICAgIG91ckZldGNoKHVybCwge21ldGhvZDogJ0dFVCd9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IHJlc3BvbnNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAhcHJvY2Vzcy5icm93c2VyICYmIHR5cGVvZiByZXNwb25zZS5idWZmZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYnVmZmVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkudGhlbihmdW5jdGlvbiAoYmxvYikge1xuICAgICAgLy8gVE9ETzogYWxzbyByZW1vdmVcbiAgICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgIXByb2Nlc3MuYnJvd3Nlcikge1xuICAgICAgICBibG9iLnR5cGUgPSBjb250ZW50VHlwZTtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKG51bGwsIGJsb2IpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIFJlbW92ZSB0aGUgYXR0YWNobWVudCBnaXZlbiBieSB0aGUgaWQgYW5kIHJldlxuICBhcGkucmVtb3ZlQXR0YWNobWVudCA9ICBhZGFwdGVyRnVuJCQxKCdyZW1vdmVBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2spIHtcbiAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgZW5jb2RlRG9jSWQoZG9jSWQpICsgJy8nICtcbiAgICAgICAgICAgICAgICAgICAgICAgZW5jb2RlQXR0YWNobWVudElkKGF0dGFjaG1lbnRJZCkpICsgJz9yZXY9JyArIHJldjtcbiAgICBmZXRjaEpTT04odXJsLCB7bWV0aG9kOiAnREVMRVRFJ30sIGNhbGxiYWNrKS5jYXRjaChjYWxsYmFjayk7XG4gIH0pO1xuXG4gIC8vIEFkZCB0aGUgYXR0YWNobWVudCBnaXZlbiBieSBibG9iIGFuZCBpdHMgY29udGVudFR5cGUgcHJvcGVydHlcbiAgLy8gdG8gdGhlIGRvY3VtZW50IHdpdGggdGhlIGdpdmVuIGlkLCB0aGUgcmV2aXNpb24gZ2l2ZW4gYnkgcmV2LCBhbmRcbiAgLy8gYWRkIGl0IHRvIHRoZSBkYXRhYmFzZSBnaXZlbiBieSBob3N0LlxuICBhcGkucHV0QXR0YWNobWVudCA9IGFkYXB0ZXJGdW4kJDEoJ3B1dEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldiwgYmxvYixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IHR5cGU7XG4gICAgICB0eXBlID0gYmxvYjtcbiAgICAgIGJsb2IgPSByZXY7XG4gICAgICByZXYgPSBudWxsO1xuICAgIH1cbiAgICB2YXIgaWQgPSBlbmNvZGVEb2NJZChkb2NJZCkgKyAnLycgKyBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKTtcbiAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgaWQpO1xuICAgIGlmIChyZXYpIHtcbiAgICAgIHVybCArPSAnP3Jldj0nICsgcmV2O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYmxvYiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGlucHV0IGlzIGFzc3VtZWQgdG8gYmUgYSBiYXNlNjQgc3RyaW5nXG4gICAgICB2YXIgYmluYXJ5O1xuICAgICAgdHJ5IHtcbiAgICAgICAgYmluYXJ5ID0gdGhpc0F0b2IoYmxvYik7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKEJBRF9BUkcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnQXR0YWNobWVudCBpcyBub3QgYSB2YWxpZCBiYXNlNjQgc3RyaW5nJykpO1xuICAgICAgfVxuICAgICAgYmxvYiA9IGJpbmFyeSA/IGJpblN0cmluZ1RvQmx1ZmZlcihiaW5hcnksIHR5cGUpIDogJyc7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBhdHRhY2htZW50XG4gICAgZmV0Y2hKU09OKHVybCwge1xuICAgICAgaGVhZGVyczogbmV3IGgoeydDb250ZW50LVR5cGUnOiB0eXBlfSksXG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgYm9keTogYmxvYlxuICAgIH0sIGNhbGxiYWNrKS5jYXRjaChjYWxsYmFjayk7XG4gIH0pO1xuXG4gIC8vIFVwZGF0ZS9jcmVhdGUgbXVsdGlwbGUgZG9jdW1lbnRzIGdpdmVuIGJ5IHJlcSBpbiB0aGUgZGF0YWJhc2VcbiAgLy8gZ2l2ZW4gYnkgaG9zdC5cbiAgYXBpLl9idWxrRG9jcyA9IGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgLy8gSWYgbmV3X2VkaXRzPWZhbHNlIHRoZW4gaXQgcHJldmVudHMgdGhlIGRhdGFiYXNlIGZyb20gY3JlYXRpbmdcbiAgICAvLyBuZXcgcmV2aXNpb24gbnVtYmVycyBmb3IgdGhlIGRvY3VtZW50cy4gSW5zdGVhZCBpdCBqdXN0IHVzZXNcbiAgICAvLyB0aGUgb2xkIG9uZXMuIFRoaXMgaXMgdXNlZCBpbiBkYXRhYmFzZSByZXBsaWNhdGlvbi5cbiAgICByZXEubmV3X2VkaXRzID0gb3B0cy5uZXdfZWRpdHM7XG5cbiAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHJlcS5kb2NzLm1hcChwcmVwcm9jZXNzQXR0YWNobWVudHMkMSkpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgLy8gVXBkYXRlL2NyZWF0ZSB0aGUgZG9jdW1lbnRzXG4gICAgICByZXR1cm4gZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfYnVsa19kb2NzJyksIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcSlcbiAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gIH07XG5cblxuICAvLyBVcGRhdGUvY3JlYXRlIGRvY3VtZW50XG4gIGFwaS5fcHV0ID0gZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHByZXByb2Nlc3NBdHRhY2htZW50cyQxKGRvYyk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvYy5faWQpKSwge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkb2MpXG4gICAgICB9KTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdC5kYXRhKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBlcnIuZG9jSWQgPSBkb2MgJiYgZG9jLl9pZDtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gIH07XG5cblxuICAvLyBHZXQgYSBsaXN0aW5nIG9mIHRoZSBkb2N1bWVudHMgaW4gdGhlIGRhdGFiYXNlIGdpdmVuXG4gIC8vIGJ5IGhvc3QgYW5kIG9yZGVyZWQgYnkgaW5jcmVhc2luZyBpZC5cbiAgYXBpLmFsbERvY3MgPSBhZGFwdGVyRnVuJCQxKCdhbGxEb2NzJywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICAgIC8vIExpc3Qgb2YgcGFyYW1ldGVycyB0byBhZGQgdG8gdGhlIEdFVCByZXF1ZXN0XG4gICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgIHZhciBib2R5O1xuICAgIHZhciBtZXRob2QgPSAnR0VUJztcblxuICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgcGFyYW1zLmNvbmZsaWN0cyA9IHRydWU7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgcGFyYW1zLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgIHBhcmFtcy5kZXNjZW5kaW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgIHBhcmFtcy5pbmNsdWRlX2RvY3MgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIGFkZGVkIGluIENvdWNoREIgMS42LjBcbiAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgcGFyYW1zLmF0dGFjaG1lbnRzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5rZXkpIHtcbiAgICAgIHBhcmFtcy5rZXkgPSBKU09OLnN0cmluZ2lmeShvcHRzLmtleSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuc3RhcnRfa2V5KSB7XG4gICAgICBvcHRzLnN0YXJ0a2V5ID0gb3B0cy5zdGFydF9rZXk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuc3RhcnRrZXkpIHtcbiAgICAgIHBhcmFtcy5zdGFydGtleSA9IEpTT04uc3RyaW5naWZ5KG9wdHMuc3RhcnRrZXkpO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmVuZF9rZXkpIHtcbiAgICAgIG9wdHMuZW5ka2V5ID0gb3B0cy5lbmRfa2V5O1xuICAgIH1cblxuICAgIGlmIChvcHRzLmVuZGtleSkge1xuICAgICAgcGFyYW1zLmVuZGtleSA9IEpTT04uc3RyaW5naWZ5KG9wdHMuZW5ka2V5KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMuaW5jbHVzaXZlX2VuZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmFtcy5pbmNsdXNpdmVfZW5kID0gISFvcHRzLmluY2x1c2l2ZV9lbmQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmxpbWl0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLmxpbWl0ID0gb3B0cy5saW1pdDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMuc2tpcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmFtcy5za2lwID0gb3B0cy5za2lwO1xuICAgIH1cblxuICAgIHZhciBwYXJhbVN0ciA9IHBhcmFtc1RvU3RyKHBhcmFtcyk7XG5cbiAgICBpZiAodHlwZW9mIG9wdHMua2V5cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIGJvZHkgPSB7a2V5czogb3B0cy5rZXlzfTtcbiAgICB9XG5cbiAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19hbGxfZG9jcycgKyBwYXJhbVN0ciksIHtcbiAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MgJiYgb3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmJpbmFyeSkge1xuICAgICAgICByZXN1bHQuZGF0YS5yb3dzLmZvckVhY2gocmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIpO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0LmRhdGEpO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgLy8gR2V0IGEgbGlzdCBvZiBjaGFuZ2VzIG1hZGUgdG8gZG9jdW1lbnRzIGluIHRoZSBkYXRhYmFzZSBnaXZlbiBieSBob3N0LlxuICAvLyBUT0RPIEFjY29yZGluZyB0byB0aGUgUkVBRE1FLCB0aGVyZSBzaG91bGQgYmUgdHdvIG90aGVyIG1ldGhvZHMgaGVyZSxcbiAgLy8gYXBpLmNoYW5nZXMuYWRkTGlzdGVuZXIgYW5kIGFwaS5jaGFuZ2VzLnJlbW92ZUxpc3RlbmVyLlxuICBhcGkuX2NoYW5nZXMgPSBmdW5jdGlvbiAob3B0cykge1xuXG4gICAgLy8gV2UgaW50ZXJuYWxseSBwYWdlIHRoZSByZXN1bHRzIG9mIGEgY2hhbmdlcyByZXF1ZXN0LCB0aGlzIG1lYW5zXG4gICAgLy8gaWYgdGhlcmUgaXMgYSBsYXJnZSBzZXQgb2YgY2hhbmdlcyB0byBiZSByZXR1cm5lZCB3ZSBjYW4gc3RhcnRcbiAgICAvLyBwcm9jZXNzaW5nIHRoZW0gcXVpY2tlciBpbnN0ZWFkIG9mIHdhaXRpbmcgb24gdGhlIGVudGlyZVxuICAgIC8vIHNldCBvZiBjaGFuZ2VzIHRvIHJldHVybiBhbmQgYXR0ZW1wdGluZyB0byBwcm9jZXNzIHRoZW0gYXQgb25jZVxuICAgIHZhciBiYXRjaFNpemUgPSAnYmF0Y2hfc2l6ZScgaW4gb3B0cyA/IG9wdHMuYmF0Y2hfc2l6ZSA6IENIQU5HRVNfQkFUQ0hfU0laRTtcblxuICAgIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICAgIGlmIChvcHRzLmNvbnRpbnVvdXMgJiYgISgnaGVhcnRiZWF0JyBpbiBvcHRzKSkge1xuICAgICAgb3B0cy5oZWFydGJlYXQgPSBERUZBVUxUX0hFQVJUQkVBVDtcbiAgICB9XG5cbiAgICB2YXIgcmVxdWVzdFRpbWVvdXQgPSAoJ3RpbWVvdXQnIGluIG9wdHMpID8gb3B0cy50aW1lb3V0IDogMzAgKiAxMDAwO1xuXG4gICAgLy8gZW5zdXJlIENIQU5HRVNfVElNRU9VVF9CVUZGRVIgYXBwbGllc1xuICAgIGlmICgndGltZW91dCcgaW4gb3B0cyAmJiBvcHRzLnRpbWVvdXQgJiZcbiAgICAgIChyZXF1ZXN0VGltZW91dCAtIG9wdHMudGltZW91dCkgPCBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSKSB7XG4gICAgICAgIHJlcXVlc3RUaW1lb3V0ID0gb3B0cy50aW1lb3V0ICsgQ0hBTkdFU19USU1FT1VUX0JVRkZFUjtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoJ2hlYXJ0YmVhdCcgaW4gb3B0cyAmJiBvcHRzLmhlYXJ0YmVhdCAmJlxuICAgICAgIChyZXF1ZXN0VGltZW91dCAtIG9wdHMuaGVhcnRiZWF0KSA8IENIQU5HRVNfVElNRU9VVF9CVUZGRVIpIHtcbiAgICAgICAgcmVxdWVzdFRpbWVvdXQgPSBvcHRzLmhlYXJ0YmVhdCArIENIQU5HRVNfVElNRU9VVF9CVUZGRVI7XG4gICAgfVxuXG4gICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgIGlmICgndGltZW91dCcgaW4gb3B0cyAmJiBvcHRzLnRpbWVvdXQpIHtcbiAgICAgIHBhcmFtcy50aW1lb3V0ID0gb3B0cy50aW1lb3V0O1xuICAgIH1cblxuICAgIHZhciBsaW1pdCA9ICh0eXBlb2Ygb3B0cy5saW1pdCAhPT0gJ3VuZGVmaW5lZCcpID8gb3B0cy5saW1pdCA6IGZhbHNlO1xuICAgIHZhciBsZWZ0VG9GZXRjaCA9IGxpbWl0O1xuXG4gICAgaWYgKG9wdHMuc3R5bGUpIHtcbiAgICAgIHBhcmFtcy5zdHlsZSA9IG9wdHMuc3R5bGU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzIHx8IG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcGFyYW1zLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIHBhcmFtcy5hdHRhY2htZW50cyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuY29udGludW91cykge1xuICAgICAgcGFyYW1zLmZlZWQgPSAnbG9uZ3BvbGwnO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnNlcV9pbnRlcnZhbCkge1xuICAgICAgcGFyYW1zLnNlcV9pbnRlcnZhbCA9IG9wdHMuc2VxX2ludGVydmFsO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgcGFyYW1zLmNvbmZsaWN0cyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgcGFyYW1zLmRlc2NlbmRpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgIHBhcmFtcy51cGRhdGVfc2VxID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoJ2hlYXJ0YmVhdCcgaW4gb3B0cykge1xuICAgICAgLy8gSWYgdGhlIGhlYXJ0YmVhdCB2YWx1ZSBpcyBmYWxzZSwgaXQgZGlzYWJsZXMgdGhlIGRlZmF1bHQgaGVhcnRiZWF0XG4gICAgICBpZiAob3B0cy5oZWFydGJlYXQpIHtcbiAgICAgICAgcGFyYW1zLmhlYXJ0YmVhdCA9IG9wdHMuaGVhcnRiZWF0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICBwYXJhbXMuZmlsdGVyID0gb3B0cy5maWx0ZXI7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMudmlldyAmJiB0eXBlb2Ygb3B0cy52aWV3ID09PSAnc3RyaW5nJykge1xuICAgICAgcGFyYW1zLmZpbHRlciA9ICdfdmlldyc7XG4gICAgICBwYXJhbXMudmlldyA9IG9wdHMudmlldztcbiAgICB9XG5cbiAgICAvLyBJZiBvcHRzLnF1ZXJ5X3BhcmFtcyBleGlzdHMsIHBhc3MgaXQgdGhyb3VnaCB0byB0aGUgY2hhbmdlcyByZXF1ZXN0LlxuICAgIC8vIFRoZXNlIHBhcmFtZXRlcnMgbWF5IGJlIHVzZWQgYnkgdGhlIGZpbHRlciBvbiB0aGUgc291cmNlIGRhdGFiYXNlLlxuICAgIGlmIChvcHRzLnF1ZXJ5X3BhcmFtcyAmJiB0eXBlb2Ygb3B0cy5xdWVyeV9wYXJhbXMgPT09ICdvYmplY3QnKSB7XG4gICAgICBmb3IgKHZhciBwYXJhbV9uYW1lIGluIG9wdHMucXVlcnlfcGFyYW1zKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0cy5xdWVyeV9wYXJhbXMsIHBhcmFtX25hbWUpKSB7XG4gICAgICAgICAgcGFyYW1zW3BhcmFtX25hbWVdID0gb3B0cy5xdWVyeV9wYXJhbXNbcGFyYW1fbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbWV0aG9kID0gJ0dFVCc7XG4gICAgdmFyIGJvZHk7XG5cbiAgICBpZiAob3B0cy5kb2NfaWRzKSB7XG4gICAgICAvLyBzZXQgdGhpcyBhdXRvbWFnaWNhbGx5IGZvciB0aGUgdXNlcjsgaXQncyBhbm5veWluZyB0aGF0IGNvdWNoZGJcbiAgICAgIC8vIHJlcXVpcmVzIGJvdGggYSBcImZpbHRlclwiIGFuZCBhIFwiZG9jX2lkc1wiIHBhcmFtLlxuICAgICAgcGFyYW1zLmZpbHRlciA9ICdfZG9jX2lkcyc7XG4gICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICBib2R5ID0ge2RvY19pZHM6IG9wdHMuZG9jX2lkcyB9O1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGVsc2UgaWYgKG9wdHMuc2VsZWN0b3IpIHtcbiAgICAgIC8vIHNldCB0aGlzIGF1dG9tYWdpY2FsbHkgZm9yIHRoZSB1c2VyLCBzaW1pbGFyIHRvIGFib3ZlXG4gICAgICBwYXJhbXMuZmlsdGVyID0gJ19zZWxlY3Rvcic7XG4gICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICBib2R5ID0ge3NlbGVjdG9yOiBvcHRzLnNlbGVjdG9yIH07XG4gICAgfVxuXG4gICAgdmFyIGNvbnRyb2xsZXIgPSBuZXcgYSgpO1xuICAgIHZhciBsYXN0RmV0Y2hlZFNlcTtcblxuICAgIC8vIEdldCBhbGwgdGhlIGNoYW5nZXMgc3RhcnRpbmcgd3RpaCB0aGUgb25lIGltbWVkaWF0ZWx5IGFmdGVyIHRoZVxuICAgIC8vIHNlcXVlbmNlIG51bWJlciBnaXZlbiBieSBzaW5jZS5cbiAgICB2YXIgZmV0Y2hEYXRhID0gZnVuY3Rpb24gKHNpbmNlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKG9wdHMuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXJhbXMuc2luY2UgPSBzaW5jZTtcbiAgICAgIC8vIFwic2luY2VcIiBjYW4gYmUgYW55IGtpbmQgb2YganNvbiBvYmplY3QgaW4gQ2xvdWRhbnQvQ291Y2hEQiAyLnhcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAodHlwZW9mIHBhcmFtcy5zaW5jZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBwYXJhbXMuc2luY2UgPSBKU09OLnN0cmluZ2lmeShwYXJhbXMuc2luY2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICAgIGlmIChsaW1pdCkge1xuICAgICAgICAgIHBhcmFtcy5saW1pdCA9IGxlZnRUb0ZldGNoO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbXMubGltaXQgPSAoIWxpbWl0IHx8IGxlZnRUb0ZldGNoID4gYmF0Y2hTaXplKSA/XG4gICAgICAgICAgYmF0Y2hTaXplIDogbGVmdFRvRmV0Y2g7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCB0aGUgb3B0aW9ucyBmb3IgdGhlIGFqYXggY2FsbFxuICAgICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsICdfY2hhbmdlcycgKyBwYXJhbXNUb1N0cihwYXJhbXMpKTtcbiAgICAgIHZhciBmZXRjaE9wdHMgPSB7XG4gICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgICAgfTtcbiAgICAgIGxhc3RGZXRjaGVkU2VxID0gc2luY2U7XG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKG9wdHMuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgY2hhbmdlc1xuICAgICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoSlNPTih1cmwsIGZldGNoT3B0cywgY2FsbGJhY2spO1xuICAgICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICAvLyBJZiBvcHRzLnNpbmNlIGV4aXN0cywgZ2V0IGFsbCB0aGUgY2hhbmdlcyBmcm9tIHRoZSBzZXF1ZW5jZVxuICAgIC8vIG51bWJlciBnaXZlbiBieSBvcHRzLnNpbmNlLiBPdGhlcndpc2UsIGdldCBhbGwgdGhlIGNoYW5nZXNcbiAgICAvLyBmcm9tIHRoZSBzZXF1ZW5jZSBudW1iZXIgMC5cbiAgICB2YXIgcmVzdWx0cyA9IHtyZXN1bHRzOiBbXX07XG5cbiAgICB2YXIgZmV0Y2hlZCA9IGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgaWYgKG9wdHMuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgcmF3X3Jlc3VsdHNfbGVuZ3RoID0gMDtcbiAgICAgIC8vIElmIHRoZSByZXN1bHQgb2YgdGhlIGFqYXggY2FsbCAocmVzKSBjb250YWlucyBjaGFuZ2VzIChyZXMucmVzdWx0cylcbiAgICAgIGlmIChyZXMgJiYgcmVzLnJlc3VsdHMpIHtcbiAgICAgICAgcmF3X3Jlc3VsdHNfbGVuZ3RoID0gcmVzLnJlc3VsdHMubGVuZ3RoO1xuICAgICAgICByZXN1bHRzLmxhc3Rfc2VxID0gcmVzLmxhc3Rfc2VxO1xuICAgICAgICB2YXIgcGVuZGluZyA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0U2VxID0gbnVsbDtcbiAgICAgICAgLy8gQXR0YWNoICdwZW5kaW5nJyBwcm9wZXJ0eSBpZiBzZXJ2ZXIgc3VwcG9ydHMgaXQgKENvdWNoREIgMi4wKylcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICh0eXBlb2YgcmVzLnBlbmRpbmcgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgcGVuZGluZyA9IHJlcy5wZW5kaW5nO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0cy5sYXN0X3NlcSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHJlc3VsdHMubGFzdF9zZXEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgbGFzdFNlcSA9IHJlc3VsdHMubGFzdF9zZXE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIGVhY2ggY2hhbmdlXG4gICAgICAgIHZhciByZXEgPSB7fTtcbiAgICAgICAgcmVxLnF1ZXJ5ID0gb3B0cy5xdWVyeV9wYXJhbXM7XG4gICAgICAgIHJlcy5yZXN1bHRzID0gcmVzLnJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgbGVmdFRvRmV0Y2gtLTtcbiAgICAgICAgICB2YXIgcmV0ID0gZmlsdGVyQ2hhbmdlKG9wdHMpKGMpO1xuICAgICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyAmJiBvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgICAgICAgIHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdHMucmV0dXJuX2RvY3MpIHtcbiAgICAgICAgICAgICAgcmVzdWx0cy5yZXN1bHRzLnB1c2goYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRzLm9uQ2hhbmdlKGMsIHBlbmRpbmcsIGxhc3RTZXEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICAgIC8vIEluIGNhc2Ugb2YgYW4gZXJyb3IsIHN0b3AgbGlzdGVuaW5nIGZvciBjaGFuZ2VzIGFuZCBjYWxsXG4gICAgICAgIC8vIG9wdHMuY29tcGxldGVcbiAgICAgICAgb3B0cy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgb3B0cy5jb21wbGV0ZShlcnIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjaGFuZ2VzIGZlZWQgbWF5IGhhdmUgdGltZWQgb3V0IHdpdGggbm8gcmVzdWx0c1xuICAgICAgLy8gaWYgc28gcmV1c2UgbGFzdCB1cGRhdGUgc2VxdWVuY2VcbiAgICAgIGlmIChyZXMgJiYgcmVzLmxhc3Rfc2VxKSB7XG4gICAgICAgIGxhc3RGZXRjaGVkU2VxID0gcmVzLmxhc3Rfc2VxO1xuICAgICAgfVxuXG4gICAgICB2YXIgZmluaXNoZWQgPSAobGltaXQgJiYgbGVmdFRvRmV0Y2ggPD0gMCkgfHxcbiAgICAgICAgKHJlcyAmJiByYXdfcmVzdWx0c19sZW5ndGggPCBiYXRjaFNpemUpIHx8XG4gICAgICAgIChvcHRzLmRlc2NlbmRpbmcpO1xuXG4gICAgICBpZiAoKG9wdHMuY29udGludW91cyAmJiAhKGxpbWl0ICYmIGxlZnRUb0ZldGNoIDw9IDApKSB8fCAhZmluaXNoZWQpIHtcbiAgICAgICAgLy8gUXVldWUgYSBjYWxsIHRvIGZldGNoIGFnYWluIHdpdGggdGhlIG5ld2VzdCBzZXF1ZW5jZSBudW1iZXJcbiAgICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHsgZmV0Y2hEYXRhKGxhc3RGZXRjaGVkU2VxLCBmZXRjaGVkKTsgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSdyZSBkb25lLCBjYWxsIHRoZSBjYWxsYmFja1xuICAgICAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHJlc3VsdHMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmZXRjaERhdGEob3B0cy5zaW5jZSB8fCAwLCBmZXRjaGVkKTtcblxuICAgIC8vIFJldHVybiBhIG1ldGhvZCB0byBjYW5jZWwgdGhpcyBtZXRob2QgZnJvbSBwcm9jZXNzaW5nIGFueSBtb3JlXG4gICAgcmV0dXJuIHtcbiAgICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICBvcHRzLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvLyBHaXZlbiBhIHNldCBvZiBkb2N1bWVudC9yZXZpc2lvbiBJRHMgKGdpdmVuIGJ5IHJlcSksIHRldHMgdGhlIHN1YnNldCBvZlxuICAvLyB0aG9zZSB0aGF0IGRvIE5PVCBjb3JyZXNwb25kIHRvIHJldmlzaW9ucyBzdG9yZWQgaW4gdGhlIGRhdGFiYXNlLlxuICAvLyBTZWUgaHR0cDovL3dpa2kuYXBhY2hlLm9yZy9jb3VjaGRiL0h0dHBQb3N0UmV2c0RpZmZcbiAgYXBpLnJldnNEaWZmID0gYWRhcHRlckZ1biQkMSgncmV2c0RpZmYnLCBmdW5jdGlvbiAocmVxLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIC8vIElmIG5vIG9wdGlvbnMgd2VyZSBnaXZlbiwgc2V0IHRoZSBjYWxsYmFjayB0byBiZSB0aGUgc2Vjb25kIHBhcmFtZXRlclxuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIC8vIEdldCB0aGUgbWlzc2luZyBkb2N1bWVudC9yZXZpc2lvbiBJRHNcbiAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19yZXZzX2RpZmYnKSwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXEpXG4gICAgfSwgY2FsbGJhY2spLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgYXBpLl9jbG9zZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKCk7XG4gIH07XG5cbiAgYXBpLl9kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICcnKSwge21ldGhvZDogJ0RFTEVURSd9KS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCBqc29uKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwge29rOiB0cnVlfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuXG4vLyBIdHRwUG91Y2ggaXMgYSB2YWxpZCBhZGFwdGVyLlxuSHR0cFBvdWNoLnZhbGlkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIEh0dHBQb3VjaCQxIChQb3VjaERCKSB7XG4gIFBvdWNoREIuYWRhcHRlcignaHR0cCcsIEh0dHBQb3VjaCwgZmFsc2UpO1xuICBQb3VjaERCLmFkYXB0ZXIoJ2h0dHBzJywgSHR0cFBvdWNoLCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIFF1ZXJ5UGFyc2VFcnJvcihtZXNzYWdlKSB7XG4gIHRoaXMuc3RhdHVzID0gNDAwO1xuICB0aGlzLm5hbWUgPSAncXVlcnlfcGFyc2VfZXJyb3InO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBRdWVyeVBhcnNlRXJyb3IpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG5pbmhlcml0cyhRdWVyeVBhcnNlRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gTm90Rm91bmRFcnJvcihtZXNzYWdlKSB7XG4gIHRoaXMuc3RhdHVzID0gNDA0O1xuICB0aGlzLm5hbWUgPSAnbm90X2ZvdW5kJztcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5lcnJvciA9IHRydWU7XG4gIHRyeSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgTm90Rm91bmRFcnJvcik7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cbmluaGVyaXRzKE5vdEZvdW5kRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gQnVpbHRJbkVycm9yKG1lc3NhZ2UpIHtcbiAgdGhpcy5zdGF0dXMgPSA1MDA7XG4gIHRoaXMubmFtZSA9ICdpbnZhbGlkX3ZhbHVlJztcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5lcnJvciA9IHRydWU7XG4gIHRyeSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgQnVpbHRJbkVycm9yKTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuaW5oZXJpdHMoQnVpbHRJbkVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIHByb21pc2VkQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spIHtcbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gICAgICB9KTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhyZWFzb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIGNhbGxiYWNraWZ5KGZ1bikge1xuICByZXR1cm4gZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgdmFyIGNiID0gYXJncy5wb3AoKTtcbiAgICB2YXIgcHJvbWlzZSA9IGZ1bi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9taXNlZENhbGxiYWNrKHByb21pc2UsIGNiKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH0pO1xufVxuXG4vLyBQcm9taXNlIGZpbmFsbHkgdXRpbCBzaW1pbGFyIHRvIFEuZmluYWxseVxuZnVuY3Rpb24gZmluKHByb21pc2UsIGZpbmFsUHJvbWlzZUZhY3RvcnkpIHtcbiAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgcmV0dXJuIGZpbmFsUHJvbWlzZUZhY3RvcnkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSk7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gZmluYWxQcm9taXNlRmFjdG9yeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgcmVhc29uO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2VxdWVudGlhbGl6ZShxdWV1ZSwgcHJvbWlzZUZhY3RvcnkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgcmV0dXJuIHF1ZXVlLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZUZhY3RvcnkuYXBwbHkodGhhdCwgYXJncyk7XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIHVuaXEgYW4gYXJyYXkgb2Ygc3RyaW5ncywgb3JkZXIgbm90IGd1YXJhbnRlZWRcbi8vIHNpbWlsYXIgdG8gdW5kZXJzY29yZS9sb2Rhc2ggXy51bmlxXG5mdW5jdGlvbiB1bmlxKGFycikge1xuICB2YXIgdGhlU2V0ID0gbmV3IEV4cG9ydGVkU2V0KGFycik7XG4gIHZhciByZXN1bHQgPSBuZXcgQXJyYXkodGhlU2V0LnNpemUpO1xuICB2YXIgaW5kZXggPSAtMTtcbiAgdGhlU2V0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtYXBUb0tleXNBcnJheShtYXApIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheShtYXAuc2l6ZSk7XG4gIHZhciBpbmRleCA9IC0xO1xuICBtYXAuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IGtleTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1aWx0SW5FcnJvcihuYW1lKSB7XG4gIHZhciBtZXNzYWdlID0gJ2J1aWx0aW4gJyArIG5hbWUgK1xuICAgICcgZnVuY3Rpb24gcmVxdWlyZXMgbWFwIHZhbHVlcyB0byBiZSBudW1iZXJzJyArXG4gICAgJyBvciBudW1iZXIgYXJyYXlzJztcbiAgcmV0dXJuIG5ldyBCdWlsdEluRXJyb3IobWVzc2FnZSk7XG59XG5cbmZ1bmN0aW9uIHN1bSh2YWx1ZXMpIHtcbiAgdmFyIHJlc3VsdCA9IDA7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2YWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgbnVtID0gdmFsdWVzW2ldO1xuICAgIGlmICh0eXBlb2YgbnVtICE9PSAnbnVtYmVyJykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobnVtKSkge1xuICAgICAgICAvLyBsaXN0cyBvZiBudW1iZXJzIGFyZSBhbHNvIGFsbG93ZWQsIHN1bSB0aGVtIHNlcGFyYXRlbHlcbiAgICAgICAgcmVzdWx0ID0gdHlwZW9mIHJlc3VsdCA9PT0gJ251bWJlcicgPyBbcmVzdWx0XSA6IHJlc3VsdDtcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpMZW4gPSBudW0ubGVuZ3RoOyBqIDwgakxlbjsgaisrKSB7XG4gICAgICAgICAgdmFyIGpOdW0gPSBudW1bal07XG4gICAgICAgICAgaWYgKHR5cGVvZiBqTnVtICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnVpbHRJbkVycm9yKCdfc3VtJyk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmVzdWx0W2pdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goak51bSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdFtqXSArPSBqTnVtO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHsgLy8gbm90IGFycmF5L251bWJlclxuICAgICAgICB0aHJvdyBjcmVhdGVCdWlsdEluRXJyb3IoJ19zdW0nKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdudW1iZXInKSB7XG4gICAgICByZXN1bHQgKz0gbnVtO1xuICAgIH0gZWxzZSB7IC8vIGFkZCBudW1iZXIgdG8gYXJyYXlcbiAgICAgIHJlc3VsdFswXSArPSBudW07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbnZhciBsb2cgPSBndWFyZGVkQ29uc29sZS5iaW5kKG51bGwsICdsb2cnKTtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbnZhciB0b0pTT04gPSBKU09OLnBhcnNlO1xuXG5mdW5jdGlvbiBldmFsRnVuY3Rpb25XaXRoRXZhbChmdW5jLCBlbWl0KSB7XG4gIHJldHVybiBzY29wZUV2YWwoXG4gICAgXCJyZXR1cm4gKFwiICsgZnVuYy5yZXBsYWNlKC87XFxzKiQvLCBcIlwiKSArIFwiKTtcIixcbiAgICB7XG4gICAgICBlbWl0OiBlbWl0LFxuICAgICAgc3VtOiBzdW0sXG4gICAgICBsb2c6IGxvZyxcbiAgICAgIGlzQXJyYXk6IGlzQXJyYXksXG4gICAgICB0b0pTT046IHRvSlNPTlxuICAgIH1cbiAgKTtcbn1cblxuLypcbiAqIFNpbXBsZSB0YXNrIHF1ZXVlIHRvIHNlcXVlbnRpYWxpemUgYWN0aW9ucy4gQXNzdW1lc1xuICogY2FsbGJhY2tzIHdpbGwgZXZlbnR1YWxseSBmaXJlIChvbmNlKS5cbiAqL1xuXG5cbmZ1bmN0aW9uIFRhc2tRdWV1ZSQxKCkge1xuICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZnVsZmlsbCkge2Z1bGZpbGwoKTsgfSk7XG59XG5UYXNrUXVldWUkMS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHByb21pc2VGYWN0b3J5KSB7XG4gIHRoaXMucHJvbWlzZSA9IHRoaXMucHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgLy8ganVzdCByZWNvdmVyXG4gIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9taXNlRmFjdG9yeSgpO1xuICB9KTtcbiAgcmV0dXJuIHRoaXMucHJvbWlzZTtcbn07XG5UYXNrUXVldWUkMS5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5wcm9taXNlO1xufTtcblxuZnVuY3Rpb24gc3RyaW5naWZ5KGlucHV0KSB7XG4gIGlmICghaW5wdXQpIHtcbiAgICByZXR1cm4gJ3VuZGVmaW5lZCc7IC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIGVtcHR5IHJlZHVjZVxuICB9XG4gIC8vIGZvciBiYWNrd2FyZHMgY29tcGF0IHdpdGggbWFwcmVkdWNlLCBmdW5jdGlvbnMvc3RyaW5ncyBhcmUgc3RyaW5naWZpZWRcbiAgLy8gYXMtaXMuIGV2ZXJ5dGhpbmcgZWxzZSBpcyBKU09OLXN0cmluZ2lmaWVkLlxuICBzd2l0Y2ggKHR5cGVvZiBpbnB1dCkge1xuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIC8vIGUuZy4gYSBtYXByZWR1Y2UgbWFwXG4gICAgICByZXR1cm4gaW5wdXQudG9TdHJpbmcoKTtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgLy8gZS5nLiBhIG1hcHJlZHVjZSBidWlsdC1pbiBfcmVkdWNlIGZ1bmN0aW9uXG4gICAgICByZXR1cm4gaW5wdXQudG9TdHJpbmcoKTtcbiAgICBkZWZhdWx0OlxuICAgICAgLy8gZS5nLiBhIEpTT04gb2JqZWN0IGluIHRoZSBjYXNlIG9mIG1hbmdvIHF1ZXJpZXNcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShpbnB1dCk7XG4gIH1cbn1cblxuLyogY3JlYXRlIGEgc3RyaW5nIHNpZ25hdHVyZSBmb3IgYSB2aWV3IHNvIHdlIGNhbiBjYWNoZSBpdCBhbmQgdW5pcSBpdCAqL1xuZnVuY3Rpb24gY3JlYXRlVmlld1NpZ25hdHVyZShtYXBGdW4sIHJlZHVjZUZ1bikge1xuICAvLyB0aGUgXCJ1bmRlZmluZWRcIiBwYXJ0IGlzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICByZXR1cm4gc3RyaW5naWZ5KG1hcEZ1bikgKyBzdHJpbmdpZnkocmVkdWNlRnVuKSArICd1bmRlZmluZWQnO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVWaWV3KHNvdXJjZURCLCB2aWV3TmFtZSwgbWFwRnVuLCByZWR1Y2VGdW4sIHRlbXBvcmFyeSwgbG9jYWxEb2NOYW1lKSB7XG4gIHZhciB2aWV3U2lnbmF0dXJlID0gY3JlYXRlVmlld1NpZ25hdHVyZShtYXBGdW4sIHJlZHVjZUZ1bik7XG5cbiAgdmFyIGNhY2hlZFZpZXdzO1xuICBpZiAoIXRlbXBvcmFyeSkge1xuICAgIC8vIGNhY2hlIHRoaXMgdG8gZW5zdXJlIHdlIGRvbid0IHRyeSB0byB1cGRhdGUgdGhlIHNhbWUgdmlldyB0d2ljZVxuICAgIGNhY2hlZFZpZXdzID0gc291cmNlREIuX2NhY2hlZFZpZXdzID0gc291cmNlREIuX2NhY2hlZFZpZXdzIHx8IHt9O1xuICAgIGlmIChjYWNoZWRWaWV3c1t2aWV3U2lnbmF0dXJlXSkge1xuICAgICAgcmV0dXJuIGNhY2hlZFZpZXdzW3ZpZXdTaWduYXR1cmVdO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm9taXNlRm9yVmlldyA9IHNvdXJjZURCLmluZm8oKS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7XG5cbiAgICB2YXIgZGVwRGJOYW1lID0gaW5mby5kYl9uYW1lICsgJy1tcnZpZXctJyArXG4gICAgICAodGVtcG9yYXJ5ID8gJ3RlbXAnIDogc3RyaW5nTWQ1KHZpZXdTaWduYXR1cmUpKTtcblxuICAgIC8vIHNhdmUgdGhlIHZpZXcgbmFtZSBpbiB0aGUgc291cmNlIGRiIHNvIGl0IGNhbiBiZSBjbGVhbmVkIHVwIGlmIG5lY2Vzc2FyeVxuICAgIC8vIChlLmcuIHdoZW4gdGhlIF9kZXNpZ24gZG9jIGlzIGRlbGV0ZWQsIHJlbW92ZSBhbGwgYXNzb2NpYXRlZCB2aWV3IGRhdGEpXG4gICAgZnVuY3Rpb24gZGlmZkZ1bmN0aW9uKGRvYykge1xuICAgICAgZG9jLnZpZXdzID0gZG9jLnZpZXdzIHx8IHt9O1xuICAgICAgdmFyIGZ1bGxWaWV3TmFtZSA9IHZpZXdOYW1lO1xuICAgICAgaWYgKGZ1bGxWaWV3TmFtZS5pbmRleE9mKCcvJykgPT09IC0xKSB7XG4gICAgICAgIGZ1bGxWaWV3TmFtZSA9IHZpZXdOYW1lICsgJy8nICsgdmlld05hbWU7XG4gICAgICB9XG4gICAgICB2YXIgZGVwRGJzID0gZG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0gPSBkb2Mudmlld3NbZnVsbFZpZXdOYW1lXSB8fCB7fTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGRlcERic1tkZXBEYk5hbWVdKSB7XG4gICAgICAgIHJldHVybjsgLy8gbm8gdXBkYXRlIG5lY2Vzc2FyeVxuICAgICAgfVxuICAgICAgZGVwRGJzW2RlcERiTmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIGRvYztcbiAgICB9XG4gICAgcmV0dXJuIHVwc2VydChzb3VyY2VEQiwgJ19sb2NhbC8nICsgbG9jYWxEb2NOYW1lLCBkaWZmRnVuY3Rpb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHNvdXJjZURCLnJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UoZGVwRGJOYW1lKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgdmFyIGRiID0gcmVzLmRiO1xuICAgICAgICBkYi5hdXRvX2NvbXBhY3Rpb24gPSB0cnVlO1xuICAgICAgICB2YXIgdmlldyA9IHtcbiAgICAgICAgICBuYW1lOiBkZXBEYk5hbWUsXG4gICAgICAgICAgZGI6IGRiLFxuICAgICAgICAgIHNvdXJjZURCOiBzb3VyY2VEQixcbiAgICAgICAgICBhZGFwdGVyOiBzb3VyY2VEQi5hZGFwdGVyLFxuICAgICAgICAgIG1hcEZ1bjogbWFwRnVuLFxuICAgICAgICAgIHJlZHVjZUZ1bjogcmVkdWNlRnVuXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB2aWV3LmRiLmdldCgnX2xvY2FsL2xhc3RTZXEnKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobGFzdFNlcURvYykge1xuICAgICAgICAgIHZpZXcuc2VxID0gbGFzdFNlcURvYyA/IGxhc3RTZXFEb2Muc2VxIDogMDtcbiAgICAgICAgICBpZiAoY2FjaGVkVmlld3MpIHtcbiAgICAgICAgICAgIHZpZXcuZGIub25jZSgnZGVzdHJveWVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBkZWxldGUgY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGlmIChjYWNoZWRWaWV3cykge1xuICAgIGNhY2hlZFZpZXdzW3ZpZXdTaWduYXR1cmVdID0gcHJvbWlzZUZvclZpZXc7XG4gIH1cbiAgcmV0dXJuIHByb21pc2VGb3JWaWV3O1xufVxuXG52YXIgcGVyc2lzdGVudFF1ZXVlcyA9IHt9O1xudmFyIHRlbXBWaWV3UXVldWUgPSBuZXcgVGFza1F1ZXVlJDEoKTtcbnZhciBDSEFOR0VTX0JBVENIX1NJWkUkMSA9IDUwO1xuXG5mdW5jdGlvbiBwYXJzZVZpZXdOYW1lKG5hbWUpIHtcbiAgLy8gY2FuIGJlIGVpdGhlciAnZGRvY25hbWUvdmlld25hbWUnIG9yIGp1c3QgJ3ZpZXduYW1lJ1xuICAvLyAod2hlcmUgdGhlIGRkb2MgbmFtZSBpcyB0aGUgc2FtZSlcbiAgcmV0dXJuIG5hbWUuaW5kZXhPZignLycpID09PSAtMSA/IFtuYW1lLCBuYW1lXSA6IG5hbWUuc3BsaXQoJy8nKTtcbn1cblxuZnVuY3Rpb24gaXNHZW5PbmUoY2hhbmdlcykge1xuICAvLyBvbmx5IHJldHVybiB0cnVlIGlmIHRoZSBjdXJyZW50IGNoYW5nZSBpcyAxLVxuICAvLyBhbmQgdGhlcmUgYXJlIG5vIG90aGVyIGxlYWZzXG4gIHJldHVybiBjaGFuZ2VzLmxlbmd0aCA9PT0gMSAmJiAvXjEtLy50ZXN0KGNoYW5nZXNbMF0ucmV2KTtcbn1cblxuZnVuY3Rpb24gZW1pdEVycm9yKGRiLCBlKSB7XG4gIHRyeSB7XG4gICAgZGIuZW1pdCgnZXJyb3InLCBlKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJyxcbiAgICAgICdUaGUgdXNlclxcJ3MgbWFwL3JlZHVjZSBmdW5jdGlvbiB0aHJldyBhbiB1bmNhdWdodCBlcnJvci5cXG4nICtcbiAgICAgICdZb3UgY2FuIGRlYnVnIHRoaXMgZXJyb3IgYnkgZG9pbmc6XFxuJyArXG4gICAgICAnbXlEYXRhYmFzZS5vbihcXCdlcnJvclxcJywgZnVuY3Rpb24gKGVycikgeyBkZWJ1Z2dlcjsgfSk7XFxuJyArXG4gICAgICAnUGxlYXNlIGRvdWJsZS1jaGVjayB5b3VyIG1hcC9yZWR1Y2UgZnVuY3Rpb24uJyk7XG4gICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJywgZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIFwiYWJzdHJhY3RcIiBtYXByZWR1Y2Ugb2JqZWN0IG9mIHRoZSBmb3JtOlxuICpcbiAqICAge1xuICogICAgIHF1ZXJ5OiBxdWVyeUZ1bixcbiAqICAgICB2aWV3Q2xlYW51cDogdmlld0NsZWFudXBGdW5cbiAqICAgfVxuICpcbiAqIEFyZ3VtZW50cyBhcmU6XG4gKlxuICogbG9jYWxEb2M6IHN0cmluZ1xuICogICBUaGlzIGlzIGZvciB0aGUgbG9jYWwgZG9jIHRoYXQgZ2V0cyBzYXZlZCBpbiBvcmRlciB0byB0cmFjayB0aGVcbiAqICAgXCJkZXBlbmRlbnRcIiBEQnMgYW5kIGNsZWFuIHRoZW0gdXAgZm9yIHZpZXdDbGVhbnVwLiBJdCBzaG91bGQgYmVcbiAqICAgdW5pcXVlLCBzbyB0aGF0IGluZGV4ZXIgcGx1Z2lucyBkb24ndCBjb2xsaWRlIHdpdGggZWFjaCBvdGhlci5cbiAqIG1hcHBlcjogZnVuY3Rpb24gKG1hcEZ1bkRlZiwgZW1pdClcbiAqICAgUmV0dXJucyBhIG1hcCBmdW5jdGlvbiBiYXNlZCBvbiB0aGUgbWFwRnVuRGVmLCB3aGljaCBpbiB0aGUgY2FzZSBvZlxuICogICBub3JtYWwgbWFwL3JlZHVjZSBpcyBqdXN0IHRoZSBkZS1zdHJpbmdpZmllZCBmdW5jdGlvbiwgYnV0IG1heSBiZVxuICogICBzb21ldGhpbmcgZWxzZSwgc3VjaCBhcyBhbiBvYmplY3QgaW4gdGhlIGNhc2Ugb2YgcG91Y2hkYi1maW5kLlxuICogcmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZUZ1bkRlZilcbiAqICAgRGl0dG8sIGJ1dCBmb3IgcmVkdWNpbmcuIE1vZHVsZXMgZG9uJ3QgaGF2ZSB0byBzdXBwb3J0IHJlZHVjaW5nXG4gKiAgIChlLmcuIHBvdWNoZGItZmluZCkuXG4gKiBkZG9jVmFsaWRhdG9yOiBmdW5jdGlvbiAoZGRvYywgdmlld05hbWUpXG4gKiAgIFRocm93cyBhbiBlcnJvciBpZiB0aGUgZGRvYyBvciB2aWV3TmFtZSBpcyBub3QgdmFsaWQuXG4gKiAgIFRoaXMgY291bGQgYmUgYSB3YXkgdG8gY29tbXVuaWNhdGUgdG8gdGhlIHVzZXIgdGhhdCB0aGUgY29uZmlndXJhdGlvbiBmb3IgdGhlXG4gKiAgIGluZGV4ZXIgaXMgaW52YWxpZC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQWJzdHJhY3RNYXBSZWR1Y2UobG9jYWxEb2NOYW1lLCBtYXBwZXIsIHJlZHVjZXIsIGRkb2NWYWxpZGF0b3IpIHtcblxuICBmdW5jdGlvbiB0cnlNYXAoZGIsIGZ1biwgZG9jKSB7XG4gICAgLy8gZW1pdCBhbiBldmVudCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgdGhyb3duIGJ5IGEgbWFwIGZ1bmN0aW9uLlxuICAgIC8vIHB1dHRpbmcgdHJ5L2NhdGNoZXMgaW4gYSBzaW5nbGUgZnVuY3Rpb24gYWxzbyBhdm9pZHMgZGVvcHRpbWl6YXRpb25zLlxuICAgIHRyeSB7XG4gICAgICBmdW4oZG9jKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlbWl0RXJyb3IoZGIsIGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyeVJlZHVjZShkYiwgZnVuLCBrZXlzLCB2YWx1ZXMsIHJlcmVkdWNlKSB7XG4gICAgLy8gc2FtZSBhcyBhYm92ZSwgYnV0IHJldHVybmluZyB0aGUgcmVzdWx0IG9yIGFuIGVycm9yLiB0aGVyZSBhcmUgdHdvIHNlcGFyYXRlXG4gICAgLy8gZnVuY3Rpb25zIHRvIGF2b2lkIGV4dHJhIG1lbW9yeSBhbGxvY2F0aW9ucyBzaW5jZSB0aGUgdHJ5Q29kZSgpIGNhc2UgaXMgdXNlZFxuICAgIC8vIGZvciBjdXN0b20gbWFwIGZ1bmN0aW9ucyAoY29tbW9uKSB2cyB0aGlzIGZ1bmN0aW9uLCB3aGljaCBpcyBvbmx5IHVzZWQgZm9yXG4gICAgLy8gY3VzdG9tIHJlZHVjZSBmdW5jdGlvbnMgKHJhcmUpXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7b3V0cHV0IDogZnVuKGtleXMsIHZhbHVlcywgcmVyZWR1Y2UpfTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlbWl0RXJyb3IoZGIsIGUpO1xuICAgICAgcmV0dXJuIHtlcnJvcjogZX07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc29ydEJ5S2V5VGhlblZhbHVlKHgsIHkpIHtcbiAgICB2YXIga2V5Q29tcGFyZSA9IGNvbGxhdGUoeC5rZXksIHkua2V5KTtcbiAgICByZXR1cm4ga2V5Q29tcGFyZSAhPT0gMCA/IGtleUNvbXBhcmUgOiBjb2xsYXRlKHgudmFsdWUsIHkudmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2xpY2VSZXN1bHRzKHJlc3VsdHMsIGxpbWl0LCBza2lwKSB7XG4gICAgc2tpcCA9IHNraXAgfHwgMDtcbiAgICBpZiAodHlwZW9mIGxpbWl0ID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIHJlc3VsdHMuc2xpY2Uoc2tpcCwgbGltaXQgKyBza2lwKTtcbiAgICB9IGVsc2UgaWYgKHNraXAgPiAwKSB7XG4gICAgICByZXR1cm4gcmVzdWx0cy5zbGljZShza2lwKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cblxuICBmdW5jdGlvbiByb3dUb0RvY0lkKHJvdykge1xuICAgIHZhciB2YWwgPSByb3cudmFsdWU7XG4gICAgLy8gVXNlcnMgY2FuIGV4cGxpY2l0bHkgc3BlY2lmeSBhIGpvaW5lZCBkb2MgX2lkLCBvciBpdFxuICAgIC8vIGRlZmF1bHRzIHRvIHRoZSBkb2MgX2lkIHRoYXQgZW1pdHRlZCB0aGUga2V5L3ZhbHVlLlxuICAgIHZhciBkb2NJZCA9ICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsLl9pZCkgfHwgcm93LmlkO1xuICAgIHJldHVybiBkb2NJZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKHJlcykge1xuICAgIHJlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgdmFyIGF0dHMgPSByb3cuZG9jICYmIHJvdy5kb2MuX2F0dGFjaG1lbnRzO1xuICAgICAgaWYgKCFhdHRzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5rZXlzKGF0dHMpLmZvckVhY2goZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgIHZhciBhdHQgPSBhdHRzW2ZpbGVuYW1lXTtcbiAgICAgICAgYXR0c1tmaWxlbmFtZV0uZGF0YSA9IGI2NFRvQmx1ZmZlcihhdHQuZGF0YSwgYXR0LmNvbnRlbnRfdHlwZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3Rwcm9jZXNzQXR0YWNobWVudHMob3B0cykge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MgJiYgb3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmJpbmFyeSkge1xuICAgICAgICByZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcihyZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkSHR0cFBhcmFtKHBhcmFtTmFtZSwgb3B0cywgcGFyYW1zLCBhc0pzb24pIHtcbiAgICAvLyBhZGQgYW4gaHR0cCBwYXJhbSBmcm9tIG9wdHMgdG8gcGFyYW1zLCBvcHRpb25hbGx5IGpzb24tZW5jb2RlZFxuICAgIHZhciB2YWwgPSBvcHRzW3BhcmFtTmFtZV07XG4gICAgaWYgKHR5cGVvZiB2YWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoYXNKc29uKSB7XG4gICAgICAgIHZhbCA9IGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh2YWwpKTtcbiAgICAgIH1cbiAgICAgIHBhcmFtcy5wdXNoKHBhcmFtTmFtZSArICc9JyArIHZhbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29lcmNlSW50ZWdlcihpbnRlZ2VyQ2FuZGlkYXRlKSB7XG4gICAgaWYgKHR5cGVvZiBpbnRlZ2VyQ2FuZGlkYXRlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIGFzTnVtYmVyID0gTnVtYmVyKGludGVnZXJDYW5kaWRhdGUpO1xuICAgICAgLy8gcHJldmVudHMgZS5nLiAnMWZvbycgb3IgJzEuMScgYmVpbmcgY29lcmNlZCB0byAxXG4gICAgICBpZiAoIWlzTmFOKGFzTnVtYmVyKSAmJiBhc051bWJlciA9PT0gcGFyc2VJbnQoaW50ZWdlckNhbmRpZGF0ZSwgMTApKSB7XG4gICAgICAgIHJldHVybiBhc051bWJlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnRlZ2VyQ2FuZGlkYXRlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvZXJjZU9wdGlvbnMob3B0cykge1xuICAgIG9wdHMuZ3JvdXBfbGV2ZWwgPSBjb2VyY2VJbnRlZ2VyKG9wdHMuZ3JvdXBfbGV2ZWwpO1xuICAgIG9wdHMubGltaXQgPSBjb2VyY2VJbnRlZ2VyKG9wdHMubGltaXQpO1xuICAgIG9wdHMuc2tpcCA9IGNvZXJjZUludGVnZXIob3B0cy5za2lwKTtcbiAgICByZXR1cm4gb3B0cztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrUG9zaXRpdmVJbnRlZ2VyKG51bWJlcikge1xuICAgIGlmIChudW1iZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgbnVtYmVyICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gIG5ldyBRdWVyeVBhcnNlRXJyb3IoJ0ludmFsaWQgdmFsdWUgZm9yIGludGVnZXI6IFwiJyArXG4gICAgICAgICAgbnVtYmVyICsgJ1wiJyk7XG4gICAgICB9XG4gICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5UGFyc2VFcnJvcignSW52YWxpZCB2YWx1ZSBmb3IgcG9zaXRpdmUgaW50ZWdlcjogJyArXG4gICAgICAgICAgJ1wiJyArIG51bWJlciArICdcIicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrUXVlcnlQYXJzZUVycm9yKG9wdGlvbnMsIGZ1bikge1xuICAgIHZhciBzdGFydGtleU5hbWUgPSBvcHRpb25zLmRlc2NlbmRpbmcgPyAnZW5ka2V5JyA6ICdzdGFydGtleSc7XG4gICAgdmFyIGVuZGtleU5hbWUgPSBvcHRpb25zLmRlc2NlbmRpbmcgPyAnc3RhcnRrZXknIDogJ2VuZGtleSc7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnNbc3RhcnRrZXlOYW1lXSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBvcHRpb25zW2VuZGtleU5hbWVdICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgY29sbGF0ZShvcHRpb25zW3N0YXJ0a2V5TmFtZV0sIG9wdGlvbnNbZW5ka2V5TmFtZV0pID4gMCkge1xuICAgICAgdGhyb3cgbmV3IFF1ZXJ5UGFyc2VFcnJvcignTm8gcm93cyBjYW4gbWF0Y2ggeW91ciBrZXkgcmFuZ2UsICcgK1xuICAgICAgICAncmV2ZXJzZSB5b3VyIHN0YXJ0X2tleSBhbmQgZW5kX2tleSBvciBzZXQge2Rlc2NlbmRpbmcgOiB0cnVlfScpO1xuICAgIH0gZWxzZSBpZiAoZnVuLnJlZHVjZSAmJiBvcHRpb25zLnJlZHVjZSAhPT0gZmFsc2UpIHtcbiAgICAgIGlmIChvcHRpb25zLmluY2x1ZGVfZG9jcykge1xuICAgICAgICB0aHJvdyBuZXcgUXVlcnlQYXJzZUVycm9yKCd7aW5jbHVkZV9kb2NzOnRydWV9IGlzIGludmFsaWQgZm9yIHJlZHVjZScpO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmtleXMgJiYgb3B0aW9ucy5rZXlzLmxlbmd0aCA+IDEgJiZcbiAgICAgICAgIW9wdGlvbnMuZ3JvdXAgJiYgIW9wdGlvbnMuZ3JvdXBfbGV2ZWwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFF1ZXJ5UGFyc2VFcnJvcignTXVsdGkta2V5IGZldGNoZXMgZm9yIHJlZHVjZSB2aWV3cyBtdXN0IHVzZSAnICtcbiAgICAgICAgICAne2dyb3VwOiB0cnVlfScpO1xuICAgICAgfVxuICAgIH1cbiAgICBbJ2dyb3VwX2xldmVsJywgJ2xpbWl0JywgJ3NraXAnXS5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb25OYW1lKSB7XG4gICAgICB2YXIgZXJyb3IgPSBjaGVja1Bvc2l0aXZlSW50ZWdlcihvcHRpb25zW29wdGlvbk5hbWVdKTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGh0dHBRdWVyeShkYiwgZnVuLCBvcHRzKSB7XG4gICAgLy8gTGlzdCBvZiBwYXJhbWV0ZXJzIHRvIGFkZCB0byB0aGUgUFVUIHJlcXVlc3RcbiAgICB2YXIgcGFyYW1zID0gW107XG4gICAgdmFyIGJvZHk7XG4gICAgdmFyIG1ldGhvZCA9ICdHRVQnO1xuICAgIHZhciBvaywgc3RhdHVzO1xuXG4gICAgLy8gSWYgb3B0cy5yZWR1Y2UgZXhpc3RzIGFuZCBpcyBkZWZpbmVkLCB0aGVuIGFkZCBpdCB0byB0aGUgbGlzdFxuICAgIC8vIG9mIHBhcmFtZXRlcnMuXG4gICAgLy8gSWYgcmVkdWNlPWZhbHNlIHRoZW4gdGhlIHJlc3VsdHMgYXJlIHRoYXQgb2Ygb25seSB0aGUgbWFwIGZ1bmN0aW9uXG4gICAgLy8gbm90IHRoZSBmaW5hbCByZXN1bHQgb2YgbWFwIGFuZCByZWR1Y2UuXG4gICAgYWRkSHR0cFBhcmFtKCdyZWR1Y2UnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnaW5jbHVkZV9kb2NzJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2F0dGFjaG1lbnRzJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2xpbWl0Jywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2Rlc2NlbmRpbmcnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnZ3JvdXAnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnZ3JvdXBfbGV2ZWwnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnc2tpcCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdzdGFsZScsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdjb25mbGljdHMnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnc3RhcnRrZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnc3RhcnRfa2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2VuZGtleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCdlbmRfa2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2luY2x1c2l2ZV9lbmQnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgna2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3VwZGF0ZV9zZXEnLCBvcHRzLCBwYXJhbXMpO1xuXG4gICAgLy8gRm9ybWF0IHRoZSBsaXN0IG9mIHBhcmFtZXRlcnMgaW50byBhIHZhbGlkIFVSSSBxdWVyeSBzdHJpbmdcbiAgICBwYXJhbXMgPSBwYXJhbXMuam9pbignJicpO1xuICAgIHBhcmFtcyA9IHBhcmFtcyA9PT0gJycgPyAnJyA6ICc/JyArIHBhcmFtcztcblxuICAgIC8vIElmIGtleXMgYXJlIHN1cHBsaWVkLCBpc3N1ZSBhIFBPU1QgdG8gY2lyY3VtdmVudCBHRVQgcXVlcnkgc3RyaW5nIGxpbWl0c1xuICAgIC8vIHNlZSBodHRwOi8vd2lraS5hcGFjaGUub3JnL2NvdWNoZGIvSFRUUF92aWV3X0FQSSNRdWVyeWluZ19PcHRpb25zXG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgTUFYX1VSTF9MRU5HVEggPSAyMDAwO1xuICAgICAgLy8gYWNjb3JkaW5nIHRvIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQxNzE4NC82ODA3NDIsXG4gICAgICAvLyB0aGUgZGUgZmFjdG8gVVJMIGxlbmd0aCBsaW1pdCBpcyAyMDAwIGNoYXJhY3RlcnNcblxuICAgICAgdmFyIGtleXNBc1N0cmluZyA9XG4gICAgICAgICdrZXlzPScgKyBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkob3B0cy5rZXlzKSk7XG4gICAgICBpZiAoa2V5c0FzU3RyaW5nLmxlbmd0aCArIHBhcmFtcy5sZW5ndGggKyAxIDw9IE1BWF9VUkxfTEVOR1RIKSB7XG4gICAgICAgIC8vIElmIHRoZSBrZXlzIGFyZSBzaG9ydCBlbm91Z2gsIGRvIGEgR0VULiB3ZSBkbyB0aGlzIHRvIHdvcmsgYXJvdW5kXG4gICAgICAgIC8vIFNhZmFyaSBub3QgdW5kZXJzdGFuZGluZyAzMDRzIG9uIFBPU1RzIChzZWUgcG91Y2hkYi9wb3VjaGRiIzEyMzkpXG4gICAgICAgIHBhcmFtcyArPSAocGFyYW1zWzBdID09PSAnPycgPyAnJicgOiAnPycpICsga2V5c0FzU3RyaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgICBpZiAodHlwZW9mIGZ1biA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBib2R5ID0ge2tleXM6IG9wdHMua2V5c307XG4gICAgICAgIH0gZWxzZSB7IC8vIGZ1biBpcyB7bWFwIDogbWFwZnVufSwgc28gYXBwZW5kIHRvIHRoaXNcbiAgICAgICAgICBmdW4ua2V5cyA9IG9wdHMua2V5cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdlIGFyZSByZWZlcmVuY2luZyBhIHF1ZXJ5IGRlZmluZWQgaW4gdGhlIGRlc2lnbiBkb2NcbiAgICBpZiAodHlwZW9mIGZ1biA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBwYXJ0cyA9IHBhcnNlVmlld05hbWUoZnVuKTtcbiAgICAgIHJldHVybiBkYi5mZXRjaCgnX2Rlc2lnbi8nICsgcGFydHNbMF0gKyAnL192aWV3LycgKyBwYXJ0c1sxXSArIHBhcmFtcywge1xuICAgICAgICBoZWFkZXJzOiBuZXcgaCh7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30pLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIG9rID0gcmVzcG9uc2Uub2s7XG4gICAgICAgIHN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgcmVzdWx0LnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgICB0aHJvdyBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmFpbCB0aGUgZW50aXJlIHJlcXVlc3QgaWYgdGhlIHJlc3VsdCBjb250YWlucyBhbiBlcnJvclxuICAgICAgICByZXN1bHQucm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICBpZiAocm93LnZhbHVlICYmIHJvdy52YWx1ZS5lcnJvciAmJiByb3cudmFsdWUuZXJyb3IgPT09IFwiYnVpbHRpbl9yZWR1Y2VfZXJyb3JcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJvdy5yZWFzb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KS50aGVuKHBvc3Rwcm9jZXNzQXR0YWNobWVudHMob3B0cykpO1xuICAgIH1cblxuICAgIC8vIFdlIGFyZSB1c2luZyBhIHRlbXBvcmFyeSB2aWV3LCB0ZXJyaWJsZSBmb3IgcGVyZm9ybWFuY2UsIGdvb2QgZm9yIHRlc3RpbmdcbiAgICBib2R5ID0gYm9keSB8fCB7fTtcbiAgICBPYmplY3Qua2V5cyhmdW4pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZnVuW2tleV0pKSB7XG4gICAgICAgIGJvZHlba2V5XSA9IGZ1bltrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYm9keVtrZXldID0gZnVuW2tleV0udG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBkYi5mZXRjaCgnX3RlbXBfdmlldycgKyBwYXJhbXMsIHtcbiAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSksXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgb2sgPSByZXNwb25zZS5vaztcbiAgICAgICAgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmICghb2spIHtcbiAgICAgICAgcmVzdWx0LnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhyb3cgZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShyZXN1bHQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KS50aGVuKHBvc3Rwcm9jZXNzQXR0YWNobWVudHMob3B0cykpO1xuICB9XG5cbiAgLy8gY3VzdG9tIGFkYXB0ZXJzIGNhbiBkZWZpbmUgdGhlaXIgb3duIGFwaS5fcXVlcnlcbiAgLy8gYW5kIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGZ1bmN0aW9uIGN1c3RvbVF1ZXJ5KGRiLCBmdW4sIG9wdHMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZGIuX3F1ZXJ5KGZ1biwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBjdXN0b20gYWRhcHRlcnMgY2FuIGRlZmluZSB0aGVpciBvd24gYXBpLl92aWV3Q2xlYW51cFxuICAvLyBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmVoYXZpb3JcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZnVuY3Rpb24gY3VzdG9tVmlld0NsZWFudXAoZGIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZGIuX3ZpZXdDbGVhbnVwKGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdHNUbyh2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKHJlYXNvbi5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIHJldHVybnMgYSBwcm9taXNlIGZvciBhIGxpc3Qgb2YgZG9jcyB0byB1cGRhdGUsIGJhc2VkIG9uIHRoZSBpbnB1dCBkb2NJZC5cbiAgLy8gdGhlIG9yZGVyIGRvZXNuJ3QgbWF0dGVyLCBiZWNhdXNlIHBvc3QtMy4yLjAsIGJ1bGtEb2NzXG4gIC8vIGlzIGFuIGF0b21pYyBvcGVyYXRpb24gaW4gYWxsIHRocmVlIGFkYXB0ZXJzLlxuICBmdW5jdGlvbiBnZXREb2NzVG9QZXJzaXN0KGRvY0lkLCB2aWV3LCBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cykge1xuICAgIHZhciBtZXRhRG9jSWQgPSAnX2xvY2FsL2RvY18nICsgZG9jSWQ7XG4gICAgdmFyIGRlZmF1bHRNZXRhRG9jID0ge19pZDogbWV0YURvY0lkLCBrZXlzOiBbXX07XG4gICAgdmFyIGRvY0RhdGEgPSBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cy5nZXQoZG9jSWQpO1xuICAgIHZhciBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMgPSBkb2NEYXRhWzBdO1xuICAgIHZhciBjaGFuZ2VzID0gZG9jRGF0YVsxXTtcblxuICAgIGZ1bmN0aW9uIGdldE1ldGFEb2MoKSB7XG4gICAgICBpZiAoaXNHZW5PbmUoY2hhbmdlcykpIHtcbiAgICAgICAgLy8gZ2VuZXJhdGlvbiAxLCBzbyB3ZSBjYW4gc2FmZWx5IGFzc3VtZSBpbml0aWFsIHN0YXRlXG4gICAgICAgIC8vIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChhdm9pZHMgdW5uZWNlc3NhcnkgR0VUcylcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkZWZhdWx0TWV0YURvYyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmlldy5kYi5nZXQobWV0YURvY0lkKS5jYXRjaChkZWZhdWx0c1RvKGRlZmF1bHRNZXRhRG9jKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0S2V5VmFsdWVEb2NzKG1ldGFEb2MpIHtcbiAgICAgIGlmICghbWV0YURvYy5rZXlzLmxlbmd0aCkge1xuICAgICAgICAvLyBubyBrZXlzLCBubyBuZWVkIGZvciBhIGxvb2t1cFxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtyb3dzOiBbXX0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZpZXcuZGIuYWxsRG9jcyh7XG4gICAgICAgIGtleXM6IG1ldGFEb2Mua2V5cyxcbiAgICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzS2V5VmFsdWVEb2NzKG1ldGFEb2MsIGt2RG9jc1Jlcykge1xuICAgICAgdmFyIGt2RG9jcyA9IFtdO1xuICAgICAgdmFyIG9sZEtleXMgPSBuZXcgRXhwb3J0ZWRTZXQoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGt2RG9jc1Jlcy5yb3dzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciByb3cgPSBrdkRvY3NSZXMucm93c1tpXTtcbiAgICAgICAgdmFyIGRvYyA9IHJvdy5kb2M7XG4gICAgICAgIGlmICghZG9jKSB7IC8vIGRlbGV0ZWRcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBrdkRvY3MucHVzaChkb2MpO1xuICAgICAgICBvbGRLZXlzLmFkZChkb2MuX2lkKTtcbiAgICAgICAgZG9jLl9kZWxldGVkID0gIWluZGV4YWJsZUtleXNUb0tleVZhbHVlcy5oYXMoZG9jLl9pZCk7XG4gICAgICAgIGlmICghZG9jLl9kZWxldGVkKSB7XG4gICAgICAgICAgdmFyIGtleVZhbHVlID0gaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLmdldChkb2MuX2lkKTtcbiAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBrZXlWYWx1ZSkge1xuICAgICAgICAgICAgZG9jLnZhbHVlID0ga2V5VmFsdWUudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgbmV3S2V5cyA9IG1hcFRvS2V5c0FycmF5KGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyk7XG4gICAgICBuZXdLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIW9sZEtleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAvLyBuZXcgZG9jXG4gICAgICAgICAgdmFyIGt2RG9jID0ge1xuICAgICAgICAgICAgX2lkOiBrZXlcbiAgICAgICAgICB9O1xuICAgICAgICAgIHZhciBrZXlWYWx1ZSA9IGluZGV4YWJsZUtleXNUb0tleVZhbHVlcy5nZXQoa2V5KTtcbiAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBrZXlWYWx1ZSkge1xuICAgICAgICAgICAga3ZEb2MudmFsdWUgPSBrZXlWYWx1ZS52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAga3ZEb2NzLnB1c2goa3ZEb2MpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG1ldGFEb2Mua2V5cyA9IHVuaXEobmV3S2V5cy5jb25jYXQobWV0YURvYy5rZXlzKSk7XG4gICAgICBrdkRvY3MucHVzaChtZXRhRG9jKTtcblxuICAgICAgcmV0dXJuIGt2RG9jcztcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0TWV0YURvYygpLnRoZW4oZnVuY3Rpb24gKG1ldGFEb2MpIHtcbiAgICAgIHJldHVybiBnZXRLZXlWYWx1ZURvY3MobWV0YURvYykudGhlbihmdW5jdGlvbiAoa3ZEb2NzUmVzKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzS2V5VmFsdWVEb2NzKG1ldGFEb2MsIGt2RG9jc1Jlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIHVwZGF0ZXMgYWxsIGVtaXR0ZWQga2V5L3ZhbHVlIGRvY3MgYW5kIG1ldGFEb2NzIGluIHRoZSBtcnZpZXcgZGF0YWJhc2VcbiAgLy8gZm9yIHRoZSBnaXZlbiBiYXRjaCBvZiBkb2N1bWVudHMgZnJvbSB0aGUgc291cmNlIGRhdGFiYXNlXG4gIGZ1bmN0aW9uIHNhdmVLZXlWYWx1ZXModmlldywgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMsIHNlcSkge1xuICAgIHZhciBzZXFEb2NJZCA9ICdfbG9jYWwvbGFzdFNlcSc7XG4gICAgcmV0dXJuIHZpZXcuZGIuZ2V0KHNlcURvY0lkKVxuICAgICAgLmNhdGNoKGRlZmF1bHRzVG8oe19pZDogc2VxRG9jSWQsIHNlcTogMH0pKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKGxhc3RTZXFEb2MpIHtcbiAgICAgICAgdmFyIGRvY0lkcyA9IG1hcFRvS2V5c0FycmF5KGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGRvY0lkcy5tYXAoZnVuY3Rpb24gKGRvY0lkKSB7XG4gICAgICAgICAgcmV0dXJuIGdldERvY3NUb1BlcnNpc3QoZG9jSWQsIHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKTtcbiAgICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKGxpc3RPZkRvY3NUb1BlcnNpc3QpIHtcbiAgICAgICAgICB2YXIgZG9jc1RvUGVyc2lzdCA9IGZsYXR0ZW4obGlzdE9mRG9jc1RvUGVyc2lzdCk7XG4gICAgICAgICAgbGFzdFNlcURvYy5zZXEgPSBzZXE7XG4gICAgICAgICAgZG9jc1RvUGVyc2lzdC5wdXNoKGxhc3RTZXFEb2MpO1xuICAgICAgICAgIC8vIHdyaXRlIGFsbCBkb2NzIGluIGEgc2luZ2xlIG9wZXJhdGlvbiwgdXBkYXRlIHRoZSBzZXEgb25jZVxuICAgICAgICAgIHJldHVybiB2aWV3LmRiLmJ1bGtEb2NzKHtkb2NzIDogZG9jc1RvUGVyc2lzdH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UXVldWUodmlldykge1xuICAgIHZhciB2aWV3TmFtZSA9IHR5cGVvZiB2aWV3ID09PSAnc3RyaW5nJyA/IHZpZXcgOiB2aWV3Lm5hbWU7XG4gICAgdmFyIHF1ZXVlID0gcGVyc2lzdGVudFF1ZXVlc1t2aWV3TmFtZV07XG4gICAgaWYgKCFxdWV1ZSkge1xuICAgICAgcXVldWUgPSBwZXJzaXN0ZW50UXVldWVzW3ZpZXdOYW1lXSA9IG5ldyBUYXNrUXVldWUkMSgpO1xuICAgIH1cbiAgICByZXR1cm4gcXVldWU7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVWaWV3KHZpZXcsIG9wdHMpIHtcbiAgICByZXR1cm4gc2VxdWVudGlhbGl6ZShnZXRRdWV1ZSh2aWV3KSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVwZGF0ZVZpZXdJblF1ZXVlKHZpZXcsIG9wdHMpO1xuICAgIH0pKCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKSB7XG4gICAgLy8gYmluZCB0aGUgZW1pdCBmdW5jdGlvbiBvbmNlXG4gICAgdmFyIG1hcFJlc3VsdHM7XG4gICAgdmFyIGRvYztcblxuICAgIGZ1bmN0aW9uIGVtaXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG91dHB1dCA9IHtpZDogZG9jLl9pZCwga2V5OiBub3JtYWxpemVLZXkoa2V5KX07XG4gICAgICAvLyBEb24ndCBleHBsaWNpdGx5IHN0b3JlIHRoZSB2YWx1ZSB1bmxlc3MgaXQncyBkZWZpbmVkIGFuZCBub24tbnVsbC5cbiAgICAgIC8vIFRoaXMgc2F2ZXMgb24gc3RvcmFnZSBzcGFjZSwgYmVjYXVzZSBvZnRlbiBwZW9wbGUgZG9uJ3QgdXNlIGl0LlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgb3V0cHV0LnZhbHVlID0gbm9ybWFsaXplS2V5KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIG1hcFJlc3VsdHMucHVzaChvdXRwdXQpO1xuICAgIH1cblxuICAgIHZhciBtYXBGdW4gPSBtYXBwZXIodmlldy5tYXBGdW4sIGVtaXQpO1xuXG4gICAgdmFyIGN1cnJlbnRTZXEgPSB2aWV3LnNlcSB8fCAwO1xuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0NoYW5nZShkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cywgc2VxKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc2F2ZUtleVZhbHVlcyh2aWV3LCBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cywgc2VxKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgbGV0IGluZGV4ZWRfZG9jcyA9IDA7XG4gICAgbGV0IHByb2dyZXNzID0ge1xuICAgICAgdmlldzogdmlldy5uYW1lLFxuICAgICAgaW5kZXhlZF9kb2NzOiBpbmRleGVkX2RvY3NcbiAgICB9O1xuICAgIHZpZXcuc291cmNlREIuZW1pdCgnaW5kZXhpbmcnLCBwcm9ncmVzcyk7XG5cbiAgICB2YXIgcXVldWUgPSBuZXcgVGFza1F1ZXVlJDEoKTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NOZXh0QmF0Y2goKSB7XG4gICAgICByZXR1cm4gdmlldy5zb3VyY2VEQi5jaGFuZ2VzKHtcbiAgICAgICAgcmV0dXJuX2RvY3M6IHRydWUsXG4gICAgICAgIGNvbmZsaWN0czogdHJ1ZSxcbiAgICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlLFxuICAgICAgICBzdHlsZTogJ2FsbF9kb2NzJyxcbiAgICAgICAgc2luY2U6IGN1cnJlbnRTZXEsXG4gICAgICAgIGxpbWl0OiBvcHRzLmNoYW5nZXNfYmF0Y2hfc2l6ZVxuICAgICAgfSkudGhlbihwcm9jZXNzQmF0Y2gpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NCYXRjaChyZXNwb25zZSkge1xuICAgICAgdmFyIHJlc3VsdHMgPSByZXNwb25zZS5yZXN1bHRzO1xuICAgICAgaWYgKCFyZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMgPSBjcmVhdGVEb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyhyZXN1bHRzKTtcbiAgICAgIHF1ZXVlLmFkZChwcm9jZXNzQ2hhbmdlKGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBjdXJyZW50U2VxKSk7XG5cbiAgICAgIGluZGV4ZWRfZG9jcyA9IGluZGV4ZWRfZG9jcyArIHJlc3VsdHMubGVuZ3RoO1xuICAgICAgbGV0IHByb2dyZXNzID0ge1xuICAgICAgICB2aWV3OiB2aWV3Lm5hbWUsXG4gICAgICAgIGxhc3Rfc2VxOiByZXNwb25zZS5sYXN0X3NlcSxcbiAgICAgICAgcmVzdWx0c19jb3VudDogcmVzdWx0cy5sZW5ndGgsXG4gICAgICAgIGluZGV4ZWRfZG9jczogaW5kZXhlZF9kb2NzXG4gICAgICB9O1xuICAgICAgdmlldy5zb3VyY2VEQi5lbWl0KCdpbmRleGluZycsIHByb2dyZXNzKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoIDwgb3B0cy5jaGFuZ2VzX2JhdGNoX3NpemUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb2Nlc3NOZXh0QmF0Y2goKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyhyZXN1bHRzKSB7XG4gICAgICB2YXIgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByZXN1bHRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBjaGFuZ2UgPSByZXN1bHRzW2ldO1xuICAgICAgICBpZiAoY2hhbmdlLmRvYy5faWRbMF0gIT09ICdfJykge1xuICAgICAgICAgIG1hcFJlc3VsdHMgPSBbXTtcbiAgICAgICAgICBkb2MgPSBjaGFuZ2UuZG9jO1xuXG4gICAgICAgICAgaWYgKCFkb2MuX2RlbGV0ZWQpIHtcbiAgICAgICAgICAgIHRyeU1hcCh2aWV3LnNvdXJjZURCLCBtYXBGdW4sIGRvYyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1hcFJlc3VsdHMuc29ydChzb3J0QnlLZXlUaGVuVmFsdWUpO1xuXG4gICAgICAgICAgdmFyIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyA9IGNyZWF0ZUluZGV4YWJsZUtleXNUb0tleVZhbHVlcyhtYXBSZXN1bHRzKTtcbiAgICAgICAgICBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cy5zZXQoY2hhbmdlLmRvYy5faWQsIFtcbiAgICAgICAgICAgIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyxcbiAgICAgICAgICAgIGNoYW5nZS5jaGFuZ2VzXG4gICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFNlcSA9IGNoYW5nZS5zZXE7XG4gICAgICB9XG4gICAgICByZXR1cm4gZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzKG1hcFJlc3VsdHMpIHtcbiAgICAgIHZhciBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgIHZhciBsYXN0S2V5O1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG1hcFJlc3VsdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGVtaXR0ZWRLZXlWYWx1ZSA9IG1hcFJlc3VsdHNbaV07XG4gICAgICAgIHZhciBjb21wbGV4S2V5ID0gW2VtaXR0ZWRLZXlWYWx1ZS5rZXksIGVtaXR0ZWRLZXlWYWx1ZS5pZF07XG4gICAgICAgIGlmIChpID4gMCAmJiBjb2xsYXRlKGVtaXR0ZWRLZXlWYWx1ZS5rZXksIGxhc3RLZXkpID09PSAwKSB7XG4gICAgICAgICAgY29tcGxleEtleS5wdXNoKGkpOyAvLyBkdXAga2V5K2lkLCBzbyBtYWtlIGl0IHVuaXF1ZVxuICAgICAgICB9XG4gICAgICAgIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcy5zZXQodG9JbmRleGFibGVTdHJpbmcoY29tcGxleEtleSksIGVtaXR0ZWRLZXlWYWx1ZSk7XG4gICAgICAgIGxhc3RLZXkgPSBlbWl0dGVkS2V5VmFsdWUua2V5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcztcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvY2Vzc05leHRCYXRjaCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHF1ZXVlLmZpbmlzaCgpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmlldy5zZXEgPSBjdXJyZW50U2VxO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVkdWNlVmlldyh2aWV3LCByZXN1bHRzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuZ3JvdXBfbGV2ZWwgPT09IDApIHtcbiAgICAgIGRlbGV0ZSBvcHRpb25zLmdyb3VwX2xldmVsO1xuICAgIH1cblxuICAgIHZhciBzaG91bGRHcm91cCA9IG9wdGlvbnMuZ3JvdXAgfHwgb3B0aW9ucy5ncm91cF9sZXZlbDtcblxuICAgIHZhciByZWR1Y2VGdW4gPSByZWR1Y2VyKHZpZXcucmVkdWNlRnVuKTtcblxuICAgIHZhciBncm91cHMgPSBbXTtcbiAgICB2YXIgbHZsID0gaXNOYU4ob3B0aW9ucy5ncm91cF9sZXZlbCkgPyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgOlxuICAgICAgb3B0aW9ucy5ncm91cF9sZXZlbDtcbiAgICByZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBsYXN0ID0gZ3JvdXBzW2dyb3Vwcy5sZW5ndGggLSAxXTtcbiAgICAgIHZhciBncm91cEtleSA9IHNob3VsZEdyb3VwID8gZS5rZXkgOiBudWxsO1xuXG4gICAgICAvLyBvbmx5IHNldCBncm91cF9sZXZlbCBmb3IgYXJyYXkga2V5c1xuICAgICAgaWYgKHNob3VsZEdyb3VwICYmIEFycmF5LmlzQXJyYXkoZ3JvdXBLZXkpKSB7XG4gICAgICAgIGdyb3VwS2V5ID0gZ3JvdXBLZXkuc2xpY2UoMCwgbHZsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxhc3QgJiYgY29sbGF0ZShsYXN0Lmdyb3VwS2V5LCBncm91cEtleSkgPT09IDApIHtcbiAgICAgICAgbGFzdC5rZXlzLnB1c2goW2Uua2V5LCBlLmlkXSk7XG4gICAgICAgIGxhc3QudmFsdWVzLnB1c2goZS52YWx1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGdyb3Vwcy5wdXNoKHtcbiAgICAgICAga2V5czogW1tlLmtleSwgZS5pZF1dLFxuICAgICAgICB2YWx1ZXM6IFtlLnZhbHVlXSxcbiAgICAgICAgZ3JvdXBLZXk6IGdyb3VwS2V5XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXN1bHRzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGdyb3Vwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGUgPSBncm91cHNbaV07XG4gICAgICB2YXIgcmVkdWNlVHJ5ID0gdHJ5UmVkdWNlKHZpZXcuc291cmNlREIsIHJlZHVjZUZ1biwgZS5rZXlzLCBlLnZhbHVlcywgZmFsc2UpO1xuICAgICAgaWYgKHJlZHVjZVRyeS5lcnJvciAmJiByZWR1Y2VUcnkuZXJyb3IgaW5zdGFuY2VvZiBCdWlsdEluRXJyb3IpIHtcbiAgICAgICAgLy8gQ291Y2hEQiByZXR1cm5zIGFuIGVycm9yIGlmIGEgYnVpbHQtaW4gZXJyb3JzIG91dFxuICAgICAgICB0aHJvdyByZWR1Y2VUcnkuZXJyb3I7XG4gICAgICB9XG4gICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAvLyBDb3VjaERCIGp1c3Qgc2V0cyB0aGUgdmFsdWUgdG8gbnVsbCBpZiBhIG5vbi1idWlsdC1pbiBlcnJvcnMgb3V0XG4gICAgICAgIHZhbHVlOiByZWR1Y2VUcnkuZXJyb3IgPyBudWxsIDogcmVkdWNlVHJ5Lm91dHB1dCxcbiAgICAgICAga2V5OiBlLmdyb3VwS2V5XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gbm8gdG90YWxfcm93cy9vZmZzZXQgd2hlbiByZWR1Y2luZ1xuICAgIHJldHVybiB7cm93czogc2xpY2VSZXN1bHRzKHJlc3VsdHMsIG9wdGlvbnMubGltaXQsIG9wdGlvbnMuc2tpcCl9O1xuICB9XG5cbiAgZnVuY3Rpb24gcXVlcnlWaWV3KHZpZXcsIG9wdHMpIHtcbiAgICByZXR1cm4gc2VxdWVudGlhbGl6ZShnZXRRdWV1ZSh2aWV3KSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHF1ZXJ5Vmlld0luUXVldWUodmlldywgb3B0cyk7XG4gICAgfSkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHF1ZXJ5Vmlld0luUXVldWUodmlldywgb3B0cykge1xuICAgIHZhciB0b3RhbFJvd3M7XG4gICAgdmFyIHNob3VsZFJlZHVjZSA9IHZpZXcucmVkdWNlRnVuICYmIG9wdHMucmVkdWNlICE9PSBmYWxzZTtcbiAgICB2YXIgc2tpcCA9IG9wdHMuc2tpcCB8fCAwO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5rZXlzICE9PSAndW5kZWZpbmVkJyAmJiAhb3B0cy5rZXlzLmxlbmd0aCkge1xuICAgICAgLy8gZXF1aXZhbGVudCBxdWVyeVxuICAgICAgb3B0cy5saW1pdCA9IDA7XG4gICAgICBkZWxldGUgb3B0cy5rZXlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZldGNoRnJvbVZpZXcodmlld09wdHMpIHtcbiAgICAgIHZpZXdPcHRzLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgICByZXR1cm4gdmlldy5kYi5hbGxEb2NzKHZpZXdPcHRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgdG90YWxSb3dzID0gcmVzLnRvdGFsX3Jvd3M7XG4gICAgICAgIHJldHVybiByZXMucm93cy5tYXAoZnVuY3Rpb24gKHJlc3VsdCkge1xuXG4gICAgICAgICAgLy8gaW1wbGljaXQgbWlncmF0aW9uIC0gaW4gb2xkZXIgdmVyc2lvbnMgb2YgUG91Y2hEQixcbiAgICAgICAgICAvLyB3ZSBleHBsaWNpdGx5IHN0b3JlZCB0aGUgZG9jIGFzIHtpZDogLi4uLCBrZXk6IC4uLiwgdmFsdWU6IC4uLn1cbiAgICAgICAgICAvLyB0aGlzIGlzIHRlc3RlZCBpbiBhIG1pZ3JhdGlvbiB0ZXN0XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiByZXN1bHQuZG9jICYmIHR5cGVvZiByZXN1bHQuZG9jLnZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgcmVzdWx0LmRvYy52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZXN1bHQuZG9jLnZhbHVlKS5zb3J0KCk7XG4gICAgICAgICAgICAvLyB0aGlzIGRldGVjdGlvbiBtZXRob2QgaXMgbm90IHBlcmZlY3QsIGJ1dCBpdCdzIHVubGlrZWx5IHRoZSB1c2VyXG4gICAgICAgICAgICAvLyBlbWl0dGVkIGEgdmFsdWUgd2hpY2ggd2FzIGFuIG9iamVjdCB3aXRoIHRoZXNlIDMgZXhhY3Qga2V5c1xuICAgICAgICAgICAgdmFyIGV4cGVjdGVkS2V5cyA9IFsnaWQnLCAna2V5JywgJ3ZhbHVlJ107XG4gICAgICAgICAgICBpZiAoIShrZXlzIDwgZXhwZWN0ZWRLZXlzIHx8IGtleXMgPiBleHBlY3RlZEtleXMpKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQuZG9jLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBwYXJzZWRLZXlBbmREb2NJZCA9IHBhcnNlSW5kZXhhYmxlU3RyaW5nKHJlc3VsdC5kb2MuX2lkKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2V5OiBwYXJzZWRLZXlBbmREb2NJZFswXSxcbiAgICAgICAgICAgIGlkOiBwYXJzZWRLZXlBbmREb2NJZFsxXSxcbiAgICAgICAgICAgIHZhbHVlOiAoJ3ZhbHVlJyBpbiByZXN1bHQuZG9jID8gcmVzdWx0LmRvYy52YWx1ZSA6IG51bGwpXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1hcFJlc3VsdHNSZWFkeShyb3dzKSB7XG4gICAgICB2YXIgZmluYWxSZXN1bHRzO1xuICAgICAgaWYgKHNob3VsZFJlZHVjZSkge1xuICAgICAgICBmaW5hbFJlc3VsdHMgPSByZWR1Y2VWaWV3KHZpZXcsIHJvd3MsIG9wdHMpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0cy5rZXlzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBmaW5hbFJlc3VsdHMgPSB7XG4gICAgICAgICAgdG90YWxfcm93czogdG90YWxSb3dzLFxuICAgICAgICAgIG9mZnNldDogc2tpcCxcbiAgICAgICAgICByb3dzOiByb3dzXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBzdXBwb3J0IGxpbWl0LCBza2lwIGZvciBrZXlzIHF1ZXJ5XG4gICAgICAgIGZpbmFsUmVzdWx0cyA9IHtcbiAgICAgICAgICB0b3RhbF9yb3dzOiB0b3RhbFJvd3MsXG4gICAgICAgICAgb2Zmc2V0OiBza2lwLFxuICAgICAgICAgIHJvd3M6IHNsaWNlUmVzdWx0cyhyb3dzLG9wdHMubGltaXQsb3B0cy5za2lwKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICAgIGZpbmFsUmVzdWx0cy51cGRhdGVfc2VxID0gdmlldy5zZXE7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgICAgdmFyIGRvY0lkcyA9IHVuaXEocm93cy5tYXAocm93VG9Eb2NJZCkpO1xuXG4gICAgICAgIHJldHVybiB2aWV3LnNvdXJjZURCLmFsbERvY3Moe1xuICAgICAgICAgIGtleXM6IGRvY0lkcyxcbiAgICAgICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICAgICAgY29uZmxpY3RzOiBvcHRzLmNvbmZsaWN0cyxcbiAgICAgICAgICBhdHRhY2htZW50czogb3B0cy5hdHRhY2htZW50cyxcbiAgICAgICAgICBiaW5hcnk6IG9wdHMuYmluYXJ5XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGFsbERvY3NSZXMpIHtcbiAgICAgICAgICB2YXIgZG9jSWRzVG9Eb2NzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gICAgICAgICAgYWxsRG9jc1Jlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgICAgZG9jSWRzVG9Eb2NzLnNldChyb3cuaWQsIHJvdy5kb2MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICB2YXIgZG9jSWQgPSByb3dUb0RvY0lkKHJvdyk7XG4gICAgICAgICAgICB2YXIgZG9jID0gZG9jSWRzVG9Eb2NzLmdldChkb2NJZCk7XG4gICAgICAgICAgICBpZiAoZG9jKSB7XG4gICAgICAgICAgICAgIHJvdy5kb2MgPSBkb2M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGZpbmFsUmVzdWx0cztcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmluYWxSZXN1bHRzO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5rZXlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIGtleXMgPSBvcHRzLmtleXM7XG4gICAgICB2YXIgZmV0Y2hQcm9taXNlcyA9IGtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHZpZXdPcHRzID0ge1xuICAgICAgICAgIHN0YXJ0a2V5IDogdG9JbmRleGFibGVTdHJpbmcoW2tleV0pLFxuICAgICAgICAgIGVuZGtleSAgIDogdG9JbmRleGFibGVTdHJpbmcoW2tleSwge31dKVxuICAgICAgICB9O1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgICAgIHZpZXdPcHRzLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmZXRjaEZyb21WaWV3KHZpZXdPcHRzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGZldGNoUHJvbWlzZXMpLnRoZW4oZmxhdHRlbikudGhlbihvbk1hcFJlc3VsdHNSZWFkeSk7XG4gICAgfSBlbHNlIHsgLy8gbm9ybWFsIHF1ZXJ5LCBubyAna2V5cydcbiAgICAgIHZhciB2aWV3T3B0cyA9IHtcbiAgICAgICAgZGVzY2VuZGluZyA6IG9wdHMuZGVzY2VuZGluZ1xuICAgICAgfTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgICB2aWV3T3B0cy51cGRhdGVfc2VxID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBzdGFydGtleTtcbiAgICAgIHZhciBlbmRrZXk7XG4gICAgICBpZiAoJ3N0YXJ0X2tleScgaW4gb3B0cykge1xuICAgICAgICBzdGFydGtleSA9IG9wdHMuc3RhcnRfa2V5O1xuICAgICAgfVxuICAgICAgaWYgKCdzdGFydGtleScgaW4gb3B0cykge1xuICAgICAgICBzdGFydGtleSA9IG9wdHMuc3RhcnRrZXk7XG4gICAgICB9XG4gICAgICBpZiAoJ2VuZF9rZXknIGluIG9wdHMpIHtcbiAgICAgICAgZW5ka2V5ID0gb3B0cy5lbmRfa2V5O1xuICAgICAgfVxuICAgICAgaWYgKCdlbmRrZXknIGluIG9wdHMpIHtcbiAgICAgICAgZW5ka2V5ID0gb3B0cy5lbmRrZXk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHN0YXJ0a2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2aWV3T3B0cy5zdGFydGtleSA9IG9wdHMuZGVzY2VuZGluZyA/XG4gICAgICAgICAgdG9JbmRleGFibGVTdHJpbmcoW3N0YXJ0a2V5LCB7fV0pIDpcbiAgICAgICAgICB0b0luZGV4YWJsZVN0cmluZyhbc3RhcnRrZXldKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZW5ka2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgaW5jbHVzaXZlRW5kID0gb3B0cy5pbmNsdXNpdmVfZW5kICE9PSBmYWxzZTtcbiAgICAgICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgICAgIGluY2x1c2l2ZUVuZCA9ICFpbmNsdXNpdmVFbmQ7XG4gICAgICAgIH1cblxuICAgICAgICB2aWV3T3B0cy5lbmRrZXkgPSB0b0luZGV4YWJsZVN0cmluZyhcbiAgICAgICAgICBpbmNsdXNpdmVFbmQgPyBbZW5ka2V5LCB7fV0gOiBbZW5ka2V5XSk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9wdHMua2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIga2V5U3RhcnQgPSB0b0luZGV4YWJsZVN0cmluZyhbb3B0cy5rZXldKTtcbiAgICAgICAgdmFyIGtleUVuZCA9IHRvSW5kZXhhYmxlU3RyaW5nKFtvcHRzLmtleSwge31dKTtcbiAgICAgICAgaWYgKHZpZXdPcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgICAgICB2aWV3T3B0cy5lbmRrZXkgPSBrZXlTdGFydDtcbiAgICAgICAgICB2aWV3T3B0cy5zdGFydGtleSA9IGtleUVuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2aWV3T3B0cy5zdGFydGtleSA9IGtleVN0YXJ0O1xuICAgICAgICAgIHZpZXdPcHRzLmVuZGtleSA9IGtleUVuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFzaG91bGRSZWR1Y2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRzLmxpbWl0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHZpZXdPcHRzLmxpbWl0ID0gb3B0cy5saW1pdDtcbiAgICAgICAgfVxuICAgICAgICB2aWV3T3B0cy5za2lwID0gc2tpcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmZXRjaEZyb21WaWV3KHZpZXdPcHRzKS50aGVuKG9uTWFwUmVzdWx0c1JlYWR5KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBodHRwVmlld0NsZWFudXAoZGIpIHtcbiAgICByZXR1cm4gZGIuZmV0Y2goJ192aWV3X2NsZWFudXAnLCB7XG4gICAgICBoZWFkZXJzOiBuZXcgaCh7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30pLFxuICAgICAgbWV0aG9kOiAnUE9TVCdcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvY2FsVmlld0NsZWFudXAoZGIpIHtcbiAgICByZXR1cm4gZGIuZ2V0KCdfbG9jYWwvJyArIGxvY2FsRG9jTmFtZSkudGhlbihmdW5jdGlvbiAobWV0YURvYykge1xuICAgICAgdmFyIGRvY3NUb1ZpZXdzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gICAgICBPYmplY3Qua2V5cyhtZXRhRG9jLnZpZXdzKS5mb3JFYWNoKGZ1bmN0aW9uIChmdWxsVmlld05hbWUpIHtcbiAgICAgICAgdmFyIHBhcnRzID0gcGFyc2VWaWV3TmFtZShmdWxsVmlld05hbWUpO1xuICAgICAgICB2YXIgZGVzaWduRG9jTmFtZSA9ICdfZGVzaWduLycgKyBwYXJ0c1swXTtcbiAgICAgICAgdmFyIHZpZXdOYW1lID0gcGFydHNbMV07XG4gICAgICAgIHZhciB2aWV3cyA9IGRvY3NUb1ZpZXdzLmdldChkZXNpZ25Eb2NOYW1lKTtcbiAgICAgICAgaWYgKCF2aWV3cykge1xuICAgICAgICAgIHZpZXdzID0gbmV3IEV4cG9ydGVkU2V0KCk7XG4gICAgICAgICAgZG9jc1RvVmlld3Muc2V0KGRlc2lnbkRvY05hbWUsIHZpZXdzKTtcbiAgICAgICAgfVxuICAgICAgICB2aWV3cy5hZGQodmlld05hbWUpO1xuICAgICAgfSk7XG4gICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAga2V5cyA6IG1hcFRvS2V5c0FycmF5KGRvY3NUb1ZpZXdzKSxcbiAgICAgICAgaW5jbHVkZV9kb2NzIDogdHJ1ZVxuICAgICAgfTtcbiAgICAgIHJldHVybiBkYi5hbGxEb2NzKG9wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB2YXIgdmlld3NUb1N0YXR1cyA9IHt9O1xuICAgICAgICByZXMucm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICB2YXIgZGRvY05hbWUgPSByb3cua2V5LnN1YnN0cmluZyg4KTsgLy8gY3V0cyBvZmYgJ19kZXNpZ24vJ1xuICAgICAgICAgIGRvY3NUb1ZpZXdzLmdldChyb3cua2V5KS5mb3JFYWNoKGZ1bmN0aW9uICh2aWV3TmFtZSkge1xuICAgICAgICAgICAgdmFyIGZ1bGxWaWV3TmFtZSA9IGRkb2NOYW1lICsgJy8nICsgdmlld05hbWU7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICghbWV0YURvYy52aWV3c1tmdWxsVmlld05hbWVdKSB7XG4gICAgICAgICAgICAgIC8vIG5ldyBmb3JtYXQsIHdpdGhvdXQgc2xhc2hlcywgdG8gc3VwcG9ydCBQb3VjaERCIDIuMi4wXG4gICAgICAgICAgICAgIC8vIG1pZ3JhdGlvbiB0ZXN0IGluIHBvdWNoZGIncyBicm93c2VyLm1pZ3JhdGlvbi5qcyB2ZXJpZmllcyB0aGlzXG4gICAgICAgICAgICAgIGZ1bGxWaWV3TmFtZSA9IHZpZXdOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZpZXdEQk5hbWVzID0gT2JqZWN0LmtleXMobWV0YURvYy52aWV3c1tmdWxsVmlld05hbWVdKTtcbiAgICAgICAgICAgIC8vIGRlc2lnbiBkb2MgZGVsZXRlZCwgb3IgdmlldyBmdW5jdGlvbiBub25leGlzdGVudFxuICAgICAgICAgICAgdmFyIHN0YXR1c0lzR29vZCA9IHJvdy5kb2MgJiYgcm93LmRvYy52aWV3cyAmJlxuICAgICAgICAgICAgICByb3cuZG9jLnZpZXdzW3ZpZXdOYW1lXTtcbiAgICAgICAgICAgIHZpZXdEQk5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHZpZXdEQk5hbWUpIHtcbiAgICAgICAgICAgICAgdmlld3NUb1N0YXR1c1t2aWV3REJOYW1lXSA9XG4gICAgICAgICAgICAgICAgdmlld3NUb1N0YXR1c1t2aWV3REJOYW1lXSB8fCBzdGF0dXNJc0dvb2Q7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBkYnNUb0RlbGV0ZSA9IE9iamVjdC5rZXlzKHZpZXdzVG9TdGF0dXMpLmZpbHRlcihcbiAgICAgICAgICBmdW5jdGlvbiAodmlld0RCTmFtZSkgeyByZXR1cm4gIXZpZXdzVG9TdGF0dXNbdmlld0RCTmFtZV07IH0pO1xuICAgICAgICB2YXIgZGVzdHJveVByb21pc2VzID0gZGJzVG9EZWxldGUubWFwKGZ1bmN0aW9uICh2aWV3REJOYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIHNlcXVlbnRpYWxpemUoZ2V0UXVldWUodmlld0RCTmFtZSksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZGIuY29uc3RydWN0b3Iodmlld0RCTmFtZSwgZGIuX19vcHRzKS5kZXN0cm95KCk7XG4gICAgICAgICAgfSkoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChkZXN0cm95UHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB7b2s6IHRydWV9O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sIGRlZmF1bHRzVG8oe29rOiB0cnVlfSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcXVlcnlQcm9taXNlZChkYiwgZnVuLCBvcHRzKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAodHlwZW9mIGRiLl9xdWVyeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVF1ZXJ5KGRiLCBmdW4sIG9wdHMpO1xuICAgIH1cbiAgICBpZiAoaXNSZW1vdGUoZGIpKSB7XG4gICAgICByZXR1cm4gaHR0cFF1ZXJ5KGRiLCBmdW4sIG9wdHMpO1xuICAgIH1cblxuICAgIHZhciB1cGRhdGVWaWV3T3B0cyA9IHtcbiAgICAgIGNoYW5nZXNfYmF0Y2hfc2l6ZTogZGIuX19vcHRzLnZpZXdfdXBkYXRlX2NoYW5nZXNfYmF0Y2hfc2l6ZSB8fCBDSEFOR0VTX0JBVENIX1NJWkUkMVxuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIGZ1biAhPT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIHRlbXBfdmlld1xuICAgICAgY2hlY2tRdWVyeVBhcnNlRXJyb3Iob3B0cywgZnVuKTtcblxuICAgICAgdGVtcFZpZXdRdWV1ZS5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3JlYXRlVmlld1Byb21pc2UgPSBjcmVhdGVWaWV3KFxuICAgICAgICAgIC8qIHNvdXJjZURCICovIGRiLFxuICAgICAgICAgIC8qIHZpZXdOYW1lICovICd0ZW1wX3ZpZXcvdGVtcF92aWV3JyxcbiAgICAgICAgICAvKiBtYXBGdW4gKi8gZnVuLm1hcCxcbiAgICAgICAgICAvKiByZWR1Y2VGdW4gKi8gZnVuLnJlZHVjZSxcbiAgICAgICAgICAvKiB0ZW1wb3JhcnkgKi8gdHJ1ZSxcbiAgICAgICAgICAvKiBsb2NhbERvY05hbWUgKi8gbG9jYWxEb2NOYW1lKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZpZXdQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgICAgICByZXR1cm4gZmluKHVwZGF0ZVZpZXcodmlldywgdXBkYXRlVmlld09wdHMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Vmlldyh2aWV3LCBvcHRzKTtcbiAgICAgICAgICB9KSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHZpZXcuZGIuZGVzdHJveSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRlbXBWaWV3UXVldWUuZmluaXNoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHBlcnNpc3RlbnQgdmlld1xuICAgICAgdmFyIGZ1bGxWaWV3TmFtZSA9IGZ1bjtcbiAgICAgIHZhciBwYXJ0cyA9IHBhcnNlVmlld05hbWUoZnVsbFZpZXdOYW1lKTtcbiAgICAgIHZhciBkZXNpZ25Eb2NOYW1lID0gcGFydHNbMF07XG4gICAgICB2YXIgdmlld05hbWUgPSBwYXJ0c1sxXTtcbiAgICAgIHJldHVybiBkYi5nZXQoJ19kZXNpZ24vJyArIGRlc2lnbkRvY05hbWUpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgICB2YXIgZnVuID0gZG9jLnZpZXdzICYmIGRvYy52aWV3c1t2aWV3TmFtZV07XG5cbiAgICAgICAgaWYgKCFmdW4pIHtcbiAgICAgICAgICAvLyBiYXNpYyB2YWxpZGF0b3I7IGl0J3MgYXNzdW1lZCB0aGF0IGV2ZXJ5IHN1YmNsYXNzIHdvdWxkIHdhbnQgdGhpc1xuICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEVycm9yKCdkZG9jICcgKyBkb2MuX2lkICsgJyBoYXMgbm8gdmlldyBuYW1lZCAnICtcbiAgICAgICAgICAgIHZpZXdOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRkb2NWYWxpZGF0b3IoZG9jLCB2aWV3TmFtZSk7XG4gICAgICAgIGNoZWNrUXVlcnlQYXJzZUVycm9yKG9wdHMsIGZ1bik7XG5cbiAgICAgICAgdmFyIGNyZWF0ZVZpZXdQcm9taXNlID0gY3JlYXRlVmlldyhcbiAgICAgICAgICAvKiBzb3VyY2VEQiAqLyBkYixcbiAgICAgICAgICAvKiB2aWV3TmFtZSAqLyBmdWxsVmlld05hbWUsXG4gICAgICAgICAgLyogbWFwRnVuICovIGZ1bi5tYXAsXG4gICAgICAgICAgLyogcmVkdWNlRnVuICovIGZ1bi5yZWR1Y2UsXG4gICAgICAgICAgLyogdGVtcG9yYXJ5ICovIGZhbHNlLFxuICAgICAgICAgIC8qIGxvY2FsRG9jTmFtZSAqLyBsb2NhbERvY05hbWUpO1xuICAgICAgICByZXR1cm4gY3JlYXRlVmlld1Byb21pc2UudGhlbihmdW5jdGlvbiAodmlldykge1xuICAgICAgICAgIGlmIChvcHRzLnN0YWxlID09PSAnb2snIHx8IG9wdHMuc3RhbGUgPT09ICd1cGRhdGVfYWZ0ZXInKSB7XG4gICAgICAgICAgICBpZiAob3B0cy5zdGFsZSA9PT0gJ3VwZGF0ZV9hZnRlcicpIHtcbiAgICAgICAgICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVWaWV3KHZpZXcsIHVwZGF0ZVZpZXdPcHRzKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcXVlcnlWaWV3KHZpZXcsIG9wdHMpO1xuICAgICAgICAgIH0gZWxzZSB7IC8vIHN0YWxlIG5vdCBva1xuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZVZpZXcodmlldywgdXBkYXRlVmlld09wdHMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gcXVlcnlWaWV3KHZpZXcsIG9wdHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFic3RyYWN0UXVlcnkoZnVuLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHZhciBkYiA9IHRoaXM7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIG9wdHMgPSBvcHRzID8gY29lcmNlT3B0aW9ucyhvcHRzKSA6IHt9O1xuXG4gICAgaWYgKHR5cGVvZiBmdW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZ1biA9IHttYXAgOiBmdW59O1xuICAgIH1cblxuICAgIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcXVlcnlQcm9taXNlZChkYiwgZnVuLCBvcHRzKTtcbiAgICB9KTtcbiAgICBwcm9taXNlZENhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHZhciBhYnN0cmFjdFZpZXdDbGVhbnVwID0gY2FsbGJhY2tpZnkoZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYiA9IHRoaXM7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAodHlwZW9mIGRiLl92aWV3Q2xlYW51cCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVZpZXdDbGVhbnVwKGRiKTtcbiAgICB9XG4gICAgaWYgKGlzUmVtb3RlKGRiKSkge1xuICAgICAgcmV0dXJuIGh0dHBWaWV3Q2xlYW51cChkYik7XG4gICAgfVxuICAgIHJldHVybiBsb2NhbFZpZXdDbGVhbnVwKGRiKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBxdWVyeTogYWJzdHJhY3RRdWVyeSxcbiAgICB2aWV3Q2xlYW51cDogYWJzdHJhY3RWaWV3Q2xlYW51cFxuICB9O1xufVxuXG52YXIgYnVpbHRJblJlZHVjZSA9IHtcbiAgX3N1bTogZnVuY3Rpb24gKGtleXMsIHZhbHVlcykge1xuICAgIHJldHVybiBzdW0odmFsdWVzKTtcbiAgfSxcblxuICBfY291bnQ6IGZ1bmN0aW9uIChrZXlzLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4gdmFsdWVzLmxlbmd0aDtcbiAgfSxcblxuICBfc3RhdHM6IGZ1bmN0aW9uIChrZXlzLCB2YWx1ZXMpIHtcbiAgICAvLyBubyBuZWVkIHRvIGltcGxlbWVudCByZXJlZHVjZT10cnVlLCBiZWNhdXNlIFBvdWNoXG4gICAgLy8gd2lsbCBuZXZlciBjYWxsIGl0XG4gICAgZnVuY3Rpb24gc3Vtc3FyKHZhbHVlcykge1xuICAgICAgdmFyIF9zdW1zcXIgPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgbnVtID0gdmFsdWVzW2ldO1xuICAgICAgICBfc3Vtc3FyICs9IChudW0gKiBudW0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9zdW1zcXI7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzdW0gICAgIDogc3VtKHZhbHVlcyksXG4gICAgICBtaW4gICAgIDogTWF0aC5taW4uYXBwbHkobnVsbCwgdmFsdWVzKSxcbiAgICAgIG1heCAgICAgOiBNYXRoLm1heC5hcHBseShudWxsLCB2YWx1ZXMpLFxuICAgICAgY291bnQgICA6IHZhbHVlcy5sZW5ndGgsXG4gICAgICBzdW1zcXIgOiBzdW1zcXIodmFsdWVzKVxuICAgIH07XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldEJ1aWx0SW4ocmVkdWNlRnVuU3RyaW5nKSB7XG4gIGlmICgvXl9zdW0vLnRlc3QocmVkdWNlRnVuU3RyaW5nKSkge1xuICAgIHJldHVybiBidWlsdEluUmVkdWNlLl9zdW07XG4gIH0gZWxzZSBpZiAoL15fY291bnQvLnRlc3QocmVkdWNlRnVuU3RyaW5nKSkge1xuICAgIHJldHVybiBidWlsdEluUmVkdWNlLl9jb3VudDtcbiAgfSBlbHNlIGlmICgvXl9zdGF0cy8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW5SZWR1Y2UuX3N0YXRzO1xuICB9IGVsc2UgaWYgKC9eXy8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHJlZHVjZUZ1blN0cmluZyArICcgaXMgbm90IGEgc3VwcG9ydGVkIHJlZHVjZSBmdW5jdGlvbi4nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXBwZXIobWFwRnVuLCBlbWl0KSB7XG4gIC8vIGZvciB0ZW1wX3ZpZXdzIG9uZSBjYW4gdXNlIGVtaXQoZG9jLCBlbWl0KSwgc2VlICMzOFxuICBpZiAodHlwZW9mIG1hcEZ1biA9PT0gXCJmdW5jdGlvblwiICYmIG1hcEZ1bi5sZW5ndGggPT09IDIpIHtcbiAgICB2YXIgb3JpZ01hcCA9IG1hcEZ1bjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGRvYykge1xuICAgICAgcmV0dXJuIG9yaWdNYXAoZG9jLCBlbWl0KTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBldmFsRnVuY3Rpb25XaXRoRXZhbChtYXBGdW4udG9TdHJpbmcoKSwgZW1pdCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVkdWNlcihyZWR1Y2VGdW4pIHtcbiAgdmFyIHJlZHVjZUZ1blN0cmluZyA9IHJlZHVjZUZ1bi50b1N0cmluZygpO1xuICB2YXIgYnVpbHRJbiA9IGdldEJ1aWx0SW4ocmVkdWNlRnVuU3RyaW5nKTtcbiAgaWYgKGJ1aWx0SW4pIHtcbiAgICByZXR1cm4gYnVpbHRJbjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZXZhbEZ1bmN0aW9uV2l0aEV2YWwocmVkdWNlRnVuU3RyaW5nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZG9jVmFsaWRhdG9yKGRkb2MsIHZpZXdOYW1lKSB7XG4gIHZhciBmdW4gPSBkZG9jLnZpZXdzICYmIGRkb2Mudmlld3Nbdmlld05hbWVdO1xuICBpZiAodHlwZW9mIGZ1bi5tYXAgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IE5vdEZvdW5kRXJyb3IoJ2Rkb2MgJyArIGRkb2MuX2lkICsgJyBoYXMgbm8gc3RyaW5nIHZpZXcgbmFtZWQgJyArXG4gICAgICB2aWV3TmFtZSArICcsIGluc3RlYWQgZm91bmQgb2JqZWN0IG9mIHR5cGU6ICcgKyB0eXBlb2YgZnVuLm1hcCk7XG4gIH1cbn1cblxudmFyIGxvY2FsRG9jTmFtZSA9ICdtcnZpZXdzJztcbnZhciBhYnN0cmFjdCA9IGNyZWF0ZUFic3RyYWN0TWFwUmVkdWNlKGxvY2FsRG9jTmFtZSwgbWFwcGVyLCByZWR1Y2VyLCBkZG9jVmFsaWRhdG9yKTtcblxuZnVuY3Rpb24gcXVlcnkoZnVuLCBvcHRzLCBjYWxsYmFjaykge1xuICByZXR1cm4gYWJzdHJhY3QucXVlcnkuY2FsbCh0aGlzLCBmdW4sIG9wdHMsIGNhbGxiYWNrKTtcbn1cblxuZnVuY3Rpb24gdmlld0NsZWFudXAoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGFic3RyYWN0LnZpZXdDbGVhbnVwLmNhbGwodGhpcywgY2FsbGJhY2spO1xufVxuXG52YXIgbWFwcmVkdWNlID0ge1xuICBxdWVyeTogcXVlcnksXG4gIHZpZXdDbGVhbnVwOiB2aWV3Q2xlYW51cFxufTtcblxuZnVuY3Rpb24gaXNHZW5PbmUkMShyZXYpIHtcbiAgcmV0dXJuIC9eMS0vLnRlc3QocmV2KTtcbn1cblxuZnVuY3Rpb24gZmlsZUhhc0NoYW5nZWQobG9jYWxEb2MsIHJlbW90ZURvYywgZmlsZW5hbWUpIHtcbiAgcmV0dXJuICFsb2NhbERvYy5fYXR0YWNobWVudHMgfHxcbiAgICAgICAgICFsb2NhbERvYy5fYXR0YWNobWVudHNbZmlsZW5hbWVdIHx8XG4gICAgICAgICBsb2NhbERvYy5fYXR0YWNobWVudHNbZmlsZW5hbWVdLmRpZ2VzdCAhPT0gcmVtb3RlRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZV0uZGlnZXN0O1xufVxuXG5mdW5jdGlvbiBnZXREb2NBdHRhY2htZW50cyhkYiwgZG9jKSB7XG4gIHZhciBmaWxlbmFtZXMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcbiAgcmV0dXJuIFByb21pc2UuYWxsKGZpbGVuYW1lcy5tYXAoZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgcmV0dXJuIGRiLmdldEF0dGFjaG1lbnQoZG9jLl9pZCwgZmlsZW5hbWUsIHtyZXY6IGRvYy5fcmV2fSk7XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gZ2V0RG9jQXR0YWNobWVudHNGcm9tVGFyZ2V0T3JTb3VyY2UodGFyZ2V0LCBzcmMsIGRvYykge1xuICB2YXIgZG9DaGVja0ZvckxvY2FsQXR0YWNobWVudHMgPSBpc1JlbW90ZShzcmMpICYmICFpc1JlbW90ZSh0YXJnZXQpO1xuICB2YXIgZmlsZW5hbWVzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyk7XG5cbiAgaWYgKCFkb0NoZWNrRm9yTG9jYWxBdHRhY2htZW50cykge1xuICAgIHJldHVybiBnZXREb2NBdHRhY2htZW50cyhzcmMsIGRvYyk7XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0LmdldChkb2MuX2lkKS50aGVuKGZ1bmN0aW9uIChsb2NhbERvYykge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChmaWxlbmFtZXMubWFwKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgaWYgKGZpbGVIYXNDaGFuZ2VkKGxvY2FsRG9jLCBkb2MsIGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gc3JjLmdldEF0dGFjaG1lbnQoZG9jLl9pZCwgZmlsZW5hbWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGFyZ2V0LmdldEF0dGFjaG1lbnQobG9jYWxEb2MuX2lkLCBmaWxlbmFtZSk7XG4gICAgfSkpO1xuICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZXJyb3Iuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIHJldHVybiBnZXREb2NBdHRhY2htZW50cyhzcmMsIGRvYyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWxrR2V0T3B0cyhkaWZmcykge1xuICB2YXIgcmVxdWVzdHMgPSBbXTtcbiAgT2JqZWN0LmtleXMoZGlmZnMpLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgdmFyIG1pc3NpbmdSZXZzID0gZGlmZnNbaWRdLm1pc3Npbmc7XG4gICAgbWlzc2luZ1JldnMuZm9yRWFjaChmdW5jdGlvbiAobWlzc2luZ1Jldikge1xuICAgICAgcmVxdWVzdHMucHVzaCh7XG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgcmV2OiBtaXNzaW5nUmV2XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBkb2NzOiByZXF1ZXN0cyxcbiAgICByZXZzOiB0cnVlLFxuICAgIGxhdGVzdDogdHJ1ZVxuICB9O1xufVxuXG4vL1xuLy8gRmV0Y2ggYWxsIHRoZSBkb2N1bWVudHMgZnJvbSB0aGUgc3JjIGFzIGRlc2NyaWJlZCBpbiB0aGUgXCJkaWZmc1wiLFxuLy8gd2hpY2ggaXMgYSBtYXBwaW5nIG9mIGRvY3MgSURzIHRvIHJldmlzaW9ucy4gSWYgdGhlIHN0YXRlIGV2ZXJcbi8vIGNoYW5nZXMgdG8gXCJjYW5jZWxsZWRcIiwgdGhlbiB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkLlxuLy8gRWxzZSBpdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggYSBsaXN0IG9mIGZldGNoZWQgZG9jdW1lbnRzLlxuLy9cbmZ1bmN0aW9uIGdldERvY3Moc3JjLCB0YXJnZXQsIGRpZmZzLCBzdGF0ZSkge1xuICBkaWZmcyA9IGNsb25lKGRpZmZzKTsgLy8gd2UgZG8gbm90IG5lZWQgdG8gbW9kaWZ5IHRoaXNcblxuICB2YXIgcmVzdWx0RG9jcyA9IFtdLFxuICAgICAgb2sgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIGdldEFsbERvY3MoKSB7XG5cbiAgICB2YXIgYnVsa0dldE9wdHMgPSBjcmVhdGVCdWxrR2V0T3B0cyhkaWZmcyk7XG5cbiAgICBpZiAoIWJ1bGtHZXRPcHRzLmRvY3MubGVuZ3RoKSB7IC8vIG9wdGltaXphdGlvbjogc2tpcCBlbXB0eSByZXF1ZXN0c1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBzcmMuYnVsa0dldChidWxrR2V0T3B0cykudGhlbihmdW5jdGlvbiAoYnVsa0dldFJlc3BvbnNlKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChzdGF0ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChidWxrR2V0UmVzcG9uc2UucmVzdWx0cy5tYXAoZnVuY3Rpb24gKGJ1bGtHZXRJbmZvKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChidWxrR2V0SW5mby5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgdmFyIHJlbW90ZURvYyA9IGRvYy5vaztcblxuICAgICAgICAgIGlmIChkb2MuZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIHdoZW4gQVVUT19DT01QQUNUSU9OIGlzIHNldCwgZG9jcyBjYW4gYmUgcmV0dXJuZWQgd2hpY2ggbG9va1xuICAgICAgICAgICAgLy8gbGlrZSB0aGlzOiB7XCJtaXNzaW5nXCI6XCIxLTdjM2FjMjU2YjY5M2M0NjJhZjg0NDJmOTkyYjgzNjk2XCJ9XG4gICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghcmVtb3RlRG9jIHx8ICFyZW1vdGVEb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVtb3RlRG9jO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBnZXREb2NBdHRhY2htZW50c0Zyb21UYXJnZXRPclNvdXJjZSh0YXJnZXQsIHNyYywgcmVtb3RlRG9jKVxuICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChhdHRhY2htZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lcyA9IE9iamVjdC5rZXlzKHJlbW90ZURvYy5fYXR0YWNobWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGF0dGFjaG1lbnQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0ID0gcmVtb3RlRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZXNbaV1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHQuc3R1YjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXR0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHQuZGF0YSA9IGF0dGFjaG1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZW1vdGVEb2M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgfSkpXG5cbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgIHJlc3VsdERvY3MgPSByZXN1bHREb2NzLmNvbmNhdChmbGF0dGVuKHJlc3VsdHMpLmZpbHRlcihCb29sZWFuKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0F0dGFjaG1lbnRzKGRvYykge1xuICAgIHJldHVybiBkb2MuX2F0dGFjaG1lbnRzICYmIE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpLmxlbmd0aCA+IDA7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNDb25mbGljdHMoZG9jKSB7XG4gICAgcmV0dXJuIGRvYy5fY29uZmxpY3RzICYmIGRvYy5fY29uZmxpY3RzLmxlbmd0aCA+IDA7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaFJldmlzaW9uT25lRG9jcyhpZHMpIHtcbiAgICAvLyBPcHRpbWl6YXRpb246IGZldGNoIGdlbi0xIGRvY3MgYW5kIGF0dGFjaG1lbnRzIGluXG4gICAgLy8gYSBzaW5nbGUgcmVxdWVzdCB1c2luZyBfYWxsX2RvY3NcbiAgICByZXR1cm4gc3JjLmFsbERvY3Moe1xuICAgICAga2V5czogaWRzLFxuICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlLFxuICAgICAgY29uZmxpY3RzOiB0cnVlXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICBpZiAoc3RhdGUuY2FuY2VsbGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgICByZXMucm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgaWYgKHJvdy5kZWxldGVkIHx8ICFyb3cuZG9jIHx8ICFpc0dlbk9uZSQxKHJvdy52YWx1ZS5yZXYpIHx8XG4gICAgICAgICAgICBoYXNBdHRhY2htZW50cyhyb3cuZG9jKSB8fCBoYXNDb25mbGljdHMocm93LmRvYykpIHtcbiAgICAgICAgICAvLyBpZiBhbnkgb2YgdGhlc2UgY29uZGl0aW9ucyBhcHBseSwgd2UgbmVlZCB0byBmZXRjaCB1c2luZyBnZXQoKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0cmlwIF9jb25mbGljdHMgYXJyYXkgdG8gYXBwZWFzZSBDU0cgKCM1NzkzKVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHJvdy5kb2MuX2NvbmZsaWN0cykge1xuICAgICAgICAgIGRlbGV0ZSByb3cuZG9jLl9jb25mbGljdHM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGUgZG9jIHdlIGdvdCBiYWNrIGZyb20gYWxsRG9jcygpIGlzIHN1ZmZpY2llbnRcbiAgICAgICAgcmVzdWx0RG9jcy5wdXNoKHJvdy5kb2MpO1xuICAgICAgICBkZWxldGUgZGlmZnNbcm93LmlkXTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmV2aXNpb25PbmVEb2NzKCkge1xuICAgIC8vIGZpbHRlciBvdXQgdGhlIGdlbmVyYXRpb24gMSBkb2NzIGFuZCBnZXQgdGhlbVxuICAgIC8vIGxlYXZpbmcgdGhlIG5vbi1nZW5lcmF0aW9uIG9uZSBkb2NzIHRvIGJlIGdvdCBvdGhlcndpc2VcbiAgICB2YXIgaWRzID0gT2JqZWN0LmtleXMoZGlmZnMpLmZpbHRlcihmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHZhciBtaXNzaW5nID0gZGlmZnNbaWRdLm1pc3Npbmc7XG4gICAgICByZXR1cm4gbWlzc2luZy5sZW5ndGggPT09IDEgJiYgaXNHZW5PbmUkMShtaXNzaW5nWzBdKTtcbiAgICB9KTtcbiAgICBpZiAoaWRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBmZXRjaFJldmlzaW9uT25lRG9jcyhpZHMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldHVyblJlc3VsdCgpIHtcbiAgICByZXR1cm4geyBvazpvaywgZG9jczpyZXN1bHREb2NzIH07XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAudGhlbihnZXRSZXZpc2lvbk9uZURvY3MpXG4gICAgLnRoZW4oZ2V0QWxsRG9jcylcbiAgICAudGhlbihyZXR1cm5SZXN1bHQpO1xufVxuXG52YXIgQ0hFQ0tQT0lOVF9WRVJTSU9OID0gMTtcbnZhciBSRVBMSUNBVE9SID0gXCJwb3VjaGRiXCI7XG4vLyBUaGlzIGlzIGFuIGFyYml0cmFyeSBudW1iZXIgdG8gbGltaXQgdGhlXG4vLyBhbW91bnQgb2YgcmVwbGljYXRpb24gaGlzdG9yeSB3ZSBzYXZlIGluIHRoZSBjaGVja3BvaW50LlxuLy8gSWYgd2Ugc2F2ZSB0b28gbXVjaCwgdGhlIGNoZWNrcG9pbmcgZG9jcyB3aWxsIGJlY29tZSB2ZXJ5IGJpZyxcbi8vIGlmIHdlIHNhdmUgZmV3ZXIsIHdlJ2xsIHJ1biBhIGdyZWF0ZXIgcmlzayBvZiBoYXZpbmcgdG9cbi8vIHJlYWQgYWxsIHRoZSBjaGFuZ2VzIGZyb20gMCB3aGVuIGNoZWNrcG9pbnQgUFVUcyBmYWlsXG4vLyBDb3VjaERCIDIuMCBoYXMgYSBtb3JlIGludm9sdmVkIGhpc3RvcnkgcHJ1bmluZyxcbi8vIGJ1dCBsZXQncyBnbyBmb3IgdGhlIHNpbXBsZSB2ZXJzaW9uIGZvciBub3cuXG52YXIgQ0hFQ0tQT0lOVF9ISVNUT1JZX1NJWkUgPSA1O1xudmFyIExPV0VTVF9TRVEgPSAwO1xuXG5mdW5jdGlvbiB1cGRhdGVDaGVja3BvaW50KGRiLCBpZCwgY2hlY2twb2ludCwgc2Vzc2lvbiwgcmV0dXJuVmFsdWUpIHtcbiAgcmV0dXJuIGRiLmdldChpZCkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgIGlmIChkYi5hZGFwdGVyID09PSAnaHR0cCcgfHwgZGIuYWRhcHRlciA9PT0gJ2h0dHBzJykge1xuICAgICAgICBleHBsYWluRXJyb3IoXG4gICAgICAgICAgNDA0LCAnUG91Y2hEQiBpcyBqdXN0IGNoZWNraW5nIGlmIGEgcmVtb3RlIGNoZWNrcG9pbnQgZXhpc3RzLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNlc3Npb25faWQ6IHNlc3Npb24sXG4gICAgICAgIF9pZDogaWQsXG4gICAgICAgIGhpc3Rvcnk6IFtdLFxuICAgICAgICByZXBsaWNhdG9yOiBSRVBMSUNBVE9SLFxuICAgICAgICB2ZXJzaW9uOiBDSEVDS1BPSU5UX1ZFUlNJT05cbiAgICAgIH07XG4gICAgfVxuICAgIHRocm93IGVycjtcbiAgfSkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGlmIHRoZSBjaGVja3BvaW50IGhhcyBub3QgY2hhbmdlZCwgZG8gbm90IHVwZGF0ZVxuICAgIGlmIChkb2MubGFzdF9zZXEgPT09IGNoZWNrcG9pbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGaWx0ZXIgb3V0IGN1cnJlbnQgZW50cnkgZm9yIHRoaXMgcmVwbGljYXRpb25cbiAgICBkb2MuaGlzdG9yeSA9IChkb2MuaGlzdG9yeSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5zZXNzaW9uX2lkICE9PSBzZXNzaW9uO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIHRoZSBsYXRlc3QgY2hlY2twb2ludCB0byBoaXN0b3J5XG4gICAgZG9jLmhpc3RvcnkudW5zaGlmdCh7XG4gICAgICBsYXN0X3NlcTogY2hlY2twb2ludCxcbiAgICAgIHNlc3Npb25faWQ6IHNlc3Npb25cbiAgICB9KTtcblxuICAgIC8vIEp1c3QgdGFrZSB0aGUgbGFzdCBwaWVjZXMgaW4gaGlzdG9yeSwgdG9cbiAgICAvLyBhdm9pZCByZWFsbHkgYmlnIGNoZWNrcG9pbnQgZG9jcy5cbiAgICAvLyBzZWUgY29tbWVudCBvbiBoaXN0b3J5IHNpemUgYWJvdmVcbiAgICBkb2MuaGlzdG9yeSA9IGRvYy5oaXN0b3J5LnNsaWNlKDAsIENIRUNLUE9JTlRfSElTVE9SWV9TSVpFKTtcblxuICAgIGRvYy52ZXJzaW9uID0gQ0hFQ0tQT0lOVF9WRVJTSU9OO1xuICAgIGRvYy5yZXBsaWNhdG9yID0gUkVQTElDQVRPUjtcblxuICAgIGRvYy5zZXNzaW9uX2lkID0gc2Vzc2lvbjtcbiAgICBkb2MubGFzdF9zZXEgPSBjaGVja3BvaW50O1xuXG4gICAgcmV0dXJuIGRiLnB1dChkb2MpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgLy8gcmV0cnk7IHNvbWVvbmUgaXMgdHJ5aW5nIHRvIHdyaXRlIGEgY2hlY2twb2ludCBzaW11bHRhbmVvdXNseVxuICAgICAgICByZXR1cm4gdXBkYXRlQ2hlY2twb2ludChkYiwgaWQsIGNoZWNrcG9pbnQsIHNlc3Npb24sIHJldHVyblZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIENoZWNrcG9pbnRlcihzcmMsIHRhcmdldCwgaWQsIHJldHVyblZhbHVlLCBvcHRzKSB7XG4gIHRoaXMuc3JjID0gc3JjO1xuICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgdGhpcy5pZCA9IGlkO1xuICB0aGlzLnJldHVyblZhbHVlID0gcmV0dXJuVmFsdWU7XG4gIHRoaXMub3B0cyA9IG9wdHMgfHwge307XG59XG5cbkNoZWNrcG9pbnRlci5wcm90b3R5cGUud3JpdGVDaGVja3BvaW50ID0gZnVuY3Rpb24gKGNoZWNrcG9pbnQsIHNlc3Npb24pIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICByZXR1cm4gdGhpcy51cGRhdGVUYXJnZXQoY2hlY2twb2ludCwgc2Vzc2lvbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHNlbGYudXBkYXRlU291cmNlKGNoZWNrcG9pbnQsIHNlc3Npb24pO1xuICB9KTtcbn07XG5cbkNoZWNrcG9pbnRlci5wcm90b3R5cGUudXBkYXRlVGFyZ2V0ID0gZnVuY3Rpb24gKGNoZWNrcG9pbnQsIHNlc3Npb24pIHtcbiAgaWYgKHRoaXMub3B0cy53cml0ZVRhcmdldENoZWNrcG9pbnQpIHtcbiAgICByZXR1cm4gdXBkYXRlQ2hlY2twb2ludCh0aGlzLnRhcmdldCwgdGhpcy5pZCwgY2hlY2twb2ludCxcbiAgICAgIHNlc3Npb24sIHRoaXMucmV0dXJuVmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gIH1cbn07XG5cbkNoZWNrcG9pbnRlci5wcm90b3R5cGUudXBkYXRlU291cmNlID0gZnVuY3Rpb24gKGNoZWNrcG9pbnQsIHNlc3Npb24pIHtcbiAgaWYgKHRoaXMub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIHVwZGF0ZUNoZWNrcG9pbnQodGhpcy5zcmMsIHRoaXMuaWQsIGNoZWNrcG9pbnQsXG4gICAgICBzZXNzaW9uLCB0aGlzLnJldHVyblZhbHVlKVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGlzRm9yYmlkZGVuRXJyb3IoZXJyKSkge1xuICAgICAgICAgIHNlbGYub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICB9XG59O1xuXG52YXIgY29tcGFyaXNvbnMgPSB7XG4gIFwidW5kZWZpbmVkXCI6IGZ1bmN0aW9uICh0YXJnZXREb2MsIHNvdXJjZURvYykge1xuICAgIC8vIFRoaXMgaXMgdGhlIHByZXZpb3VzIGNvbXBhcmlzb24gZnVuY3Rpb25cbiAgICBpZiAoY29sbGF0ZSh0YXJnZXREb2MubGFzdF9zZXEsIHNvdXJjZURvYy5sYXN0X3NlcSkgPT09IDApIHtcbiAgICAgIHJldHVybiBzb3VyY2VEb2MubGFzdF9zZXE7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcmV0dXJuIDA7XG4gIH0sXG4gIFwiMVwiOiBmdW5jdGlvbiAodGFyZ2V0RG9jLCBzb3VyY2VEb2MpIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uIHBvcnRlZCBmcm9tIENvdWNoREJcbiAgICByZXR1cm4gY29tcGFyZVJlcGxpY2F0aW9uTG9ncyhzb3VyY2VEb2MsIHRhcmdldERvYykubGFzdF9zZXE7XG4gIH1cbn07XG5cbkNoZWNrcG9pbnRlci5wcm90b3R5cGUuZ2V0Q2hlY2twb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmIChzZWxmLm9wdHMgJiYgc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCAmJiAhc2VsZi5vcHRzLndyaXRlVGFyZ2V0Q2hlY2twb2ludCkge1xuICAgIHJldHVybiBzZWxmLnNyYy5nZXQoc2VsZi5pZCkudGhlbihmdW5jdGlvbiAoc291cmNlRG9jKSB7XG4gICAgICByZXR1cm4gc291cmNlRG9jLmxhc3Rfc2VxIHx8IExPV0VTVF9TRVE7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHNlbGYudGFyZ2V0LmdldChzZWxmLmlkKS50aGVuKGZ1bmN0aW9uICh0YXJnZXREb2MpIHtcbiAgICBpZiAoc2VsZi5vcHRzICYmIHNlbGYub3B0cy53cml0ZVRhcmdldENoZWNrcG9pbnQgJiYgIXNlbGYub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQpIHtcbiAgICAgIHJldHVybiB0YXJnZXREb2MubGFzdF9zZXEgfHwgTE9XRVNUX1NFUTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZi5zcmMuZ2V0KHNlbGYuaWQpLnRoZW4oZnVuY3Rpb24gKHNvdXJjZURvYykge1xuICAgICAgLy8gU2luY2Ugd2UgY2FuJ3QgbWlncmF0ZSBhbiBvbGQgdmVyc2lvbiBkb2MgdG8gYSBuZXcgb25lXG4gICAgICAvLyAobm8gc2Vzc2lvbiBpZCksIHdlIGp1c3QgZ28gd2l0aCB0aGUgbG93ZXN0IHNlcSBpbiB0aGlzIGNhc2VcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHRhcmdldERvYy52ZXJzaW9uICE9PSBzb3VyY2VEb2MudmVyc2lvbikge1xuICAgICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICAgIH1cblxuICAgICAgdmFyIHZlcnNpb247XG4gICAgICBpZiAodGFyZ2V0RG9jLnZlcnNpb24pIHtcbiAgICAgICAgdmVyc2lvbiA9IHRhcmdldERvYy52ZXJzaW9uLnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2ZXJzaW9uID0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKHZlcnNpb24gaW4gY29tcGFyaXNvbnMpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmlzb25zW3ZlcnNpb25dKHRhcmdldERvYywgc291cmNlRG9jKTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDA0ICYmIHRhcmdldERvYy5sYXN0X3NlcSkge1xuICAgICAgICByZXR1cm4gc2VsZi5zcmMucHV0KHtcbiAgICAgICAgICBfaWQ6IHNlbGYuaWQsXG4gICAgICAgICAgbGFzdF9zZXE6IExPV0VTVF9TRVFcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBpZiAoaXNGb3JiaWRkZW5FcnJvcihlcnIpKSB7XG4gICAgICAgICAgICBzZWxmLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0RG9jLmxhc3Rfc2VxO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gIH0pO1xufTtcbi8vIFRoaXMgY2hlY2twb2ludCBjb21wYXJpc29uIGlzIHBvcnRlZCBmcm9tIENvdWNoREJzIHNvdXJjZVxuLy8gdGhleSBjb21lIGZyb20gaGVyZTpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hcGFjaGUvY291Y2hkYi1jb3VjaC1yZXBsaWNhdG9yL2Jsb2IvbWFzdGVyL3NyYy9jb3VjaF9yZXBsaWNhdG9yLmVybCNMODYzLUw5MDZcblxuZnVuY3Rpb24gY29tcGFyZVJlcGxpY2F0aW9uTG9ncyhzcmNEb2MsIHRndERvYykge1xuICBpZiAoc3JjRG9jLnNlc3Npb25faWQgPT09IHRndERvYy5zZXNzaW9uX2lkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3Rfc2VxOiBzcmNEb2MubGFzdF9zZXEsXG4gICAgICBoaXN0b3J5OiBzcmNEb2MuaGlzdG9yeVxuICAgIH07XG4gIH1cblxuICByZXR1cm4gY29tcGFyZVJlcGxpY2F0aW9uSGlzdG9yeShzcmNEb2MuaGlzdG9yeSwgdGd0RG9jLmhpc3RvcnkpO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5KHNvdXJjZUhpc3RvcnksIHRhcmdldEhpc3RvcnkpIHtcbiAgLy8gdGhlIGVybGFuZyBsb29wIHZpYSBmdW5jdGlvbiBhcmd1bWVudHMgaXMgbm90IHNvIGVhc3kgdG8gcmVwZWF0IGluIEpTXG4gIC8vIHRoZXJlZm9yZSwgZG9pbmcgdGhpcyBhcyByZWN1cnNpb25cbiAgdmFyIFMgPSBzb3VyY2VIaXN0b3J5WzBdO1xuICB2YXIgc291cmNlUmVzdCA9IHNvdXJjZUhpc3Rvcnkuc2xpY2UoMSk7XG4gIHZhciBUID0gdGFyZ2V0SGlzdG9yeVswXTtcbiAgdmFyIHRhcmdldFJlc3QgPSB0YXJnZXRIaXN0b3J5LnNsaWNlKDEpO1xuXG4gIGlmICghUyB8fCB0YXJnZXRIaXN0b3J5Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXN0X3NlcTogTE9XRVNUX1NFUSxcbiAgICAgIGhpc3Rvcnk6IFtdXG4gICAgfTtcbiAgfVxuXG4gIHZhciBzb3VyY2VJZCA9IFMuc2Vzc2lvbl9pZDtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChoYXNTZXNzaW9uSWQoc291cmNlSWQsIHRhcmdldEhpc3RvcnkpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3Rfc2VxOiBTLmxhc3Rfc2VxLFxuICAgICAgaGlzdG9yeTogc291cmNlSGlzdG9yeVxuICAgIH07XG4gIH1cblxuICB2YXIgdGFyZ2V0SWQgPSBULnNlc3Npb25faWQ7XG4gIGlmIChoYXNTZXNzaW9uSWQodGFyZ2V0SWQsIHNvdXJjZVJlc3QpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3Rfc2VxOiBULmxhc3Rfc2VxLFxuICAgICAgaGlzdG9yeTogdGFyZ2V0UmVzdFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gY29tcGFyZVJlcGxpY2F0aW9uSGlzdG9yeShzb3VyY2VSZXN0LCB0YXJnZXRSZXN0KTtcbn1cblxuZnVuY3Rpb24gaGFzU2Vzc2lvbklkKHNlc3Npb25JZCwgaGlzdG9yeSkge1xuICB2YXIgcHJvcHMgPSBoaXN0b3J5WzBdO1xuICB2YXIgcmVzdCA9IGhpc3Rvcnkuc2xpY2UoMSk7XG5cbiAgaWYgKCFzZXNzaW9uSWQgfHwgaGlzdG9yeS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoc2Vzc2lvbklkID09PSBwcm9wcy5zZXNzaW9uX2lkKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gaGFzU2Vzc2lvbklkKHNlc3Npb25JZCwgcmVzdCk7XG59XG5cbmZ1bmN0aW9uIGlzRm9yYmlkZGVuRXJyb3IoZXJyKSB7XG4gIHJldHVybiB0eXBlb2YgZXJyLnN0YXR1cyA9PT0gJ251bWJlcicgJiYgTWF0aC5mbG9vcihlcnIuc3RhdHVzIC8gMTAwKSA9PT0gNDtcbn1cblxudmFyIFNUQVJUSU5HX0JBQ0tfT0ZGID0gMDtcblxuZnVuY3Rpb24gYmFja09mZihvcHRzLCByZXR1cm5WYWx1ZSwgZXJyb3IsIGNhbGxiYWNrKSB7XG4gIGlmIChvcHRzLnJldHJ5ID09PSBmYWxzZSkge1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgIHJldHVyblZhbHVlLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHJldHVybjtcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHR5cGVvZiBvcHRzLmJhY2tfb2ZmX2Z1bmN0aW9uICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0cy5iYWNrX29mZl9mdW5jdGlvbiA9IGRlZmF1bHRCYWNrT2ZmO1xuICB9XG4gIHJldHVyblZhbHVlLmVtaXQoJ3JlcXVlc3RFcnJvcicsIGVycm9yKTtcbiAgaWYgKHJldHVyblZhbHVlLnN0YXRlID09PSAnYWN0aXZlJyB8fCByZXR1cm5WYWx1ZS5zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgcmV0dXJuVmFsdWUuZW1pdCgncGF1c2VkJywgZXJyb3IpO1xuICAgIHJldHVyblZhbHVlLnN0YXRlID0gJ3N0b3BwZWQnO1xuICAgIHZhciBiYWNrT2ZmU2V0ID0gZnVuY3Rpb24gYmFja29mZlRpbWVTZXQoKSB7XG4gICAgICBvcHRzLmN1cnJlbnRfYmFja19vZmYgPSBTVEFSVElOR19CQUNLX09GRjtcbiAgICB9O1xuICAgIHZhciByZW1vdmVCYWNrT2ZmU2V0dGVyID0gZnVuY3Rpb24gcmVtb3ZlQmFja09mZlRpbWVTZXQoKSB7XG4gICAgICByZXR1cm5WYWx1ZS5yZW1vdmVMaXN0ZW5lcignYWN0aXZlJywgYmFja09mZlNldCk7XG4gICAgfTtcbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdwYXVzZWQnLCByZW1vdmVCYWNrT2ZmU2V0dGVyKTtcbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdhY3RpdmUnLCBiYWNrT2ZmU2V0KTtcbiAgfVxuXG4gIG9wdHMuY3VycmVudF9iYWNrX29mZiA9IG9wdHMuY3VycmVudF9iYWNrX29mZiB8fCBTVEFSVElOR19CQUNLX09GRjtcbiAgb3B0cy5jdXJyZW50X2JhY2tfb2ZmID0gb3B0cy5iYWNrX29mZl9mdW5jdGlvbihvcHRzLmN1cnJlbnRfYmFja19vZmYpO1xuICBzZXRUaW1lb3V0KGNhbGxiYWNrLCBvcHRzLmN1cnJlbnRfYmFja19vZmYpO1xufVxuXG5mdW5jdGlvbiBzb3J0T2JqZWN0UHJvcGVydGllc0J5S2V5KHF1ZXJ5UGFyYW1zKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhxdWVyeVBhcmFtcykuc29ydChjb2xsYXRlKS5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5KSB7XG4gICAgcmVzdWx0W2tleV0gPSBxdWVyeVBhcmFtc1trZXldO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIHt9KTtcbn1cblxuLy8gR2VuZXJhdGUgYSB1bmlxdWUgaWQgcGFydGljdWxhciB0byB0aGlzIHJlcGxpY2F0aW9uLlxuLy8gTm90IGd1YXJhbnRlZWQgdG8gYWxpZ24gcGVyZmVjdGx5IHdpdGggQ291Y2hEQidzIHJlcCBpZHMuXG5mdW5jdGlvbiBnZW5lcmF0ZVJlcGxpY2F0aW9uSWQoc3JjLCB0YXJnZXQsIG9wdHMpIHtcbiAgdmFyIGRvY0lkcyA9IG9wdHMuZG9jX2lkcyA/IG9wdHMuZG9jX2lkcy5zb3J0KGNvbGxhdGUpIDogJyc7XG4gIHZhciBmaWx0ZXJGdW4gPSBvcHRzLmZpbHRlciA/IG9wdHMuZmlsdGVyLnRvU3RyaW5nKCkgOiAnJztcbiAgdmFyIHF1ZXJ5UGFyYW1zID0gJyc7XG4gIHZhciBmaWx0ZXJWaWV3TmFtZSA9ICAnJztcbiAgdmFyIHNlbGVjdG9yID0gJyc7XG5cbiAgLy8gcG9zc2liaWxpdHkgZm9yIGNoZWNrcG9pbnRzIHRvIGJlIGxvc3QgaGVyZSBhcyBiZWhhdmlvdXIgb2ZcbiAgLy8gSlNPTi5zdHJpbmdpZnkgaXMgbm90IHN0YWJsZSAoc2VlICM2MjI2KVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKG9wdHMuc2VsZWN0b3IpIHtcbiAgICBzZWxlY3RvciA9IEpTT04uc3RyaW5naWZ5KG9wdHMuc2VsZWN0b3IpO1xuICB9XG5cbiAgaWYgKG9wdHMuZmlsdGVyICYmIG9wdHMucXVlcnlfcGFyYW1zKSB7XG4gICAgcXVlcnlQYXJhbXMgPSBKU09OLnN0cmluZ2lmeShzb3J0T2JqZWN0UHJvcGVydGllc0J5S2V5KG9wdHMucXVlcnlfcGFyYW1zKSk7XG4gIH1cblxuICBpZiAob3B0cy5maWx0ZXIgJiYgb3B0cy5maWx0ZXIgPT09ICdfdmlldycpIHtcbiAgICBmaWx0ZXJWaWV3TmFtZSA9IG9wdHMudmlldy50b1N0cmluZygpO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKFtzcmMuaWQoKSwgdGFyZ2V0LmlkKCldKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICB2YXIgcXVlcnlEYXRhID0gcmVzWzBdICsgcmVzWzFdICsgZmlsdGVyRnVuICsgZmlsdGVyVmlld05hbWUgK1xuICAgICAgcXVlcnlQYXJhbXMgKyBkb2NJZHMgKyBzZWxlY3RvcjtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgIGJpbmFyeU1kNShxdWVyeURhdGEsIHJlc29sdmUpO1xuICAgIH0pO1xuICB9KS50aGVuKGZ1bmN0aW9uIChtZDVzdW0pIHtcbiAgICAvLyBjYW4ndCB1c2Ugc3RyYWlnaHQtdXAgbWQ1IGFscGhhYmV0LCBiZWNhdXNlXG4gICAgLy8gdGhlIGNoYXIgJy8nIGlzIGludGVycHJldGVkIGFzIGJlaW5nIGZvciBhdHRhY2htZW50cyxcbiAgICAvLyBhbmQgKyBpcyBhbHNvIG5vdCB1cmwtc2FmZVxuICAgIG1kNXN1bSA9IG1kNXN1bS5yZXBsYWNlKC9cXC8vZywgJy4nKS5yZXBsYWNlKC9cXCsvZywgJ18nKTtcbiAgICByZXR1cm4gJ19sb2NhbC8nICsgbWQ1c3VtO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVwbGljYXRlKHNyYywgdGFyZ2V0LCBvcHRzLCByZXR1cm5WYWx1ZSwgcmVzdWx0KSB7XG4gIHZhciBiYXRjaGVzID0gW107ICAgICAgICAgICAgICAgLy8gbGlzdCBvZiBiYXRjaGVzIHRvIGJlIHByb2Nlc3NlZFxuICB2YXIgY3VycmVudEJhdGNoOyAgICAgICAgICAgICAgIC8vIHRoZSBiYXRjaCBjdXJyZW50bHkgYmVpbmcgcHJvY2Vzc2VkXG4gIHZhciBwZW5kaW5nQmF0Y2ggPSB7XG4gICAgc2VxOiAwLFxuICAgIGNoYW5nZXM6IFtdLFxuICAgIGRvY3M6IFtdXG4gIH07IC8vIG5leHQgYmF0Y2gsIG5vdCB5ZXQgcmVhZHkgdG8gYmUgcHJvY2Vzc2VkXG4gIHZhciB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlOyAgLy8gdHJ1ZSB3aGlsZSBjaGVja3BvaW50IGlzIGJlaW5nIHdyaXR0ZW5cbiAgdmFyIGNoYW5nZXNDb21wbGV0ZWQgPSBmYWxzZTsgICAvLyB0cnVlIHdoZW4gYWxsIGNoYW5nZXMgcmVjZWl2ZWRcbiAgdmFyIHJlcGxpY2F0aW9uQ29tcGxldGVkID0gZmFsc2U7IC8vIHRydWUgd2hlbiByZXBsaWNhdGlvbiBoYXMgY29tcGxldGVkXG4gIHZhciBsYXN0X3NlcSA9IDA7XG4gIHZhciBjb250aW51b3VzID0gb3B0cy5jb250aW51b3VzIHx8IG9wdHMubGl2ZSB8fCBmYWxzZTtcbiAgdmFyIGJhdGNoX3NpemUgPSBvcHRzLmJhdGNoX3NpemUgfHwgMTAwO1xuICB2YXIgYmF0Y2hlc19saW1pdCA9IG9wdHMuYmF0Y2hlc19saW1pdCB8fCAxMDtcbiAgdmFyIHN0eWxlID0gb3B0cy5zdHlsZSB8fCAnYWxsX2RvY3MnO1xuICB2YXIgY2hhbmdlc1BlbmRpbmcgPSBmYWxzZTsgICAgIC8vIHRydWUgd2hpbGUgc3JjLmNoYW5nZXMgaXMgcnVubmluZ1xuICB2YXIgZG9jX2lkcyA9IG9wdHMuZG9jX2lkcztcbiAgdmFyIHNlbGVjdG9yID0gb3B0cy5zZWxlY3RvcjtcbiAgdmFyIHJlcElkO1xuICB2YXIgY2hlY2twb2ludGVyO1xuICB2YXIgY2hhbmdlZERvY3MgPSBbXTtcbiAgLy8gTGlrZSBjb3VjaGRiLCBldmVyeSByZXBsaWNhdGlvbiBnZXRzIGEgdW5pcXVlIHNlc3Npb24gaWRcbiAgdmFyIHNlc3Npb24gPSB1dWlkKCk7XG5cbiAgcmVzdWx0ID0gcmVzdWx0IHx8IHtcbiAgICBvazogdHJ1ZSxcbiAgICBzdGFydF90aW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgZG9jc19yZWFkOiAwLFxuICAgIGRvY3Nfd3JpdHRlbjogMCxcbiAgICBkb2Nfd3JpdGVfZmFpbHVyZXM6IDAsXG4gICAgZXJyb3JzOiBbXVxuICB9O1xuXG4gIHZhciBjaGFuZ2VzT3B0cyA9IHt9O1xuICByZXR1cm5WYWx1ZS5yZWFkeShzcmMsIHRhcmdldCk7XG5cbiAgZnVuY3Rpb24gaW5pdENoZWNrcG9pbnRlcigpIHtcbiAgICBpZiAoY2hlY2twb2ludGVyKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJldHVybiBnZW5lcmF0ZVJlcGxpY2F0aW9uSWQoc3JjLCB0YXJnZXQsIG9wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgcmVwSWQgPSByZXM7XG5cbiAgICAgIHZhciBjaGVja3BvaW50T3B0cyA9IHt9O1xuICAgICAgaWYgKG9wdHMuY2hlY2twb2ludCA9PT0gZmFsc2UpIHtcbiAgICAgICAgY2hlY2twb2ludE9wdHMgPSB7IHdyaXRlU291cmNlQ2hlY2twb2ludDogZmFsc2UsIHdyaXRlVGFyZ2V0Q2hlY2twb2ludDogZmFsc2UgfTtcbiAgICAgIH0gZWxzZSBpZiAob3B0cy5jaGVja3BvaW50ID09PSAnc291cmNlJykge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiB0cnVlLCB3cml0ZVRhcmdldENoZWNrcG9pbnQ6IGZhbHNlIH07XG4gICAgICB9IGVsc2UgaWYgKG9wdHMuY2hlY2twb2ludCA9PT0gJ3RhcmdldCcpIHtcbiAgICAgICAgY2hlY2twb2ludE9wdHMgPSB7IHdyaXRlU291cmNlQ2hlY2twb2ludDogZmFsc2UsIHdyaXRlVGFyZ2V0Q2hlY2twb2ludDogdHJ1ZSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hlY2twb2ludE9wdHMgPSB7IHdyaXRlU291cmNlQ2hlY2twb2ludDogdHJ1ZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiB0cnVlIH07XG4gICAgICB9XG5cbiAgICAgIGNoZWNrcG9pbnRlciA9IG5ldyBDaGVja3BvaW50ZXIoc3JjLCB0YXJnZXQsIHJlcElkLCByZXR1cm5WYWx1ZSwgY2hlY2twb2ludE9wdHMpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVEb2NzKCkge1xuICAgIGNoYW5nZWREb2NzID0gW107XG5cbiAgICBpZiAoY3VycmVudEJhdGNoLmRvY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBkb2NzID0gY3VycmVudEJhdGNoLmRvY3M7XG4gICAgdmFyIGJ1bGtPcHRzID0ge3RpbWVvdXQ6IG9wdHMudGltZW91dH07XG4gICAgcmV0dXJuIHRhcmdldC5idWxrRG9jcyh7ZG9jczogZG9jcywgbmV3X2VkaXRzOiBmYWxzZX0sIGJ1bGtPcHRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGByZXNgIGRvZXNuJ3QgaW5jbHVkZSBmdWxsIGRvY3VtZW50cyAod2hpY2ggbGl2ZSBpbiBgZG9jc2ApLCBzbyB3ZSBjcmVhdGUgYSBtYXAgb2ZcbiAgICAgIC8vIChpZCAtPiBlcnJvciksIGFuZCBjaGVjayBmb3IgZXJyb3JzIHdoaWxlIGl0ZXJhdGluZyBvdmVyIGBkb2NzYFxuICAgICAgdmFyIGVycm9yc0J5SWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgcmVzLmZvckVhY2goZnVuY3Rpb24gKHJlcykge1xuICAgICAgICBpZiAocmVzLmVycm9yKSB7XG4gICAgICAgICAgZXJyb3JzQnlJZFtyZXMuaWRdID0gcmVzO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIGVycm9yc05vID0gT2JqZWN0LmtleXMoZXJyb3JzQnlJZCkubGVuZ3RoO1xuICAgICAgcmVzdWx0LmRvY193cml0ZV9mYWlsdXJlcyArPSBlcnJvcnNObztcbiAgICAgIHJlc3VsdC5kb2NzX3dyaXR0ZW4gKz0gZG9jcy5sZW5ndGggLSBlcnJvcnNObztcblxuICAgICAgZG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgdmFyIGVycm9yID0gZXJyb3JzQnlJZFtkb2MuX2lkXTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmVzdWx0LmVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgICAvLyBOb3JtYWxpemUgZXJyb3IgbmFtZS4gaS5lLiAnVW5hdXRob3JpemVkJyAtPiAndW5hdXRob3JpemVkJyAoZWcgU3luYyBHYXRld2F5KVxuICAgICAgICAgIHZhciBlcnJvck5hbWUgPSAoZXJyb3IubmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBpZiAoZXJyb3JOYW1lID09PSAndW5hdXRob3JpemVkJyB8fCBlcnJvck5hbWUgPT09ICdmb3JiaWRkZW4nKSB7XG4gICAgICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdkZW5pZWQnLCBjbG9uZShlcnJvcikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hhbmdlZERvY3MucHVzaChkb2MpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHJlc3VsdC5kb2Nfd3JpdGVfZmFpbHVyZXMgKz0gZG9jcy5sZW5ndGg7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hCYXRjaCgpIHtcbiAgICBpZiAoY3VycmVudEJhdGNoLmVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIHdhcyBhIHByb2JsZW0gZ2V0dGluZyBkb2NzLicpO1xuICAgIH1cbiAgICByZXN1bHQubGFzdF9zZXEgPSBsYXN0X3NlcSA9IGN1cnJlbnRCYXRjaC5zZXE7XG4gICAgdmFyIG91dFJlc3VsdCA9IGNsb25lKHJlc3VsdCk7XG4gICAgaWYgKGNoYW5nZWREb2NzLmxlbmd0aCkge1xuICAgICAgb3V0UmVzdWx0LmRvY3MgPSBjaGFuZ2VkRG9jcztcbiAgICAgIC8vIEF0dGFjaCAncGVuZGluZycgcHJvcGVydHkgaWYgc2VydmVyIHN1cHBvcnRzIGl0IChDb3VjaERCIDIuMCspXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICh0eXBlb2YgY3VycmVudEJhdGNoLnBlbmRpbmcgPT09ICdudW1iZXInKSB7XG4gICAgICAgIG91dFJlc3VsdC5wZW5kaW5nID0gY3VycmVudEJhdGNoLnBlbmRpbmc7XG4gICAgICAgIGRlbGV0ZSBjdXJyZW50QmF0Y2gucGVuZGluZztcbiAgICAgIH1cbiAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoYW5nZScsIG91dFJlc3VsdCk7XG4gICAgfVxuICAgIHdyaXRpbmdDaGVja3BvaW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gY2hlY2twb2ludGVyLndyaXRlQ2hlY2twb2ludChjdXJyZW50QmF0Y2guc2VxLFxuICAgICAgICBzZXNzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdjaGVja3BvaW50JzogY3VycmVudEJhdGNoLnNlcSB9KTtcbiAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgY3VycmVudEJhdGNoID0gdW5kZWZpbmVkO1xuICAgICAgZ2V0Q2hhbmdlcygpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIG9uQ2hlY2twb2ludEVycm9yKGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREaWZmcygpIHtcbiAgICB2YXIgZGlmZiA9IHt9O1xuICAgIGN1cnJlbnRCYXRjaC5jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hlY2twb2ludCcsIHsgJ3JldnNfZGlmZic6IGNoYW5nZSB9KTtcbiAgICAgIC8vIENvdWNoYmFzZSBTeW5jIEdhdGV3YXkgZW1pdHMgdGhlc2UsIGJ1dCB3ZSBjYW4gaWdub3JlIHRoZW1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGNoYW5nZS5pZCA9PT0gXCJfdXNlci9cIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkaWZmW2NoYW5nZS5pZF0gPSBjaGFuZ2UuY2hhbmdlcy5tYXAoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHgucmV2O1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRhcmdldC5yZXZzRGlmZihkaWZmKS50aGVuKGZ1bmN0aW9uIChkaWZmcykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cbiAgICAgIC8vIGN1cnJlbnRCYXRjaC5kaWZmcyBlbGVtZW50cyBhcmUgZGVsZXRlZCBhcyB0aGUgZG9jdW1lbnRzIGFyZSB3cml0dGVuXG4gICAgICBjdXJyZW50QmF0Y2guZGlmZnMgPSBkaWZmcztcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJhdGNoRG9jcygpIHtcbiAgICByZXR1cm4gZ2V0RG9jcyhzcmMsIHRhcmdldCwgY3VycmVudEJhdGNoLmRpZmZzLCByZXR1cm5WYWx1ZSkudGhlbihmdW5jdGlvbiAoZ290KSB7XG4gICAgICBjdXJyZW50QmF0Y2guZXJyb3IgPSAhZ290Lm9rO1xuICAgICAgZ290LmRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIGRlbGV0ZSBjdXJyZW50QmF0Y2guZGlmZnNbZG9jLl9pZF07XG4gICAgICAgIHJlc3VsdC5kb2NzX3JlYWQrKztcbiAgICAgICAgY3VycmVudEJhdGNoLmRvY3MucHVzaChkb2MpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydE5leHRCYXRjaCgpIHtcbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkIHx8IGN1cnJlbnRCYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYmF0Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHByb2Nlc3NQZW5kaW5nQmF0Y2godHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRCYXRjaCA9IGJhdGNoZXMuc2hpZnQoKTtcbiAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGVja3BvaW50JywgeyAnc3RhcnRfbmV4dF9iYXRjaCc6IGN1cnJlbnRCYXRjaC5zZXEgfSk7XG4gICAgZ2V0RGlmZnMoKVxuICAgICAgLnRoZW4oZ2V0QmF0Y2hEb2NzKVxuICAgICAgLnRoZW4od3JpdGVEb2NzKVxuICAgICAgLnRoZW4oZmluaXNoQmF0Y2gpXG4gICAgICAudGhlbihzdGFydE5leHRCYXRjaClcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGFib3J0UmVwbGljYXRpb24oJ2JhdGNoIHByb2Nlc3NpbmcgdGVybWluYXRlZCB3aXRoIGVycm9yJywgZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cblxuICBmdW5jdGlvbiBwcm9jZXNzUGVuZGluZ0JhdGNoKGltbWVkaWF0ZSQkMSkge1xuICAgIGlmIChwZW5kaW5nQmF0Y2guY2hhbmdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGlmIChiYXRjaGVzLmxlbmd0aCA9PT0gMCAmJiAhY3VycmVudEJhdGNoKSB7XG4gICAgICAgIGlmICgoY29udGludW91cyAmJiBjaGFuZ2VzT3B0cy5saXZlKSB8fCBjaGFuZ2VzQ29tcGxldGVkKSB7XG4gICAgICAgICAgcmV0dXJuVmFsdWUuc3RhdGUgPSAncGVuZGluZyc7XG4gICAgICAgICAgcmV0dXJuVmFsdWUuZW1pdCgncGF1c2VkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgaW1tZWRpYXRlJCQxIHx8XG4gICAgICBjaGFuZ2VzQ29tcGxldGVkIHx8XG4gICAgICBwZW5kaW5nQmF0Y2guY2hhbmdlcy5sZW5ndGggPj0gYmF0Y2hfc2l6ZVxuICAgICkge1xuICAgICAgYmF0Y2hlcy5wdXNoKHBlbmRpbmdCYXRjaCk7XG4gICAgICBwZW5kaW5nQmF0Y2ggPSB7XG4gICAgICAgIHNlcTogMCxcbiAgICAgICAgY2hhbmdlczogW10sXG4gICAgICAgIGRvY3M6IFtdXG4gICAgICB9O1xuICAgICAgaWYgKHJldHVyblZhbHVlLnN0YXRlID09PSAncGVuZGluZycgfHwgcmV0dXJuVmFsdWUuc3RhdGUgPT09ICdzdG9wcGVkJykge1xuICAgICAgICByZXR1cm5WYWx1ZS5zdGF0ZSA9ICdhY3RpdmUnO1xuICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0TmV4dEJhdGNoKCk7XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBhYm9ydFJlcGxpY2F0aW9uKHJlYXNvbiwgZXJyKSB7XG4gICAgaWYgKHJlcGxpY2F0aW9uQ29tcGxldGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghZXJyLm1lc3NhZ2UpIHtcbiAgICAgIGVyci5tZXNzYWdlID0gcmVhc29uO1xuICAgIH1cbiAgICByZXN1bHQub2sgPSBmYWxzZTtcbiAgICByZXN1bHQuc3RhdHVzID0gJ2Fib3J0aW5nJztcbiAgICBiYXRjaGVzID0gW107XG4gICAgcGVuZGluZ0JhdGNoID0ge1xuICAgICAgc2VxOiAwLFxuICAgICAgY2hhbmdlczogW10sXG4gICAgICBkb2NzOiBbXVxuICAgIH07XG4gICAgY29tcGxldGVSZXBsaWNhdGlvbihlcnIpO1xuICB9XG5cblxuICBmdW5jdGlvbiBjb21wbGV0ZVJlcGxpY2F0aW9uKGZhdGFsRXJyb3IpIHtcbiAgICBpZiAocmVwbGljYXRpb25Db21wbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmVzdWx0LnN0YXR1cyA9ICdjYW5jZWxsZWQnO1xuICAgICAgaWYgKHdyaXRpbmdDaGVja3BvaW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnN0YXR1cyA9IHJlc3VsdC5zdGF0dXMgfHwgJ2NvbXBsZXRlJztcbiAgICByZXN1bHQuZW5kX3RpbWUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgcmVzdWx0Lmxhc3Rfc2VxID0gbGFzdF9zZXE7XG4gICAgcmVwbGljYXRpb25Db21wbGV0ZWQgPSB0cnVlO1xuXG4gICAgaWYgKGZhdGFsRXJyb3IpIHtcbiAgICAgIC8vIG5lZWQgdG8gZXh0ZW5kIHRoZSBlcnJvciBiZWNhdXNlIEZpcmVmb3ggY29uc2lkZXJzIFwiLnJlc3VsdFwiIHJlYWQtb25seVxuICAgICAgZmF0YWxFcnJvciA9IGNyZWF0ZUVycm9yKGZhdGFsRXJyb3IpO1xuICAgICAgZmF0YWxFcnJvci5yZXN1bHQgPSByZXN1bHQ7XG5cbiAgICAgIC8vIE5vcm1hbGl6ZSBlcnJvciBuYW1lLiBpLmUuICdVbmF1dGhvcml6ZWQnIC0+ICd1bmF1dGhvcml6ZWQnIChlZyBTeW5jIEdhdGV3YXkpXG4gICAgICB2YXIgZXJyb3JOYW1lID0gKGZhdGFsRXJyb3IubmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChlcnJvck5hbWUgPT09ICd1bmF1dGhvcml6ZWQnIHx8IGVycm9yTmFtZSA9PT0gJ2ZvcmJpZGRlbicpIHtcbiAgICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnZXJyb3InLCBmYXRhbEVycm9yKTtcbiAgICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYWNrT2ZmKG9wdHMsIHJldHVyblZhbHVlLCBmYXRhbEVycm9yLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVwbGljYXRlKHNyYywgdGFyZ2V0LCBvcHRzLCByZXR1cm5WYWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm5WYWx1ZS5lbWl0KCdjb21wbGV0ZScsIHJlc3VsdCk7XG4gICAgICByZXR1cm5WYWx1ZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlKGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybiBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgfVxuICAgIC8vIEF0dGFjaCAncGVuZGluZycgcHJvcGVydHkgaWYgc2VydmVyIHN1cHBvcnRzIGl0IChDb3VjaERCIDIuMCspXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHR5cGVvZiBwZW5kaW5nID09PSAnbnVtYmVyJykge1xuICAgICAgcGVuZGluZ0JhdGNoLnBlbmRpbmcgPSBwZW5kaW5nO1xuICAgIH1cblxuICAgIHZhciBmaWx0ZXIgPSBmaWx0ZXJDaGFuZ2Uob3B0cykoY2hhbmdlKTtcbiAgICBpZiAoIWZpbHRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwZW5kaW5nQmF0Y2guc2VxID0gY2hhbmdlLnNlcSB8fCBsYXN0U2VxO1xuICAgIHBlbmRpbmdCYXRjaC5jaGFuZ2VzLnB1c2goY2hhbmdlKTtcbiAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGVja3BvaW50JywgeyAncGVuZGluZ19iYXRjaCc6IHBlbmRpbmdCYXRjaC5zZXEgfSk7XG4gICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb2Nlc3NQZW5kaW5nQmF0Y2goYmF0Y2hlcy5sZW5ndGggPT09IDAgJiYgY2hhbmdlc09wdHMubGl2ZSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlc0NvbXBsZXRlKGNoYW5nZXMpIHtcbiAgICBjaGFuZ2VzUGVuZGluZyA9IGZhbHNlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybiBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgfVxuXG4gICAgLy8gaWYgbm8gcmVzdWx0cyB3ZXJlIHJldHVybmVkIHRoZW4gd2UncmUgZG9uZSxcbiAgICAvLyBlbHNlIGZldGNoIG1vcmVcbiAgICBpZiAoY2hhbmdlcy5yZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNoYW5nZXNPcHRzLnNpbmNlID0gY2hhbmdlcy5yZXN1bHRzW2NoYW5nZXMucmVzdWx0cy5sZW5ndGggLSAxXS5zZXE7XG4gICAgICBnZXRDaGFuZ2VzKCk7XG4gICAgICBwcm9jZXNzUGVuZGluZ0JhdGNoKHRydWUpO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNvbnRpbnVvdXMpIHtcbiAgICAgICAgICBjaGFuZ2VzT3B0cy5saXZlID0gdHJ1ZTtcbiAgICAgICAgICBnZXRDaGFuZ2VzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hhbmdlc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaCh0cnVlKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIHVwZGF0ZSB0aGUgY2hlY2twb2ludCBzbyB3ZSBzdGFydCBmcm9tIHRoZSByaWdodCBzZXEgbmV4dCB0aW1lXG4gICAgICBpZiAoIWN1cnJlbnRCYXRjaCAmJiBjaGFuZ2VzLnJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gdHJ1ZTtcbiAgICAgICAgY2hlY2twb2ludGVyLndyaXRlQ2hlY2twb2ludChjaGFuZ2VzLmxhc3Rfc2VxLFxuICAgICAgICAgICAgc2Vzc2lvbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICByZXN1bHQubGFzdF9zZXEgPSBsYXN0X3NlcSA9IGNoYW5nZXMubGFzdF9zZXE7XG4gICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG9uQ2hlY2twb2ludEVycm9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBvbkNoYW5nZXNFcnJvcihlcnIpIHtcbiAgICBjaGFuZ2VzUGVuZGluZyA9IGZhbHNlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybiBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgfVxuICAgIGFib3J0UmVwbGljYXRpb24oJ2NoYW5nZXMgcmVqZWN0ZWQnLCBlcnIpO1xuICB9XG5cblxuICBmdW5jdGlvbiBnZXRDaGFuZ2VzKCkge1xuICAgIGlmICghKFxuICAgICAgIWNoYW5nZXNQZW5kaW5nICYmXG4gICAgICAhY2hhbmdlc0NvbXBsZXRlZCAmJlxuICAgICAgYmF0Y2hlcy5sZW5ndGggPCBiYXRjaGVzX2xpbWl0XG4gICAgICApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNoYW5nZXNQZW5kaW5nID0gdHJ1ZTtcbiAgICBmdW5jdGlvbiBhYm9ydENoYW5nZXMoKSB7XG4gICAgICBjaGFuZ2VzLmNhbmNlbCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcigpIHtcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUxpc3RlbmVyKCdjYW5jZWwnLCBhYm9ydENoYW5nZXMpO1xuICAgIH1cblxuICAgIGlmIChyZXR1cm5WYWx1ZS5fY2hhbmdlcykgeyAvLyByZW1vdmUgb2xkIGNoYW5nZXMoKSBhbmQgbGlzdGVuZXJzXG4gICAgICByZXR1cm5WYWx1ZS5yZW1vdmVMaXN0ZW5lcignY2FuY2VsJywgcmV0dXJuVmFsdWUuX2Fib3J0Q2hhbmdlcyk7XG4gICAgICByZXR1cm5WYWx1ZS5fY2hhbmdlcy5jYW5jZWwoKTtcbiAgICB9XG4gICAgcmV0dXJuVmFsdWUub25jZSgnY2FuY2VsJywgYWJvcnRDaGFuZ2VzKTtcblxuICAgIHZhciBjaGFuZ2VzID0gc3JjLmNoYW5nZXMoY2hhbmdlc09wdHMpXG4gICAgICAub24oJ2NoYW5nZScsIG9uQ2hhbmdlKTtcbiAgICBjaGFuZ2VzLnRoZW4ocmVtb3ZlTGlzdGVuZXIsIHJlbW92ZUxpc3RlbmVyKTtcbiAgICBjaGFuZ2VzLnRoZW4ob25DaGFuZ2VzQ29tcGxldGUpXG4gICAgICAuY2F0Y2gob25DaGFuZ2VzRXJyb3IpO1xuXG4gICAgaWYgKG9wdHMucmV0cnkpIHtcbiAgICAgIC8vIHNhdmUgZm9yIGxhdGVyIHNvIHdlIGNhbiBjYW5jZWwgaWYgbmVjZXNzYXJ5XG4gICAgICByZXR1cm5WYWx1ZS5fY2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgICByZXR1cm5WYWx1ZS5fYWJvcnRDaGFuZ2VzID0gYWJvcnRDaGFuZ2VzO1xuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gc3RhcnRDaGFuZ2VzKCkge1xuICAgIGluaXRDaGVja3BvaW50ZXIoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGVja3BvaW50ZXIuZ2V0Q2hlY2twb2ludCgpLnRoZW4oZnVuY3Rpb24gKGNoZWNrcG9pbnQpIHtcbiAgICAgICAgbGFzdF9zZXEgPSBjaGVja3BvaW50O1xuICAgICAgICBjaGFuZ2VzT3B0cyA9IHtcbiAgICAgICAgICBzaW5jZTogbGFzdF9zZXEsXG4gICAgICAgICAgbGltaXQ6IGJhdGNoX3NpemUsXG4gICAgICAgICAgYmF0Y2hfc2l6ZTogYmF0Y2hfc2l6ZSxcbiAgICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgICAgZG9jX2lkczogZG9jX2lkcyxcbiAgICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsXG4gICAgICAgICAgcmV0dXJuX2RvY3M6IHRydWUgLy8gcmVxdWlyZWQgc28gd2Uga25vdyB3aGVuIHdlJ3JlIGRvbmVcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG9wdHMuZmlsdGVyKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBvcHRzLmZpbHRlciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIGZvciB0aGUgY2xpZW50LXNpZGUgZmlsdGVyIGluIG9uQ2hhbmdlXG4gICAgICAgICAgICBjaGFuZ2VzT3B0cy5pbmNsdWRlX2RvY3MgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7IC8vIGRkb2MgZmlsdGVyXG4gICAgICAgICAgICBjaGFuZ2VzT3B0cy5maWx0ZXIgPSBvcHRzLmZpbHRlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdoZWFydGJlYXQnIGluIG9wdHMpIHtcbiAgICAgICAgICBjaGFuZ2VzT3B0cy5oZWFydGJlYXQgPSBvcHRzLmhlYXJ0YmVhdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ3RpbWVvdXQnIGluIG9wdHMpIHtcbiAgICAgICAgICBjaGFuZ2VzT3B0cy50aW1lb3V0ID0gb3B0cy50aW1lb3V0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLnF1ZXJ5X3BhcmFtcykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLnF1ZXJ5X3BhcmFtcyA9IG9wdHMucXVlcnlfcGFyYW1zO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLnZpZXcpIHtcbiAgICAgICAgICBjaGFuZ2VzT3B0cy52aWV3ID0gb3B0cy52aWV3O1xuICAgICAgICB9XG4gICAgICAgIGdldENoYW5nZXMoKTtcbiAgICAgIH0pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGFib3J0UmVwbGljYXRpb24oJ2dldENoZWNrcG9pbnQgcmVqZWN0ZWQgd2l0aCAnLCBlcnIpO1xuICAgIH0pO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZnVuY3Rpb24gb25DaGVja3BvaW50RXJyb3IoZXJyKSB7XG4gICAgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICBhYm9ydFJlcGxpY2F0aW9uKCd3cml0ZUNoZWNrcG9pbnQgY29tcGxldGVkIHdpdGggZXJyb3InLCBlcnIpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHsgLy8gY2FuY2VsbGVkIGltbWVkaWF0ZWx5XG4gICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghcmV0dXJuVmFsdWUuX2FkZGVkTGlzdGVuZXJzKSB7XG4gICAgcmV0dXJuVmFsdWUub25jZSgnY2FuY2VsJywgY29tcGxldGVSZXBsaWNhdGlvbik7XG5cbiAgICBpZiAodHlwZW9mIG9wdHMuY29tcGxldGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVyblZhbHVlLm9uY2UoJ2Vycm9yJywgb3B0cy5jb21wbGV0ZSk7XG4gICAgICByZXR1cm5WYWx1ZS5vbmNlKCdjb21wbGV0ZScsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgb3B0cy5jb21wbGV0ZShudWxsLCByZXN1bHQpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVyblZhbHVlLl9hZGRlZExpc3RlbmVycyA9IHRydWU7XG4gIH1cblxuICBpZiAodHlwZW9mIG9wdHMuc2luY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc3RhcnRDaGFuZ2VzKCk7XG4gIH0gZWxzZSB7XG4gICAgaW5pdENoZWNrcG9pbnRlcigpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGNoZWNrcG9pbnRlci53cml0ZUNoZWNrcG9pbnQob3B0cy5zaW5jZSwgc2Vzc2lvbik7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGFzdF9zZXEgPSBvcHRzLnNpbmNlO1xuICAgICAgc3RhcnRDaGFuZ2VzKCk7XG4gICAgfSkuY2F0Y2gob25DaGVja3BvaW50RXJyb3IpO1xuICB9XG59XG5cbi8vIFdlIGNyZWF0ZSBhIGJhc2ljIHByb21pc2Ugc28gdGhlIGNhbGxlciBjYW4gY2FuY2VsIHRoZSByZXBsaWNhdGlvbiBwb3NzaWJseVxuLy8gYmVmb3JlIHdlIGhhdmUgYWN0dWFsbHkgc3RhcnRlZCBsaXN0ZW5pbmcgdG8gY2hhbmdlcyBldGNcbmluaGVyaXRzKFJlcGxpY2F0aW9uLCBFRSk7XG5mdW5jdGlvbiBSZXBsaWNhdGlvbigpIHtcbiAgRUUuY2FsbCh0aGlzKTtcbiAgdGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgdGhpcy5zdGF0ZSA9ICdwZW5kaW5nJztcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICBzZWxmLm9uY2UoJ2NvbXBsZXRlJywgZnVsZmlsbCk7XG4gICAgc2VsZi5vbmNlKCdlcnJvcicsIHJlamVjdCk7XG4gIH0pO1xuICBzZWxmLnRoZW4gPSBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICB9O1xuICBzZWxmLmNhdGNoID0gZnVuY3Rpb24gKHJlamVjdCkge1xuICAgIHJldHVybiBwcm9taXNlLmNhdGNoKHJlamVjdCk7XG4gIH07XG4gIC8vIEFzIHdlIGFsbG93IGVycm9yIGhhbmRsaW5nIHZpYSBcImVycm9yXCIgZXZlbnQgYXMgd2VsbCxcbiAgLy8gcHV0IGEgc3R1YiBpbiBoZXJlIHNvIHRoYXQgcmVqZWN0aW5nIG5ldmVyIHRocm93cyBVbmhhbmRsZWRFcnJvci5cbiAgc2VsZi5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG59XG5cblJlcGxpY2F0aW9uLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgdGhpcy5zdGF0ZSA9ICdjYW5jZWxsZWQnO1xuICB0aGlzLmVtaXQoJ2NhbmNlbCcpO1xufTtcblxuUmVwbGljYXRpb24ucHJvdG90eXBlLnJlYWR5ID0gZnVuY3Rpb24gKHNyYywgdGFyZ2V0KSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKHNlbGYuX3JlYWR5Q2FsbGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNlbGYuX3JlYWR5Q2FsbGVkID0gdHJ1ZTtcblxuICBmdW5jdGlvbiBvbkRlc3Ryb3koKSB7XG4gICAgc2VsZi5jYW5jZWwoKTtcbiAgfVxuICBzcmMub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgdGFyZ2V0Lm9uY2UoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICAgIHRhcmdldC5yZW1vdmVMaXN0ZW5lcignZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgfVxuICBzZWxmLm9uY2UoJ2NvbXBsZXRlJywgY2xlYW51cCk7XG4gIHNlbGYub25jZSgnZXJyb3InLCBjbGVhbnVwKTtcbn07XG5cbmZ1bmN0aW9uIHRvUG91Y2goZGIsIG9wdHMpIHtcbiAgdmFyIFBvdWNoQ29uc3RydWN0b3IgPSBvcHRzLlBvdWNoQ29uc3RydWN0b3I7XG4gIGlmICh0eXBlb2YgZGIgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIG5ldyBQb3VjaENvbnN0cnVjdG9yKGRiLCBvcHRzKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZGI7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVwbGljYXRlV3JhcHBlcihzcmMsIHRhcmdldCwgb3B0cywgY2FsbGJhY2spIHtcblxuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRzID0ge307XG4gIH1cblxuICBpZiAob3B0cy5kb2NfaWRzICYmICFBcnJheS5pc0FycmF5KG9wdHMuZG9jX2lkcykpIHtcbiAgICB0aHJvdyBjcmVhdGVFcnJvcihCQURfUkVRVUVTVCxcbiAgICAgICAgICAgICAgICAgICAgICAgXCJgZG9jX2lkc2AgZmlsdGVyIHBhcmFtZXRlciBpcyBub3QgYSBsaXN0LlwiKTtcbiAgfVxuXG4gIG9wdHMuY29tcGxldGUgPSBjYWxsYmFjaztcbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuICBvcHRzLmNvbnRpbnVvdXMgPSBvcHRzLmNvbnRpbnVvdXMgfHwgb3B0cy5saXZlO1xuICBvcHRzLnJldHJ5ID0gKCdyZXRyeScgaW4gb3B0cykgPyBvcHRzLnJldHJ5IDogZmFsc2U7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIG9wdHMuUG91Y2hDb25zdHJ1Y3RvciA9IG9wdHMuUG91Y2hDb25zdHJ1Y3RvciB8fCB0aGlzO1xuICB2YXIgcmVwbGljYXRlUmV0ID0gbmV3IFJlcGxpY2F0aW9uKG9wdHMpO1xuICB2YXIgc3JjUG91Y2ggPSB0b1BvdWNoKHNyYywgb3B0cyk7XG4gIHZhciB0YXJnZXRQb3VjaCA9IHRvUG91Y2godGFyZ2V0LCBvcHRzKTtcbiAgcmVwbGljYXRlKHNyY1BvdWNoLCB0YXJnZXRQb3VjaCwgb3B0cywgcmVwbGljYXRlUmV0KTtcbiAgcmV0dXJuIHJlcGxpY2F0ZVJldDtcbn1cblxuaW5oZXJpdHMoU3luYywgRUUpO1xuZnVuY3Rpb24gc3luYyhzcmMsIHRhcmdldCwgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIG9wdHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgb3B0cy5Qb3VjaENvbnN0cnVjdG9yID0gb3B0cy5Qb3VjaENvbnN0cnVjdG9yIHx8IHRoaXM7XG4gIHNyYyA9IHRvUG91Y2goc3JjLCBvcHRzKTtcbiAgdGFyZ2V0ID0gdG9Qb3VjaCh0YXJnZXQsIG9wdHMpO1xuICByZXR1cm4gbmV3IFN5bmMoc3JjLCB0YXJnZXQsIG9wdHMsIGNhbGxiYWNrKTtcbn1cblxuZnVuY3Rpb24gU3luYyhzcmMsIHRhcmdldCwgb3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLmNhbmNlbGVkID0gZmFsc2U7XG5cbiAgdmFyIG9wdHNQdXNoID0gb3B0cy5wdXNoID8gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCBvcHRzLCBvcHRzLnB1c2gpIDogb3B0cztcbiAgdmFyIG9wdHNQdWxsID0gb3B0cy5wdWxsID8gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCBvcHRzLCBvcHRzLnB1bGwpIDogb3B0cztcblxuICB0aGlzLnB1c2ggPSByZXBsaWNhdGVXcmFwcGVyKHNyYywgdGFyZ2V0LCBvcHRzUHVzaCk7XG4gIHRoaXMucHVsbCA9IHJlcGxpY2F0ZVdyYXBwZXIodGFyZ2V0LCBzcmMsIG9wdHNQdWxsKTtcblxuICB0aGlzLnB1c2hQYXVzZWQgPSB0cnVlO1xuICB0aGlzLnB1bGxQYXVzZWQgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIHB1bGxDaGFuZ2UoY2hhbmdlKSB7XG4gICAgc2VsZi5lbWl0KCdjaGFuZ2UnLCB7XG4gICAgICBkaXJlY3Rpb246ICdwdWxsJyxcbiAgICAgIGNoYW5nZTogY2hhbmdlXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHVzaENoYW5nZShjaGFuZ2UpIHtcbiAgICBzZWxmLmVtaXQoJ2NoYW5nZScsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1c2gnLFxuICAgICAgY2hhbmdlOiBjaGFuZ2VcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoRGVuaWVkKGRvYykge1xuICAgIHNlbGYuZW1pdCgnZGVuaWVkJywge1xuICAgICAgZGlyZWN0aW9uOiAncHVzaCcsXG4gICAgICBkb2M6IGRvY1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1bGxEZW5pZWQoZG9jKSB7XG4gICAgc2VsZi5lbWl0KCdkZW5pZWQnLCB7XG4gICAgICBkaXJlY3Rpb246ICdwdWxsJyxcbiAgICAgIGRvYzogZG9jXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHVzaFBhdXNlZCgpIHtcbiAgICBzZWxmLnB1c2hQYXVzZWQgPSB0cnVlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLnB1bGxQYXVzZWQpIHtcbiAgICAgIHNlbGYuZW1pdCgncGF1c2VkJyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHB1bGxQYXVzZWQoKSB7XG4gICAgc2VsZi5wdWxsUGF1c2VkID0gdHJ1ZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5wdXNoUGF1c2VkKSB7XG4gICAgICBzZWxmLmVtaXQoJ3BhdXNlZCcpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwdXNoQWN0aXZlKCkge1xuICAgIHNlbGYucHVzaFBhdXNlZCA9IGZhbHNlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLnB1bGxQYXVzZWQpIHtcbiAgICAgIHNlbGYuZW1pdCgnYWN0aXZlJywge1xuICAgICAgICBkaXJlY3Rpb246ICdwdXNoJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHB1bGxBY3RpdmUoKSB7XG4gICAgc2VsZi5wdWxsUGF1c2VkID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVzaFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdhY3RpdmUnLCB7XG4gICAgICAgIGRpcmVjdGlvbjogJ3B1bGwnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB2YXIgcmVtb3ZlZCA9IHt9O1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUFsbCh0eXBlKSB7IC8vIHR5cGUgaXMgJ3B1c2gnIG9yICdwdWxsJ1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQsIGZ1bmMpIHtcbiAgICAgIHZhciBpc0NoYW5nZSA9IGV2ZW50ID09PSAnY2hhbmdlJyAmJlxuICAgICAgICAoZnVuYyA9PT0gcHVsbENoYW5nZSB8fCBmdW5jID09PSBwdXNoQ2hhbmdlKTtcbiAgICAgIHZhciBpc0RlbmllZCA9IGV2ZW50ID09PSAnZGVuaWVkJyAmJlxuICAgICAgICAoZnVuYyA9PT0gcHVsbERlbmllZCB8fCBmdW5jID09PSBwdXNoRGVuaWVkKTtcbiAgICAgIHZhciBpc1BhdXNlZCA9IGV2ZW50ID09PSAncGF1c2VkJyAmJlxuICAgICAgICAoZnVuYyA9PT0gcHVsbFBhdXNlZCB8fCBmdW5jID09PSBwdXNoUGF1c2VkKTtcbiAgICAgIHZhciBpc0FjdGl2ZSA9IGV2ZW50ID09PSAnYWN0aXZlJyAmJlxuICAgICAgICAoZnVuYyA9PT0gcHVsbEFjdGl2ZSB8fCBmdW5jID09PSBwdXNoQWN0aXZlKTtcblxuICAgICAgaWYgKGlzQ2hhbmdlIHx8IGlzRGVuaWVkIHx8IGlzUGF1c2VkIHx8IGlzQWN0aXZlKSB7XG4gICAgICAgIGlmICghKGV2ZW50IGluIHJlbW92ZWQpKSB7XG4gICAgICAgICAgcmVtb3ZlZFtldmVudF0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICByZW1vdmVkW2V2ZW50XVt0eXBlXSA9IHRydWU7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhyZW1vdmVkW2V2ZW50XSkubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgLy8gYm90aCBwdXNoIGFuZCBwdWxsIGhhdmUgYXNrZWQgdG8gYmUgcmVtb3ZlZFxuICAgICAgICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBpZiAob3B0cy5saXZlKSB7XG4gICAgdGhpcy5wdXNoLm9uKCdjb21wbGV0ZScsIHNlbGYucHVsbC5jYW5jZWwuYmluZChzZWxmLnB1bGwpKTtcbiAgICB0aGlzLnB1bGwub24oJ2NvbXBsZXRlJywgc2VsZi5wdXNoLmNhbmNlbC5iaW5kKHNlbGYucHVzaCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkT25lTGlzdGVuZXIoZWUsIGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIGlmIChlZS5saXN0ZW5lcnMoZXZlbnQpLmluZGV4T2YobGlzdGVuZXIpID09IC0xKSB7XG4gICAgICBlZS5vbihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMub24oJ25ld0xpc3RlbmVyJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ID09PSAnY2hhbmdlJykge1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdWxsLCAnY2hhbmdlJywgcHVsbENoYW5nZSk7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1c2gsICdjaGFuZ2UnLCBwdXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnZGVuaWVkJykge1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdWxsLCAnZGVuaWVkJywgcHVsbERlbmllZCk7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1c2gsICdkZW5pZWQnLCBwdXNoRGVuaWVkKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnYWN0aXZlJykge1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdWxsLCAnYWN0aXZlJywgcHVsbEFjdGl2ZSk7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1c2gsICdhY3RpdmUnLCBwdXNoQWN0aXZlKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAncGF1c2VkJykge1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdWxsLCAncGF1c2VkJywgcHVsbFBhdXNlZCk7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1c2gsICdwYXVzZWQnLCBwdXNoUGF1c2VkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMub24oJ3JlbW92ZUxpc3RlbmVyJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ID09PSAnY2hhbmdlJykge1xuICAgICAgc2VsZi5wdWxsLnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2UnLCBwdWxsQ2hhbmdlKTtcbiAgICAgIHNlbGYucHVzaC5yZW1vdmVMaXN0ZW5lcignY2hhbmdlJywgcHVzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2RlbmllZCcpIHtcbiAgICAgIHNlbGYucHVsbC5yZW1vdmVMaXN0ZW5lcignZGVuaWVkJywgcHVsbERlbmllZCk7XG4gICAgICBzZWxmLnB1c2gucmVtb3ZlTGlzdGVuZXIoJ2RlbmllZCcsIHB1c2hEZW5pZWQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdhY3RpdmUnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ2FjdGl2ZScsIHB1bGxBY3RpdmUpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdhY3RpdmUnLCBwdXNoQWN0aXZlKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAncGF1c2VkJykge1xuICAgICAgc2VsZi5wdWxsLnJlbW92ZUxpc3RlbmVyKCdwYXVzZWQnLCBwdWxsUGF1c2VkKTtcbiAgICAgIHNlbGYucHVzaC5yZW1vdmVMaXN0ZW5lcigncGF1c2VkJywgcHVzaFBhdXNlZCk7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLnB1bGwub24oJ3JlbW92ZUxpc3RlbmVyJywgcmVtb3ZlQWxsKCdwdWxsJykpO1xuICB0aGlzLnB1c2gub24oJ3JlbW92ZUxpc3RlbmVyJywgcmVtb3ZlQWxsKCdwdXNoJykpO1xuXG4gIHZhciBwcm9taXNlID0gUHJvbWlzZS5hbGwoW1xuICAgIHRoaXMucHVzaCxcbiAgICB0aGlzLnB1bGxcbiAgXSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgIHZhciBvdXQgPSB7XG4gICAgICBwdXNoOiByZXNwWzBdLFxuICAgICAgcHVsbDogcmVzcFsxXVxuICAgIH07XG4gICAgc2VsZi5lbWl0KCdjb21wbGV0ZScsIG91dCk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCBvdXQpO1xuICAgIH1cbiAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHJldHVybiBvdXQ7XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBzZWxmLmNhbmNlbCgpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgLy8gaWYgdGhlcmUncyBhIGNhbGxiYWNrLCB0aGVuIHRoZSBjYWxsYmFjayBjYW4gcmVjZWl2ZVxuICAgICAgLy8gdGhlIGVycm9yIGV2ZW50XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiB0aGVyZSdzIG5vIGNhbGxiYWNrLCB0aGVuIHdlJ3JlIHNhZmUgdG8gZW1pdCBhbiBlcnJvclxuICAgICAgLy8gZXZlbnQsIHdoaWNoIHdvdWxkIG90aGVyd2lzZSB0aHJvdyBhbiB1bmhhbmRsZWQgZXJyb3JcbiAgICAgIC8vIGR1ZSB0byAnZXJyb3InIGJlaW5nIGEgc3BlY2lhbCBldmVudCBpbiBFdmVudEVtaXR0ZXJzXG4gICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICB9XG4gICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIC8vIG5vIHNlbnNlIHRocm93aW5nIGlmIHdlJ3JlIGFscmVhZHkgZW1pdHRpbmcgYW4gJ2Vycm9yJyBldmVudFxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy50aGVuID0gZnVuY3Rpb24gKHN1Y2Nlc3MsIGVycikge1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4oc3VjY2VzcywgZXJyKTtcbiAgfTtcblxuICB0aGlzLmNhdGNoID0gZnVuY3Rpb24gKGVycikge1xuICAgIHJldHVybiBwcm9taXNlLmNhdGNoKGVycik7XG4gIH07XG59XG5cblN5bmMucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLmNhbmNlbGVkKSB7XG4gICAgdGhpcy5jYW5jZWxlZCA9IHRydWU7XG4gICAgdGhpcy5wdXNoLmNhbmNlbCgpO1xuICAgIHRoaXMucHVsbC5jYW5jZWwoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gcmVwbGljYXRpb24oUG91Y2hEQikge1xuICBQb3VjaERCLnJlcGxpY2F0ZSA9IHJlcGxpY2F0ZVdyYXBwZXI7XG4gIFBvdWNoREIuc3luYyA9IHN5bmM7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBvdWNoREIucHJvdG90eXBlLCAncmVwbGljYXRlJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLnJlcGxpY2F0ZU1ldGhvZHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMucmVwbGljYXRlTWV0aG9kcyA9IHtcbiAgICAgICAgICBmcm9tOiBmdW5jdGlvbiAob3RoZXIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jb25zdHJ1Y3Rvci5yZXBsaWNhdGUob3RoZXIsIHNlbGYsIG9wdHMsIGNhbGxiYWNrKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRvOiBmdW5jdGlvbiAob3RoZXIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jb25zdHJ1Y3Rvci5yZXBsaWNhdGUoc2VsZiwgb3RoZXIsIG9wdHMsIGNhbGxiYWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZXBsaWNhdGVNZXRob2RzO1xuICAgIH1cbiAgfSk7XG5cbiAgUG91Y2hEQi5wcm90b3R5cGUuc3luYyA9IGZ1bmN0aW9uIChkYk5hbWUsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3Iuc3luYyh0aGlzLCBkYk5hbWUsIG9wdHMsIGNhbGxiYWNrKTtcbiAgfTtcbn1cblxuUG91Y2hEQi5wbHVnaW4oSURCUG91Y2gpXG4gIC5wbHVnaW4oSHR0cFBvdWNoJDEpXG4gIC5wbHVnaW4obWFwcmVkdWNlKVxuICAucGx1Z2luKHJlcGxpY2F0aW9uKTtcblxuLy8gUHVsbCBmcm9tIHNyYyBiZWNhdXNlIHBvdWNoZGItbm9kZS9wb3VjaGRiLWJyb3dzZXIgdGhlbXNlbHZlc1xuXG5leHBvcnQgZGVmYXVsdCBQb3VjaERCO1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7IC8vICoqYHYxKClgIC0gR2VuZXJhdGUgdGltZS1iYXNlZCBVVUlEKipcbi8vXG4vLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vTGlvc0svVVVJRC5qc1xuLy8gYW5kIGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS91dWlkLmh0bWxcblxudmFyIF9ub2RlSWQ7XG5cbnZhciBfY2xvY2tzZXE7IC8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxuXG5cbnZhciBfbGFzdE1TZWNzID0gMDtcbnZhciBfbGFzdE5TZWNzID0gMDsgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCBmb3IgQVBJIGRldGFpbHNcblxuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IG5ldyBBcnJheSgxNik7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxOyAvLyBub2RlIGFuZCBjbG9ja3NlcSBuZWVkIHRvIGJlIGluaXRpYWxpemVkIHRvIHJhbmRvbSB2YWx1ZXMgaWYgdGhleSdyZSBub3RcbiAgLy8gc3BlY2lmaWVkLiAgV2UgZG8gdGhpcyBsYXppbHkgdG8gbWluaW1pemUgaXNzdWVzIHJlbGF0ZWQgdG8gaW5zdWZmaWNpZW50XG4gIC8vIHN5c3RlbSBlbnRyb3B5LiAgU2VlICMxODlcblxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjUsIGNyZWF0ZSBhbmQgNDgtYml0IG5vZGUgaWQsICg0NyByYW5kb20gYml0cyArIG11bHRpY2FzdCBiaXQgPSAxKVxuICAgICAgbm9kZSA9IF9ub2RlSWQgPSBbc2VlZEJ5dGVzWzBdIHwgMHgwMSwgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1dO1xuICAgIH1cblxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfSAvLyBVVUlEIHRpbWVzdGFtcHMgYXJlIDEwMCBuYW5vLXNlY29uZCB1bml0cyBzaW5jZSB0aGUgR3JlZ29yaWFuIGVwb2NoLFxuICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgLy8gKDEwMC1uYW5vc2Vjb25kcyBvZmZzZXQgZnJvbSBtc2Vjcykgc2luY2UgdW5peCBlcG9jaCwgMTk3MC0wMS0wMSAwMDowMC5cblxuXG4gIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBEYXRlLm5vdygpOyAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG5cbiAgdmFyIG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxOyAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG5cbiAgdmFyIGR0ID0gbXNlY3MgLSBfbGFzdE1TZWNzICsgKG5zZWNzIC0gX2xhc3ROU2VjcykgLyAxMDAwMDsgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuXG4gIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2xvY2tzZXEgPSBjbG9ja3NlcSArIDEgJiAweDNmZmY7XG4gIH0gLy8gUmVzZXQgbnNlY3MgaWYgY2xvY2sgcmVncmVzc2VzIChuZXcgY2xvY2tzZXEpIG9yIHdlJ3ZlIG1vdmVkIG9udG8gYSBuZXdcbiAgLy8gdGltZSBpbnRlcnZhbFxuXG5cbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH0gLy8gUGVyIDQuMi4xLjIgVGhyb3cgZXJyb3IgaWYgdG9vIG1hbnkgdXVpZHMgYXJlIHJlcXVlc3RlZFxuXG5cbiAgaWYgKG5zZWNzID49IDEwMDAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXVpZC52MSgpOiBDYW4ndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWNcIik7XG4gIH1cblxuICBfbGFzdE1TZWNzID0gbXNlY3M7XG4gIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7IC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuXG4gIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwOyAvLyBgdGltZV9sb3dgXG5cbiAgdmFyIHRsID0gKChtc2VjcyAmIDB4ZmZmZmZmZikgKiAxMDAwMCArIG5zZWNzKSAlIDB4MTAwMDAwMDAwO1xuICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsICYgMHhmZjsgLy8gYHRpbWVfbWlkYFxuXG4gIHZhciB0bWggPSBtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDAgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7IC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG5cbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmOyAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcblxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7IC8vIGBjbG9ja19zZXFfbG93YFxuXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjsgLy8gYG5vZGVgXG5cbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IHN0cmluZ2lmeShiKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjE7IiwiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuXG5mdW5jdGlvbiBwYXJzZSh1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG5cbiAgdmFyIHY7XG4gIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxNik7IC8vIFBhcnNlICMjIyMjIyMjLS4uLi4tLi4uLi0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFyclswXSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgwLCA4KSwgMTYpKSA+Pj4gMjQ7XG4gIGFyclsxXSA9IHYgPj4+IDE2ICYgMHhmZjtcbiAgYXJyWzJdID0gdiA+Pj4gOCAmIDB4ZmY7XG4gIGFyclszXSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0jIyMjLS4uLi4tLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbNF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoOSwgMTMpLCAxNikpID4+PiA4O1xuICBhcnJbNV0gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0jIyMjLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzZdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDE0LCAxOCksIDE2KSkgPj4+IDg7XG4gIGFycls3XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLS4uLi4tIyMjIy0uLi4uLi4uLi4uLi5cblxuICBhcnJbOF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTksIDIzKSwgMTYpKSA+Pj4gODtcbiAgYXJyWzldID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tLi4uLi0uLi4uLSMjIyMjIyMjIyMjI1xuICAvLyAoVXNlIFwiL1wiIHRvIGF2b2lkIDMyLWJpdCB0cnVuY2F0aW9uIHdoZW4gYml0LXNoaWZ0aW5nIGhpZ2gtb3JkZXIgYnl0ZXMpXG5cbiAgYXJyWzEwXSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgyNCwgMzYpLCAxNikpIC8gMHgxMDAwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMV0gPSB2IC8gMHgxMDAwMDAwMDAgJiAweGZmO1xuICBhcnJbMTJdID0gdiA+Pj4gMjQgJiAweGZmO1xuICBhcnJbMTNdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMTRdID0gdiA+Pj4gOCAmIDB4ZmY7XG4gIGFyclsxNV0gPSB2ICYgMHhmZjtcbiAgcmV0dXJuIGFycjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGFyc2U7IiwiaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5pbXBvcnQgcGFyc2UgZnJvbSAnLi9wYXJzZS5qcyc7XG5cbmZ1bmN0aW9uIHN0cmluZ1RvQnl0ZXMoc3RyKSB7XG4gIHN0ciA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKTsgLy8gVVRGOCBlc2NhcGVcblxuICB2YXIgYnl0ZXMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGJ5dGVzLnB1c2goc3RyLmNoYXJDb2RlQXQoaSkpO1xuICB9XG5cbiAgcmV0dXJuIGJ5dGVzO1xufVxuXG5leHBvcnQgdmFyIEROUyA9ICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IHZhciBVUkwgPSAnNmJhN2I4MTEtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChuYW1lLCB2ZXJzaW9uLCBoYXNoZnVuYykge1xuICBmdW5jdGlvbiBnZW5lcmF0ZVVVSUQodmFsdWUsIG5hbWVzcGFjZSwgYnVmLCBvZmZzZXQpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBzdHJpbmdUb0J5dGVzKHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWVzcGFjZSA9IHBhcnNlKG5hbWVzcGFjZSk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWVzcGFjZS5sZW5ndGggIT09IDE2KSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ05hbWVzcGFjZSBtdXN0IGJlIGFycmF5LWxpa2UgKDE2IGl0ZXJhYmxlIGludGVnZXIgdmFsdWVzLCAwLTI1NSknKTtcbiAgICB9IC8vIENvbXB1dGUgaGFzaCBvZiBuYW1lc3BhY2UgYW5kIHZhbHVlLCBQZXIgNC4zXG4gICAgLy8gRnV0dXJlOiBVc2Ugc3ByZWFkIHN5bnRheCB3aGVuIHN1cHBvcnRlZCBvbiBhbGwgcGxhdGZvcm1zLCBlLmcuIGBieXRlcyA9XG4gICAgLy8gaGFzaGZ1bmMoWy4uLm5hbWVzcGFjZSwgLi4uIHZhbHVlXSlgXG5cblxuICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KDE2ICsgdmFsdWUubGVuZ3RoKTtcbiAgICBieXRlcy5zZXQobmFtZXNwYWNlKTtcbiAgICBieXRlcy5zZXQodmFsdWUsIG5hbWVzcGFjZS5sZW5ndGgpO1xuICAgIGJ5dGVzID0gaGFzaGZ1bmMoYnl0ZXMpO1xuICAgIGJ5dGVzWzZdID0gYnl0ZXNbNl0gJiAweDBmIHwgdmVyc2lvbjtcbiAgICBieXRlc1s4XSA9IGJ5dGVzWzhdICYgMHgzZiB8IDB4ODA7XG5cbiAgICBpZiAoYnVmKSB7XG4gICAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IGJ5dGVzW2ldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYnVmO1xuICAgIH1cblxuICAgIHJldHVybiBzdHJpbmdpZnkoYnl0ZXMpO1xuICB9IC8vIEZ1bmN0aW9uI25hbWUgaXMgbm90IHNldHRhYmxlIG9uIHNvbWUgcGxhdGZvcm1zICgjMjcwKVxuXG5cbiAgdHJ5IHtcbiAgICBnZW5lcmF0ZVVVSUQubmFtZSA9IG5hbWU7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICB9IGNhdGNoIChlcnIpIHt9IC8vIEZvciBDb21tb25KUyBkZWZhdWx0IGV4cG9ydCBzdXBwb3J0XG5cblxuICBnZW5lcmF0ZVVVSUQuRE5TID0gRE5TO1xuICBnZW5lcmF0ZVVVSUQuVVJMID0gVVJMO1xuICByZXR1cm4gZ2VuZXJhdGVVVUlEO1xufSIsIi8qXG4gKiBCcm93c2VyLWNvbXBhdGlibGUgSmF2YVNjcmlwdCBNRDVcbiAqXG4gKiBNb2RpZmljYXRpb24gb2YgSmF2YVNjcmlwdCBNRDVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlaW1wL0phdmFTY3JpcHQtTUQ1XG4gKlxuICogQ29weXJpZ2h0IDIwMTEsIFNlYmFzdGlhbiBUc2NoYW5cbiAqIGh0dHBzOi8vYmx1ZWltcC5uZXRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqIEJhc2VkIG9uXG4gKiBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFJTQSBEYXRhIFNlY3VyaXR5LCBJbmMuIE1ENSBNZXNzYWdlXG4gKiBEaWdlc3QgQWxnb3JpdGhtLCBhcyBkZWZpbmVkIGluIFJGQyAxMzIxLlxuICogVmVyc2lvbiAyLjIgQ29weXJpZ2h0IChDKSBQYXVsIEpvaG5zdG9uIDE5OTkgLSAyMDA5XG4gKiBPdGhlciBjb250cmlidXRvcnM6IEdyZWcgSG9sdCwgQW5kcmV3IEtlcGVydCwgWWRuYXIsIExvc3RpbmV0XG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2VcbiAqIFNlZSBodHRwOi8vcGFqaG9tZS5vcmcudWsvY3J5cHQvbWQ1IGZvciBtb3JlIGluZm8uXG4gKi9cbmZ1bmN0aW9uIG1kNShieXRlcykge1xuICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIHZhciBtc2cgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYnl0ZXMpKTsgLy8gVVRGOCBlc2NhcGVcblxuICAgIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobXNnLmxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7ICsraSkge1xuICAgICAgYnl0ZXNbaV0gPSBtc2cuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWQ1VG9IZXhFbmNvZGVkQXJyYXkod29yZHNUb01kNShieXRlc1RvV29yZHMoYnl0ZXMpLCBieXRlcy5sZW5ndGggKiA4KSk7XG59XG4vKlxuICogQ29udmVydCBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzIHRvIGFuIGFycmF5IG9mIGJ5dGVzXG4gKi9cblxuXG5mdW5jdGlvbiBtZDVUb0hleEVuY29kZWRBcnJheShpbnB1dCkge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIHZhciBsZW5ndGgzMiA9IGlucHV0Lmxlbmd0aCAqIDMyO1xuICB2YXIgaGV4VGFiID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoMzI7IGkgKz0gOCkge1xuICAgIHZhciB4ID0gaW5wdXRbaSA+PiA1XSA+Pj4gaSAlIDMyICYgMHhmZjtcbiAgICB2YXIgaGV4ID0gcGFyc2VJbnQoaGV4VGFiLmNoYXJBdCh4ID4+PiA0ICYgMHgwZikgKyBoZXhUYWIuY2hhckF0KHggJiAweDBmKSwgMTYpO1xuICAgIG91dHB1dC5wdXNoKGhleCk7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgb3V0cHV0IGxlbmd0aCB3aXRoIHBhZGRpbmcgYW5kIGJpdCBsZW5ndGhcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldE91dHB1dExlbmd0aChpbnB1dExlbmd0aDgpIHtcbiAgcmV0dXJuIChpbnB1dExlbmd0aDggKyA2NCA+Pj4gOSA8PCA0KSArIDE0ICsgMTtcbn1cbi8qXG4gKiBDYWxjdWxhdGUgdGhlIE1ENSBvZiBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzLCBhbmQgYSBiaXQgbGVuZ3RoLlxuICovXG5cblxuZnVuY3Rpb24gd29yZHNUb01kNSh4LCBsZW4pIHtcbiAgLyogYXBwZW5kIHBhZGRpbmcgKi9cbiAgeFtsZW4gPj4gNV0gfD0gMHg4MCA8PCBsZW4gJSAzMjtcbiAgeFtnZXRPdXRwdXRMZW5ndGgobGVuKSAtIDFdID0gbGVuO1xuICB2YXIgYSA9IDE3MzI1ODQxOTM7XG4gIHZhciBiID0gLTI3MTczMzg3OTtcbiAgdmFyIGMgPSAtMTczMjU4NDE5NDtcbiAgdmFyIGQgPSAyNzE3MzM4Nzg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSArPSAxNikge1xuICAgIHZhciBvbGRhID0gYTtcbiAgICB2YXIgb2xkYiA9IGI7XG4gICAgdmFyIG9sZGMgPSBjO1xuICAgIHZhciBvbGRkID0gZDtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpXSwgNywgLTY4MDg3NjkzNik7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDFdLCAxMiwgLTM4OTU2NDU4Nik7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDJdLCAxNywgNjA2MTA1ODE5KTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgM10sIDIyLCAtMTA0NDUyNTMzMCk7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA3LCAtMTc2NDE4ODk3KTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgNV0sIDEyLCAxMjAwMDgwNDI2KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE3LCAtMTQ3MzIzMTM0MSk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDddLCAyMiwgLTQ1NzA1OTgzKTtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpICsgOF0sIDcsIDE3NzAwMzU0MTYpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyA5XSwgMTIsIC0xOTU4NDE0NDE3KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNywgLTQyMDYzKTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgMTFdLCAyMiwgLTE5OTA0MDQxNjIpO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDcsIDE4MDQ2MDM2ODIpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyAxM10sIDEyLCAtNDAzNDExMDEpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyAxNF0sIDE3LCAtMTUwMjAwMjI5MCk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDE1XSwgMjIsIDEyMzY1MzUzMjkpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNSwgLTE2NTc5NjUxMCk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDZdLCA5LCAtMTA2OTUwMTYzMik7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDExXSwgMTQsIDY0MzcxNzcxMyk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaV0sIDIwLCAtMzczODk3MzAyKTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgNV0sIDUsIC03MDE1NTg2OTEpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxMF0sIDksIDM4MDE2MDgzKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNCwgLTY2MDQ3ODMzNSk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaSArIDRdLCAyMCwgLTQwNTUzNzg0OCk7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDldLCA1LCA1Njg0NDY0MzgpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxNF0sIDksIC0xMDE5ODAzNjkwKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgM10sIDE0LCAtMTg3MzYzOTYxKTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpICsgOF0sIDIwLCAxMTYzNTMxNTAxKTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgMTNdLCA1LCAtMTQ0NDY4MTQ2Nyk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDJdLCA5LCAtNTE0MDM3ODQpO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTQsIDE3MzUzMjg0NzMpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyAxMl0sIDIwLCAtMTkyNjYwNzczNCk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA0LCAtMzc4NTU4KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgOF0sIDExLCAtMjAyMjU3NDQ2Myk7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDExXSwgMTYsIDE4MzkwMzA1NjIpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxNF0sIDIzLCAtMzUzMDk1NTYpO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNCwgLTE1MzA5OTIwNjApO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyA0XSwgMTEsIDEyNzI4OTMzNTMpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTYsIC0xNTU0OTc2MzIpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxMF0sIDIzLCAtMTA5NDczMDY0MCk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDEzXSwgNCwgNjgxMjc5MTc0KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpXSwgMTEsIC0zNTg1MzcyMjIpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAzXSwgMTYsIC03MjI1MjE5NzkpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyA2XSwgMjMsIDc2MDI5MTg5KTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgOV0sIDQsIC02NDAzNjQ0ODcpO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyAxMl0sIDExLCAtNDIxODE1ODM1KTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNiwgNTMwNzQyNTIwKTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMl0sIDIzLCAtOTk1MzM4NjUxKTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpXSwgNiwgLTE5ODYzMDg0NCk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDddLCAxMCwgMTEyNjg5MTQxNSk7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDE0XSwgMTUsIC0xNDE2MzU0OTA1KTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgNV0sIDIxLCAtNTc0MzQwNTUpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDYsIDE3MDA0ODU1NzEpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAzXSwgMTAsIC0xODk0OTg2NjA2KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNSwgLTEwNTE1MjMpO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyAxXSwgMjEsIC0yMDU0OTIyNzk5KTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgOF0sIDYsIDE4NzMzMTMzNTkpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAxNV0sIDEwLCAtMzA2MTE3NDQpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyA2XSwgMTUsIC0xNTYwMTk4MzgwKTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgMTNdLCAyMSwgMTMwOTE1MTY0OSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA2LCAtMTQ1NTIzMDcwKTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgMTFdLCAxMCwgLTExMjAyMTAzNzkpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyAyXSwgMTUsIDcxODc4NzI1OSk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDldLCAyMSwgLTM0MzQ4NTU1MSk7XG4gICAgYSA9IHNhZmVBZGQoYSwgb2xkYSk7XG4gICAgYiA9IHNhZmVBZGQoYiwgb2xkYik7XG4gICAgYyA9IHNhZmVBZGQoYywgb2xkYyk7XG4gICAgZCA9IHNhZmVBZGQoZCwgb2xkZCk7XG4gIH1cblxuICByZXR1cm4gW2EsIGIsIGMsIGRdO1xufVxuLypcbiAqIENvbnZlcnQgYW4gYXJyYXkgYnl0ZXMgdG8gYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3Jkc1xuICogQ2hhcmFjdGVycyA+MjU1IGhhdmUgdGhlaXIgaGlnaC1ieXRlIHNpbGVudGx5IGlnbm9yZWQuXG4gKi9cblxuXG5mdW5jdGlvbiBieXRlc1RvV29yZHMoaW5wdXQpIHtcbiAgaWYgKGlucHV0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBsZW5ndGg4ID0gaW5wdXQubGVuZ3RoICogODtcbiAgdmFyIG91dHB1dCA9IG5ldyBVaW50MzJBcnJheShnZXRPdXRwdXRMZW5ndGgobGVuZ3RoOCkpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoODsgaSArPSA4KSB7XG4gICAgb3V0cHV0W2kgPj4gNV0gfD0gKGlucHV0W2kgLyA4XSAmIDB4ZmYpIDw8IGkgJSAzMjtcbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG4vKlxuICogQWRkIGludGVnZXJzLCB3cmFwcGluZyBhdCAyXjMyLiBUaGlzIHVzZXMgMTYtYml0IG9wZXJhdGlvbnMgaW50ZXJuYWxseVxuICogdG8gd29yayBhcm91bmQgYnVncyBpbiBzb21lIEpTIGludGVycHJldGVycy5cbiAqL1xuXG5cbmZ1bmN0aW9uIHNhZmVBZGQoeCwgeSkge1xuICB2YXIgbHN3ID0gKHggJiAweGZmZmYpICsgKHkgJiAweGZmZmYpO1xuICB2YXIgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG4gIHJldHVybiBtc3cgPDwgMTYgfCBsc3cgJiAweGZmZmY7XG59XG4vKlxuICogQml0d2lzZSByb3RhdGUgYSAzMi1iaXQgbnVtYmVyIHRvIHRoZSBsZWZ0LlxuICovXG5cblxuZnVuY3Rpb24gYml0Um90YXRlTGVmdChudW0sIGNudCkge1xuICByZXR1cm4gbnVtIDw8IGNudCB8IG51bSA+Pj4gMzIgLSBjbnQ7XG59XG4vKlxuICogVGhlc2UgZnVuY3Rpb25zIGltcGxlbWVudCB0aGUgZm91ciBiYXNpYyBvcGVyYXRpb25zIHRoZSBhbGdvcml0aG0gdXNlcy5cbiAqL1xuXG5cbmZ1bmN0aW9uIG1kNWNtbihxLCBhLCBiLCB4LCBzLCB0KSB7XG4gIHJldHVybiBzYWZlQWRkKGJpdFJvdGF0ZUxlZnQoc2FmZUFkZChzYWZlQWRkKGEsIHEpLCBzYWZlQWRkKHgsIHQpKSwgcyksIGIpO1xufVxuXG5mdW5jdGlvbiBtZDVmZihhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiAmIGMgfCB+YiAmIGQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVnZyhhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiAmIGQgfCBjICYgfmQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVoaChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiBeIGMgXiBkLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gbWQ1aWkoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGMgXiAoYiB8IH5kKSwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1kNTsiLCJpbXBvcnQgdjM1IGZyb20gJy4vdjM1LmpzJztcbmltcG9ydCBtZDUgZnJvbSAnLi9tZDUuanMnO1xudmFyIHYzID0gdjM1KCd2MycsIDB4MzAsIG1kNSk7XG5leHBvcnQgZGVmYXVsdCB2MzsiLCIvLyBBZGFwdGVkIGZyb20gQ2hyaXMgVmVuZXNzJyBTSEExIGNvZGUgYXRcbi8vIGh0dHA6Ly93d3cubW92YWJsZS10eXBlLmNvLnVrL3NjcmlwdHMvc2hhMS5odG1sXG5mdW5jdGlvbiBmKHMsIHgsIHksIHopIHtcbiAgc3dpdGNoIChzKSB7XG4gICAgY2FzZSAwOlxuICAgICAgcmV0dXJuIHggJiB5IF4gfnggJiB6O1xuXG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIHggXiB5IF4gejtcblxuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiB4ICYgeSBeIHggJiB6IF4geSAmIHo7XG5cbiAgICBjYXNlIDM6XG4gICAgICByZXR1cm4geCBeIHkgXiB6O1xuICB9XG59XG5cbmZ1bmN0aW9uIFJPVEwoeCwgbikge1xuICByZXR1cm4geCA8PCBuIHwgeCA+Pj4gMzIgLSBuO1xufVxuXG5mdW5jdGlvbiBzaGExKGJ5dGVzKSB7XG4gIHZhciBLID0gWzB4NWE4Mjc5OTksIDB4NmVkOWViYTEsIDB4OGYxYmJjZGMsIDB4Y2E2MmMxZDZdO1xuICB2YXIgSCA9IFsweDY3NDUyMzAxLCAweGVmY2RhYjg5LCAweDk4YmFkY2ZlLCAweDEwMzI1NDc2LCAweGMzZDJlMWYwXTtcblxuICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIHZhciBtc2cgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYnl0ZXMpKTsgLy8gVVRGOCBlc2NhcGVcblxuICAgIGJ5dGVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7ICsraSkge1xuICAgICAgYnl0ZXMucHVzaChtc2cuY2hhckNvZGVBdChpKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGJ5dGVzKSkge1xuICAgIC8vIENvbnZlcnQgQXJyYXktbGlrZSB0byBBcnJheVxuICAgIGJ5dGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYnl0ZXMpO1xuICB9XG5cbiAgYnl0ZXMucHVzaCgweDgwKTtcbiAgdmFyIGwgPSBieXRlcy5sZW5ndGggLyA0ICsgMjtcbiAgdmFyIE4gPSBNYXRoLmNlaWwobCAvIDE2KTtcbiAgdmFyIE0gPSBuZXcgQXJyYXkoTik7XG5cbiAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IE47ICsrX2kpIHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQzMkFycmF5KDE2KTtcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7ICsraikge1xuICAgICAgYXJyW2pdID0gYnl0ZXNbX2kgKiA2NCArIGogKiA0XSA8PCAyNCB8IGJ5dGVzW19pICogNjQgKyBqICogNCArIDFdIDw8IDE2IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgMl0gPDwgOCB8IGJ5dGVzW19pICogNjQgKyBqICogNCArIDNdO1xuICAgIH1cblxuICAgIE1bX2ldID0gYXJyO1xuICB9XG5cbiAgTVtOIC0gMV1bMTRdID0gKGJ5dGVzLmxlbmd0aCAtIDEpICogOCAvIE1hdGgucG93KDIsIDMyKTtcbiAgTVtOIC0gMV1bMTRdID0gTWF0aC5mbG9vcihNW04gLSAxXVsxNF0pO1xuICBNW04gLSAxXVsxNV0gPSAoYnl0ZXMubGVuZ3RoIC0gMSkgKiA4ICYgMHhmZmZmZmZmZjtcblxuICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBOOyArK19pMikge1xuICAgIHZhciBXID0gbmV3IFVpbnQzMkFycmF5KDgwKTtcblxuICAgIGZvciAodmFyIHQgPSAwOyB0IDwgMTY7ICsrdCkge1xuICAgICAgV1t0XSA9IE1bX2kyXVt0XTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfdCA9IDE2OyBfdCA8IDgwOyArK190KSB7XG4gICAgICBXW190XSA9IFJPVEwoV1tfdCAtIDNdIF4gV1tfdCAtIDhdIF4gV1tfdCAtIDE0XSBeIFdbX3QgLSAxNl0sIDEpO1xuICAgIH1cblxuICAgIHZhciBhID0gSFswXTtcbiAgICB2YXIgYiA9IEhbMV07XG4gICAgdmFyIGMgPSBIWzJdO1xuICAgIHZhciBkID0gSFszXTtcbiAgICB2YXIgZSA9IEhbNF07XG5cbiAgICBmb3IgKHZhciBfdDIgPSAwOyBfdDIgPCA4MDsgKytfdDIpIHtcbiAgICAgIHZhciBzID0gTWF0aC5mbG9vcihfdDIgLyAyMCk7XG4gICAgICB2YXIgVCA9IFJPVEwoYSwgNSkgKyBmKHMsIGIsIGMsIGQpICsgZSArIEtbc10gKyBXW190Ml0gPj4+IDA7XG4gICAgICBlID0gZDtcbiAgICAgIGQgPSBjO1xuICAgICAgYyA9IFJPVEwoYiwgMzApID4+PiAwO1xuICAgICAgYiA9IGE7XG4gICAgICBhID0gVDtcbiAgICB9XG5cbiAgICBIWzBdID0gSFswXSArIGEgPj4+IDA7XG4gICAgSFsxXSA9IEhbMV0gKyBiID4+PiAwO1xuICAgIEhbMl0gPSBIWzJdICsgYyA+Pj4gMDtcbiAgICBIWzNdID0gSFszXSArIGQgPj4+IDA7XG4gICAgSFs0XSA9IEhbNF0gKyBlID4+PiAwO1xuICB9XG5cbiAgcmV0dXJuIFtIWzBdID4+IDI0ICYgMHhmZiwgSFswXSA+PiAxNiAmIDB4ZmYsIEhbMF0gPj4gOCAmIDB4ZmYsIEhbMF0gJiAweGZmLCBIWzFdID4+IDI0ICYgMHhmZiwgSFsxXSA+PiAxNiAmIDB4ZmYsIEhbMV0gPj4gOCAmIDB4ZmYsIEhbMV0gJiAweGZmLCBIWzJdID4+IDI0ICYgMHhmZiwgSFsyXSA+PiAxNiAmIDB4ZmYsIEhbMl0gPj4gOCAmIDB4ZmYsIEhbMl0gJiAweGZmLCBIWzNdID4+IDI0ICYgMHhmZiwgSFszXSA+PiAxNiAmIDB4ZmYsIEhbM10gPj4gOCAmIDB4ZmYsIEhbM10gJiAweGZmLCBIWzRdID4+IDI0ICYgMHhmZiwgSFs0XSA+PiAxNiAmIDB4ZmYsIEhbNF0gPj4gOCAmIDB4ZmYsIEhbNF0gJiAweGZmXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc2hhMTsiLCJpbXBvcnQgdjM1IGZyb20gJy4vdjM1LmpzJztcbmltcG9ydCBzaGExIGZyb20gJy4vc2hhMS5qcyc7XG52YXIgdjUgPSB2MzUoJ3Y1JywgMHg1MCwgc2hhMSk7XG5leHBvcnQgZGVmYXVsdCB2NTsiLCJleHBvcnQgZGVmYXVsdCAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwJzsiLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5cbmZ1bmN0aW9uIHZlcnNpb24odXVpZCkge1xuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdJbnZhbGlkIFVVSUQnKTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZUludCh1dWlkLnN1YnN0cigxNCwgMSksIDE2KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmVyc2lvbjsiLCIvKipcclxuKiB2a0JlYXV0aWZ5IC0gamF2YXNjcmlwdCBwbHVnaW4gdG8gcHJldHR5LXByaW50IG9yIG1pbmlmeSB0ZXh0IGluIFhNTCwgSlNPTiwgQ1NTIGFuZCBTUUwgZm9ybWF0cy5cclxuKlxyXG4qIENvcHlyaWdodCAoYykgMjAxMiBWYWRpbSBLaXJ5dWtoaW5cclxuKiB2a2lyeXVraGluIEAgZ21haWwuY29tXHJcbiogaHR0cDovL3d3dy5lc2xpbnN0cnVjdG9yLm5ldC92a2JlYXV0aWZ5L1xyXG4qXHJcbiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXM6XHJcbiogICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG4qICAgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC5odG1sXHJcbipcclxuKiAgIFByZXR0eSBwcmludFxyXG4qXHJcbiogICAgICAgIHZrYmVhdXRpZnkueG1sKHRleHQgWyxpbmRlbnRfcGF0dGVybl0pO1xyXG4qICAgICAgICB2a2JlYXV0aWZ5Lmpzb24odGV4dCBbLGluZGVudF9wYXR0ZXJuXSk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuY3NzKHRleHQgWyxpbmRlbnRfcGF0dGVybl0pO1xyXG4qICAgICAgICB2a2JlYXV0aWZ5LnNxbCh0ZXh0IFssaW5kZW50X3BhdHRlcm5dKTtcclxuKlxyXG4qICAgICAgICBAdGV4dCAtIFN0cmluZzsgdGV4dCB0byBiZWF0dWZ5O1xyXG4qICAgICAgICBAaW5kZW50X3BhdHRlcm4gLSBJbnRlZ2VyIHwgU3RyaW5nO1xyXG4qICAgICAgICAgICAgICAgIEludGVnZXI6ICBudW1iZXIgb2Ygd2hpdGUgc3BhY2VzO1xyXG4qICAgICAgICAgICAgICAgIFN0cmluZzogICBjaGFyYWN0ZXIgc3RyaW5nIHRvIHZpc3VhbGl6ZSBpbmRlbnRhdGlvbiAoIGNhbiBhbHNvIGJlIGEgc2V0IG9mIHdoaXRlIHNwYWNlcyApXHJcbiogICBNaW5pZnlcclxuKlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LnhtbG1pbih0ZXh0IFsscHJlc2VydmVfY29tbWVudHNdKTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5qc29ubWluKHRleHQpO1xyXG4qICAgICAgICB2a2JlYXV0aWZ5LmNzc21pbih0ZXh0IFsscHJlc2VydmVfY29tbWVudHNdKTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5zcWxtaW4odGV4dCk7XHJcbipcclxuKiAgICAgICAgQHRleHQgLSBTdHJpbmc7IHRleHQgdG8gbWluaWZ5O1xyXG4qICAgICAgICBAcHJlc2VydmVfY29tbWVudHMgLSBCb29sOyBbb3B0aW9uYWxdO1xyXG4qICAgICAgICAgICAgICAgIFNldCB0aGlzIGZsYWcgdG8gdHJ1ZSB0byBwcmV2ZW50IHJlbW92aW5nIGNvbW1lbnRzIGZyb20gQHRleHQgKCBtaW54bWwgYW5kIG1pbmNzcyBmdW5jdGlvbnMgb25seS4gKVxyXG4qXHJcbiogICBFeGFtcGxlczpcclxuKiAgICAgICAgdmtiZWF1dGlmeS54bWwodGV4dCk7IC8vIHByZXR0eSBwcmludCBYTUxcclxuKiAgICAgICAgdmtiZWF1dGlmeS5qc29uKHRleHQsIDQgKTsgLy8gcHJldHR5IHByaW50IEpTT05cclxuKiAgICAgICAgdmtiZWF1dGlmeS5jc3ModGV4dCwgJy4gLiAuIC4nKTsgLy8gcHJldHR5IHByaW50IENTU1xyXG4qICAgICAgICB2a2JlYXV0aWZ5LnNxbCh0ZXh0LCAnLS0tLScpOyAvLyBwcmV0dHkgcHJpbnQgU1FMXHJcbipcclxuKiAgICAgICAgdmtiZWF1dGlmeS54bWxtaW4odGV4dCwgdHJ1ZSk7Ly8gbWluaWZ5IFhNTCwgcHJlc2VydmUgY29tbWVudHNcclxuKiAgICAgICAgdmtiZWF1dGlmeS5qc29ubWluKHRleHQpOy8vIG1pbmlmeSBKU09OXHJcbiogICAgICAgIHZrYmVhdXRpZnkuY3NzbWluKHRleHQpOy8vIG1pbmlmeSBDU1MsIHJlbW92ZSBjb21tZW50cyAoIGRlZmF1bHQgKVxyXG4qICAgICAgICB2a2JlYXV0aWZ5LnNxbG1pbih0ZXh0KTsvLyBtaW5pZnkgU1FMXHJcbipcclxuKi9cclxuZnVuY3Rpb24gY3JlYXRlU2hpZnRBcnIoc3RlcCkge1xyXG5cclxuXHR2YXIgc3BhY2UgPSAnICAgICc7XHJcblxyXG5cdGlmICggaXNOYU4ocGFyc2VJbnQoc3RlcCkpICkgeyAgLy8gYXJndW1lbnQgaXMgc3RyaW5nXHJcblx0XHRzcGFjZSA9IHN0ZXA7XHJcblx0fSBlbHNlIHsgLy8gYXJndW1lbnQgaXMgaW50ZWdlclxyXG5cdFx0c3dpdGNoKHN0ZXApIHtcclxuXHRcdFx0Y2FzZSAxOiBzcGFjZSA9ICcgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgMjogc3BhY2UgPSAnICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAzOiBzcGFjZSA9ICcgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSA0OiBzcGFjZSA9ICcgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgNTogc3BhY2UgPSAnICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSA2OiBzcGFjZSA9ICcgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSA3OiBzcGFjZSA9ICcgICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgODogc3BhY2UgPSAnICAgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSA5OiBzcGFjZSA9ICcgICAgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAxMDogc3BhY2UgPSAnICAgICAgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDExOiBzcGFjZSA9ICcgICAgICAgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDEyOiBzcGFjZSA9ICcgICAgICAgICAgICAnOyBicmVhaztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBzaGlmdCA9IFsnXFxuJ107IC8vIGFycmF5IG9mIHNoaWZ0c1xyXG5cdGZvcih2YXIgaXg9MDtpeDwxMDA7aXgrKykge1xyXG5cdFx0c2hpZnQucHVzaChzaGlmdFtpeF0rc3BhY2UpO1xyXG5cdH1cclxuXHRyZXR1cm4gc2hpZnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZrYmVhdXRpZnkoKXtcclxuXHR0aGlzLnN0ZXAgPSAnICAgICc7IC8vIDQgc3BhY2VzXHJcblx0dGhpcy5zaGlmdCA9IGNyZWF0ZVNoaWZ0QXJyKHRoaXMuc3RlcCk7XHJcbn07XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS54bWwgPSBmdW5jdGlvbih0ZXh0LHN0ZXApIHtcclxuXHJcblx0dmFyIGFyID0gdGV4dC5yZXBsYWNlKC8+XFxzezAsfTwvZyxcIj48XCIpXHJcblx0XHRcdFx0IC5yZXBsYWNlKC88L2csXCJ+Ojp+PFwiKVxyXG5cdFx0XHRcdCAucmVwbGFjZSgvXFxzKnhtbG5zXFw6L2csXCJ+Ojp+eG1sbnM6XCIpXHJcblx0XHRcdFx0IC5yZXBsYWNlKC9cXHMqeG1sbnNcXD0vZyxcIn46On54bWxucz1cIilcclxuXHRcdFx0XHQgLnNwbGl0KCd+Ojp+JyksXHJcblx0XHRsZW4gPSBhci5sZW5ndGgsXHJcblx0XHRpbkNvbW1lbnQgPSBmYWxzZSxcclxuXHRcdGRlZXAgPSAwLFxyXG5cdFx0c3RyID0gJycsXHJcblx0XHRpeCA9IDAsXHJcblx0XHRzaGlmdCA9IHN0ZXAgPyBjcmVhdGVTaGlmdEFycihzdGVwKSA6IHRoaXMuc2hpZnQ7XHJcblxyXG5cdFx0Zm9yKGl4PTA7aXg8bGVuO2l4KyspIHtcclxuXHRcdFx0Ly8gc3RhcnQgY29tbWVudCBvciA8IVtDREFUQVsuLi5dXT4gb3IgPCFET0NUWVBFIC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLzwhLykgPiAtMSkge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdFx0aW5Db21tZW50ID0gdHJ1ZTtcclxuXHRcdFx0XHQvLyBlbmQgY29tbWVudCAgb3IgPCFbQ0RBVEFbLi4uXV0+IC8vXHJcblx0XHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvLS0+LykgPiAtMSB8fCBhcltpeF0uc2VhcmNoKC9cXF0+LykgPiAtMSB8fCBhcltpeF0uc2VhcmNoKC8hRE9DVFlQRS8pID4gLTEgKSB7XHJcblx0XHRcdFx0XHRpbkNvbW1lbnQgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyBlbmQgY29tbWVudCAgb3IgPCFbQ0RBVEFbLi4uXV0+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLy0tPi8pID4gLTEgfHwgYXJbaXhdLnNlYXJjaCgvXFxdPi8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHRcdGluQ29tbWVudCA9IGZhbHNlO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0Ly8gPGVsbT48L2VsbT4gLy9cclxuXHRcdFx0aWYoIC9ePFxcdy8uZXhlYyhhcltpeC0xXSkgJiYgL148XFwvXFx3Ly5leGVjKGFyW2l4XSkgJiZcclxuXHRcdFx0XHQvXjxbXFx3OlxcLVxcLlxcLF0rLy5leGVjKGFyW2l4LTFdKSA9PSAvXjxcXC9bXFx3OlxcLVxcLlxcLF0rLy5leGVjKGFyW2l4XSlbMF0ucmVwbGFjZSgnLycsJycpKSB7XHJcblx0XHRcdFx0c3RyICs9IGFyW2l4XTtcclxuXHRcdFx0XHRpZighaW5Db21tZW50KSBkZWVwLS07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQgLy8gPGVsbT4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvPFxcdy8pID4gLTEgJiYgYXJbaXhdLnNlYXJjaCgvPFxcLy8pID09IC0xICYmIGFyW2l4XS5zZWFyY2goL1xcLz4vKSA9PSAtMSApIHtcclxuXHRcdFx0XHRzdHIgPSAhaW5Db21tZW50ID8gc3RyICs9IHNoaWZ0W2RlZXArK10rYXJbaXhdIDogc3RyICs9IGFyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdCAvLyA8ZWxtPi4uLjwvZWxtPiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC88XFx3LykgPiAtMSAmJiBhcltpeF0uc2VhcmNoKC88XFwvLykgPiAtMSkge1xyXG5cdFx0XHRcdHN0ciA9ICFpbkNvbW1lbnQgPyBzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdIDogc3RyICs9IGFyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIDwvZWxtPiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC88XFwvLykgPiAtMSkge1xyXG5cdFx0XHRcdHN0ciA9ICFpbkNvbW1lbnQgPyBzdHIgKz0gc2hpZnRbLS1kZWVwXSthcltpeF0gOiBzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0Ly8gPGVsbS8+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goL1xcLz4vKSA+IC0xICkge1xyXG5cdFx0XHRcdHN0ciA9ICFpbkNvbW1lbnQgPyBzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdIDogc3RyICs9IGFyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIDw/IHhtbCAuLi4gPz4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvPFxcPy8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0Ly8geG1sbnMgLy9cclxuXHRcdFx0aWYoIGFyW2l4XS5zZWFyY2goL3htbG5zXFw6LykgPiAtMSAgfHwgYXJbaXhdLnNlYXJjaCgveG1sbnNcXD0vKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0c3RyICs9IGFyW2l4XTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRyZXR1cm4gIChzdHJbMF0gPT0gJ1xcbicpID8gc3RyLnNsaWNlKDEpIDogc3RyO1xyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5qc29uID0gZnVuY3Rpb24odGV4dCxzdGVwKSB7XHJcblxyXG5cdHZhciBzdGVwID0gc3RlcCA/IHN0ZXAgOiB0aGlzLnN0ZXA7XHJcblxyXG5cdGlmICh0eXBlb2YgSlNPTiA9PT0gJ3VuZGVmaW5lZCcgKSByZXR1cm4gdGV4dDtcclxuXHJcblx0aWYgKCB0eXBlb2YgdGV4dCA9PT0gXCJzdHJpbmdcIiApIHJldHVybiBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKHRleHQpLCBudWxsLCBzdGVwKTtcclxuXHRpZiAoIHR5cGVvZiB0ZXh0ID09PSBcIm9iamVjdFwiICkgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRleHQsIG51bGwsIHN0ZXApO1xyXG5cclxuXHRyZXR1cm4gdGV4dDsgLy8gdGV4dCBpcyBub3Qgc3RyaW5nIG5vciBvYmplY3RcclxufVxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUuY3NzID0gZnVuY3Rpb24odGV4dCwgc3RlcCkge1xyXG5cclxuXHR2YXIgYXIgPSB0ZXh0LnJlcGxhY2UoL1xcc3sxLH0vZywnICcpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcey9nLFwie346On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFx9L2csXCJ+Ojp+fX46On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFw7L2csXCI7fjo6flwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXC9cXCovZyxcIn46On4vKlwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXCpcXC8vZyxcIiovfjo6flwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9+Ojp+XFxzezAsfX46On4vZyxcIn46On5cIilcclxuXHRcdFx0XHQuc3BsaXQoJ346On4nKSxcclxuXHRcdGxlbiA9IGFyLmxlbmd0aCxcclxuXHRcdGRlZXAgPSAwLFxyXG5cdFx0c3RyID0gJycsXHJcblx0XHRpeCA9IDAsXHJcblx0XHRzaGlmdCA9IHN0ZXAgPyBjcmVhdGVTaGlmdEFycihzdGVwKSA6IHRoaXMuc2hpZnQ7XHJcblxyXG5cdFx0Zm9yKGl4PTA7aXg8bGVuO2l4KyspIHtcclxuXHJcblx0XHRcdGlmKCAvXFx7Ly5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXArK10rYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0aWYoIC9cXH0vLmV4ZWMoYXJbaXhdKSkgIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbLS1kZWVwXSthcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHRpZiggL1xcKlxcXFwvLmV4ZWMoYXJbaXhdKSkgIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBzdHIucmVwbGFjZSgvXlxcbnsxLH0vLCcnKTtcclxufVxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5mdW5jdGlvbiBpc1N1YnF1ZXJ5KHN0ciwgcGFyZW50aGVzaXNMZXZlbCkge1xyXG5cdHJldHVybiAgcGFyZW50aGVzaXNMZXZlbCAtIChzdHIucmVwbGFjZSgvXFwoL2csJycpLmxlbmd0aCAtIHN0ci5yZXBsYWNlKC9cXCkvZywnJykubGVuZ3RoIClcclxufVxyXG5cclxuZnVuY3Rpb24gc3BsaXRfc3FsKHN0ciwgdGFiKSB7XHJcblxyXG5cdHJldHVybiBzdHIucmVwbGFjZSgvXFxzezEsfS9nLFwiIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvIEFORCAvaWcsXCJ+Ojp+XCIrdGFiK3RhYitcIkFORCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEJFVFdFRU4gL2lnLFwifjo6flwiK3RhYitcIkJFVFdFRU4gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBDQVNFIC9pZyxcIn46On5cIit0YWIrXCJDQVNFIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gRUxTRSAvaWcsXCJ+Ojp+XCIrdGFiK1wiRUxTRSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEVORCAvaWcsXCJ+Ojp+XCIrdGFiK1wiRU5EIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gRlJPTSAvaWcsXCJ+Ojp+RlJPTSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEdST1VQXFxzezEsfUJZL2lnLFwifjo6fkdST1VQIEJZIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gSEFWSU5HIC9pZyxcIn46On5IQVZJTkcgXCIpXHJcblx0XHRcdFx0Ly8ucmVwbGFjZSgvIFNFVCAvaWcsXCIgU0VUfjo6flwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gSU4gL2lnLFwiIElOIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvIEpPSU4gL2lnLFwifjo6fkpPSU4gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBDUk9TU346On57MSx9Sk9JTiAvaWcsXCJ+Ojp+Q1JPU1MgSk9JTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIElOTkVSfjo6fnsxLH1KT0lOIC9pZyxcIn46On5JTk5FUiBKT0lOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gTEVGVH46On57MSx9Sk9JTiAvaWcsXCJ+Ojp+TEVGVCBKT0lOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gUklHSFR+Ojp+ezEsfUpPSU4gL2lnLFwifjo6flJJR0hUIEpPSU4gXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gT04gL2lnLFwifjo6flwiK3RhYitcIk9OIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gT1IgL2lnLFwifjo6flwiK3RhYit0YWIrXCJPUiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIE9SREVSXFxzezEsfUJZL2lnLFwifjo6fk9SREVSIEJZIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gT1ZFUiAvaWcsXCJ+Ojp+XCIrdGFiK1wiT1ZFUiBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcKFxcc3swLH1TRUxFQ1QgL2lnLFwifjo6fihTRUxFQ1QgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcKVxcc3swLH1TRUxFQ1QgL2lnLFwiKX46On5TRUxFQ1QgXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gVEhFTiAvaWcsXCIgVEhFTn46On5cIit0YWIrXCJcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFVOSU9OIC9pZyxcIn46On5VTklPTn46On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFVTSU5HIC9pZyxcIn46On5VU0lORyBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFdIRU4gL2lnLFwifjo6flwiK3RhYitcIldIRU4gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBXSEVSRSAvaWcsXCJ+Ojp+V0hFUkUgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBXSVRIIC9pZyxcIn46On5XSVRIIFwiKVxyXG5cclxuXHRcdFx0XHQvLy5yZXBsYWNlKC9cXCxcXHN7MCx9XFwoL2lnLFwiLH46On4oIFwiKVxyXG5cdFx0XHRcdC8vLnJlcGxhY2UoL1xcLC9pZyxcIix+Ojp+XCIrdGFiK3RhYitcIlwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvIEFMTCAvaWcsXCIgQUxMIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQVMgL2lnLFwiIEFTIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQVNDIC9pZyxcIiBBU0MgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBERVNDIC9pZyxcIiBERVNDIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gRElTVElOQ1QgL2lnLFwiIERJU1RJTkNUIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gRVhJU1RTIC9pZyxcIiBFWElTVFMgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBOT1QgL2lnLFwiIE5PVCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIE5VTEwgL2lnLFwiIE5VTEwgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBMSUtFIC9pZyxcIiBMSUtFIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXHN7MCx9U0VMRUNUIC9pZyxcIlNFTEVDVCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFxzezAsfVVQREFURSAvaWcsXCJVUERBVEUgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBTRVQgL2lnLFwiIFNFVCBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoL346On57MSx9L2csXCJ+Ojp+XCIpXHJcblx0XHRcdFx0LnNwbGl0KCd+Ojp+Jyk7XHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLnNxbCA9IGZ1bmN0aW9uKHRleHQsc3RlcCkge1xyXG5cclxuXHR2YXIgYXJfYnlfcXVvdGUgPSB0ZXh0LnJlcGxhY2UoL1xcc3sxLH0vZyxcIiBcIilcclxuXHRcdFx0XHRcdFx0XHQucmVwbGFjZSgvXFwnL2lnLFwifjo6flxcJ1wiKVxyXG5cdFx0XHRcdFx0XHRcdC5zcGxpdCgnfjo6ficpLFxyXG5cdFx0bGVuID0gYXJfYnlfcXVvdGUubGVuZ3RoLFxyXG5cdFx0YXIgPSBbXSxcclxuXHRcdGRlZXAgPSAwLFxyXG5cdFx0dGFiID0gdGhpcy5zdGVwLC8vK3RoaXMuc3RlcCxcclxuXHRcdGluQ29tbWVudCA9IHRydWUsXHJcblx0XHRpblF1b3RlID0gZmFsc2UsXHJcblx0XHRwYXJlbnRoZXNpc0xldmVsID0gMCxcclxuXHRcdHN0ciA9ICcnLFxyXG5cdFx0aXggPSAwLFxyXG5cdFx0c2hpZnQgPSBzdGVwID8gY3JlYXRlU2hpZnRBcnIoc3RlcCkgOiB0aGlzLnNoaWZ0OztcclxuXHJcblx0XHRmb3IoaXg9MDtpeDxsZW47aXgrKykge1xyXG5cdFx0XHRpZihpeCUyKSB7XHJcblx0XHRcdFx0YXIgPSBhci5jb25jYXQoYXJfYnlfcXVvdGVbaXhdKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRhciA9IGFyLmNvbmNhdChzcGxpdF9zcWwoYXJfYnlfcXVvdGVbaXhdLCB0YWIpICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRsZW4gPSBhci5sZW5ndGg7XHJcblx0XHRmb3IoaXg9MDtpeDxsZW47aXgrKykge1xyXG5cclxuXHRcdFx0cGFyZW50aGVzaXNMZXZlbCA9IGlzU3VicXVlcnkoYXJbaXhdLCBwYXJlbnRoZXNpc0xldmVsKTtcclxuXHJcblx0XHRcdGlmKCAvXFxzezAsfVxcc3swLH1TRUxFQ1RcXHN7MCx9Ly5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0YXJbaXhdID0gYXJbaXhdLnJlcGxhY2UoL1xcLC9nLFwiLFxcblwiK3RhYit0YWIrXCJcIilcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoIC9cXHN7MCx9XFxzezAsfVNFVFxcc3swLH0vLmV4ZWMoYXJbaXhdKSkgIHtcclxuXHRcdFx0XHRhcltpeF0gPSBhcltpeF0ucmVwbGFjZSgvXFwsL2csXCIsXFxuXCIrdGFiK3RhYitcIlwiKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiggL1xcc3swLH1cXChcXHN7MCx9U0VMRUNUXFxzezAsfS8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdGRlZXArKztcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0aWYoIC9cXCcvLmV4ZWMoYXJbaXhdKSApICB7XHJcblx0XHRcdFx0aWYocGFyZW50aGVzaXNMZXZlbDwxICYmIGRlZXApIHtcclxuXHRcdFx0XHRcdGRlZXAtLTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c3RyICs9IGFyW2l4XTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlICB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0XHRpZihwYXJlbnRoZXNpc0xldmVsPDEgJiYgZGVlcCkge1xyXG5cdFx0XHRcdFx0ZGVlcC0tO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIganVuayA9IDA7XHJcblx0XHR9XHJcblxyXG5cdFx0c3RyID0gc3RyLnJlcGxhY2UoL15cXG57MSx9LywnJykucmVwbGFjZSgvXFxuezEsfS9nLFwiXFxuXCIpO1xyXG5cdFx0cmV0dXJuIHN0cjtcclxufVxyXG5cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLnhtbG1pbiA9IGZ1bmN0aW9uKHRleHQsIHByZXNlcnZlQ29tbWVudHMpIHtcclxuXHJcblx0dmFyIHN0ciA9IHByZXNlcnZlQ29tbWVudHMgPyB0ZXh0XHJcblx0XHRcdFx0XHRcdFx0ICAgOiB0ZXh0LnJlcGxhY2UoL1xcPCFbIFxcclxcblxcdF0qKC0tKFteXFwtXXxbXFxyXFxuXXwtW15cXC1dKSotLVsgXFxyXFxuXFx0XSopXFw+L2csXCJcIilcclxuXHRcdFx0XHRcdFx0XHRcdFx0IC5yZXBsYWNlKC9bIFxcclxcblxcdF17MSx9eG1sbnMvZywgJyB4bWxucycpO1xyXG5cdHJldHVybiAgc3RyLnJlcGxhY2UoLz5cXHN7MCx9PC9nLFwiPjxcIik7XHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLmpzb25taW4gPSBmdW5jdGlvbih0ZXh0KSB7XHJcblxyXG5cdGlmICh0eXBlb2YgSlNPTiA9PT0gJ3VuZGVmaW5lZCcgKSByZXR1cm4gdGV4dDtcclxuXHJcblx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UodGV4dCksIG51bGwsIDApO1xyXG5cclxufVxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUuY3NzbWluID0gZnVuY3Rpb24odGV4dCwgcHJlc2VydmVDb21tZW50cykge1xyXG5cclxuXHR2YXIgc3RyID0gcHJlc2VydmVDb21tZW50cyA/IHRleHRcclxuXHRcdFx0XHRcdFx0XHQgICA6IHRleHQucmVwbGFjZSgvXFwvXFwqKFteKl18W1xcclxcbl18KFxcKisoW14qL118W1xcclxcbl0pKSkqXFwqK1xcLy9nLFwiXCIpIDtcclxuXHJcblx0cmV0dXJuIHN0ci5yZXBsYWNlKC9cXHN7MSx9L2csJyAnKVxyXG5cdFx0XHQgIC5yZXBsYWNlKC9cXHtcXHN7MSx9L2csXCJ7XCIpXHJcblx0XHRcdCAgLnJlcGxhY2UoL1xcfVxcc3sxLH0vZyxcIn1cIilcclxuXHRcdFx0ICAucmVwbGFjZSgvXFw7XFxzezEsfS9nLFwiO1wiKVxyXG5cdFx0XHQgIC5yZXBsYWNlKC9cXC9cXCpcXHN7MSx9L2csXCIvKlwiKVxyXG5cdFx0XHQgIC5yZXBsYWNlKC9cXCpcXC9cXHN7MSx9L2csXCIqL1wiKTtcclxufVxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUuc3FsbWluID0gZnVuY3Rpb24odGV4dCkge1xyXG5cdHJldHVybiB0ZXh0LnJlcGxhY2UoL1xcc3sxLH0vZyxcIiBcIikucmVwbGFjZSgvXFxzezEsfVxcKC8sXCIoXCIpLnJlcGxhY2UoL1xcc3sxLH1cXCkvLFwiKVwiKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBuZXcgdmtiZWF1dGlmeSgpO1xyXG4iLCJleHBvcnQgY29uc3QgdXBsb2FkQXJlYUhUTUwgPSBcbiAgYDxkaXYgaWQ9XCJkb2N1bWVudC11cGxvYWQtY29udGFpbmVyXCI+XG5cbiAgICA8ZGl2IGlkPVwiaW5pdGlhbF91cGxvYWRfY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGlkPVwiaW5pdGlhbF91cGxvYWRfYXJlYVwiPlxuICAgICAgICA8ZGl2IGlkPVwiaW5pdGlhbF91cGxvYWRfbWVzc2FnZVwiPlVwbG9hZCBGaWxlczwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgXG4gICAgPGRpdiBpZD1cInVwbG9hZGluZ19jb250YWluZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2NvbnRhaW5lclwiIGlkPVwidW5wYWlyZWRfY29udGFpbmVyXCI+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtY29udGFpbmVyLXRpdGxlXCI+VW5wYWlyZWQgRG9jdW1lbnRzPC9kaXY+XG5cbiAgICAgICAgPGRpdiBpZD1cImZpbGVzX2NvbnRhaW5lclwiPlxuXG4gICAgICAgICAgPGRpdiBpZD1cIm1laV9jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2hlYWRpbmdcIj5NRUk8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX3NvcnRfbmFtZVwiPlxuICAgICAgICAgICAgICA8ZGl2Pk5hbWU8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNvcnRfbmFtZSBhcnJvd19idG5cIj4mI3gyMkMwOzwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9saXN0XCIgaWQ9XCJtZWlfbGlzdFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidW5wYWlyZWRfaXRlbV9jb250YWluZXJcIiBzdHlsZT1cIndpZHRoOiAxMDAlOyBiYWNrZ3JvdW5kOiAjREFFQUYxOyBib3JkZXItcmFkaXVzOiA1cHg7XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwidW5wYWlyZWRfaXRlbV9sYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGNsYXNzPVwidW5wYWlyZWRfaXRlbV9yYWRpb1wiIG5hbWU9XCJtZWlfcmFkaW9fZ3JvdXBcIiB2YWx1ZT1cImNyZWF0ZV9tZWlcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJtYXJnaW4tdG9wOiBhdXRvO21hcmdpbi1sZWZ0OiAzcHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlIG5ldyBNRUkgZmlsZVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgaWQ9XCJpbWFnZV9jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2hlYWRpbmdcIj5JbWFnZXM8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX3NvcnRfbmFtZVwiPlxuICAgICAgICAgICAgICA8ZGl2Pk5hbWU8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNvcnRfbmFtZSBhcnJvd19idG5cIj4mI3gyMkMwOzwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9saXN0XCIgaWQ9XCJpbWFnZV9saXN0XCI+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBpZD1cImdlbmVyYXRlLXBhaXItYnV0dG9uLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpb25fYnV0dG9uXCIgaWQ9XCJtYWtlX3BhaXJcIj5NYWtlIFBhaXI8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cImZpbGVfY29udGFpbmVyXCIgaWQ9XCJwYWlyZWRfY29udGFpbmVyXCI+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtY29udGFpbmVyLXRpdGxlXCI+UGFpcmVkIEZvbGlvczwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9zb3J0X25hbWVcIj5cbiAgICAgICAgICA8ZGl2Pk5hbWU8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic29ydF9uYW1lIGFycm93X2J0blwiPiYjeDIyQzA7PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9saW9fbGlzdFwiIGlkPVwicGFpcmVkX2xpc3RcIj48L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwidXBsb2FkX2J1dHRvbl9jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uX2J1dHRvblwiIGlkPVwidXBsb2FkX2J1dHRvblwiPlxuICAgICAgICAgICAgVXBsb2FkXG4gICAgICAgICAgICA8ZGl2IGlkPVwidXBsb2FkaW5nX3NwaW5uZXJcIj7ihrs8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8IS0tXG4gICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9jb250YWluZXJcIiBpZD1cIm1hbnVzY3JpcHRzX2NvbnRhaW5lclwiPlxuICAgICAgICA8aDIgY2xhc3M9XCJmaWxlX2hlYWRpbmdcIj5NYW51c2NyaXB0czwvaDI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb2xpb19saXN0XCIgaWQ9XCJtYW51c2NyaXB0X2xpc3RcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgLS0+XG5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+YDtcblxuZXhwb3J0IGNvbnN0IG5ld0ZvbGRlckhUTUwgPSBgXG4gICAgPGRpdiBpZD1cInJlbmFtZV9jb250YWluZXJcIj5cbiAgICAgIDxkaXYgaWQ9XCJkYXNoYm9hcmRfaW5wdXRfY29udGFpbmVyXCI+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgaWQ9XCJyZW5hbWVfYnV0dG9uc19jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cImNhbmNlbF9kYXNoYm9hcmRcIj5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cImNvbmZpcm1fZGFzaGJvYXJkXCI+Q3JlYXRlPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuZXhwb3J0IGNvbnN0IHJlbmFtZUhUTUwgPSBgXG4gICAgPGRpdiBpZD1cInJlbmFtZV9jb250YWluZXJcIj5cbiAgICAgIDxkaXYgaWQ9XCJkYXNoYm9hcmRfaW5wdXRfY29udGFpbmVyXCI+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgaWQ9XCJyZW5hbWVfYnV0dG9uc19jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cImNhbmNlbF9kYXNoYm9hcmRcIj5DYW5jZWw8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cImNvbmZpcm1fZGFzaGJvYXJkXCI+Q29uZmlybTwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7IiwiLyoqIEBtb2R1bGUgV2FybmluZ3MgKi9cblxuLyoqXG4gKiBXYXJuIHdoZW4gZ3JvdXBlZCBuZXVtZSBjb21wb25lbnRzIGZvcm0gYW4gdW5yZWNvZ25pemVkIG5ldW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBpbmdOb3RSZWNvZ25pemVkICgpOiB2b2lkIHtcbiAgaWYgKCEod2luZG93LmNvbmZpcm0oJ05lb24gZG9lcyBub3QgcmVjb2duaXplIHRoaXMgbmV1bWUgZ3JvdXBpbmcuIFdvdWxkIHlvdSBsaWtlIHRvIGNyZWF0ZSBhIGNvbXBvdW5kIG5ldW1lPycpKSkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmRvJykuY2xpY2soKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU3BsaXRBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBzZWxlY3RBbGwgfSBmcm9tICcuLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi4vdXRpbHMvRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgZ2V0U1ZHUmVsQ29vcmRzIH0gZnJvbSAnLi4vdXRpbHMvQ29vcmRpbmF0ZXMnO1xuXG4vKiogSGFuZGxlIHNwbGl0dGluZyBhIHN0YWZmIGludG8gdHdvIHN0YXZlcyB0aHJvdWdoIFZlcm92aW8uICovXG5leHBvcnQgY2xhc3MgU3BsaXRTdGFmZkhhbmRsZXIge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIHJlYWRvbmx5IHN0YWZmOiBTVkdHRWxlbWVudDtcblxuICAvKipcbiAgICogQHBhcmFtIHN0YWZmIC0gVGhlIHN0YWZmIHRoYXQgd2lsbCBiZSBtb2RpZmllZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIHN0YWZmOiBTVkdHRWxlbWVudCkge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLnN0YWZmID0gc3RhZmY7XG4gIH1cblxuICAvKipcbiAgICogRmlyc3QgcGFydCBvZiB0aGUgc3BsaXQgYWN0aW9uLlxuICAgKi9cbiAgc3RhcnRTcGxpdCAoKTogdm9pZCB7XG4gICAgdGhpcy5zcGxpdERpc2FibGUoKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcblxuICAgIC8vIEhhbmRsZSBrZXlwcmVzc2VzXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG5cbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NsaWNrIFdoZXJlIHRvIFNwbGl0Jyk7XG4gIH1cblxuICBzcGxpdERpc2FibGUgKCk6IHZvaWQge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgfVxuXG4gIC8qKiBIYW5kbGUgaW5wdXQgdG8gc3BsaXQgYSBzdGFmZi4gKi9cbiAgaGFuZGxlciA9ICgoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gICAgLy8gRmluZCBzdGFmZiBwb2ludCBjb3JyZXNwb25kcyB0byBpZiBvbmUgZXhpc3RzXG4gICAgLy8gVE9ET1xuICAgIGNvbnN0IGlkID0gdGhpcy5zdGFmZi5pZDtcbiAgICBjb25zdCBjdXJzb3IgPSBnZXRTVkdSZWxDb29yZHMoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZKTtcbiAgICBjb25zdCBlZGl0b3JBY3Rpb246IFNwbGl0QWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnc3BsaXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgICAgeDogY3Vyc29yLnhcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5uZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3BsaXQgYWN0aW9uIHN1Y2Nlc3NmdWwnLCAnc3VjY2VzcycpO1xuICAgICAgfVxuICAgICAgY29uc3QgZHJhZ0hhbmRsZXIgPSBuZXcgRHJhZ0hhbmRsZXIodGhpcy5uZW9uVmlldywgJy5zdGFmZicpO1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICAgIHNlbGVjdEFsbChbZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aWR9YCldLCB0aGlzLm5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG5cbiAgICAgIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gICAgICBpZiAobW9yZUVkaXQpIHtcbiAgICAgICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIEV4aXRzIHNwbGl0IG9uIEVzY2FwZSBwcmVzcywgZGlzYWJsZXMgb24gU2hpZnQuICovXG4gIGtleWRvd25MaXN0ZW5lciA9ICgoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogRXhpdCBzcGxpdCBpZiB1c2VyIGNsaWNrcyBvZmYgb2YgYWN0aXZlIHBhZ2UuICovXG4gIGNsaWNrYXdheUhhbmRsZXIgPSAoKGV2dDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuYWN0aXZlLXBhZ2UnKSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIENhbGxlZCB0byByZWFwcGx5IHRoZSBldmVudCBsaXN0ZW5lciBpZiBuZWNlc3NhcnkuICovXG4gIHJlc2V0SGFuZGxlciA9ICgoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG59XG4iLCJpbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBTcGxpdE5ldW1lQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKiogSGFuZGxlIHNwbGl0dGluZyBhIG5ldW1lIGludG8gdHdvIG5ldW1lcyB0aHJvdWdoIFZlcm92aW8uICovXG5leHBvcnQgY2xhc3MgU3BsaXROZXVtZUhhbmRsZXIge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIHJlYWRvbmx5IG5ldW1lOiBTVkdHRWxlbWVudDtcblxuICAvKipcbiAgICogQHBhcmFtIG5ldW1lIC0gVGhlIG5ldW1lIHRoYXQgd2lsbCBiZSBtb2RpZmllZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIG5ldW1lOiBTVkdHRWxlbWVudCkge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLm5ldW1lID0gbmV1bWU7XG4gIH1cblxuICAvKipcbiAgICogRmlyc3QgcGFydCBvZiB0aGUgc3BsaXQgYWN0aW9uLlxuICAgKi9cbiAgc3RhcnRTcGxpdCAoKTogdm9pZCB7XG4gICAgdGhpcy5zcGxpdERpc2FibGUoKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcblxuICAgIC8vIEhhbmRsZSBrZXlwcmVzc2VzXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG5cbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NsaWNrIFRoZSBCZWdpbm5pbmcgb2YgVGhlIFNlY29uZCBOZXVtZScpO1xuICB9XG5cbiAgc3BsaXREaXNhYmxlICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gIH1cblxuICAvKiogSGFuZGxlIGlucHV0IHRvIHNwbGl0IGEgbmV1bWUuICovXG4gIGhhbmRsZXIgPSAoKGV2dDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGlkID0gdGhpcy5uZXVtZS5pZDtcblxuICAgIC8vIHVuc2VsZWN0KCk7XG4gICAgXG4gICAgY29uc3QgbmMgPSAoZXZ0LnRhcmdldCBhcyBTVkdHRWxlbWVudCkucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBuY0lkID0gbmMuaWQ7XG5cbiAgICBjb25zdCBlZGl0b3JBY3Rpb246IFNwbGl0TmV1bWVBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdzcGxpdE5ldW1lJyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgIG5jSWQ6IG5jSWRcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5uZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3BsaXQgYWN0aW9uIHN1Y2Nlc3NmdWwnLCAnc3VjY2VzcycpO1xuICAgICAgfSBcbiAgICAgIGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3BsaXQgYWN0aW9uIGZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgfVxuICAgICAgLy8gdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgLy8gY29uc3QgZHJhZ0hhbmRsZXIgPSBuZXcgRHJhZ0hhbmRsZXIodGhpcy5uZW9uVmlldywgJy5uZXVtZScpO1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICAgIC8vIHNlbGVjdEFsbChbZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBpZCkgYXMgU1ZHR0VsZW1lbnRdLCB0aGlzLm5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICAvLyB0cnkge1xuICAgICAgLy8gICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIC8vICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuY2xhc3NMaXN0LmFkZCgnaXMtaGlkZGVuJyk7XG4gICAgICAvLyB9IGNhdGNoIChlKSB7fVxuICAgIH0pO1xuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0cyBzcGxpdCBvbiBFc2NhcGUgcHJlc3MsIGRpc2FibGVzIG9uIFNoaWZ0LiAqL1xuICBrZXlkb3duTGlzdGVuZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIEV4aXQgc3BsaXQgaWYgdXNlciBjbGlja3Mgb2ZmIG9mIGFjdGl2ZSBwYWdlLiAqL1xuICBjbGlja2F3YXlIYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmFjdGl2ZS1wYWdlJykgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBDYWxsZWQgdG8gcmVhcHBseSB0aGUgZXZlbnQgbGlzdGVuZXIgaWYgbmVjZXNzYXJ5LiAqL1xuICByZXNldEhhbmRsZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHlwZW9mIGdsb2JhbC5xdWV1ZU1pY3JvdGFzayA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZ2xvYmFsLnF1ZXVlTWljcm90YXNrKGZ1bmMpO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vYmFzZWQgb2ZmIHJzdnAgaHR0cHM6Ly9naXRodWIuY29tL3RpbGRlaW8vcnN2cC5qc1xuLy9saWNlbnNlIGh0dHBzOi8vZ2l0aHViLmNvbS90aWxkZWlvL3JzdnAuanMvYmxvYi9tYXN0ZXIvTElDRU5TRVxuLy9odHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzL2Jsb2IvbWFzdGVyL2xpYi9yc3ZwL2FzYXAuanNcblxudmFyIE11dGF0aW9uID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG5cbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE11dGF0aW9uO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKGhhbmRsZSkge1xuICB2YXIgY2FsbGVkID0gMDtcbiAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uKGhhbmRsZSk7XG4gIHZhciBlbGVtZW50ID0gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50LCB7XG4gICAgY2hhcmFjdGVyRGF0YTogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBlbGVtZW50LmRhdGEgPSAoY2FsbGVkID0gKytjYWxsZWQgJSAyKTtcbiAgfTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChnbG9iYWwuc2V0SW1tZWRpYXRlKSB7XG4gICAgLy8gd2UgY2FuIG9ubHkgZ2V0IGhlcmUgaW4gSUUxMFxuICAgIC8vIHdoaWNoIGRvZXNuJ3QgaGFuZGVsIHBvc3RNZXNzYWdlIHdlbGxcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiBnbG9iYWwuTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKGZ1bmMpIHtcbiAgdmFyIGNoYW5uZWwgPSBuZXcgZ2xvYmFsLk1lc3NhZ2VDaGFubmVsKCk7XG4gIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuYztcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICdkb2N1bWVudCcgaW4gZ2xvYmFsICYmICdvbnJlYWR5c3RhdGVjaGFuZ2UnIGluIGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblxuICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgdmFyIHNjcmlwdEVsID0gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHNjcmlwdEVsLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGhhbmRsZSgpO1xuXG4gICAgICBzY3JpcHRFbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgc2NyaXB0RWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHRFbCk7XG4gICAgICBzY3JpcHRFbCA9IG51bGw7XG4gICAgfTtcbiAgICBnbG9iYWwuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHNjcmlwdEVsKTtcblxuICAgIHJldHVybiBoYW5kbGU7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAodCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHNldFRpbWVvdXQodCwgMCk7XG4gIH07XG59OyIsImltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IFBvdWNoREIgZnJvbSAncG91Y2hkYic7XG5pbXBvcnQgeyBBbGxEb2NzLCBEb2MsIHVwbG9hZHNJbmZvIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0ICogYXMgbG9jYWxNYW5pZmVzdCBmcm9tICcuLi8uLi9hc3NldHMvbWFuaWZlc3QuanNvbic7XG5cbmV4cG9ydCBjb25zdCBkYiA9IG5ldyBQb3VjaERCKCdOZW9uLVVzZXItU3RvcmFnZScpO1xuXG5mdW5jdGlvbiBnZXRBbGxEb2N1bWVudHMoKTogUHJvbWlzZTxBbGxEb2NzPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgZGIuYWxsRG9jcyh7IGluY2x1ZGVfZG9jczogdHJ1ZSB9KVxuICAgICAgLnRoZW4ocmVzdWx0ID0+IHJlc29sdmUocmVzdWx0KSlcbiAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoVXBsb2FkcygpOiBQcm9taXNlPHVwbG9hZHNJbmZvPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0QWxsRG9jdW1lbnRzKCk7XG4gICAgcmV0dXJuIHJlcy5yb3dzLm1hcChyb3cgPT4gKHtcbiAgICAgIGlkOiByb3cuaWQsXG4gICAgICBuYW1lOiByb3cuZG9jID8gcm93LmRvYy5uYW1lIDogJ3VuZGVmaW5lZCcsXG4gICAgfSkpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZygnQ291bGRuXFwndCBmZXRjaCB1cGxvYWRlZCBkb2N1bWVudHMnLCBlcnIubWVzc2FnZSk7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNYW5pZmVzdChpZDogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCBtZWk6IEZpbGUsIGJnOiBGaWxlKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlKSA9PiB7XG4gICAgY29uc3QgbWFuaWZlc3QgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGxvY2FsTWFuaWZlc3QpKTtcbiAgICBtYW5pZmVzdFsnQGlkJ10gPSBpZDtcbiAgICBtYW5pZmVzdFsndGl0bGUnXSA9IHRpdGxlO1xuICAgIG1hbmlmZXN0Wyd0aW1lc3RhbXAnXSA9IChuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpO1xuXG4gICAgY29uc3QgbWVpUHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgY29uc3QgbWVpUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIG1laVJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICByZXNvbHZlKG1laVJlYWRlci5yZXN1bHQpO1xuICAgICAgfSk7XG4gICAgICBtZWlSZWFkZXIucmVhZEFzRGF0YVVSTChtZWkpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgYmdQcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICBjb25zdCBiZ1JlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICBiZ1JlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICByZXNvbHZlKGJnUmVhZGVyLnJlc3VsdCk7XG4gICAgICB9KTtcbiAgICAgIGJnUmVhZGVyLnJlYWRBc0RhdGFVUkwoYmcpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgbWVpVXJpID0gYXdhaXQgbWVpUHJvbWlzZTtcbiAgICBjb25zdCBiZ1VyaSA9IGF3YWl0IGJnUHJvbWlzZTtcblxuICAgIG1hbmlmZXN0WydpbWFnZSddID0gYmdVcmk7XG4gICAgbWFuaWZlc3RbJ21laV9hbm5vdGF0aW9ucyddID0gW1xuICAgICAge1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIHR5cGU6ICdBbm5vdGF0aW9uJyxcbiAgICAgICAgYm9keTogbWVpVXJpLFxuICAgICAgICB0YXJnZXQ6IGJnVXJpXG4gICAgICB9XG4gICAgXTtcbiAgICByZXNvbHZlKG1hbmlmZXN0KTtcbiAgfSk7XG59XG5cblxuLyoqXG4gKiBBZGQgbmV3IGVudHJ5IHRvIHRoZSBkYXRhYmFzZVxuICogQHBhcmFtIGlkIFxuICogQHBhcmFtIHRpdGxlIFxuICogQHBhcmFtIGNvbnRlbnQgXG4gKiBAcGFyYW0gc2luZ2xlIGlzIGl0IGEgc2luZ2xlIHBhZ2Ugb3IgYSBtYW51c2NyaXB0XG4gKiBAcmV0dXJucyBQcm9taXNlPGJvb2xlYW4+XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGREb2N1bWVudChpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIGNvbnRlbnQ6IEJsb2IsIHNpbmdsZTogYm9vbGVhbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGRiLnB1dCh7XG4gICAgICBfaWQ6IGlkLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIHR5cGU6IHNpbmdsZSA/ICdwYWdlJyA6ICdtYW51c2NyaXB0JyxcbiAgICAgIF9hdHRhY2htZW50czoge1xuICAgICAgICBtYW5pZmVzdDoge1xuICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ2FwcGxpY2F0aW9uL2xkK2pzb24nLFxuICAgICAgICAgIGRhdGE6IGNvbnRlbnRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgd2luZG93LmFsZXJ0KGBFcnJvciBVcGxvYWRpbmcgRG9jdW1lbnQ6ICR7ZXJyLm1lc3NhZ2V9LCB0aXRsZTogJHtuYW1lfSwgaWQ6ICR7aWR9LmApO1xuICAgICAgcmVqZWN0KGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogRGVsZXRlIGVudHJ5IGZyb20gdGhlIGRhdGFiYXNlXG4gKiBAcGFyYW0gaWQgXG4gKiBAcmV0dXJucyBQcm9taXNlPGJvb2xlYW4+XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVEb2N1bWVudChpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgZGIuZ2V0KGlkKVxuICAgICAgLnRoZW4oZG9jID0+IHtcbiAgICAgICAgZGIucmVtb3ZlKGRvYylcbiAgICAgICAgICAudGhlbihfID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogVXBkYXRlIHRoZSBkb2MgZnJvbSB0aGUgZGF0YWJhc2UgKHN1cHBvcnRzIG9ubHkgdGl0bGUgZm9yIG5vdylcbiAqIEBwYXJhbSBpZCBcbiAqIEBwYXJhbSBuZXdOYW1lIFxuICogQHJldHVybnMgUHJvbWlzZTxib29sZWFuPlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlRG9jTmFtZShpZDogc3RyaW5nLCBuZXdOYW1lOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAvLyBSZXRyaWV2ZSBkb2MgZnJvbSBkYXRhYmFzZSAodG8gZ2V0IF9yZXYpXG4gICAgZGIuZ2V0PERvYz4oaWQpLnRoZW4oZG9jID0+IHtcblxuICAgICAgLy8gUmV0cmlldmUgbWFuaWZlc3QgZnJvbSBkYXRhYmFzZVxuICAgICAgZGIuZ2V0QXR0YWNobWVudChpZCwgJ21hbmlmZXN0JykudGhlbigobWFuaWZlc3RCbG9iOiBCbG9iKSA9PiB7XG4gICAgICAgIG1hbmlmZXN0QmxvYi50ZXh0KCkudGhlbihtYW5pZmVzdFRleHQgPT4ge1xuICAgICAgICAgIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5wYXJzZShtYW5pZmVzdFRleHQpO1xuICAgIFxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgbWFuaWZlc3RcbiAgICAgICAgICBkb2MubmFtZSA9IG5ld05hbWU7XG4gICAgICAgICAgbWFuaWZlc3RbJ3RpdGxlJ10gPSBuZXdOYW1lO1xuICAgIFxuICAgICAgICAgIC8vIENvbnZlcnQgYmFjayB0byBibG9iXG4gICAgICAgICAgY29uc3QgbmV3TWFuaWZlc3RCbG9iID0gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KG1hbmlmZXN0LCBudWxsLCAyKV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2xkK2pzb24nIH0pO1xuXG4gICAgICAgICAgZG9jLl9hdHRhY2htZW50c1snbWFuaWZlc3QnXSA9IHtcbiAgICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ2FwcGxpY2F0aW9uL2xkK2pzb24nLFxuICAgICAgICAgICAgZGF0YTogbmV3TWFuaWZlc3RCbG9iXG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICBkYi5wdXQoZG9jKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gcmVzb2x2ZSh0cnVlKSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpOyAvLyBkYi5wdXRcbiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTsgLy8gbWFuaWZlc3RUZXh0UHJvbWlzZVxuICAgICAgfSkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTsgLy8gZGIuZ2V0QXR0YWNobWVudFxuICAgIH0pLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7IC8vIGRiLmdldFxuICB9KTtcbn1cbiIsImltcG9ydCB7IElFbnRyeSwgSUZpbGUsIElGb2xkZXIsIEZpbGVTeXN0ZW1Ub29scyB9IGZyb20gJy4vRmlsZVN5c3RlbSc7XG5pbXBvcnQgeyBkZWxldGVEb2N1bWVudCwgdXBkYXRlRG9jTmFtZSB9IGZyb20gJy4vU3RvcmFnZSc7XG5pbXBvcnQgeyBGaWxlU3lzdGVtTWFuYWdlciB9IGZyb20gJy4vRmlsZVN5c3RlbSc7XG5pbXBvcnQgeyBTaGlmdFNlbGVjdGlvbk1hbmFnZXIsIGRhc2hib2FyZFN0YXRlIH0gZnJvbSAnLi9EYXNoYm9hcmRUb29scyc7XG5pbXBvcnQgeyBJbml0VXBsb2FkQXJlYSB9IGZyb20gJy4vVXBsb2FkQXJlYSc7XG5pbXBvcnQgKiBhcyBjb250ZXh0TWVudUNvbnRlbnQgZnJvbSAnLi9Db250ZXh0TWVudUNvbnRlbnQnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3csIE1vZGFsV2luZG93VmlldyB9IGZyb20gJy4uL3V0aWxzL01vZGFsV2luZG93JztcblxuY29uc3QgZG9jdW1lbnRzQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmcy1jb250ZW50LWNvbnRhaW5lcicpO1xuY29uc3QgYmFja2dyb3VuZEFyZWE6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW4tc2VjdGlvbi1jb250ZW50Jyk7XG5jb25zdCBvcGVuQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvcGVuLWRvYycpO1xuY29uc3QgcmVtb3ZlQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZW1vdmUtZG9jJyk7XG5jb25zdCBuYXZQYXRoQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYXYtcGF0aC1jb250YWluZXInKTtcbmxldCBiYWNrQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmcy1iYWNrLWJ0bicpO1xubGV0IGVtcHR5QnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmcy1lbXB0eS1idG4nKTtcbmxldCBkZWxldGVCdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZzLWRlbGV0ZS1idG4nKTtcbmNvbnN0IHVwbG9hZERvY3VtZW50c0J1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXBsb2FkLW5ldy1kb2MtYnV0dG9uJyk7XG5jb25zdCBuZXdGb2xkZXJCdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC1mb2xkZXItYnV0dG9uJyk7XG5cbmNvbnN0IHNoaWZ0U2VsZWN0aW9uID0gbmV3IFNoaWZ0U2VsZWN0aW9uTWFuYWdlcigpO1xuY29uc3QgZnNtID0gRmlsZVN5c3RlbU1hbmFnZXIoKTtcbmNvbnN0IHN0YXRlID0gZGFzaGJvYXJkU3RhdGUoKTtcblxuY29uc3QgbWFpblNlY3Rpb246IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tc2VjdGlvbi1jb250ZW50Jyk7XG5jb25zdCBjb250ZXh0TWVudTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmlnaHQtY2xpY2stZmlsZS1tZW51Jyk7XG5jb25zdCBjb250ZXh0TWVudUNvbnRlbnRXcmFwcGVyOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZXh0LW1lbnUtaXRlbXMtd3JhcHBlcicpO1xuXG5sZXQgbWV0YUtleUlzUHJlc3NlZCA9IGZhbHNlO1xubGV0IHNoaWZ0S2V5SXNQcmVzc2VkID0gZmFsc2U7XG5sZXQgY3VycmVudERyYWdUYXJnZXQgPSBudWxsO1xubGV0IHJpZ2h0Q2xpY2tlZCA9IGZhbHNlO1xuXG5vcGVuQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Eb2NzSGFuZGxlcik7XG5yZW1vdmVCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlRG9jc0hhbmRsZXIpO1xudXBsb2FkRG9jdW1lbnRzQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5VcGxvYWRBcmVhSGFuZGxlcik7XG5uZXdGb2xkZXJCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbk5ld0ZvbGRlcldpbmRvdyk7XG5cbi8vIFNvcnRpbmcgYWxnb3JpdGhtc1xuLy8gY29uc3Qgc29ydEJ5QWxwaGFudW1lcmljYWwgPSAoYTogSUVudHJ5LCBiOiBJRW50cnkpID0+IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSk7XG4vLyBjb25zdCBzb3J0QnlUaW1lID0gKGE6IElFbnRyeSwgYjogSUVudHJ5KSA9PiB7XG4vLyAgIGNvbnN0IGFUaW1lID0gYS5tZXRhZGF0YVsnY3JlYXRlZF9vbiddO1xuLy8gICBjb25zdCBiVGltZSA9IGIubWV0YWRhdGFbJ2NyZWF0ZWRfb24nXTtcbi8vICAgaWYgKGFUaW1lICYmIGJUaW1lKSByZXR1cm4gYVRpbWUgLSBiVGltZTtcbi8vICAgZWxzZSBpZiAoYVRpbWUpIHJldHVybiAtMTtcbi8vIH07XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgaWYgKGUubWV0YUtleSkgbWV0YUtleUlzUHJlc3NlZCA9IHRydWU7XG4gIGlmIChlLnNoaWZ0S2V5KSBzaGlmdEtleUlzUHJlc3NlZCA9IHRydWU7XG4gIC8vIExvc2UgZm9jdXMgb24gZXNjIGtleVxuICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgdW5zZWxlY3RBbGwoKTtcbiAgICBzaGlmdFNlbGVjdGlvbi5yZXNldCgpO1xuICAgIHVwZGF0ZUFjdGlvbkJhckJ1dHRvbnMoKTtcbiAgICB1cGRhdGVGU0J1dHRvbnMoKTtcbiAgfVxufSk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlKSA9PiB7XG4gIGlmICghZS5tZXRhS2V5KSBtZXRhS2V5SXNQcmVzc2VkID0gZmFsc2U7XG4gIGlmICghZS5zaGlmdEtleSkgc2hpZnRLZXlJc1ByZXNzZWQgPSBmYWxzZTtcbn0pO1xuXG5iYWNrZ3JvdW5kQXJlYT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBFbGVtZW50O1xuICAvLyBMb3NlIGZvY3VzIGlmIGNsaWNrIGV2ZW50IGluIG1haW4gc2VjdGlvbiBpcyBub3QgYSBkb2N1bWVudCB0aWxlXG4gIGNvbnN0IGlzRG9jdW1lbnQgPSBCb29sZWFuKHRhcmdldC5jbG9zZXN0KCcuZG9jdW1lbnQtZW50cnknKSk7XG4gIGlmICghaXNEb2N1bWVudCkge1xuICAgIHVuc2VsZWN0QWxsKCk7XG4gICAgc2hpZnRTZWxlY3Rpb24ucmVzZXQoKTtcbiAgICB1cGRhdGVBY3Rpb25CYXJCdXR0b25zKCk7XG4gICAgdXBkYXRlRlNCdXR0b25zKCk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFxuICogQHJldHVybnMgXG4gKi9cbmZ1bmN0aW9uIG9wZW5VcGxvYWRBcmVhSGFuZGxlcigpIHtcbiAgaWYgKCF1cGxvYWREb2N1bWVudHNCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkgcmV0dXJuO1xuICBJbml0VXBsb2FkQXJlYShzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKSk7XG59XG5cblxuLyoqXG4gKiBPcGVucyBhIG5ldyB0YWIgd2l0aCB0aGUgTmVvbiBlZGl0b3IgZm9yIHRoZSBnaXZlbiBpZFxuICogXG4gKiBAcGFyYW0gaWQga2V5IG9mIGZpbGUgaW4gYmJiIG9yIG1hbmlmZXN0IHVybFxuICogQHBhcmFtIGlzU2FtcGxlIGJvb2xlYW4gdG8gZGVjaWRlIHdoZXJlIHRvIGZldGNoIGZpbGVcbiAqL1xuZnVuY3Rpb24gb3BlbkVkaXRvclRhYihpZDogc3RyaW5nLCBpc1NhbXBsZTogYm9vbGVhbikge1xuICBjb25zdCBwYXJhbXMgPSAoaXNTYW1wbGUpXG4gICAgPyB7IG1hbmlmZXN0OiBpZCB9XG4gICAgOiB7IHN0b3JhZ2U6IGlkIH07XG4gIGNvbnN0IHF1ZXJ5ID0gbWFrZVF1ZXJ5KHBhcmFtcyk7XG4gIHdpbmRvdy5vcGVuKGAuL2VkaXRvci5odG1sPyR7cXVlcnl9YCwgJ19ibGFuaycpO1xufVxuXG5cbi8qKlxuICogT3BlbnMgZWRpdG9yIHRhYiBnaXZlbiBhIGRvY3VtZW50IHRpbGUgZWxlbWVudFxuICogXG4gKiBAcGFyYW0gZW50cnkgXG4gKi9cbmZ1bmN0aW9uIG9wZW5GaWxlKGVudHJ5OiBJRmlsZSkge1xuICBjb25zdCBkb2N1bWVudFR5cGUgPSBlbnRyeS5tZXRhZGF0YVsnZG9jdW1lbnQnXTtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudFR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGlzU2FtcGxlID0gZG9jdW1lbnRUeXBlID09PSAnc2FtcGxlJztcbiAgICBvcGVuRWRpdG9yVGFiKGVudHJ5LmlkLCBpc1NhbXBsZSk7XG4gIH1cbn1cblxuXG4vKipcbiAqIFxuICogQHBhcmFtIG9iaiBcbiAqIEByZXR1cm5zIFxuICovXG5mdW5jdGlvbiBtYWtlUXVlcnkob2JqKTogc3RyaW5nIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGtleSA9PiB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtrZXldKTtcbiAgfSkuam9pbignJicpO1xufVxuXG5cbi8qKlxuICogXG4gKiBAcGFyYW0gaW5kZXggXG4gKi9cbmZ1bmN0aW9uIHNlbGVjdChpbmRleDogbnVtYmVyKSB7XG4gIGNvbnN0IGVudHJ5ID0gc3RhdGUuZ2V0RW50cmllcygpLmF0KGluZGV4KTtcbiAgc3RhdGUuc2V0U2VsZWN0aW9uKGluZGV4LCB0cnVlKTtcbiAgY29uc3QgdGlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVudHJ5LmlkKTtcbiAgdGlsZS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xufVxuXG5cbi8qKlxuICogXG4gKiBAcGFyYW0gaW5kZXggXG4gKi9cbmZ1bmN0aW9uIHVuc2VsZWN0KGluZGV4OiBudW1iZXIpIHtcbiAgY29uc3QgaWQgPSBzdGF0ZS5nZXRFbnRyaWVzKCkuYXQoaW5kZXgpLmlkO1xuICBzdGF0ZS5zZXRTZWxlY3Rpb24oaW5kZXgsIGZhbHNlKTtcbiAgY29uc3QgdGlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgdGlsZS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xufVxuXG5cbi8qKlxuICogXG4gKi9cbmZ1bmN0aW9uIHVuc2VsZWN0QWxsKCkge1xuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kb2N1bWVudC1lbnRyeS5zZWxlY3RlZCcpKVxuICAgIC5mb3JFYWNoKCh0aWxlKSA9PiB0aWxlLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJykpO1xuICBzdGF0ZS5yZXNldFNlbGVjdGlvbigpO1xufVxuXG4vKiogXG4gKiBDcmVhdGVzIGEgZm9sZGVyIG9yIGZpbGUgdGlsZSBlbGVtZW50IGdpdmVuIGFuIGVudHJ5XG4gKiBAcGFyYW0gZW50cnkgSUVudHJ5XG4gKiBAcmV0dXJucyBIVE1MRGl2RWxlbWVudCB0aWxlIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVGlsZShlbnRyeTogSUVudHJ5KSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZG9jdW1lbnQtZW50cnknKTtcbiAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ3RydWUnKTsgLy8gbWFrZSBmaWxlIG9yIGZvbGRlciBkcmFnZ2FibGVcblxuICBjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gIGljb24uY2xhc3NMaXN0LmFkZCgnZG9jdW1lbnQtaWNvbicpO1xuICBjb25zdCBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG5hbWUuaW5uZXJUZXh0ID0gZW50cnkubmFtZTtcblxuICBzd2l0Y2ggKGVudHJ5LnR5cGUpIHtcbiAgICBjYXNlICdmb2xkZXInOlxuICAgICAgLy8gc2V0IHR5cGUgYXR0cmliIGFuZCBpZFxuICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZvbGRlci1lbnRyeScpO1xuICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCBlbnRyeS5pZCk7XG4gICAgICAvLyBzZXQgaWNvblxuICAgICAgaWNvbi5zcmMgPSAnLi9OZW9uLWdoL2Fzc2V0cy9pbWcvZm9sZGVyLWljb24uc3ZnJztcbiAgICAgIC8vIHNldCBkcm9wIHRhcmdldCBhdHRyaWJcbiAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2Ryb3AtaWQnLCBlbnRyeS5pZCk7XG4gICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZHJvcC10YXJnZXQnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RyYXNoJzpcbiAgICAgIC8vIHNldCB0eXBlIGF0dHJpYiBhbmQgaWRcbiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmb2xkZXItZW50cnknKTtcbiAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2lkJywgZW50cnkuaWQpO1xuICAgICAgLy8gc2V0IGljb25cbiAgICAgIGljb24uc3JjID0gJy4vTmVvbi1naC9hc3NldHMvaW1nL3RyYXNoLWljb24uc3ZnJztcbiAgICAgIC8vIHNldCBkcm9wIHRhcmdldCBhdHRyaWJcbiAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2Ryb3AtaWQnLCBlbnRyeS5pZCk7XG4gICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZHJvcC10YXJnZXQnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2ZpbGUnOlxuICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZpbGUtZW50cnknKTtcbiAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2lkJywgKGVudHJ5IGFzIElGaWxlKS5pZCk7XG5cbiAgICAgIC8vIGRldGVybWluZSB3aGljaCBpY29uIGFuZCBjbGFzcyB0byBhZGQgZGVwZW5kaW5nIG9uIGV4aXN0aW5nIG1ldGFkYXRhXG4gICAgICBpZiAoZW50cnkubWV0YWRhdGFbJ3R5cGUnXSA9PT0gJ21hbnVzY3JpcHQnKSB7XG4gICAgICAgIC8vIHNldCB0eXBlIGF0dHJpYiBhbmQgaWRcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21hbnVzY3JpcHQtZW50cnknKTtcbiAgICAgICAgLy8gc2V0IGljb25cbiAgICAgICAgaWNvbi5zcmMgPSAnLi9OZW9uLWdoL2Fzc2V0cy9pbWcvbWFudXNjcmlwdC1pY29uLnN2Zyc7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChlbnRyeS5tZXRhZGF0YVsndHlwZSddID09PSAnZm9saW8nKSB7XG4gICAgICAgIC8vIHNldCB0eXBlIGF0dHJpYiBhbmQgaWRcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZvbGlvLWVudHJ5Jyk7XG4gICAgICAgIC8vIHNldCBpY29uXG4gICAgICAgIGljb24uc3JjID0gJy4vTmVvbi1naC9hc3NldHMvaW1nL2ZvbGlvLWljb24uc3ZnJztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBzZXQgaWNvbiBmb3Igbm8gdHlwZVxuICAgICAgICBpY29uLnNyYyA9ICcuL05lb24tZ2gvYXNzZXRzL2ltZy9mb2xpby1pY29uLnN2Zyc7XG4gICAgICB9XG5cbiAgICAgIGJyZWFrO1xuICB9XG5cblxuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaWNvbik7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChuYW1lKTtcblxuICByZXR1cm4gY29udGFpbmVyO1xufVxuXG4vKipcbiAqIEFkZHMgZGJsY2xpY2sgZXZlbnQgbGlzdGVuZXIgdG8gdGlsZSBlbGVtZW50IGFuZCBhZGRzIHNoaWZ0IHNlbGVjdGlvbiBiZWhhdmlvdXJcbiAqIFxuICogQHBhcmFtIGluZGV4IGFzIGRpc3BsYXllZCBvbiBkYXNoYm9hcmQgdG8gdXNlclxuICogQHBhcmFtIGVudHJ5IGNvcnJlc3BvbmRpbmcgZW50cnkgaW4gY3VycmVudCBmb2xkZXJcbiAqIEBwYXJhbSB0aWxlIEhUTUxEaXZFbGVtZW50XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGFkZFRpbGVFdmVudExpc3RlbmVyKGluZGV4OiBudW1iZXIsIGVudHJ5OiBJRW50cnksIHRpbGU6IEhUTUxEaXZFbGVtZW50KSB7XG4gIC8vIGRvdWJsZSBjbGljayBldmVudCBpbW1lZGlhdGVseSBvcGVucyBkb2N1bWVudFxuICBpZiAoZW50cnkudHlwZSA9PT0gJ2ZvbGRlcicpIHtcbiAgICBhc3luYyBmdW5jdGlvbiBlbnRlckZvbGRlcigpIHtcbiAgICAgIHJldHVybiBhd2FpdCB1cGRhdGVEYXNoYm9hcmQoWy4uLnN0YXRlLmdldEZvbGRlclBhdGgoKSwgZW50cnkgYXMgSUZvbGRlcl0pO1xuICAgIH1cbiAgICB0aWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgZW50ZXJGb2xkZXIsIGZhbHNlKTtcbiAgfVxuICBlbHNlIHtcbiAgICB0aWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgb3BlbkRvY3NIYW5kbGVyLCBmYWxzZSk7XG4gIH1cbiAgYWRkU2hpZnRTZWxlY3Rpb25MaXN0ZW5lcih0aWxlLCBpbmRleCk7XG4gIGFkZFNwZWNpZmljQ29udGV4dE1lbnVMaXN0ZW5lcnModGlsZSwgaW5kZXgpO1xufVxuXG4vKipcbiAqIEFkZCBzaGlmdCBzZWxlY3Rpb24gYmVoYXZpb3VyIHRvIGh0bWwgdGlsZSBlbGVtZW50XG4gKiBcbiAqIFdoZW4gbm8ga2V5cyBhcmUgcHJlc3NlZDogZXJhc2UgYW55IHByZXZpb3VzIHNlbGVjdGlvbnMgYW5kIHNlbGVjdCBvbmx5IGN1cnJlbnQgdGlsZVxuICogV2hlbiBtZXRhIGtleSBpcyBwcmVzc2VkOiBhZGQgY3VycmVudCB0aWxlIHRvIHNlbGVjdGlvbiBpZiBub3QgYWxyZWFkeSBzZWxlY3RlZCwgZWxzZSByZW1vdmUgZnJvbVxuICogc2VsZWN0aW9uLiBXaGVuIHNoaWZ0IGtleSBpcyBwcmVzc2VkOiBzZWxlY3QgYWxsIHRpbGVzIGJldHdlZW4gY3VycmVudCB0aWxlIGFuZCBwcmV2aW91cyB0aWxlXG4gKiBcbiAqIFdoZW4gdGhlcmUgaXMgYSBwcmV2aW91cyBzZWxlY3Rpb24sIHRoZSBzdGFydCBvZiB0aGUgc2hpZnQgc2VsZWN0aW9uIGlzIHRoZSBsYXN0IHNlbGVjdGVkIHRpbGUuIFxuICogU2hpZnQgY2xpY2tpbmcgYWZ0ZXIgd2lsbCBhZGQgdGhlIHNoaWZ0IHNlbGVjdGlvbiB0byB0aGUgcHJldmlvdXMgc2VsZWN0aW9uLlxuICogXG4gKiBAcGFyYW0gdGlsZSBcbiAqIEBwYXJhbSBpbmRleCBcbiAqL1xuZnVuY3Rpb24gYWRkU2hpZnRTZWxlY3Rpb25MaXN0ZW5lcih0aWxlOiBIVE1MRGl2RWxlbWVudCwgaW5kZXg6IG51bWJlcikge1xuICB0aWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oX2UpIHtcbiAgICBzaGlmdFNlbGVjdGlvbkhhbmRsZXIoaW5kZXgpO1xuICB9LCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIHNoaWZ0U2VsZWN0aW9uSGFuZGxlcihpbmRleCkge1xuICBpZiAoIW1ldGFLZXlJc1ByZXNzZWQgJiYgIXNoaWZ0S2V5SXNQcmVzc2VkKSB7XG4gICAgdW5zZWxlY3RBbGwoKTtcbiAgICBzZWxlY3QoaW5kZXgpO1xuICAgIHNoaWZ0U2VsZWN0aW9uLnNldFN0YXJ0KGluZGV4KTtcbiAgfVxuICBlbHNlIGlmIChtZXRhS2V5SXNQcmVzc2VkKSB7XG4gICAgaWYgKHN0YXRlLmdldFNlbGVjdGlvbigpW2luZGV4XSkge1xuICAgICAgdW5zZWxlY3QoaW5kZXgpO1xuICAgICAgc2hpZnRTZWxlY3Rpb24uc2V0U3RhcnQoc3RhdGUuZ2V0U2VsZWN0aW9uKCkubGFzdEluZGV4T2YodHJ1ZSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHNlbGVjdChpbmRleCk7XG4gICAgICBzaGlmdFNlbGVjdGlvbi5zZXRTdGFydChpbmRleCk7IFxuICAgIH1cbiAgfVxuICBlbHNlIGlmIChzaGlmdEtleUlzUHJlc3NlZCkge1xuICAgIHNoaWZ0U2VsZWN0aW9uLmdldFByZXZTZWxlY3Rpb24oKS5mb3JFYWNoKChpZHgpID0+IHtcbiAgICAgIHVuc2VsZWN0KGlkeCk7XG4gICAgfSk7XG4gICAgc2hpZnRTZWxlY3Rpb24uc2V0RW5kKGluZGV4KTtcbiAgICBzaGlmdFNlbGVjdGlvbi5nZXRTZWxlY3Rpb24oc3RhdGUuZ2V0U2VsZWN0aW9uKCkpLmZvckVhY2goKGlkeCkgPT4ge1xuICAgICAgc2VsZWN0KGlkeCk7XG4gICAgfSk7XG4gIH1cbiAgdXBkYXRlQWN0aW9uQmFyQnV0dG9ucygpO1xuICB1cGRhdGVGU0J1dHRvbnMoKTtcbn1cbi8qKlxuICogT3BlbnMgY3VycmVudCBzZWxlY3Rpb24gb2YgZG9jdW1lbnRzIG9uIGRhc2hib2FyZC5cbiAqIFxuICogSWYgYSBmb2xkZXIgaXMgc2VsZWN0ZWQsIG9wZW5zIGZvbGRlci5cbiAqIElmIGEgZmlsZShzKSBpcyBzZWxlY3RlZCwgb3BlbnMgZmlsZShzKS5cbiAqIElmIGEgZm9sZGVyIGFuZCBmaWxlKHMpIGFyZSBzZWxlY3RlZCwgb3BlbnMgZmlsZShzKS5cbiAqL1xuZnVuY3Rpb24gb3BlbkRvY3NIYW5kbGVyKCkge1xuICBpZiAoIW9wZW5CdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkgcmV0dXJuO1xuXG4gIC8vIE9wZW4gZm9sZGVyIGlmIG9ubHkgb25lIGZvbGRlciBpcyBzZWxlY3RlZFxuICBpZiAoc3RhdGUuZ2V0U2VsZWN0ZWRGb2xkZXJzKCkubGVuZ3RoID09PSAxIHx8IHN0YXRlLmdldFNlbGVjdGVkVHJhc2goKS5sZW5ndGggPT09IDEpIHtcbiAgICBjb25zdCBuZXdQYXRoID0gWy4uLnN0YXRlLmdldEZvbGRlclBhdGgoKSwgc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKClbMF0gYXMgSUZvbGRlcl07XG4gICAgdXBkYXRlRGFzaGJvYXJkKG5ld1BhdGgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIE9wZW4gYWxsIGZpbGVzLCBpZ25vcmluZyBpZiBmb2xkZXJzIGFyZSBzZWxlY3RlZFxuICBzdGF0ZS5nZXRTZWxlY3RlZEZpbGVzKCkuZm9yRWFjaCgoZW50cnk6IElFbnRyeSkgPT4gb3BlbkZpbGUoZW50cnkgYXMgSUZpbGUpKTtcbiAgc2hpZnRTZWxlY3Rpb24ucmVzZXQoKTtcbiAgdW5zZWxlY3RBbGwoKTtcbiAgdXBkYXRlQWN0aW9uQmFyQnV0dG9ucygpO1xufVxuXG4vKipcbiAqIE1vdmUgY3VycmVudCBzZWxlY3Rpb24gb2YgZG9jdW1lbnRzIG9uIGRhc2hib2FyZCB0byB0cmFzaC4gXG4gKiBcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRG9jc0hhbmRsZXIoKSB7XG4gIGlmICghcmVtb3ZlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHJldHVybjtcblxuICBjb25zdCBzZWxlY3RlZEVudHJpZXMgPSBzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKTtcbiAgY29uc3QgcGFyZW50Rm9sZGVyID0gc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCk7XG4gIGNvbnN0IHRyYXNoRm9sZGVyID0gc3RhdGUuZ2V0VHJhc2hGb2xkZXIoKTtcblxuICBjb25zdCBkYXRldGltZSA9IG5ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKTtcbiAgXG4gIGZvciAobGV0IGVudHJ5IG9mIHNlbGVjdGVkRW50cmllcykge1xuICAgIGVudHJ5ID0gRmlsZVN5c3RlbVRvb2xzLmFkZE1ldGFkYXRhKGVudHJ5LCB7IHJlbW92ZWRfb246IGRhdGV0aW1lLCByZWNvdmVyX2ZvbGRlcjogc3RhdGUuZ2V0Rm9sZGVyUGF0aE5hbWVzKCkgfSk7XG4gIH1cblxuICBtb3ZlVG9Gb2xkZXIoc2VsZWN0ZWRFbnRyaWVzLCBwYXJlbnRGb2xkZXIsIHRyYXNoRm9sZGVyKTtcbn1cblxuZnVuY3Rpb24gcHV0QmFja0RvY3NIYW5kbGVyKCkge1xuICBjb25zdCBzZWxlY3RlZEVudHJpZXMgPSBzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKTtcbiAgY29uc3QgcGFyZW50Rm9sZGVyID0gc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCk7XG4gIFxuICBmb3IgKGxldCBlbnRyeSBvZiBzZWxlY3RlZEVudHJpZXMpIHtcbiAgICBjb25zdCBmb2xkZXJQYXRoTmFtZXMgPSBlbnRyeS5tZXRhZGF0YVsncmVjb3Zlcl9mb2xkZXInXSBhcyBzdHJpbmdbXTtcbiAgICBjb25zdCB0YXJnZXRGb2xkZXIgPSBzdGF0ZS5nZXRGb2xkZXJQYXRoQnlOYW1lcyhmb2xkZXJQYXRoTmFtZXMpO1xuICAgIGlmICh0YXJnZXRGb2xkZXIpIHtcbiAgICAgIGVudHJ5ID0gRmlsZVN5c3RlbVRvb2xzLnJlbW92ZU1ldGFkYXRhKGVudHJ5LCBbJ3JlbW92ZWRfb24nLCAncmVjb3Zlcl9mb2xkZXInXSk7XG4gICAgICBjb25zdCBkYXRlVGltZVBhdHRlcm4gPSAvIC0gXFxkezEsMn1cXC9cXGR7MSwyfVxcL1xcZHs0fSwgXFxkezEsMn06XFxkezJ9OlxcZHsyfSBbQVBNYXBtXXsyfSQvO1xuXG4gICAgICAvLyBDaGVjayBpZiB0aGUgZmlsZW5hbWUgZW5kcyB3aXRoIHRoZSBkYXRlIHRpbWUgcGF0dGVyblxuICAgICAgaWYgKGRhdGVUaW1lUGF0dGVybi50ZXN0KGVudHJ5Lm5hbWUpKSB7XG4gICAgICAgIGVudHJ5Lm5hbWUgPSBlbnRyeS5uYW1lLnJlcGxhY2UoZGF0ZVRpbWVQYXR0ZXJuLCAnJyk7XG4gICAgICB9XG4gICAgICBtb3ZlVG9Gb2xkZXIoW2VudHJ5XSwgcGFyZW50Rm9sZGVyLCB0YXJnZXRGb2xkZXIpO1xuICAgIH0gICAgXG4gIH1cbn1cblxuLyoqXG4gKiBEZWxldGUgYSBmaWxlXG4gKiBcbiAqIEBwYXJhbSBmaWxlIFxuICogQHBhcmFtIHBhcmVudEZvbGRlciBcbiAqIEByZXR1cm5zIFxuICovXG5mdW5jdGlvbiBkZWxldGVGaWxlRW50cnkoZmlsZTogSUZpbGUsIHBhcmVudEZvbGRlcjogSUZvbGRlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGRlbGV0ZURvY3VtZW50KGZpbGUuaWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIEZpbGVTeXN0ZW1Ub29scy5yZW1vdmVFbnRyeShmaWxlLCBwYXJlbnRGb2xkZXIpO1xuICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiByZWplY3QoZmFsc2UpKTtcbiAgfSk7XG59XG5cbi8qKlxuICogRGVsZXRlIGEgZm9sZGVyIGFuZCBpdHMgY29udGVudFxuICogXG4gKiBAcGFyYW0gZm9sZGVyIFxuICogQHBhcmFtIHBhcmVudEZvbGRlciBcbiAqIEByZXR1cm5zIFxuICovXG5mdW5jdGlvbiBkZWxldGVGb2xkZXJFbnRyeShmb2xkZXI6IElGb2xkZXIsIHBhcmVudEZvbGRlcjogSUZvbGRlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCBkZWxldGVQcm9taXNlcyA9IGZvbGRlci5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiB7XG4gICAgICBpZiAoY2hpbGQudHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgIHJldHVybiBkZWxldGVGaWxlRW50cnkoY2hpbGQgYXMgSUZpbGUsIGZvbGRlcik7IC8vIFBhc3MgdGhlIGN1cnJlbnQgZm9sZGVyIGFzIHRoZSBwYXJlbnRcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGQudHlwZSA9PT0gJ2ZvbGRlcicpIHtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZUZvbGRlckVudHJ5KGNoaWxkIGFzIElGb2xkZXIsIGZvbGRlcik7IC8vIFBhc3MgdGhlIGN1cnJlbnQgZm9sZGVyIGFzIHRoZSBwYXJlbnRcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpOyAvLyBTaG91bGRuJ3QgaGFwcGVuLCBidXQgcmVzb2x2aW5nIGZvciBzYWZldHlcbiAgICB9KTtcblxuICAgIFByb21pc2UuYWxsKGRlbGV0ZVByb21pc2VzKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBGaWxlU3lzdGVtVG9vbHMucmVtb3ZlRW50cnkoZm9sZGVyLCBwYXJlbnRGb2xkZXIpOyAvLyBVc2UgdGhlIHByb3ZpZGVkIHBhcmVudCBmb2xkZXJcbiAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKCkgPT4gcmVzb2x2ZShmYWxzZSkpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBEZWxldGVzIGN1cnJlbnQgc2VsZWN0aW9uIG9mIGRvY3VtZW50cyBvbiBkYXNoYm9hcmQuIFxuICogXG4gKiBJZiBhIGZvbGRlciBpcyBzZWxlY3RlZCwgZGVsZXRlcyBmb2xkZXIuXG4gKiBJZiBhIGZpbGUocykgaXMgc2VsZWN0ZWQsIGRlbGV0ZXMgZmlsZShzKS5cbiAqIElmIGEgZm9sZGVyIGFuZCBmaWxlKHMpIGFyZSBzZWxlY3RlZCwgZGVsZXRlcyBhbGwuXG4gKi9cbmZ1bmN0aW9uIGRlbGV0ZURvY3NIYW5kbGVyKCkge1xuICBjb25zdCBhbGxFbnRyaWVzID0gc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKCk7XG5cbiAgLy8gQ3JlYXRlIGEgZm9ybWF0dGVkIGxpc3Qgb2YgZmlsZW5hbWVzIHRvIGRpc3BsYXkgaW4gYWxlcnQgbWVzc2FnZVxuICBjb25zdCBjcmVhdGVMaXN0ID0gKGVudHJ5QXJyYXk6IElFbnRyeVtdKSA9PiBlbnRyeUFycmF5Lm1hcChlbnRyeSA9PiBgLSAke2VudHJ5Lm5hbWV9ICgke2VudHJ5LnR5cGV9KWApLmpvaW4oJ1xcbicpO1xuICBcbiAgY29uc3QgYWxlcnRNZXNzYWdlID0gYEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGU6XFxuJHtjcmVhdGVMaXN0KGFsbEVudHJpZXMpfVxcblRoaXMgYWN0aW9uIGlzIGlycmV2ZXJzaWJsZS5gO1xuXG4gIGNvbnN0IGlzQ29uZmlybWVkID0gd2luZG93LmNvbmZpcm0oYWxlcnRNZXNzYWdlKTtcblxuICBpZiAoaXNDb25maXJtZWQpIHtcbiAgICBjb25zdCBkZWxldGVQcm9taXNlcyA9IGFsbEVudHJpZXMubWFwKGVudHJ5ID0+IHtcbiAgICAgIGlmIChlbnRyeS50eXBlID09PSAnZmlsZScpIHtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZUZpbGVFbnRyeShlbnRyeSBhcyBJRmlsZSwgc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCkpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZW50cnkudHlwZSA9PT0gJ2ZvbGRlcicpIHtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZUZvbGRlckVudHJ5KGVudHJ5IGFzIElGb2xkZXIsIHN0YXRlLmdldFBhcmVudEZvbGRlcigpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIFByb21pc2UuYWxsKGRlbGV0ZVByb21pc2VzKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICB1cGRhdGVEYXNoYm9hcmQoc3RhdGUuZ2V0Rm9sZGVyUGF0aCgpKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goIGVyciA9PiBjb25zb2xlLmRlYnVnKCdmYWlsZWQgdG8gZGVsZXRlIGZpbGVzOiAnLCBlcnIpKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGVtcHR5VHJhc2hIYW5kbGVyKCkge1xuICBjb25zdCB0cmFzaEZvbGRlciA9IHN0YXRlLmdldFRyYXNoRm9sZGVyKCk7XG5cbiAgaWYgKCF0cmFzaEZvbGRlcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1RyYXNoIGZvbGRlciBub3QgZm91bmQuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgYWxlcnRNZXNzYWdlID0gJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgYWxsIHRoZSBmaWxlcyBpbiBUcmFzaCBGb2xkZXI/XFxuVGhpcyBhY3Rpb24gaXMgaXJyZXZlcnNpYmxlLic7XG5cbiAgY29uc3QgaXNDb25maXJtZWQgPSB3aW5kb3cuY29uZmlybShhbGVydE1lc3NhZ2UpO1xuXG4gIGlmIChpc0NvbmZpcm1lZCkge1xuXG4gICAgY29uc3QgZGVsZXRlUHJvbWlzZXMgPSB0cmFzaEZvbGRlci5jaGlsZHJlbi5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICBpZiAoZW50cnkudHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgIHJldHVybiBkZWxldGVGaWxlRW50cnkoZW50cnkgYXMgSUZpbGUsIHRyYXNoRm9sZGVyKTtcbiAgICAgIH0gZWxzZSBpZiAoZW50cnkudHlwZSA9PT0gJ2ZvbGRlcicpIHtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZUZvbGRlckVudHJ5KGVudHJ5IGFzIElGb2xkZXIsIHRyYXNoRm9sZGVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmYWxzZSk7IC8vIFNob3VsZG4ndCBoYXBwZW4sIGJ1dCByZXNvbHZpbmcgZm9yIHNhZmV0eVxuICAgIH0pO1xuXG4gICAgUHJvbWlzZS5hbGwoZGVsZXRlUHJvbWlzZXMpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIC8vIEFmdGVyIGRlbGV0aW5nIGFsbCBjb250ZW50LCB1cGRhdGUgdGhlIGRhc2hib2FyZFxuICAgICAgICB1cGRhdGVEYXNoYm9hcmQoc3RhdGUuZ2V0Rm9sZGVyUGF0aCgpKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5kZWJ1ZygnZmFpbGVkIHRvIGRlbGV0ZSBmaWxlczogJywgZXJyKSk7XG4gIH1cbn1cblxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHZpc2liaWxpdHkgb2YgYWN0aW9uIGJhciBidXR0b25zIGJhc2VkIG9uIGN1cnJlbnQgc2VsZWN0aW9uc1xuICogXG4gKiBOb3RlOiBiZXR0ZXIgbm90IHRvIGNoYW5nZSB0aGUgb3JkZXJcbiAqL1xuZnVuY3Rpb24gdXBkYXRlQWN0aW9uQmFyQnV0dG9ucygpIHtcbiAgLy8gaW5zaWRlIC4vU2FtcGxlc8Kgb3Igc2VsZWN0aW5nIHRoZSBzYW1wbGVzIGZvbGRlclxuICBpZiAoc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCkubWV0YWRhdGFbJ2ltbXV0YWJsZSddIHx8IFxuICAgIChzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKVswXSAmJiBzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKVswXS5tZXRhZGF0YVsnaW1tdXRhYmxlJ10pKSB7XG4gICAgdXBsb2FkRG9jdW1lbnRzQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIG5ld0ZvbGRlckJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICByZW1vdmVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgaWYgKHN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpLmxlbmd0aCkge1xuICAgICAgb3BlbkJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3BlbkJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9XG4gIH1cbiAgLy8gaW5zaWRlIC4vVHJhc2hcbiAgZWxzZSBpZiAoc3RhdGUuaXNJblRyYXNoKCkpIHtcbiAgICB1cGxvYWREb2N1bWVudHNCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgbmV3Rm9sZGVyQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIHJlbW92ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBvcGVuQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICB9XG4gIC8vIHNlbGVjdGluZyB0aGUgdHJhc2ggZm9sZGVyXG4gIGVsc2UgaWYgKHN0YXRlLmdldFNlbGVjdGVkVHJhc2goKS5sZW5ndGgpIHtcbiAgICBvcGVuQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIHJlbW92ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB1cGxvYWREb2N1bWVudHNCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgbmV3Rm9sZGVyQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICB9IFxuICAvLyBzZWxlY3RpbmcgZW50cmllc1xuICBlbHNlIGlmIChzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKS5sZW5ndGgpIHtcbiAgICBvcGVuQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIHJlbW92ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB1cGxvYWREb2N1bWVudHNCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgbmV3Rm9sZGVyQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICB9XG4gIC8vIG5vdGhpbmcgc2VsZWN0ZWQsIG5vdCBpbiAuL1NhbXBsZXMgb3IgLi9UcmFzaFxuICBlbHNlIHtcbiAgICBvcGVuQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIHJlbW92ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB1cGxvYWREb2N1bWVudHNCdXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgbmV3Rm9sZGVyQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICB9XG59XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgbmF2IHBhdGggd2l0aCBjdXJyZW50IGZvbGRlciBwYXRoXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZU5hdlBhdGgoKTogdm9pZCB7XG4gIG5hdlBhdGhDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG5cbiAgLy8gY3JlYXRlIG5hdiBlbGVtZW50cyBhbmQgYWRkIGV2ZW50IGxpc3RlbmVyc1xuICBjb25zdCBuYXZFbGVtZW50cyA9IHN0YXRlLmdldEZvbGRlclBhdGgoKS5tYXAoKGZvbGRlciwgaWR4KSA9PiB7XG4gICAgY29uc3QgbmF2U2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG5hdlNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnbmF2LXBhdGgtc2VjdGlvbicpO1xuICAgIG5hdlNlY3Rpb24uaW5uZXJIVE1MID0gZm9sZGVyLm5hbWU7XG5cbiAgICBjb25zdCB0YXJnZXRQYXRoID0gc3RhdGUuZ2V0Rm9sZGVyUGF0aCgpLnNsaWNlKDAsIGlkeCArIDEpO1xuICAgIG5hdlNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiBhd2FpdCB1cGRhdGVEYXNoYm9hcmQodGFyZ2V0UGF0aCkpO1xuICAgIC8vIGFkZCBkcm9wIHRhcmdldCB0byBtb3ZlIGRyYWdnZWQgZWxlbWVudCB0byB0aGUgcHJvc3BlY3RpdmUgZm9sZGVyc1xuICAgIGFkZERyb3BUYXJnZXRMaXN0ZW5lcnMobmF2U2VjdGlvbiwgc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCksIHRhcmdldFBhdGguYXQoLTEpKTtcblxuICAgIHJldHVybiBuYXZTZWN0aW9uO1xuICB9KTtcblxuICAvLyBhZGQgbmF2IGVsZW1lbnRzIHRvIG5hdiBwYXRoIGNvbnRhaW5lclxuICBuYXZFbGVtZW50cy5mb3JFYWNoKChuYXZFbGVtZW50LCBpZHgpID0+IHtcbiAgICBuYXZQYXRoQ29udGFpbmVyLmFwcGVuZENoaWxkKG5hdkVsZW1lbnQpO1xuICAgIGlmIChpZHggIT09IG5hdkVsZW1lbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgIGNvbnN0IHNlcGVyYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgc2VwZXJhdG9yLmNsYXNzTGlzdC5hZGQoJ25hdi1wYXRoLXNlcGVyYXRvcicpO1xuICAgICAgc2VwZXJhdG9yLmlubmVySFRNTCA9ICcgLyAnO1xuICAgICAgbmF2UGF0aENvbnRhaW5lci5hcHBlbmRDaGlsZChzZXBlcmF0b3IpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgYmFjayBidXR0b24gd2l0aCBjbGljayBldmVudCBsaXN0ZW5lciB0byBnbyBiYWNrIG9uZSBmb2xkZXIgaWYgcG9zc2libGVcbiAqL1xuZnVuY3Rpb24gdXBkYXRlQmFja0J1dHRvbigpIHtcbiAgLy8gRXJhc2UgcHJldmlvdXMgZXZlbnQgbGlzdGVuZXJzXG4gIGNvbnN0IGJ1dHRvbkNsb25lID0gYmFja0J1dHRvbi5jbG9uZU5vZGUodHJ1ZSkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGJhY2tCdXR0b24ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoYnV0dG9uQ2xvbmUsIGJhY2tCdXR0b24pO1xuXG4gIC8vIERpc2FibGUgYmFjayBidXR0b24gaWYgYXQgcm9vdFxuICBjb25zdCBpc1Jvb3QgPSBzdGF0ZS5nZXRGb2xkZXJQYXRoKCkubGVuZ3RoID09PSAxO1xuICBpZiAoaXNSb290KSB7XG4gICAgYnV0dG9uQ2xvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgYnV0dG9uQ2xvbmUuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XG4gIH1cbiAgZWxzZSB7XG4gICAgYnV0dG9uQ2xvbmUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgYnV0dG9uQ2xvbmUucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIGJ1dHRvbkNsb25lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTmF2aWdhdGVCYWNrKTtcbiAgICBidXR0b25DbG9uZS5hZGRFdmVudExpc3RlbmVyKCdvbmRyYWdlbnRlcicsICgpID0+IGJ1dHRvbkNsb25lLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpKTtcbiAgICBidXR0b25DbG9uZS5hZGRFdmVudExpc3RlbmVyKCdvbmRyYWdsZWF2ZScsICgpID0+IGJ1dHRvbkNsb25lLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcbiAgICBhZGREcm9wVGFyZ2V0TGlzdGVuZXJzKGJ1dHRvbkNsb25lLCBzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKSwgc3RhdGUuZ2V0Rm9sZGVyUGF0aCgpLmF0KC0yKSk7XG4gIH1cbiAgYmFja0J1dHRvbiA9IGJ1dHRvbkNsb25lO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVFbXB0eUJ1dHRvbigpIHtcbiAgLy8gRXJhc2UgcHJldmlvdXMgZXZlbnQgbGlzdGVuZXJzXG4gIGNvbnN0IGJ1dHRvbkNsb25lID0gZW1wdHlCdXR0b24uY2xvbmVOb2RlKHRydWUpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICBlbXB0eUJ1dHRvbi5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChidXR0b25DbG9uZSwgZW1wdHlCdXR0b24pO1xuXG4gIGNvbnN0IHBhcmVudEZvbGRlciA9IHN0YXRlLmdldFBhcmVudEZvbGRlcigpO1xuXG4gIC8vIERpc3BsYXkgaWYgaW4gdHJhc2hcbiAgaWYgKHBhcmVudEZvbGRlci50eXBlID09PSAndHJhc2gnIHx8IHN0YXRlLmlzSW5UcmFzaCgpKSB7XG4gICAgYnV0dG9uQ2xvbmUuc3R5bGUuZGlzcGxheSA9ICcnO1xuXG4gICAgLy8gQWN0aXZhdGUgYnV0dG9uIGlmIGhhcyBjb250ZW50IGFuZCBub3Qgc2VsZWN0aW5nIHdoZW4gZmlyc3QgbGV2ZWwgcGFyZW50IGlzIHRyYXNoXG4gICAgaWYgKHBhcmVudEZvbGRlci5jaGlsZHJlbi5sZW5ndGggJiYgIXN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpLmxlbmd0aCAmJiBwYXJlbnRGb2xkZXIudHlwZSA9PT0gJ3RyYXNoJykge1xuICAgICAgYnV0dG9uQ2xvbmUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBidXR0b25DbG9uZS5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICBidXR0b25DbG9uZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGVtcHR5VHJhc2hIYW5kbGVyKTtcbiAgICB9XG4gICAgLy8gRGlzYWJsZSBidXR0b24gaWYgbm8gY29udGVudFxuICAgIGVsc2Uge1xuICAgICAgYnV0dG9uQ2xvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBidXR0b25DbG9uZS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgYnV0dG9uQ2xvbmUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuICBlbXB0eUJ1dHRvbiA9IGJ1dHRvbkNsb25lO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVEZWxldGVCdXR0b24oKSB7XG4gIC8vIEVyYXNlIHByZXZpb3VzIGV2ZW50IGxpc3RlbmVyc1xuICBjb25zdCBidXR0b25DbG9uZSA9IGRlbGV0ZUJ1dHRvbi5jbG9uZU5vZGUodHJ1ZSkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGRlbGV0ZUJ1dHRvbi5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChidXR0b25DbG9uZSwgZGVsZXRlQnV0dG9uKTtcblxuICBjb25zdCBwYXJlbnRGb2xkZXIgPSBzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKTtcbiAgLy8gRGlzcGxheSBpZiBpbiB0cmFzaFxuICBpZiAocGFyZW50Rm9sZGVyLnR5cGUgPT09ICd0cmFzaCcgfHwgc3RhdGUuaXNJblRyYXNoKCkpIHtcbiAgICBidXR0b25DbG9uZS5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cbiAgICAvLyBBZGQgbGlzdGVuZXIgaWYgc2VsZWN0cyBlbnRyaWVzXG4gICAgaWYgKHN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpLmxlbmd0aCkge1xuICAgICAgYnV0dG9uQ2xvbmUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBidXR0b25DbG9uZS5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICBidXR0b25DbG9uZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZURvY3NIYW5kbGVyKTtcbiAgICB9XG4gICAgLy8gRGlzYWJsZSBpZiBub3RoaW5nIHNlbGVjdGVkXG4gICAgZWxzZSB7XG4gICAgICBidXR0b25DbG9uZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGJ1dHRvbkNsb25lLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBidXR0b25DbG9uZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG4gIGRlbGV0ZUJ1dHRvbiA9IGJ1dHRvbkNsb25lO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVGU0J1dHRvbnMoKSB7XG4gIHVwZGF0ZUJhY2tCdXR0b24oKTtcbiAgdXBkYXRlRW1wdHlCdXR0b24oKTtcbiAgdXBkYXRlRGVsZXRlQnV0dG9uKCk7XG59XG5cbi8qKlxuICogSGFuZGxlcyBjbGljayBldmVudCBvbiBiYWNrIGJ1dHRvbiB0byBnbyBiYWNrIG9uZSBmb2xkZXIgaWYgcG9zc2libGVcbiAqL1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlTmF2aWdhdGVCYWNrKCkge1xuICBjb25zdCBuZXdQYXRoID0gc3RhdGUuZ2V0Rm9sZGVyUGF0aCgpLnNsaWNlKDAsIC0xKTtcbiAgYXdhaXQgdXBkYXRlRGFzaGJvYXJkKG5ld1BhdGgpO1xufVxuXG4vKipcbiAqIEFkZCBuZXcgRm9sZGVyIHRvIGN1cnJlbnQgZm9sZGVyIGFuZCByZWZyZXNoIGRhc2hib2FyZFxuICovXG5mdW5jdGlvbiBoYW5kbGVBZGRGb2xkZXIoZm9sZGVyTmFtZTogc3RyaW5nKSB7XG4gIC8vIGNyZWF0ZSBuZXcgZm9sZGVyIGVsZW1lbnRcbiAgY29uc3QgbmV3Rm9sZGVyVGlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBuZXdGb2xkZXJUaWxlLmNsYXNzTGlzdC5hZGQoJ2RvY3VtZW50LWVudHJ5Jyk7XG4gIG5ld0ZvbGRlclRpbGUuY2xhc3NMaXN0LmFkZCgnZm9sZGVyLWVudHJ5Jyk7XG4gIG5ld0ZvbGRlclRpbGUuc2V0QXR0cmlidXRlKCdpZCcsICduZXctZm9sZGVyJyk7XG5cbiAgY29uc3QgbmV3Rm9sZGVyID0gRmlsZVN5c3RlbVRvb2xzLmNyZWF0ZUZvbGRlcihmb2xkZXJOYW1lKTtcbiAgY29uc3Qgc3VjY2VlZGVkID0gRmlsZVN5c3RlbVRvb2xzLmFkZEVudHJ5KG5ld0ZvbGRlciwgc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCkpO1xuICBpZiAoc3VjY2VlZGVkKSB7XG4gICAgbmV3Rm9sZGVyVGlsZS5zZXRBdHRyaWJ1dGUoJ2lkJywgZm9sZGVyTmFtZSk7XG4gICAgdXBkYXRlRGFzaGJvYXJkKCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZWxzZSB7XG4gICAgbmV3Rm9sZGVyVGlsZS5yZW1vdmUoKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW5hbWVzIGN1cnJlbnQgc2VsZWN0aW9uIG9mIGRvY3VtZW50IG9uIGRhc2hib2FyZCwgdXBkYXRpbmcgdGhlIGRhdGFiYXNlIGZvciBmaWxlc1xuICogXG4gKiBAcGFyYW0gZW50cnkgSUVudHJ5IHRvIHJlbmFtZVxuICovXG5mdW5jdGlvbiByZW5hbWVFbnRyeShlbnRyeTogSUVudHJ5LCBuZXdOYW1lOiBzdHJpbmcpIHsgIFxuICBjb25zdCBzdWNjZWVkZWQgPSBGaWxlU3lzdGVtVG9vbHMucmVuYW1lRW50cnkoZW50cnksIHN0YXRlLmdldFBhcmVudEZvbGRlcigpLCBuZXdOYW1lKTtcbiAgaWYgKHN1Y2NlZWRlZCkge1xuICAgIC8vIFVwZGF0ZSBkYXRhYmFzZSBpZiBlbnRyeSBpcyBhIGZpbGVcbiAgICBpZiAoZW50cnkudHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICBjb25zdCBmaWxlID0gZW50cnkgYXMgSUZpbGU7XG4gICAgICB1cGRhdGVEb2NOYW1lKGZpbGUuaWQsIG5ld05hbWUpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICB1cGRhdGVEYXNoYm9hcmQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdXBkYXRlRGFzaGJvYXJkKCk7XG4gICAgfVxuICB9XG59XG5cblxuLyoqXG4gKiBHaXZlbiBhbiBlbnRyeSBpZCwgcmV0dXJucyB0aGUgZW50cnkgZnJvbSB0aGUgY3VycmVudCBmb2xkZXJcbiAqIFxuICogQHBhcmFtIGlkIFxuICogQHJldHVybnMgSUVudHJ5XG4qL1xuZnVuY3Rpb24gZ2V0RW50cnlCeUlkKGlkOiBzdHJpbmcpOiBJRW50cnkge1xuICBjb25zdCB0YXJnZXRFbnRyeSA9IHN0YXRlLmdldEVudHJpZXMoKS5maW5kKGVudHJ5ID0+IHtcbiAgICByZXR1cm4gZW50cnkuaWQgPT09IGlkO1xuICB9KTtcbiAgcmV0dXJuIHRhcmdldEVudHJ5O1xufVxuXG4vKipcbiAqIFJlZmxlY3RzIGNoYW5nZXMgaW4gZmlsZSBzeXN0ZW0gaW4gZGFzaGJvYXJkIFVJXG4gKiBcbiAqIEBwYXJhbSBuZXdQYXRoIElmIHByb3ZpZGVkLCB1c2VzIHRoaXMgcGF0aCB0byB1cGRhdGUgZGFzaGJvYXJkLiBPdGhlcndpc2UsIHVzZXMgY3VycmVudCBwYXRoLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlRGFzaGJvYXJkKG5ld1BhdGg/OiBJRm9sZGVyW10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCFuZXdQYXRoKSBuZXdQYXRoID0gc3RhdGUuZ2V0Rm9sZGVyUGF0aCgpO1xuICBzdGF0ZS5zZXRGb2xkZXJQYXRoKG5ld1BhdGgpO1xuICBjb25zdCBjdXJyZW50Rm9sZGVyID0gc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCk7XG4gIC8vIGNsZWFyIGNvbnRlbnQgYW5kIHNlbGVjdGlvblxuICBkb2N1bWVudHNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gIHNoaWZ0U2VsZWN0aW9uLnJlc2V0KCk7XG5cbiAgLy8gdXBkYXRlIG9yZGVyZWQgaXRlbXMgZm9yIGN1cnJlbnQgZnMtY29udGVudHNcbiAgc3RhdGUuc2V0RW50cmllcyhjdXJyZW50Rm9sZGVyLmNoaWxkcmVuKTtcblxuICAvLyBwb3B1bGF0ZSBmb2xkZXIgY29udGVudHNcbiAgY3VycmVudEZvbGRlci5jaGlsZHJlbi5mb3JFYWNoKGFzeW5jIChlbnRyeSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCB0aWxlID0gY3JlYXRlVGlsZShlbnRyeSk7XG4gICAgZG9jdW1lbnRzQ29udGFpbmVyLmFwcGVuZENoaWxkKHRpbGUpO1xuICAgIGF3YWl0IGFkZFRpbGVFdmVudExpc3RlbmVyKGluZGV4LCBlbnRyeSwgdGlsZSk7XG4gIH0pOyBcblxuICB1cGRhdGVBY3Rpb25CYXJCdXR0b25zKCk7XG4gIHVwZGF0ZU5hdlBhdGgoKTtcbiAgdXBkYXRlRlNCdXR0b25zKCk7XG5cbiAgY29uc3QgaW5mb0JhZGdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luZm8tYmFkZ2UnKTtcbiAgaWYgKHN0YXRlLmlzSW5UcmFzaCgpKSB7XG4gICAgaW5mb0JhZGdlLnRleHRDb250ZW50ID0gJ0ZpbGVzIHdpbGwgYmUgZGVsZXRlZCBhZnRlciAzMCBkYXlzJztcbiAgICBpbmZvQmFkZ2Uuc3R5bGUuYmFja2dyb3VuZCA9ICcjOURCMkJGJztcbiAgfSBlbHNlIHtcbiAgICBpbmZvQmFkZ2UudGV4dENvbnRlbnQgPSAnJztcbiAgICBpbmZvQmFkZ2Uuc3R5bGUuYmFja2dyb3VuZCA9ICcnO1xuICB9XG5cbiAgLy8gYWRkIGRyYWcgYW5kIGRyb3AgbGlzdGVuZXJzIGZvciBjdXJyZW50IGZvbGRlciBjb250ZW50XG4gIGN1cnJlbnRGb2xkZXIuY2hpbGRyZW4uZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICBjb25zdCB0aWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZW50cnkuaWQpO1xuICAgIGFkZERyYWdTdGFydExpc3RlbmVyKHRpbGUpO1xuXG4gICAgaWYgKGVudHJ5LnR5cGUgPT09ICdmb2xkZXInIHx8IGVudHJ5LnR5cGUgPT09ICd0cmFzaCcpIHsgXG4gICAgICBhZGREcm9wVGFyZ2V0TGlzdGVuZXJzKHRpbGUsIGN1cnJlbnRGb2xkZXIsIGVudHJ5IGFzIElGb2xkZXIpO1xuICAgIH1cbiAgfSk7XG4gIFxuICBmc20uc2V0RmlsZVN5c3RlbShzdGF0ZS5nZXRGb2xkZXJQYXRoKCkuYXQoMCkpO1xufVxuXG5mdW5jdGlvbiBhZGREcmFnU3RhcnRMaXN0ZW5lcihlbGVtOiBFbGVtZW50KSB7XG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgKGU6IERyYWdFdmVudCkgPT4ge1xuICAgIGUuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG4gICAgY3VycmVudERyYWdUYXJnZXQgPSBlLnRhcmdldDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZERyb3BUYXJnZXRMaXN0ZW5lcnMoZWxlbTogRWxlbWVudCwgY3VycmVudEZvbGRlcjogSUZvbGRlciwgZGVzdGluYXRpb25Gb2xkZXI6IElGb2xkZXIpIHtcbiAgLyoqXG4gICAgICogVGhlIGRyYWdlbnRlciBhbmQgZHJhZ292ZXIgZXZlbnRzIG5lZWQgdG8gYmUgb3ZlcnJpZGVuIGluIG9yZGVyIHRvIGltcGxlbWVudCB0aGUgZHJhZy1hbmQtZHJvcCBmdW5jdGlvbmFsaXR5LlxuICAgICAqIFJlYWQgbW9yZSBhdDogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxfRHJhZ19hbmRfRHJvcF9BUEkvRHJhZ19vcGVyYXRpb25zXG4gICAgICovXG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZWxlbS5jbGFzc0xpc3QuYWRkKCdkcmFnZW50ZXInKTtcbiAgfSk7ICAgIFxuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ2VudGVyJyk7XG4gIH0pO1xuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IGUucHJldmVudERlZmF1bHQoKSk7XG5cbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgY3JlYXRlSGFuZGxlRHJvcChjdXJyZW50Rm9sZGVyLCBkZXN0aW5hdGlvbkZvbGRlcikpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVIYW5kbGVEcm9wKGN1cnJlbnRGb2xkZXI6IElGb2xkZXIsIGRlc3RpbmF0aW9uRm9sZGVyOiBJRm9sZGVyKSB7XG4gIHJldHVybiAoZTogRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAvLyBnZXQgdGhlIElEIG9mIHRoZSBlbGVtZW50IGJlaW5nIGRyYWdnZWRcbiAgICBjb25zdCBkcmFnVGFyZ2V0SUQgPSAoPEhUTUxFbGVtZW50PiBjdXJyZW50RHJhZ1RhcmdldCkuZ2V0QXR0cmlidXRlKCdpZCcpO1xuXG4gICAgLy8gVXNpbmcgZHJhZ1RhcmdldElELCBmaW5kIHRoZSBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSBGaWxlIGJlaW5nIGRyb3BwZWQuXG4gICAgY29uc3QgZHJhZ0VudHJ5ID0gZ2V0RW50cnlCeUlkKGRyYWdUYXJnZXRJRCk7XG5cbiAgICAvLyBJZiBmb2xkZXIsIGRlc3RpbmF0aW9uLCBhbmQgZmlsZSB3ZXJlIGZvdW5kLCBtb3ZlIHRoZSBmaWxlIGludG8gdGhlIGZvbGRlci4gR3JlYXQgc3VjY2VzcyFcbiAgICAvLyBNYWtlIHN1cmUgdGhhdCBhIGZvbGRlciBpcyBub3QgYmVpbmcgZHJvcHBlZCBpbnRvIHRoZSBzYW1lIGZvbGRlci5cbiAgICBpZiAoZHJhZ0VudHJ5ICYmIGRyYWdFbnRyeSAhPT0gZGVzdGluYXRpb25Gb2xkZXIpIHtcbiAgICAgIG1vdmVUb0ZvbGRlcihbZHJhZ0VudHJ5XSwgY3VycmVudEZvbGRlciwgZGVzdGluYXRpb25Gb2xkZXIpO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgZW50cnkgY2FuIGJlIG1vdmVkIHRvIG5ld0ZvbGRlciwgYW5kIGlmIHNvLCBtb3ZlcyBpdCBhbmQgcmVmcmVzaGVzIGRhc2hib2FyZC5cbiAqIFxuICogQHBhcmFtIGVudHJ5IFxuICogQHBhcmFtIHBhcmVudEZvbGRlciBcbiAqIEBwYXJhbSBuZXdGb2xkZXIgXG4gKi9cbmZ1bmN0aW9uIG1vdmVUb0ZvbGRlcihlbnRyaWVzOiBJRW50cnlbXSwgcGFyZW50Rm9sZGVyOiBJRm9sZGVyLCBuZXdGb2xkZXI6IElGb2xkZXIpIHtcbiAgY29uc3QgZXJyb3JNZXNzYWdlcyA9IFtdO1xuICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgLy8gSGFuZGxlIG5hbWUgY29uZmxpY3RzIGZvciB0cmFzaCBmb2xkZXJcbiAgICBpZiAobmV3Rm9sZGVyLnR5cGUgPT09ICd0cmFzaCcgJiYgbmV3Rm9sZGVyLmNoaWxkcmVuLnNvbWUoKGUpID0+IGUubmFtZSA9PT0gZW50cnkubmFtZSkpIHtcbiAgICAgIGVudHJ5Lm5hbWUgPSB0cmFzaEZOQ29uZmxpY3RIYW5kbGVyKGVudHJ5Lm5hbWUpO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IEZpbGVTeXN0ZW1Ub29scy5jYW5Nb3ZlRW50cnkoZW50cnksIHBhcmVudEZvbGRlciwgbmV3Rm9sZGVyKTtcbiAgICBpZiAoIXJlc3BvbnNlLnN1Y2NlZWRlZCkgZXJyb3JNZXNzYWdlcy5wdXNoKHJlc3BvbnNlLmVycm9yKTtcbiAgICBlbHNlIEZpbGVTeXN0ZW1Ub29scy5tb3ZlRW50cnkoZW50cnksIHBhcmVudEZvbGRlciwgbmV3Rm9sZGVyKTtcbiAgfSk7XG4gIFxuICBlcnJvck1lc3NhZ2VzLmZpbHRlcigobXNnLCBpZHgsIGFycikgPT4gYXJyLmluZGV4T2YobXNnKSA9PT0gaWR4KTtcbiAgaWYgKGVycm9yTWVzc2FnZXMubGVuZ3RoID4gMCkgd2luZG93LmFsZXJ0KGVycm9yTWVzc2FnZXMuam9pbignXFxuJykpO1xuXG4gIHVwZGF0ZURhc2hib2FyZCgpO1xufVxuXG5mdW5jdGlvbiB0cmFzaEZOQ29uZmxpY3RIYW5kbGVyKGZpbGVuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBkYXRldGltZSA9IG5ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKTtcbiAgcmV0dXJuIGZpbGVuYW1lICsgJyAtICcgKyBkYXRldGltZTtcbn1cblxuLyoqXG4gKiBPcGVucyBNb3ZlLVRvIG1lbnUgbW9kYWwgd2luZG93IHdpdGggVUkgZm9yIG1vdmluZyBzZWxlY3RlZCBlbnRyaWVzIHRvIGEgbmV3IGZvbGRlci5cbiAqL1xuZnVuY3Rpb24gb3Blbk1vdmVUb1dpbmRvdygpIHtcbiAgLy8gZ2VuZXJhdGUgbW9kYWwgd2luZG93XG4gIGNvbnN0IG1vZGFsV2luZG93ID0gbmV3IE1vZGFsV2luZG93KCk7XG4gIG1vZGFsV2luZG93LnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuTU9WRV9UTyk7XG4gIG1vZGFsV2luZG93Lm9wZW5Nb2RhbFdpbmRvdygpO1xuXG4gIGNvbnN0IHNlbGVjdGVkRW50cmllcyA9IHN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpO1xuICBjb25zdCBwYXJlbnRGb2xkZXIgPSBzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKTtcblxuICAvLyBDYWxsYmFjayBmb3Igd2hlbiB1c2VyIGRvdWJsZS1jbGlja3Mgb24gYSBmb2xkZXIgYW5kIG1vdmVzIHNlbGVjdGlvblxuICBjb25zdCBtb3ZlVG9DYWxsYmFjayA9IChuZXdQYXJlbnRGb2xkZXI6IElGb2xkZXIpID0+IHtcbiAgICBtb2RhbFdpbmRvdy5oaWRlTW9kYWxXaW5kb3coKTtcbiAgICBtb3ZlVG9Gb2xkZXIoc2VsZWN0ZWRFbnRyaWVzLCBwYXJlbnRGb2xkZXIsIG5ld1BhcmVudEZvbGRlcik7XG4gIH07XG5cbiAgY29uc3Qgcm9vdFRyZWUgPSBnZW5lcmF0ZVJvb3RUcmVlKG1vdmVUb0NhbGxiYWNrKTtcbiAgY29uc3QgdHJlZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0cmVlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3RyZWUtY29udGFpbmVyJyk7XG4gIHRyZWVDb250YWluZXIuYXBwZW5kQ2hpbGQocm9vdFRyZWUpO1xuXG4gIGNvbnN0IG1vZGFsQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtY29udGFpbmVyJyk7XG4gIG1vZGFsQ29udGFpbmVyLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cIm1vdmUtbWVudS1tc2dcIj5Eb3VibGUtY2xpY2sgdGhlIGZvbGRlciB5b3Ugd2FudCB0byBtb3ZlIHlvdXIgaXRlbXMgdG8hPC9zcGFuPic7XG4gIG1vZGFsQ29udGFpbmVyLmFwcGVuZENoaWxkKHRyZWVDb250YWluZXIpO1xufVxuXG4vKipcbiAqIE9wZW5zIE5ldyBGb2xkZXIgbWVudSBtb2RhbCB3aW5kb3cgdGhhdCBwcm9tcHRzIGZvciBhIG5hbWUuXG4gKiBPbiBjbGlja2luZyB0aGUgQ3JlYXRlIGJ1dHRvbiwgY2xvc2VzIG1vZGFsIHdpbmRvdyBhbmQgY3JlYXRlcyBuZXcgZm9sZGVyLlxuICovXG5mdW5jdGlvbiBvcGVuTmV3Rm9sZGVyV2luZG93KCkge1xuICBpZiAoIW5ld0ZvbGRlckJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSByZXR1cm47XG5cbiAgLy8gZ2VuZXJhdGUgbW9kYWwgd2luZG93XG4gIGNvbnN0IG1vZGFsV2luZG93ID0gbmV3IE1vZGFsV2luZG93KCk7XG4gIG1vZGFsV2luZG93LnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuTkVXX0ZPTERFUik7XG4gIG1vZGFsV2luZG93Lm9wZW5Nb2RhbFdpbmRvdygpO1xuXG4gIFxuICBjb25zdCBpbnB1dENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXNoYm9hcmRfaW5wdXRfY29udGFpbmVyJykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW5jZWxfZGFzaGJvYXJkJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGNvbnN0IGNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybV9kYXNoYm9hcmQnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcblxuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGlucHV0LmlkID0gJ2Rhc2hib2FyZF9pbnB1dCc7XG4gIGlucHV0LnR5cGUgPSAndGV4dCc7XG4gIGlucHV0LnBsYWNlaG9sZGVyID0gJ1VudGl0bGVkIEZvbGRlcic7XG4gIGlucHV0LnZhbHVlID0gJ1VudGl0bGVkIEZvbGRlcic7XG4gIGlucHV0Q29udGFpbmVyLmFwcGVuZENoaWxkKGlucHV0KTtcblxuICBpbnB1dC5zZWxlY3QoKTtcbiAgaW5wdXQuZm9jdXMoKTtcblxuICBjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBtb2RhbFdpbmRvdy5oaWRlTW9kYWxXaW5kb3coKSk7XG4gIGNvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjb25maXJtTmV3Rm9sZGVyQWN0aW9uKG1vZGFsV2luZG93LCBpbnB1dC52YWx1ZSkpO1xuXG4gIGlucHV0Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgbW9kYWxXaW5kb3cuaGlkZU1vZGFsV2luZG93KCk7XG4gICAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgIGNvbmZpcm1OZXdGb2xkZXJBY3Rpb24obW9kYWxXaW5kb3csIGlucHV0LnZhbHVlKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb25maXJtTmV3Rm9sZGVyQWN0aW9uKG1vZGFsV2luZG93OiBNb2RhbFdpbmRvdywgZm9sZGVyTmFtZTogc3RyaW5nKSB7XG4gIGlmICghbmFtZUV4aXN0cyhmb2xkZXJOYW1lKSkge1xuICAgIG1vZGFsV2luZG93LmhpZGVNb2RhbFdpbmRvdygpO1xuICAgIGhhbmRsZUFkZEZvbGRlcihmb2xkZXJOYW1lKTtcbiAgfSBcbiAgZWxzZSB7XG4gICAgd2luZG93LmFsZXJ0KCdUaGUgZm9sZGVyIG5hbWUgYWxyZWFkeSBleGlzdHMgaW4gdGhlIGN1cnJlbnQgZm9sZGVyIScpO1xuICAgIG9wZW5OZXdGb2xkZXJXaW5kb3coKTtcbiAgfVxufVxuXG4vKipcbiAqIE9wZW5zIFJlbmFtZSBtZW51IG1vZGFsIHdpbmRvdyB0aGF0IHByb21wdHMgZm9yIGEgbmV3IG5hbWUuXG4gKi9cbmZ1bmN0aW9uIG9wZW5SZW5hbWVXaW5kb3coKSB7XG4gIC8vIGdlbmVyYXRlIG1vZGFsIHdpbmRvd1xuICBjb25zdCBtb2RhbFdpbmRvdyA9IG5ldyBNb2RhbFdpbmRvdygpO1xuICBtb2RhbFdpbmRvdy5zZXRNb2RhbFdpbmRvd1ZpZXcoTW9kYWxXaW5kb3dWaWV3LlJFTkFNRSk7XG4gIG1vZGFsV2luZG93Lm9wZW5Nb2RhbFdpbmRvdygpO1xuXG4gIGNvbnN0IGlucHV0Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rhc2hib2FyZF9pbnB1dF9jb250YWluZXInKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgY29uc3QgY2FuY2VsQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbmNlbF9kYXNoYm9hcmQnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgY29uc3QgY29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtX2Rhc2hib2FyZCcpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuXG4gIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgaW5wdXQuaWQgPSAnZGFzaGJvYXJkX2lucHV0JztcbiAgaW5wdXQudHlwZSA9ICd0ZXh0JztcbiAgY29uc3QgcHJldk5hbWUgPSBzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKVswXS5uYW1lO1xuICBpbnB1dC5wbGFjZWhvbGRlciA9IHByZXZOYW1lO1xuICBpbnB1dC52YWx1ZSA9IHByZXZOYW1lO1xuICBpbnB1dENvbnRhaW5lci5hcHBlbmRDaGlsZChpbnB1dCk7XG5cbiAgaW5wdXQuc2VsZWN0KCk7XG4gIGlucHV0LmZvY3VzKCk7XG5cbiAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbW9kYWxXaW5kb3cuaGlkZU1vZGFsV2luZG93KCkpO1xuICBjb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY29uZmlybVJlbmFtZUFjdGlvbihtb2RhbFdpbmRvdywgaW5wdXQudmFsdWUsIHByZXZOYW1lKSk7XG5cbiAgaW5wdXRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICBtb2RhbFdpbmRvdy5oaWRlTW9kYWxXaW5kb3coKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgY29uZmlybVJlbmFtZUFjdGlvbihtb2RhbFdpbmRvdywgaW5wdXQudmFsdWUsIHByZXZOYW1lKTtcbiAgICB9XG4gIH0pO1xuICBcbn1cblxuLy8gT24gY29uZmlybWF0aW9uLCBjbG9zZSBtb2RhbCB3aW5kb3cgYW5kIHJlbmFtZSBlbnRyeSAoaWYgZmlsZSwgZGF0YWJhc2UgaXMgdXBkYXRlZClcbmZ1bmN0aW9uIGNvbmZpcm1SZW5hbWVBY3Rpb24obW9kYWxXaW5kb3c6IE1vZGFsV2luZG93LCBuZXdOYW1lOiBzdHJpbmcsIHByZXZOYW1lOiBzdHJpbmcpIHtcbiAgLy8gY2hlY2sgZm9yIGR1cGxpY2F0ZWQgbmFtZXNcbiAgaWYgKG5ld05hbWUgPT09IHByZXZOYW1lKSB7XG4gICAgbW9kYWxXaW5kb3cuaGlkZU1vZGFsV2luZG93KCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgaWYgKCFuYW1lRXhpc3RzKG5ld05hbWUpKSB7XG4gICAgICBtb2RhbFdpbmRvdy5oaWRlTW9kYWxXaW5kb3coKTtcbiAgICAgIGNvbnN0IGVudHJ5ID0gc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKClbMF07XG4gICAgICByZW5hbWVFbnRyeShlbnRyeSwgbmV3TmFtZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgd2luZG93LmFsZXJ0KCdUaGUgZmlsZW5hbWUgYWxyZWFkeSBleGlzdHMgaW4gdGhlIGN1cnJlbnQgZm9sZGVyIScpO1xuICAgICAgb3BlblJlbmFtZVdpbmRvdygpO1xuICAgIH1cbiAgfSAgXG59XG5cbmZ1bmN0aW9uIG5hbWVFeGlzdHMobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IHBhcmVudCA9IHN0YXRlLmdldFBhcmVudEZvbGRlcigpO1xuICByZXR1cm4gcGFyZW50LmNoaWxkcmVuLnNvbWUoKGUpID0+IGUubmFtZSA9PT0gbmFtZSk7XG59XG5cbi8qKlxuICogUmVjdXJzaXZlIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGZvbGRlciB0cmVlIHN0cnVjdHVyZSBmb3IgbW92ZS10byBtZW51XG4gKiBcbiAqIEBwYXJhbSBmb2xkZXIgSUZvbGRlciB0byBnZW5lcmF0ZSB0cmVlIHN0cnVjdHVyZSBmb3IgYW5kIGFsbCBpdHMgc3ViZm9sZGVyc1xuICogQHBhcmFtIGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uIGZvciB3aGVuIHVzZXIgZG91YmxlLWNsaWNrcyBvbiBhIGZvbGRlciBhbmQgbW92ZXMgc2VsZWN0aW9uXG4gKiBAcGFyYW0gZGVncmVlIFRoZSBsZXZlbCBvZiBzdWJmb2xkZXJzIGRlZXBcbiAqIEByZXR1cm5zIExpc3QgaXRlbSBub2RlXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlRm9sZGVyVHJlZShmb2xkZXI6IElGb2xkZXIsIG1vdmVUb0NhbGxiYWNrOiAobmV3UGFyZW50Rm9sZGVyIDpJRm9sZGVyKSA9PiB2b2lkLCBkZWdyZWU6IG51bWJlcik6IEhUTUxMSUVsZW1lbnQge1xuXG4gIGNvbnN0IHRyZWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAvLyBjb250YWluZXIgZm9yIGZvbGRlciBuYW1lIGFuZCBhcnJvd1xuICBjb25zdCBsaUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBsaUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd0cmVlLWxpLWNvbnRhaW5lcicpO1xuXG4gIC8vIEZvbGRlciBURVhUOiBjbGljayB0byBzZWxlY3QgKGZvciBVWCksIGRvdWJsZSBjbGljayB0byBtb3ZlIGl0ZW1zIHRvIGZvbGRlclxuICBjb25zdCBmb2xkZXJOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGZvbGRlck5hbWUuY2xhc3NMaXN0LmFkZCgndHJlZS1uYW1lJyk7XG4gIGZvbGRlck5hbWUuaW5uZXJIVE1MID0gZm9sZGVyLm5hbWU7XG5cbiAgLy8gT24gc2luZ2xlIGNsaWNrLCBoaWdobGlnaHQvc2VsZWN0IGZvbGRlciBuYW1lXG4gIGZvbGRlck5hbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRyZWUtbmFtZScpLmZvckVhY2goZWxlbSA9PiBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJykpO1xuICAgIGZvbGRlck5hbWUuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgfSk7XG5cbiAgLy8gT24gZG91YmxlIGNsaWNrLCBtb3ZlIHNlbGVjdGVkIGl0ZW1zIHRvIGZvbGRlclxuICBmb2xkZXJOYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgKCkgPT4ge1xuICAgIG1vdmVUb0NhbGxiYWNrKGZvbGRlcik7XG4gIH0pO1xuXG4gIC8vIElmIEZvbGRlciBoYXMgbm8gc3ViZm9sZGVycywgcmV0dXJuIHdpdGhvdXQgbmVzdGVkIHVsXG4gIGNvbnN0IGlzTGVhZiA9IGZvbGRlci5jaGlsZHJlbi5ldmVyeShlbnRyeSA9PiBlbnRyeS50eXBlICE9PSAnZm9sZGVyJyk7XG4gIGlmIChpc0xlYWYpIHtcbiAgICB0cmVlLmFwcGVuZENoaWxkKGxpQ29udGFpbmVyKTtcbiAgICBsaUNvbnRhaW5lci5hcHBlbmRDaGlsZChmb2xkZXJOYW1lKTtcbiAgICByZXR1cm4gdHJlZTtcbiAgfVxuICAvLyBPdGhlcndpc2UgRm9sZGVyIGlzIG5vdCBlbXB0eSwgbWFrZSB0cmVlIHN0cnVjdHVyZVxuXG4gIC8vIFVub3JkZXJlZCBMSVNUIChoaWRpbmcgb3IgdW5oaWRpbmcgbGkpXG4gIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcblxuICAvLyBBUlJPV1xuICBjb25zdCBhcnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBhcnJvdy5jbGFzc0xpc3QuYWRkKCd0cmVlLWFycm93Jyk7XG4gIGFycm93LmlubmVySFRNTCA9ICfilrYnO1xuXG4gIC8vIGlmIG1vcmUgdGhhbiAuLi4gc3ViZm9sZGVycyBkb3duLCBoaWRlIGJ5IGRlZmF1bHRcbiAgaWYgKGRlZ3JlZSA8IDIpIHVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICBpZiAoZGVncmVlIDwgMikgYXJyb3cuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gIFxuICBhcnJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBhcnJvdy5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICB1bC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgfSk7XG5cbiAgdHJlZS5hcHBlbmRDaGlsZChsaUNvbnRhaW5lcik7XG4gIGxpQ29udGFpbmVyLmFwcGVuZENoaWxkKGFycm93KTtcbiAgbGlDb250YWluZXIuYXBwZW5kQ2hpbGQoZm9sZGVyTmFtZSk7XG4gIHRyZWUuYXBwZW5kQ2hpbGQodWwpO1xuXG4gIC8vIEFwcGVuZCBmb2xkZXIgY29udGVudHNcbiAgZm9sZGVyLmNoaWxkcmVuLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgaWYgKGVudHJ5LnR5cGUgPT09ICdmb2xkZXInKSB7XG4gICAgICBjb25zdCBmb2xkZXJUcmVlID0gZ2VuZXJhdGVGb2xkZXJUcmVlKGVudHJ5IGFzIElGb2xkZXIsIG1vdmVUb0NhbGxiYWNrLCBkZWdyZWUgKyAxKTtcbiAgICAgIHVsLmFwcGVuZENoaWxkKGZvbGRlclRyZWUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0cmVlO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBlbnRpcmUgZmlsZSBzeXN0ZW0gZm9sZGVyIHRyZWUgZm9yIG1vdmUtdG8gbWVudVxuICogXG4gKiBAcGFyYW0gbW92ZVRvQ2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIHdoZW4gdXNlciBkb3VibGUtY2xpY2tzIG9uIGEgZm9sZGVyIGFuZCBtb3ZlcyBzZWxlY3Rpb25cbiAqIEByZXR1cm5zIFxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZVJvb3RUcmVlKG1vdmVUb0NhbGxiYWNrOiAobmV3UGFyZW50Rm9sZGVyIDpJRm9sZGVyKSA9PiB2b2lkKTogSFRNTFVMaXN0RWxlbWVudCB7XG4gIGNvbnN0IHJvb3RUcmVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgcm9vdFRyZWUuaWQgPSAndHJlZS1yb290JztcbiAgcm9vdFRyZWUuYXBwZW5kQ2hpbGQoZ2VuZXJhdGVGb2xkZXJUcmVlKHN0YXRlLnJvb3QoKSwgbW92ZVRvQ2FsbGJhY2ssIDApKTtcbiAgcmV0dXJuIHJvb3RUcmVlO1xufVxuXG4vKipcbiAqIERpc3BsYXlzIGRhc2hib2FyZCBjb250ZXh0IG1lbnUgd2l0aCB0aGUgYXBwcm9wcmlhdGUgY29udGVudCBcbiAqIFxuICogQHBhcmFtIHZpZXcgY29udGV4dCBtZW51IHZpZXcgKGRldGVybWluZXMgY29udGVudCBvZiBjb250ZXh0IG1lbnUpXG4gKi9cbmZ1bmN0aW9uIHNob3dDb250ZXh0TWVudSh2aWV3OiBzdHJpbmcsIGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKSB7XG5cbiAgc3dpdGNoICh2aWV3KSB7XG4gICAgLy8gQ29udGV4dCBtZW51IG9wdGlvbnMgd2hlbiBmaWxlcy9mb2xkZXJzIGFyZSByaWdodC1jbGlja2VkXG4gICAgY2FzZSAnc2VsZWN0aW9uLW9wdGlvbnMnOlxuXG4gICAgICAvLyBOZWVkIHRvIGRldGVybWluZSBzZWxlY3Rpb24gY2F0ZWdvcnkgYmVmb3JlIGRpc3BsYXlpbmcgb3B0aW9uc1xuICAgICAgY29uc3QgbnVtYmVyT2ZTZWxlY3RlZEZpbGVzID0gc3RhdGUuZ2V0U2VsZWN0ZWRGaWxlcygpLmxlbmd0aDtcbiAgICAgIGNvbnN0IG51bWJlck9mU2VsZWN0ZWRGb2xkZXJzID0gc3RhdGUuZ2V0U2VsZWN0ZWRGb2xkZXJzKCkubGVuZ3RoO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRUcmFzaCA9IHN0YXRlLmdldFNlbGVjdGVkVHJhc2goKS5sZW5ndGg7XG5cbiAgICAgIC8qKlxuICAgICAgICogQ29udGV4dCBtZW51IG9wdGlvbnMgY29uZGl0aW9uczpcbiAgICAgICAqICAgIDEpIDEgZmlsZSAtPiBvcGVuLCBtb3ZlIHRvIHRyYXNoLCBtb3ZlXG4gICAgICAgKiAgICAyKSAyKyBmaWxlcyAtPiBvcGVuLCBtb3ZlIHRvIHRyYXNoLCBtb3ZlXG4gICAgICAgKiAgICAzKSBmaWxlKHMpICsgZm9sZGVyKHMpIC0+IG1vdmUgdG8gdHJhc2gsIG1vdmVcbiAgICAgICAqICAgIDQpIDEgZm9sZGVyIC0+IG9wZW4sIG1vdmUgdG8gdHJhc2gsIG1vdmVcbiAgICAgICAqICAgIDUpIDIrIGZvbGRlcnMgLT4gbW92ZSB0byB0cmFzaCwgbW92ZVxuICAgICAgICogICAgNikgdHJhc2ggLT4gZW1wdHkgdHJhc2hcbiAgICAgICAqICAgIDcpIGVudHJ5IGluIHRyYXNoIC0+IHB1dCBiYWNrLCBkZWxldGVcbiAgICAgICAqL1xuXG5cbiAgICAgIC8vIHRyYXNoXG4gICAgICBpZiAoIW51bWJlck9mU2VsZWN0ZWRGaWxlcyAmJiAhbnVtYmVyT2ZTZWxlY3RlZEZvbGRlcnMgJiYgc2VsZWN0ZWRUcmFzaCkge1xuICAgICAgICBjb250ZXh0TWVudUNvbnRlbnRXcmFwcGVyLmlubmVySFRNTCA9IGNvbnRleHRNZW51Q29udGVudC50cmFzaEZvbGRlck9wdGlvbnM7XG4gICAgICAgIHNldENvbnRleHRNZW51SXRlbXNFdmVudExpc3RlbmVycygndHJhc2gtZm9sZGVyLW9wdGlvbnMnKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHN0YXRlLmdldEZvbGRlclBhdGgoKS5sZW5ndGggPiAxICYmIHN0YXRlLmdldEZvbGRlclBhdGgoKS5hdCgxKS5uYW1lID09ICdUcmFzaCcpIHtcbiAgICAgICAgY29udGV4dE1lbnVDb250ZW50V3JhcHBlci5pbm5lckhUTUwgPSBjb250ZXh0TWVudUNvbnRlbnQudHJhc2hFbnRyeU9wdGlvbnM7XG4gICAgICAgIHNldENvbnRleHRNZW51SXRlbXNFdmVudExpc3RlbmVycygndHJhc2gtZW50cnktb3B0aW9ucycpO1xuICAgICAgfVxuICAgICAgLy8gMSBmaWxlXG4gICAgICBlbHNlIGlmIChudW1iZXJPZlNlbGVjdGVkRmlsZXMgPT09IDEgJiYgIW51bWJlck9mU2VsZWN0ZWRGb2xkZXJzICYmICFzZWxlY3RlZFRyYXNoKSB7XG4gICAgICAgIGNvbnRleHRNZW51Q29udGVudFdyYXBwZXIuaW5uZXJIVE1MID0gY29udGV4dE1lbnVDb250ZW50LnNpbmdsZUZpbGVPcHRpb25zO1xuICAgICAgICBzZXRDb250ZXh0TWVudUl0ZW1zRXZlbnRMaXN0ZW5lcnMoJ3NpbmdsZS1maWxlLW9wdGlvbnMnKTtcbiAgICAgIH1cbiAgICAgIC8vIDIrIGZpbGVzXG4gICAgICBlbHNlIGlmIChudW1iZXJPZlNlbGVjdGVkRmlsZXMgPiAxICYmICFudW1iZXJPZlNlbGVjdGVkRm9sZGVycyAmJiAhc2VsZWN0ZWRUcmFzaCkge1xuICAgICAgICBjb250ZXh0TWVudUNvbnRlbnRXcmFwcGVyLmlubmVySFRNTCA9IGNvbnRleHRNZW51Q29udGVudC5tdWx0aUZpbGVPcHRpb25zO1xuICAgICAgICBzZXRDb250ZXh0TWVudUl0ZW1zRXZlbnRMaXN0ZW5lcnMoJ211bHRpLWZpbGUtb3B0aW9ucycpO1xuICAgICAgfVxuICAgICAgLy8gZmlsZShzKSArIGZvbGRlcihzKVxuICAgICAgZWxzZSBpZiAobnVtYmVyT2ZTZWxlY3RlZEZpbGVzID49IDEgJiYgbnVtYmVyT2ZTZWxlY3RlZEZvbGRlcnMgPj0gMSAmJiAhc2VsZWN0ZWRUcmFzaCkge1xuICAgICAgICBjb250ZXh0TWVudUNvbnRlbnRXcmFwcGVyLmlubmVySFRNTCA9IGNvbnRleHRNZW51Q29udGVudC5mb2xkZXJBbmRGaWxlT3B0aW9ucztcbiAgICAgICAgc2V0Q29udGV4dE1lbnVJdGVtc0V2ZW50TGlzdGVuZXJzKCdmb2xkZXItYW5kLWZpbGUtb3B0aW9ucycpO1xuICAgICAgfVxuICAgICAgLy8gMSBmb2xkZXJcbiAgICAgIGVsc2UgaWYgKCFudW1iZXJPZlNlbGVjdGVkRmlsZXMgJiYgbnVtYmVyT2ZTZWxlY3RlZEZvbGRlcnMgPT09IDEgJiYgIXNlbGVjdGVkVHJhc2gpIHtcbiAgICAgICAgY29udGV4dE1lbnVDb250ZW50V3JhcHBlci5pbm5lckhUTUwgPSBjb250ZXh0TWVudUNvbnRlbnQuc2luZ2xlRm9sZGVyT3B0aW9ucztcbiAgICAgICAgc2V0Q29udGV4dE1lbnVJdGVtc0V2ZW50TGlzdGVuZXJzKCdzaW5nbGUtZm9sZGVyLW9wdGlvbnMnKTtcbiAgICAgIH1cbiAgICAgIC8vIDIrIGZvbGRlcnNcbiAgICAgIGVsc2UgaWYgKCFudW1iZXJPZlNlbGVjdGVkRmlsZXMgJiYgbnVtYmVyT2ZTZWxlY3RlZEZvbGRlcnMgPiAxICYmICFzZWxlY3RlZFRyYXNoKSB7XG4gICAgICAgIGNvbnRleHRNZW51Q29udGVudFdyYXBwZXIuaW5uZXJIVE1MID0gY29udGV4dE1lbnVDb250ZW50Lm11bHRpRm9sZGVyT3B0aW9ucztcbiAgICAgICAgc2V0Q29udGV4dE1lbnVJdGVtc0V2ZW50TGlzdGVuZXJzKCdtdWx0aS1mb2xkZXItb3B0aW9ucycpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICAvLyBEZWZhdWx0IGNvbnRleHQgbWVudSAocmlnaC1jbGlja2luZyBvbiBkYXNoYm9hcmQgYmFja2dyb3VuZClcbiAgICBkZWZhdWx0OlxuICAgICAgY29udGV4dE1lbnVDb250ZW50V3JhcHBlci5pbm5lckhUTUwgPSBjb250ZXh0TWVudUNvbnRlbnQuZGVmYXVsdE9wdGlvbnM7XG4gICAgICBzZXRDb250ZXh0TWVudUl0ZW1zRXZlbnRMaXN0ZW5lcnMoJ2RlZmF1bHQnKTtcbiAgfVxuXG4gIC8vIGRpc2FibGUgZWRpdG9yIG1lbnUgZm9yIHRoZSBzYW1wbGVzIGZvbGRlciBhbmQgdHJhc2hcbiAgaWYoc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCkubWV0YWRhdGFbJ2ltbXV0YWJsZSddIHx8IFxuICAoc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKClbMF0gJiYgc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKClbMF0ubWV0YWRhdGFbJ2ltbXV0YWJsZSddKSB8fFxuICBzdGF0ZS5pc0luVHJhc2goKSkge1xuICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbS1yZW1vdmUtYnRuJyk7XG4gICAgY29uc3QgcmVuYW1lQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NtLXJlbmFtZS1idG4nKTtcbiAgICBjb25zdCBtb3ZlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NtLW1vdmUtYnRuJyk7XG4gICAgY29uc3QgdXBkYXRlRG9jQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NtLXVwbG9hZC1kb2MtYnRuJyk7XG4gICAgY29uc3QgbmV3Rm9sZGVyQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NtLW5ldy1mb2xkZXItYnRuJyk7XG5cbiAgICBpZiAoZGVsZXRlQnRuKSB7XG4gICAgICBkZWxldGVCdG4uY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICB9XG4gICAgaWYgKHJlbmFtZUJ0bikge1xuICAgICAgcmVuYW1lQnRuLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIGlmIChtb3ZlQnRuKSB7XG4gICAgICBtb3ZlQnRuLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIGlmICh1cGRhdGVEb2NCdG4pIHtcbiAgICAgIHVwZGF0ZURvY0J0bi5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgICBpZiAobmV3Rm9sZGVyQnRuKSB7XG4gICAgICBuZXdGb2xkZXJCdG4uY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICB9XG4gIH1cblxuICAvLyBnZXQgdGhlIHBvc2l0aW9uIG9mIHRoZSB1c2VyJ3MgbW91c2VcbiAgY29udGV4dE1lbnUuc3R5bGUubGVmdCA9IGAke2NsaWVudFh9cHhgO1xuICBjb250ZXh0TWVudS5zdHlsZS50b3AgPSBgJHtjbGllbnRZfXB4YDtcblxuICAvLyBkaXNwbGF5IGNvbnRleHQgbWVudVxuICBjb250ZXh0TWVudS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbn1cblxuXG4vKipcbiAqIFNldCBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBtZW51IGl0ZW1zIGluIGEgcGFydGljdWxhciBjb250ZXh0IG1lbnUuXG4gKiBcbiAqIEBwYXJhbSB2aWV3IFRoZSBuYW1lIG9mIHRoZSBjb250ZXh0IG1lbnUgdmlldyB0aGF0IGlzIGJlaW5nIGRpc3BsYXllZC5cbiAqL1xuZnVuY3Rpb24gc2V0Q29udGV4dE1lbnVJdGVtc0V2ZW50TGlzdGVuZXJzKHZpZXc6IHN0cmluZykge1xuICAvLyBBbGwgdGhlIGJ1dHRvbnMgdGhhdCB3aWxsIGhhdmUgZXZlbnRzIGF0dGFjaGVkIHRvIHRoZW0gaGF2ZSB0aGUgc2FtZSBjbGFzc25hbWUuXG4gIGNvbnN0IGJ0bkNsYXNzbmFtZSA9ICdjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyJztcblxuICBzd2l0Y2ggKHZpZXcpIHtcblxuICAgIGNhc2UgJ3NpbmdsZS1maWxlLW9wdGlvbnMnOlxuICAgICAgLy8gXCJPcGVuXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLW9wZW4tYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIG9wZW5Eb2NzSGFuZGxlcigpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFwiTW92ZSB0byBUcmFzaFwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1yZW1vdmUtYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJlbW92ZURvY3NIYW5kbGVyKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gXCJSZW5hbWVcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tcmVuYW1lLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBvcGVuUmVuYW1lV2luZG93KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gXCJNb3ZlXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLW1vdmUtYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIG9wZW5Nb3ZlVG9XaW5kb3coKTsgICBcbiAgICAgIH0pO1xuXG4gICAgICBicmVhaztcbiAgICBcbiAgICBjYXNlICdtdWx0aS1maWxlLW9wdGlvbnMnOlxuICAgICAgLy8gXCJPcGVuXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLW9wZW4tYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIG9wZW5Eb2NzSGFuZGxlcigpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFwiTW92ZSB0byBUcmFzaFwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1yZW1vdmUtYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJlbW92ZURvY3NIYW5kbGVyKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gXCJNb3ZlXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLW1vdmUtYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIG9wZW5Nb3ZlVG9XaW5kb3coKTtcbiAgICAgIH0pOyAgICAgIFxuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2ZvbGRlci1hbmQtZmlsZS1vcHRpb25zJzpcbiAgICAgIC8vIFwiTW92ZSB0byBUcmFzaFwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1yZW1vdmUtYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJlbW92ZURvY3NIYW5kbGVyKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gXCJNb3ZlXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLW1vdmUtYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIG9wZW5Nb3ZlVG9XaW5kb3coKTtcbiAgICAgIH0pO1xuXG4gICAgICBicmVhaztcbiAgICBcbiAgICBjYXNlICdzaW5nbGUtZm9sZGVyLW9wdGlvbnMnOlxuICAgICAgLy8gXCJPcGVuXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLW9wZW4tYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIG9wZW5Eb2NzSGFuZGxlcigpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFwiTW92ZSB0byBUcmFzaFwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1yZW1vdmUtYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJlbW92ZURvY3NIYW5kbGVyKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gXCJSZW5hbWVcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tcmVuYW1lLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBvcGVuUmVuYW1lV2luZG93KCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gXCJNb3ZlXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLW1vdmUtYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIG9wZW5Nb3ZlVG9XaW5kb3coKTtcbiAgICAgIH0pOyAgICAgIFxuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ211bHRpLWZvbGRlci1vcHRpb25zJzpcbiAgICAgIC8vIFwiTW92ZSB0byBUcmFzaFwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1yZW1vdmUtYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHJlbW92ZURvY3NIYW5kbGVyKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gXCJNb3ZlXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLW1vdmUtYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIG9wZW5Nb3ZlVG9XaW5kb3coKTtcbiAgICAgIH0pO1xuXG4gICAgICBicmVhaztcbiAgICBcbiAgICBjYXNlICd0cmFzaC1mb2xkZXItb3B0aW9ucyc6XG4gICAgICAvLyBcIkVtcHR5IFRyYXNoXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLWVtcHR5LXRyYXNoLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBlbXB0eVRyYXNoSGFuZGxlcigpO1xuICAgICAgfSk7XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAndHJhc2gtZW50cnktb3B0aW9ucyc6XG4gICAgICAvLyBcIlB1dCBCYWNrXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLXJlY292ZXItYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHB1dEJhY2tEb2NzSGFuZGxlcigpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFwiRGVsZXRlXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLWRlbGV0ZS1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgZGVsZXRlRG9jc0hhbmRsZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBcIlVwbG9hZCBkb2N1bWVudFwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS11cGxvYWQtZG9jLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBvcGVuVXBsb2FkQXJlYUhhbmRsZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcIk5ldyBmb2xkZXJcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tbmV3LWZvbGRlci1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgb3Blbk5ld0ZvbGRlcldpbmRvdygpO1xuICAgICAgfSk7XG5cbiAgfVxuXG59XG5cblxuLyoqXG4gKiBJbml0aWFsaXplIGRhc2hib2FyZCBjb250ZXh0IG1lbnUgKHJpZ2h0IGNsaWNrIG1lbnUpLlxuICogVGhpcyB3aWxsIHNldCB1cCBhbGwgbmVjZXNzYXJ5IGV2ZW50IGxpc3RlbmVycyBhcyB3ZWxsIGFzXG4gKiB0aGUgbG9naWMgdG8gZGV0ZXJtaW5lIHRoZSBjb250ZW50IG9mIHRoZSBjb250ZXh0IG1lbnUsIHdoaWNoXG4gKiBtYXkgY2hhbmdlIGRlcGVuZGluZyBvbiB3aGVyZSB0aGUgdXNlciByaWdodC1jbGlja3MgKGZpbGUsIGZpbGVzLCBmb2xkZXIsIGJhY2tncm91bmQsIGV0Yy4pXG4gKi9cbmZ1bmN0aW9uIGluaXRpYWxpemVEZWZhdWx0Q29udGV4dE1lbnUoKSB7XG5cbiAgLy8gcmlnaHQtY2xpY2sgb24gZGFzaGJvYXJkIGJhY2tncm91bmRcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tc2VjdGlvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB1bnNlbGVjdEFsbCgpO1xuXG4gICAgc2hvd0NvbnRleHRNZW51KFxuICAgICAgJ2RlZmF1bHQnLCBcbiAgICAgICg8TW91c2VFdmVudD4gZSkuY2xpZW50WCwgXG4gICAgICAoPE1vdXNlRXZlbnQ+IGUpLmNsaWVudFlcbiAgICApO1xuICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1zZWN0aW9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgfSk7XG59XG5cblxuLyoqXG4gKiBBZGQgbGlzdGVuZXJzIGZvciBzcGVjaWZpYyBjb250ZXh0IG1lbnVzLlxuICogU3BlY2lmaWMgY29udGV4dCBtZW51cyBhcHBlYXIgd2hlbiB1c2VyIHJpZ2h0LWNsaWNrcyBvbiBzZWxlY3RlZCBmaWxlcy9mb2xkZXJzLlxuICogVGhlIGFjdHVhbCBtZW51IHRoYXQgaXMgc2hvd24gZGVwZW5kcyBvbiB0aGUgdHlwZSBvZiBzZWxlY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGFkZFNwZWNpZmljQ29udGV4dE1lbnVMaXN0ZW5lcnModGlsZSwgaW5kZXgpIHtcblxuICAvLyByaWdodC1jbGljayBvbiBmb2xkZXIgaXRlbSAoZmlsZSBvciBmb2xkZXIpXG4gIHRpbGUuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgaWYgKHJpZ2h0Q2xpY2tlZCB8fCBzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKS5sZW5ndGggPT09IDEpIHtcbiAgICAgIHVuc2VsZWN0QWxsKCk7XG4gICAgfVxuXG4gICAgLy8gc2VsZWN0XG4gICAgc2VsZWN0KGluZGV4KTtcblxuICAgIHNob3dDb250ZXh0TWVudShcbiAgICAgICdzZWxlY3Rpb24tb3B0aW9ucycsIFxuICAgICAgKDxNb3VzZUV2ZW50PiBlKS5jbGllbnRYLCBcbiAgICAgICg8TW91c2VFdmVudD4gZSkuY2xpZW50WVxuICAgICk7XG4gICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgcmlnaHRDbGlja2VkID0gdHJ1ZTtcbiAgfSk7XG4gICAgXG4gIC8vIGhpZGUgY29udGV4dCBtZW51IGlmIHVzZXIgY2xpY2tzIGF3YXlcbiAgbWFpblNlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGlmIChyaWdodENsaWNrZWQpIHtcbiAgICAgIGxldCBjbGlja2VkRWxlbWVudCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgaWYgKGNsaWNrZWRFbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkb2N1bWVudC1lbnRyeScpKSB7XG4gICAgICAgIGNsaWNrZWRFbGVtZW50ID0gY2xpY2tlZEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICByaWdodENsaWNrZWQgPSBmYWxzZTtcbiAgICAgIGlmICghY2xpY2tlZEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkb2N1bWVudC1lbnRyeScpKSB7XG4gICAgICAgIC8vIGlmIGNsaWNrcyBvbiBibGFuayBcbiAgICAgICAgdW5zZWxlY3RBbGwoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBpZiBjbGlja3Mgb24gYSBmaWxlL2ZvbGRlciwgc2VsZWN0IGl0XG4gICAgICAgIGNvbnN0IGNsaWNrZWRFbnRyeSA9IGdldEVudHJ5QnlJZChjbGlja2VkRWxlbWVudC5pZCk7XG4gICAgICAgIHNoaWZ0U2VsZWN0aW9uSGFuZGxlcihzdGF0ZS5nZXRJbmRleEJ5RW50cnlOYW1lKGNsaWNrZWRFbnRyeS5uYW1lKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgdGhlIFRyYXNoIGZvbGRlciBieSBkZWxldGluZyBlbnRyaWVzIHRoYXQgd2VyZSBkZWxldGVkIDMwIGRheXMgYWdvXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVRyYXNoKHJvb3Q6IElGb2xkZXIpOiB2b2lkIHtcbiAgaWYgKCFzdGF0ZS5nZXRUcmFzaEZvbGRlcigpKSB7XG4gICAgZnNtLm5ld1RyYXNoKHJvb3QpO1xuICB9XG4gIGNvbnN0IHRyYXNoRm9sZGVyID0gc3RhdGUuZ2V0VHJhc2hGb2xkZXIoKTtcbiAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xuICBjb25zdCB0aGlydHlEYXlzQWdvID0gbmV3IERhdGUoY3VycmVudERhdGUuZ2V0VGltZSgpIC0gMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKTsgLy8gMzAgZGF5cyBpbiBtaWxsaXNlY29uZHNcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgaWYgYW4gZW50cnkgd2FzIGRlbGV0ZWQgMzAgZGF5cyBhZ29cbiAgY29uc3QgdG9EZWxldGUgPSAoZW50cnk6IElFbnRyeSk6IGJvb2xlYW4gPT4ge1xuICAgIGlmIChlbnRyeS5tZXRhZGF0YSAmJiBlbnRyeS5tZXRhZGF0YVsncmVtb3ZlZF9vbiddKSB7XG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZW50cnkubWV0YWRhdGFbJ3JlbW92ZWRfb24nXSBhcyBzdHJpbmcpO1xuICAgICAgcmV0dXJuIGRhdGUgPD0gdGhpcnR5RGF5c0FnbztcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgZW50cmllcyBpbiB0aGUgVHJhc2hcbiAgdHJhc2hGb2xkZXIuY2hpbGRyZW4uZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICBpZiAodG9EZWxldGUoZW50cnkpKSB7XG4gICAgICAvLyBEZWxldGUgZW50cnkgaWYgZGVsZXRlZCAzMCBkYXlzIGFnb1xuICAgICAgaWYgKGVudHJ5LnR5cGUgPT09ICdmaWxlJykge1xuICAgICAgICBkZWxldGVGaWxlRW50cnkoZW50cnkgYXMgSUZpbGUsIHRyYXNoRm9sZGVyKTtcbiAgICAgIH0gZWxzZSBpZiAoZW50cnkudHlwZSA9PT0gJ2ZvbGRlcicpIHtcbiAgICAgICAgZGVsZXRlRm9sZGVyRW50cnkoZW50cnkgYXMgSUZvbGRlciwgdHJhc2hGb2xkZXIpOyBcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIExvYWRzIHJvb3QgZm9sZGVyIGludG8gZGFzaGJvYXJkIG9uIHN0YXJ0dXAuIFxuICovXG5leHBvcnQgY29uc3QgbG9hZERhc2hib2FyZCA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgY29uc3Qgcm9vdCA9IGF3YWl0IGZzbS5nZXRSb290KCk7XG4gIHN0YXRlLnJvb3Qocm9vdCk7XG4gIHVwZGF0ZVRyYXNoKHJvb3QpO1xuICB1cGRhdGVEYXNoYm9hcmQoW3Jvb3RdKTtcbiAgaW5pdGlhbGl6ZURlZmF1bHRDb250ZXh0TWVudSgpO1xufTsiLCJpbXBvcnQgeyBsb2FkRGFzaGJvYXJkIH0gZnJvbSAnLi4vLi4vc3JjL0Rhc2hib2FyZC9EYXNoYm9hcmQnO1xuXG5sb2FkRGFzaGJvYXJkKCk7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaG9tZS1saW5rJyk/LnNldEF0dHJpYnV0ZSgnaHJlZicsIF9fTElOS19MT0NBVElPTl9fKTsiLCJleHBvcnQgZW51bSBFbnRyeVR5cGUge1xuICBGb2xkZXIgPSAnZm9sZGVyJyxcbiAgVHJhc2ggPSAndHJhc2gnLFxuICBGaWxlID0gJ2ZpbGUnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUVudHJ5IHtcbiAgbmFtZTogc3RyaW5nO1xuICB0eXBlOiBFbnRyeVR5cGU7XG4gIGlkOiBzdHJpbmc7XG4gIGNoaWxkcmVuOiBJRW50cnlbXTtcbiAgbWV0YWRhdGE6IHsgW2tleTogc3RyaW5nXTogdW5rbm93biB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGb2xkZXIgZXh0ZW5kcyBJRW50cnkge1xuICB0eXBlOiBFbnRyeVR5cGUuRm9sZGVyIHwgRW50cnlUeXBlLlRyYXNoO1xuICBpZDogc3RyaW5nO1xuICBjaGlsZHJlbjogSUVudHJ5W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZpbGUgZXh0ZW5kcyBJRW50cnkge1xuICB0eXBlOiBFbnRyeVR5cGUuRmlsZVxuICBpZDogc3RyaW5nO1xufSIsImltcG9ydCB7IEVudHJ5VHlwZSwgSUVudHJ5LCBJRm9sZGVyLCBJRmlsZSB9IGZyb20gJy4nO1xuaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSAnLi4vLi4vdXRpbHMvcmFuZG9tJztcblxuLypcbiogICBGaWxlIFN5c3RlbSBGdW5jdGlvbnMgdGhhdCBhcmUgdXNlZCB0byBjcmVhdGUsIG1vdmUsIGFuZCBkZWxldGUgZmlsZSBzeXN0ZW0gZW50cmllc1xuKiAgIERvZXMgbm90IGRlcGVuZCBvbiBzdGF0ZSBcbiovXG5cbmludGVyZmFjZSByZXNwb25zZVByb3Age1xuICBzdWNjZWVkZWQ6IGJvb2xlYW4sXG4gIGVycm9yOiBzdHJpbmcsXG59XG5cbmNvbnN0IGNyZWF0ZUVudHJ5ID0gKG5hbWU6IHN0cmluZywgdHlwZTogRW50cnlUeXBlLCBpZDogc3RyaW5nLCBjaGlsZHJlbj86IElFbnRyeVtdKTogSUVudHJ5ID0+IHtcbiAgY29uc3QgbWV0YWRhdGEgPSB7fTtcbiAgaWYgKHR5cGUgPT09IEVudHJ5VHlwZS5GaWxlKSByZXR1cm4geyBuYW1lLCB0eXBlLCBpZCwgbWV0YWRhdGEgfSBhcyBJRW50cnk7XG4gIGVsc2UgcmV0dXJuIHsgbmFtZSwgdHlwZSwgaWQsIGNoaWxkcmVuLCBtZXRhZGF0YSB9IGFzIElFbnRyeTtcbn07XG5cbmNvbnN0IGNyZWF0ZUZvbGRlciA9IChuYW1lOiBzdHJpbmcpOiBJRm9sZGVyID0+IHtcbiAgcmV0dXJuIGNyZWF0ZUVudHJ5KG5hbWUsIEVudHJ5VHlwZS5Gb2xkZXIsIHV1aWR2NCgpLCBbXSkgYXMgSUZvbGRlcjtcbn07XG5cbmNvbnN0IGNyZWF0ZVRyYXNoID0gKG5hbWU6IHN0cmluZyk6IElGb2xkZXIgPT4ge1xuICByZXR1cm4gY3JlYXRlRW50cnkobmFtZSwgRW50cnlUeXBlLlRyYXNoLCB1dWlkdjQoKSwgW10pIGFzIElGb2xkZXI7XG59O1xuXG5jb25zdCBjcmVhdGVGaWxlID0gKG5hbWU6IHN0cmluZywgaWQ6IHN0cmluZyk6IElGaWxlID0+IHtcbiAgcmV0dXJuIGNyZWF0ZUVudHJ5KG5hbWUsIEVudHJ5VHlwZS5GaWxlLCBpZCkgYXMgSUZpbGU7XG59O1xuXG5mdW5jdGlvbiBhZGRNZXRhZGF0YShlbnRyeTogSUVudHJ5LCBtZXRhZGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiBJRW50cnkge1xuICBPYmplY3QuZW50cmllcyhtZXRhZGF0YSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgZW50cnkubWV0YWRhdGFba2V5XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIGVudHJ5O1xufVxuXG5mdW5jdGlvbiByZW1vdmVNZXRhZGF0YShlbnRyeTogSUVudHJ5LCBrZXlzOiBzdHJpbmdbXSk6IElFbnRyeSB7XG4gIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgZGVsZXRlIGVudHJ5Lm1ldGFkYXRhW2tleV07XG4gIH0pO1xuICByZXR1cm4gZW50cnk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGVudHJ5IGNhbiBiZSBhZGRlZCB0byBwYXJlbnQgZm9sZGVyXG4gKiBAcGFyYW0gZW50cnkgXG4gKiBAcGFyYW0gcGFyZW50IFxuICogQHJldHVybnMgcmVzcG9uc2Ugb2JqZWN0IHsgc3VjY2VlZGVkOiBib29sZWFuLCBlcnJvcjogc3RyaW5nIH1cbiAqL1xuY29uc3QgY2FuQWRkRW50cnkgPSAoZW50cnk6IElFbnRyeSwgcGFyZW50OiBJRm9sZGVyKTogcmVzcG9uc2VQcm9wID0+IHtcbiAgY29uc3QgbmFtZUV4aXN0cyA9IHBhcmVudC5jaGlsZHJlbi5zb21lKChlKSA9PiBlLm5hbWUgPT09IGVudHJ5Lm5hbWUpO1xuICBjb25zdCBpc0ltbXV0YWJsZSA9IHBhcmVudC5tZXRhZGF0YVsnaW1tdXRhYmxlJ107XG5cbiAgY29uc3QgcmV0dXJuT2JqID0geyBzdWNjZWVkZWQ6IGZhbHNlLCBlcnJvcjogJycgfTtcbiAgaWYgKG5hbWVFeGlzdHMpICAgICAgIHJldHVybk9iai5lcnJvciA9IGBEdXBsaWNhdGUgbmFtZTogJHtlbnRyeS5uYW1lfSBhbHJlYWR5IGV4aXN0cyBpbiAke3BhcmVudC5uYW1lfS5gO1xuICBlbHNlIGlmIChpc0ltbXV0YWJsZSkgIHJldHVybk9iai5lcnJvciA9IGAke3BhcmVudC5uYW1lfSBpcyBpbW11dGFibGUuYDtcbiAgZWxzZSByZXR1cm5PYmouc3VjY2VlZGVkID0gdHJ1ZTtcblxuICByZXR1cm4gcmV0dXJuT2JqO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgZW50cnkgY2FuIGJlIHJlbW92ZWQgZnJvbSBwYXJlbnQgZm9sZGVyXG4gKiBAcGFyYW0gZW50cnkgXG4gKiBAcGFyYW0gcGFyZW50IFxuICogQHJldHVybnMgcmVzcG9uc2Ugb2JqZWN0IHsgc3VjY2VlZGVkOiBib29sZWFuLCBlcnJvcj86IHN0cmluZyB9XG4gKi9cbmNvbnN0IGNhblJlbW92ZUVudHJ5ID0gKGVudHJ5OiBJRW50cnksIHBhcmVudDogSUZvbGRlcik6IHJlc3BvbnNlUHJvcCA9PiB7XG4gIGNvbnN0IGlkeCA9IHBhcmVudC5jaGlsZHJlbi5maW5kSW5kZXgoKGUpID0+IGUuaWQgPT09IGVudHJ5LmlkKTtcbiAgY29uc3QgZXhpc3RzSW5QYXJlbnQgPSBpZHggIT09IC0xO1xuICBjb25zdCBpc0ltbXV0YWJsZVBhcmVudCA9IHBhcmVudC5tZXRhZGF0YVsnaW1tdXRhYmxlJ107XG4gIGNvbnN0IGlzSW1tdXRhYmxlRW50cnkgPSBlbnRyeS5tZXRhZGF0YVsnaW1tdXRhYmxlJ107XG5cbiAgY29uc3QgcmV0dXJuT2JqID0geyBzdWNjZWVkZWQ6IGZhbHNlLCBlcnJvcjogJycgfTtcbiAgaWYgKCFleGlzdHNJblBhcmVudCkgICAgICAgICAgICByZXR1cm5PYmouZXJyb3IgPSBgJHtlbnRyeS5uYW1lfSBkb2VzIG5vdCBleGlzdCBpbiAke3BhcmVudC5uYW1lfS5gO1xuICBlbHNlIGlmIChpc0ltbXV0YWJsZVBhcmVudCkgICAgIHJldHVybk9iai5lcnJvciA9IGAke3BhcmVudC5uYW1lfSBpcyBpbW11dGFibGUuYDtcbiAgZWxzZSBpZiAoaXNJbW11dGFibGVFbnRyeSkgICAgICByZXR1cm5PYmouZXJyb3IgPSBgJHtlbnRyeS5uYW1lfSBpcyBpbW11dGFibGUuYDtcbiAgZWxzZSByZXR1cm5PYmouc3VjY2VlZGVkID0gdHJ1ZTtcblxuICByZXR1cm4gcmV0dXJuT2JqO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgZW50cnkgY2FuIGJlIG1vdmVkIGZyb20gcGFyZW50IHRvIG5ld1BhcmVudCAobm8gZHVwbGljYXRlLCBtdXRhYmxlIHBhcmVudHMsIGVudHJ5IGV4aXN0cylcbiAqIEBwYXJhbSBlbnRyeSBcbiAqIEBwYXJhbSBwYXJlbnQgXG4gKiBAcGFyYW0gbmV3UGFyZW50IFxuICogQHJldHVybnMgcmVzcG9uc2Ugb2JqZWN0IHsgc3VjY2VlZGVkOiBib29sZWFuLCBlcnJvcjogc3RyaW5nIH1cbiAqL1xuY29uc3QgY2FuTW92ZUVudHJ5ID0gKGVudHJ5OiBJRW50cnksIHBhcmVudDogSUZvbGRlciwgbmV3UGFyZW50OiBJRm9sZGVyKTogcmVzcG9uc2VQcm9wID0+IHtcbiAgLy8gaXMgQSBhIGNoaWxkIG9mIEJcbiAgZnVuY3Rpb24gaXNDaGlsZE9mKGE6IElFbnRyeSwgYjogSUZvbGRlcikge1xuICAgIHJldHVybiBiLmNoaWxkcmVuXG4gICAgICAuZmlsdGVyKChlKSA9PiBlLnR5cGUgPT09IEVudHJ5VHlwZS5Gb2xkZXIpXG4gICAgICAubWFwKChjOiBJRm9sZGVyKSA9PiB7XG4gICAgICAgIGlmIChjID09PSBhKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZWxzZSByZXR1cm4gaXNDaGlsZE9mKGEsIGMpO1xuICAgICAgfSlcbiAgICAgIC5zb21lKChlKSA9PiBlID09PSB0cnVlKTtcbiAgfVxuICAgIFxuICBjb25zdCBpc1NhbWUgPSBlbnRyeSA9PT0gbmV3UGFyZW50O1xuICBjb25zdCBuYW1lRXhpc3RzID0gbmV3UGFyZW50LmNoaWxkcmVuLnNvbWUoKGUpID0+IGUubmFtZSA9PT0gZW50cnkubmFtZSk7XG4gIGNvbnN0IGlzSW1tdXRhYmxlUGFyZW50ID0gcGFyZW50Lm1ldGFkYXRhWydpbW11dGFibGUnXTtcbiAgY29uc3QgaXNJbW11dGFibGVOZXdQYXJlbnQgPSBuZXdQYXJlbnQubWV0YWRhdGFbJ2ltbXV0YWJsZSddO1xuICBjb25zdCBleGlzdHNJblBhcmVudCA9IHBhcmVudC5jaGlsZHJlbi5maW5kSW5kZXgoKGUpID0+IGUuaWQgPT09IGVudHJ5LmlkKSAhPT0gLTE7XG4gIC8vIGlmIGVudHJ5IGlzIGEgZm9sZGVyLCBjaGVjayBpZiBuZXdQYXJlbnQgaXMgYSBzdWJmb2xkZXIgb2YgZW50cnlcbiAgY29uc3QgbmV3UGFyZW50SXNDaGlsZE9mRW50cnkgPSAoZW50cnkudHlwZSA9PSBFbnRyeVR5cGUuRm9sZGVyKSA/IGlzQ2hpbGRPZihuZXdQYXJlbnQsIGVudHJ5IGFzIElGb2xkZXIpIDogZmFsc2U7XG5cblxuICBjb25zdCByZXR1cm5PYmogPSB7IHN1Y2NlZWRlZDogZmFsc2UsIGVycm9yOiAnJyB9O1xuICBpZiAoaXNTYW1lKSAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmouZXJyb3IgPSBgQ2Fubm90IG1vdmUgJHtlbnRyeS5uYW1lfSB0byBpdHNlbGYuYDtcbiAgZWxzZSBpZiAobmFtZUV4aXN0cykgICAgICAgICAgICAgICByZXR1cm5PYmouZXJyb3IgPSBgRHVwbGljYXRlIG5hbWU6ICR7ZW50cnkubmFtZX0gYWxyZWFkeSBleGlzdHMgaW4gJHtuZXdQYXJlbnQubmFtZX0uYDtcbiAgZWxzZSBpZiAoaXNJbW11dGFibGVQYXJlbnQpICAgICAgICAgcmV0dXJuT2JqLmVycm9yID0gYCR7cGFyZW50Lm5hbWV9IGlzIGltbXV0YWJsZS5gO1xuICBlbHNlIGlmIChpc0ltbXV0YWJsZU5ld1BhcmVudCkgICAgICByZXR1cm5PYmouZXJyb3IgPSBgJHtuZXdQYXJlbnQubmFtZX0gaXMgaW1tdXRhYmxlLmA7XG4gIGVsc2UgaWYgKCFleGlzdHNJblBhcmVudCkgICAgICAgICAgIHJldHVybk9iai5lcnJvciA9IGAke2VudHJ5Lm5hbWV9IGRvZXMgbm90IGV4aXN0IGluICR7cGFyZW50Lm5hbWV9LmA7XG4gIGVsc2UgaWYgKG5ld1BhcmVudElzQ2hpbGRPZkVudHJ5KSAgIHJldHVybk9iai5lcnJvciA9IGBDYW5ub3QgbW92ZSAke2VudHJ5Lm5hbWV9IGludG8gYSBpdHMgb3duIHN1YmZvbGRlciwgJHtuZXdQYXJlbnQubmFtZX0uYDtcbiAgZWxzZSByZXR1cm5PYmouc3VjY2VlZGVkID0gdHJ1ZTtcbiAgICBcbiAgcmV0dXJuIHJldHVybk9iajtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGVudHJ5IGNhbiBiZSByZW5hbWVkIChubyBkdXBsaWNhdGUpXG4gKiBAcGFyYW0gZW50cnkgXG4gKiBAcGFyYW0gcGFyZW50IFxuICogQHBhcmFtIG5ld05hbWUgXG4gKiBAcmV0dXJucyByZXNwb25zZSBvYmplY3QgeyBzdWNjZWVkZWQ6IGJvb2xlYW4sIGVycm9yOiBzdHJpbmcgfVxuICovXG5jb25zdCBjYW5SZW5hbWVFbnRyeSA9IChlbnRyeTogSUVudHJ5LCBwYXJlbnQ6IElGb2xkZXIsIG5ld05hbWU6IHN0cmluZyk6IHJlc3BvbnNlUHJvcCA9PiB7XG4gIC8vIENoZWNrIGlmIG5ld05hbWUgYWxyZWFkeSBleGlzdHMgaW4gcGFyZW50XG4gIGNvbnN0IG5hbWVFeGlzdHMgPSBwYXJlbnQuY2hpbGRyZW4uc29tZSgoZSwgaWR4LCBhcnIpID0+IGUubmFtZSA9PT0gZW50cnkubmFtZSAmJiBpZHggIT09IGFyci5pbmRleE9mKGUpKTtcbiAgICBcbiAgY29uc3QgcmV0dXJuT2JqID0geyBzdWNjZWVkZWQ6IGZhbHNlLCBlcnJvcjogJycgfTtcbiAgaWYgKG5hbWVFeGlzdHMpIHJldHVybk9iai5lcnJvciA9IGBEdXBsaWNhdGUgbmFtZTogJHtuZXdOYW1lfSBhbHJlYWR5IGV4aXN0cyBpbiAke3BhcmVudC5uYW1lfS5gO1xuICBlbHNlIHJldHVybk9iai5zdWNjZWVkZWQgPSB0cnVlO1xuXG4gIHJldHVybiByZXR1cm5PYmo7XG59O1xuXG4vKipcbiAqIEFkZHMgZW50cnkgdG8gcGFyZW50IGZvbGRlclxuICogQHBhcmFtIGVudHJ5XG4gKiBAcGFyYW0gcGFyZW50IFxuICogQHJldHVybnMgdHJ1ZSBpZiBhZGRlZCwgZWxzZSBmYWxzZVxuICovXG5jb25zdCBhZGRFbnRyeSA9IChlbnRyeTogSUVudHJ5LCBwYXJlbnQ6IElGb2xkZXIpOiBib29sZWFuID0+IHtcbiAgY29uc3QgeyBzdWNjZWVkZWQsIGVycm9yIH0gPSBjYW5BZGRFbnRyeShlbnRyeSwgcGFyZW50KTtcbiAgaWYgKHN1Y2NlZWRlZCkge1xuICAgIC8vIEFkZCBlbnRyeSB0byBwYXJlbnQsIHNvcnQgYnkgYWxwaGFudW1lcmljYWwgYW5kIGZvbGRlcnMgYmVmb3JlIGZpbGVzXG4gICAgcGFyZW50LmNoaWxkcmVuLnB1c2goZW50cnkpO1xuICAgIHNvcnRGb2xkZXIocGFyZW50KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8qKlxuICogUmVtb3ZlcyBlbnRyeSBmcm9tIHBhcmVudCBmb2xkZXJcbiAqIEBwYXJhbSBlbnRyeSBcbiAqIEBwYXJhbSBwYXJlbnQgXG4gKiBAcGFyYW0gZm9yY2UgZm9yY2UgYSByZW1vdmFsXG4gKiBAcmV0dXJucyB0cnVlIGlmIHJlbW92ZWQsIGVsc2UgZmFsc2VcbiAqL1xuY29uc3QgcmVtb3ZlRW50cnkgPSAoZW50cnk6IElFbnRyeSwgcGFyZW50OiBJRm9sZGVyLCBmb3JjZT1mYWxzZSk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCB7IHN1Y2NlZWRlZCwgZXJyb3IgfSA9IGNhblJlbW92ZUVudHJ5KGVudHJ5LCBwYXJlbnQpO1xuICBpZiAoc3VjY2VlZGVkIHx8IGZvcmNlKSB7XG4gICAgY29uc3QgaWR4ID0gcGFyZW50LmNoaWxkcmVuLmluZGV4T2YoZW50cnkpO1xuICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8qKlxuICogTW92ZXMgZW50cnkgZnJvbSBwYXJlbnQgdG8gbmV3UGFyZW50XG4gKiBAcGFyYW0gZW50cnkgXG4gKiBAcGFyYW0gcGFyZW50IFxuICogQHBhcmFtIG5ld1BhcmVudCBcbiAqIEByZXR1cm5zIHRydWUgaWYgbW92ZWQsIGVsc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gbW92ZUVudHJ5KGVudHJ5OiBJRW50cnksIHBhcmVudDogSUZvbGRlciwgbmV3UGFyZW50OiBJRm9sZGVyKTogYm9vbGVhbiB7XG4gIGNvbnN0IG1vdmVSZXNwb25zZSA9IGNhbk1vdmVFbnRyeShlbnRyeSwgcGFyZW50LCBuZXdQYXJlbnQpO1xuXG4gIGlmIChtb3ZlUmVzcG9uc2Uuc3VjY2VlZGVkKSB7XG4gICAgY29uc3QgcmVtb3ZlZCA9IHJlbW92ZUVudHJ5KGVudHJ5LCBwYXJlbnQsIHRydWUpO1xuICAgIGlmIChyZW1vdmVkKSB7XG4gICAgICBjb25zdCBhZGRlZCA9IGFkZEVudHJ5KGVudHJ5LCBuZXdQYXJlbnQpO1xuICAgICAgaWYgKGFkZGVkKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGVsc2UgY29uc29sZS5lcnJvcihgTW92aW5nOiBmYWlsZWQgdG8gYWRkICR7ZW50cnkubmFtZX0gdG8gJHtuZXdQYXJlbnQubmFtZX1gKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBNb3Zpbmc6IGZhaWxlZCB0byByZW1vdmUgJHtlbnRyeS5uYW1lfSBmcm9tICR7cGFyZW50Lm5hbWV9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IobW92ZVJlc3BvbnNlLmVycm9yKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogUmVuYW1lcyBlbnRyeVxuICogQHBhcmFtIGVudHJ5IFxuICogQHBhcmFtIHBhcmVudCBcbiAqIEBwYXJhbSBuZXdOYW1lIFxuICogQHJldHVybnMgdHJ1ZSBpZiByZW5hbWVkLCBlbHNlIGZhbHNlXG4gKi9cbmNvbnN0IHJlbmFtZUVudHJ5ID0gKGVudHJ5OiBJRW50cnksIHBhcmVudDogSUZvbGRlciwgbmV3TmFtZTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHsgc3VjY2VlZGVkLCBlcnJvciB9ID0gY2FuUmVuYW1lRW50cnkoZW50cnksIHBhcmVudCwgbmV3TmFtZSk7XG5cbiAgaWYgKHN1Y2NlZWRlZCkge1xuICAgIGVudHJ5Lm5hbWUgPSBuZXdOYW1lO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuY29uc3QgZ2V0QWxsTmFtZXMgPSAoZm9sZGVyOiBJRm9sZGVyKTogc3RyaW5nW10gPT4ge1xuICBjb25zdCBuYW1lcyA9IGZvbGRlci5jaGlsZHJlbi5tYXAoZW50cnkgPT4gZW50cnkubmFtZSk7XG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogIFNvcnRzIGZvbGRlciBieSBhbHBoYW51bWVyaWNhbCBhbmQgZm9sZGVycyBiZWZvcmUgZmlsZXMgXG4gKiBAcGFyYW0gZm9sZGVyIFxuICogQHJldHVybnMgcmVmZXJlbmNlIHRvIHNhbWUgZm9sZGVyXG4gKi9cbmZ1bmN0aW9uIHNvcnRGb2xkZXIoZm9sZGVyOiBJRm9sZGVyKTogSUZvbGRlciB7XG4gIGZvbGRlci5jaGlsZHJlbi5zb3J0KChhLCBiKSA9PiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKTtcbiAgZm9sZGVyLmNoaWxkcmVuLnNvcnQoKGEsIGIpID0+IHtcbiAgICBpZiAoYS50eXBlID09PSBFbnRyeVR5cGUuRmlsZSAmJiBiLnR5cGUgPT09IEVudHJ5VHlwZS5Gb2xkZXIpIHJldHVybiAxO1xuICAgIGVsc2UgaWYgKGEudHlwZSA9PT0gRW50cnlUeXBlLkZvbGRlciAmJiBiLnR5cGUgPT09IEVudHJ5VHlwZS5GaWxlKSByZXR1cm4gLTE7XG4gICAgZWxzZSByZXR1cm4gMDtcbiAgfSk7XG4gIHJldHVybiBmb2xkZXI7XG59XG5cbmV4cG9ydCBjb25zdCBGaWxlU3lzdGVtVG9vbHMgPSB7XG4gIGNyZWF0ZUZvbGRlcjogY3JlYXRlRm9sZGVyLFxuICBjcmVhdGVUcmFzaDogY3JlYXRlVHJhc2gsXG4gIGNyZWF0ZUZpbGU6IGNyZWF0ZUZpbGUsXG4gIG1vdmVFbnRyeTogbW92ZUVudHJ5LFxuICBjYW5BZGRFbnRyeTogY2FuQWRkRW50cnksXG4gIGNhblJlbW92ZUVudHJ5OiBjYW5SZW1vdmVFbnRyeSxcbiAgY2FuTW92ZUVudHJ5OiBjYW5Nb3ZlRW50cnksXG4gIGNhblJlbmFtZUVudHJ5OiBjYW5SZW5hbWVFbnRyeSxcbiAgYWRkRW50cnk6IGFkZEVudHJ5LFxuICByZW1vdmVFbnRyeTogcmVtb3ZlRW50cnksXG4gIGFkZE1ldGFkYXRhOiBhZGRNZXRhZGF0YSxcbiAgcmVtb3ZlTWV0YWRhdGE6IHJlbW92ZU1ldGFkYXRhLFxuICBnZXRBbGxOYW1lczogZ2V0QWxsTmFtZXMsXG4gIHJlbmFtZUVudHJ5OiByZW5hbWVFbnRyeSxcbn07IiwiaW1wb3J0IHsgSUZvbGRlciwgRmlsZVN5c3RlbVRvb2xzIH0gZnJvbSAnLic7XG5pbXBvcnQgeyBmZXRjaFVwbG9hZHMgfSBmcm9tICcuLi9TdG9yYWdlJztcbmltcG9ydCB7IHNhbXBsZXMgfSBmcm9tICcuLi9zYW1wbGVzX2ZpbGVuYW1lcyc7XG5cbmludGVyZmFjZSBGaWxlU3lzdGVtUHJvcHMge1xuICBnZXRSb290OiAoKSA9PiBQcm9taXNlPElGb2xkZXI+O1xuICBzZXRGaWxlU3lzdGVtOiAocm9vdDogSUZvbGRlcikgPT4gYm9vbGVhbjtcbiAgZ2V0RmlsZVN5c3RlbTogKCkgPT4gUHJvbWlzZTxJRm9sZGVyPjtcbiAgbmV3VHJhc2g6IChyb290OiBJRm9sZGVyKSA9PiB2b2lkO1xufVxuICBcblxuLy8gTWFuYWdlciBpcyB1c2VkIGZvciBhY2Nlc3NpbmcgbG9jYWwgc3RvcmFnZSBhbmQgdHJhY2tpbmcgdGhlIHBvc2l0aW9uIG9mIGN1cnJlbnQgZm9sZGVyXG5leHBvcnQgY29uc3QgRmlsZVN5c3RlbU1hbmFnZXIgPSAoKTogRmlsZVN5c3RlbVByb3BzID0+IHtcblxuICBhc3luYyBmdW5jdGlvbiBnZXRSb290KCk6IFByb21pc2U8SUZvbGRlcj4geyBcbiAgICByZXR1cm4gYXdhaXQgZ2V0RmlsZVN5c3RlbSgpO1xuICB9XG5cbiAgLy8gU2F2ZSBmaWxlc3lzdGVtIGludG8gbG9jYWwgc3RvcmFnZVxuICBmdW5jdGlvbiBzZXRGaWxlU3lzdGVtKHJvb3Q6IElGb2xkZXIpOiBib29sZWFuIHtcbiAgICB0cnkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCduZW9uLWZzJywgSlNPTi5zdHJpbmdpZnkocm9vdCkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICB3aW5kb3cuYWxlcnQoJ0Vycm9yIHNhdmluZyBmaWxlIHN5c3RlbScpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIExvYWQgZmlsZXN5c3RlbSBmcm9tIGxvY2FsIHN0b3JhZ2UsIGNyZWF0ZXMgbmV3IHJvb3QgaWYgbm9uZSBleGlzdHNcbiAgYXN5bmMgZnVuY3Rpb24gZ2V0RmlsZVN5c3RlbSgpOiBQcm9taXNlPElGb2xkZXI+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZnMgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25lb24tZnMnKTtcbiAgICAgICAgICAgIFxuICAgICAgLy8gaWYgbG9jYWxzdG9yYWdlIGV4aXN0cywgbG9hZCBwcmV2aW91cyByb290XG4gICAgICBpZiAoZnMpIHtcbiAgICAgICAgY29uc3QgbG9jYWxGaWxlU3lzdGVtID0gSlNPTi5wYXJzZShmcykgYXMgSUZvbGRlcjtcbiAgICAgICAgcmV0dXJuIGxvY2FsRmlsZVN5c3RlbTtcbiAgICAgIH1cbiAgICAgIC8vIGVsc2UsIGNyZWF0ZSBuZXcgcm9vdFxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHJvb3QgPSBGaWxlU3lzdGVtVG9vbHMuY3JlYXRlRm9sZGVyKCdIb21lJyk7XG4gICAgICAgIGxvYWRTYW1wbGVzKHJvb3QpO1xuICAgICAgICBuZXdUcmFzaChyb290KTtcbiAgICAgICAgYXdhaXQgbG9hZFByZXZpb3VzVXBsb2Fkcyhyb290KTtcbiAgICAgICAgc2V0RmlsZVN5c3RlbShyb290KTtcbiAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIHdpbmRvdy5hbGVydCgnRXJyb3IgbG9hZGluZyBmaWxlIHN5c3RlbScpO1xuICAgIH1cbiAgfSBcblxuICAvLyBUaGlzIG5leHQgZnVuY3Rpb24gaXMgc29sZWx5IGZvciBsb2FkaW5nIHNhbXBsZXMgaW50byB0aGUgcm9vdCBhcyBhIGRlZmF1bHQgZm9yIE5lb25cbiAgZnVuY3Rpb24gbG9hZFNhbXBsZXMocm9vdDogSUZvbGRlcikge1xuICAgIC8vIE1ha2Ugc2FtcGxlIGVudHJpZXNcbiAgICBjb25zdCBzYW1wbGVFbnRyaWVzID0gc2FtcGxlcy5tYXAoKFtuYW1lLCB0eXBlXSkgPT4ge1xuICAgICAgY29uc3QgZW50cnkgPSBGaWxlU3lzdGVtVG9vbHMuY3JlYXRlRmlsZShuYW1lLCBuYW1lKTtcbiAgICAgIGlmICh0eXBlID09PSAnZm9saW8nKSB7XG4gICAgICAgIEZpbGVTeXN0ZW1Ub29scy5hZGRNZXRhZGF0YShlbnRyeSwgeyB0eXBlOiAnZm9saW8nLCBkb2N1bWVudDogJ3NhbXBsZScsIGltbXV0YWJsZTogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdtYW51c2NyaXB0Jykge1xuICAgICAgICBGaWxlU3lzdGVtVG9vbHMuYWRkTWV0YWRhdGEoZW50cnksIHsgdHlwZTogJ21hbnVzY3JpcHQnLCBkb2N1bWVudDogJ3NhbXBsZScsIGltbXV0YWJsZTogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbnRyeTtcbiAgICB9KTtcblxuICAgIC8vIE1ha2Ugc2FtcGxlcyBmb2xkZXIgYW5kIGFkZCB0byByb290XG4gICAgY29uc3Qgc2FtcGxlc0ZvbGRlciA9IEZpbGVTeXN0ZW1Ub29scy5jcmVhdGVGb2xkZXIoJ1NhbXBsZXMnKTtcbiAgICAvLyBBZGQgc2FtcGxlIGVudHJpZXMgdG8gc2FtcGxlcyBmb2xkZXJcbiAgICBzYW1wbGVFbnRyaWVzLmZvckVhY2goKHNhbXBsZSkgPT4ge1xuICAgICAgRmlsZVN5c3RlbVRvb2xzLmFkZEVudHJ5KHNhbXBsZSwgc2FtcGxlc0ZvbGRlcik7XG4gICAgfSk7XG4gICAgRmlsZVN5c3RlbVRvb2xzLmFkZEVudHJ5KHNhbXBsZXNGb2xkZXIsIHJvb3QpO1xuICAgIEZpbGVTeXN0ZW1Ub29scy5hZGRNZXRhZGF0YShzYW1wbGVzRm9sZGVyLCB7IGltbXV0YWJsZTogdHJ1ZSB9KTtcblxuICAgIHJldHVybiByb290O1xuICB9XG5cbiAgZnVuY3Rpb24gbmV3VHJhc2gocm9vdDogSUZvbGRlcikge1xuICAgIGNvbnN0IHRyYXNoRm9sZGVyID0gRmlsZVN5c3RlbVRvb2xzLmNyZWF0ZVRyYXNoKCdUcmFzaCcpO1xuICAgIEZpbGVTeXN0ZW1Ub29scy5hZGRFbnRyeSh0cmFzaEZvbGRlciwgcm9vdCk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBsb2FkUHJldmlvdXNVcGxvYWRzKHJvb3Q6IElGb2xkZXIpIHtcbiAgICAvLyBHZXQgcHJldmlvdXMgdXBsb2FkcyBmcm9tIGxvY2FsIHN0b3JhZ2VcbiAgICBjb25zdCB1cGxvYWRzID0gYXdhaXQgZmV0Y2hVcGxvYWRzKCk7XG5cbiAgICAvLyBNYWtlIHVwbG9hZCBlbnRyaWVzXG4gICAgY29uc3QgdXBsb2FkRW50cmllcyA9IHVwbG9hZHMubWFwKCh1cGxvYWQpID0+IHtcbiAgICAgIHJldHVybiBGaWxlU3lzdGVtVG9vbHMuY3JlYXRlRmlsZSh1cGxvYWQubmFtZSwgdXBsb2FkLmlkKTtcbiAgICB9KTtcblxuICAgIHVwbG9hZEVudHJpZXMuZm9yRWFjaCgodXBsb2FkKSA9PiB7XG4gICAgICBGaWxlU3lzdGVtVG9vbHMuYWRkRW50cnkodXBsb2FkLCByb290KTtcbiAgICB9KTtcblxuICAgIHJldHVybiByb290O1xuICB9XG5cbiAgY29uc3QgRmlsZVN5c3RlbVByb3BzOiBGaWxlU3lzdGVtUHJvcHMgPSB7XG4gICAgZ2V0Um9vdDogZ2V0Um9vdCxcbiAgICBzZXRGaWxlU3lzdGVtOiBzZXRGaWxlU3lzdGVtLFxuICAgIGdldEZpbGVTeXN0ZW06IGdldEZpbGVTeXN0ZW0sXG4gICAgbmV3VHJhc2g6IG5ld1RyYXNoLFxuICB9O1xuXG4gIHJldHVybiBGaWxlU3lzdGVtUHJvcHM7XG59OyIsImV4cG9ydCBjb25zdCBzYW1wbGVzID0gW1xuICBbJ0NETi1Ic211X00yMTQ5Lkw0XzAwMXInLCAnZm9saW8nXSxcbiAgWydDRE4tSHNtdV9NMjE0OS5MNF8wMDJyJywgJ2ZvbGlvJ10sXG4gIFsnQ0gtRV82MTFfMDI0cicsICdmb2xpbyddLFxuICBbJ0NILUVfNjExXzAyNnInLCAnZm9saW8nXSxcbiAgWydDSC1FXzYxMV8wMjhyJywgJ2ZvbGlvJ10sXG4gIFsnU2FsemlubmVzJywgJ21hbnVzY3JpcHQnXVxuXTsiLCJpbXBvcnQgeyBJRW50cnksIElGb2xkZXIgfSBmcm9tICcuL0ZpbGVTeXN0ZW0nO1xuXG5leHBvcnQgY2xhc3MgU2hpZnRTZWxlY3Rpb25NYW5hZ2VyIHtcbiAgcHJpdmF0ZSBzdGFydDogbnVtYmVyO1xuICBwcml2YXRlIGVuZDogbnVtYmVyO1xuICBwcml2YXRlIHByZXZTZWxlY3Rpb246IG51bWJlcltdID0gW107XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRTdGFydChzdGFydDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5yZXNldCgpO1xuICAgIHRoaXMuc3RhcnQgPSBNYXRoLm1heChzdGFydCwgMCk7XG4gIH1cblxuICBwdWJsaWMgc2V0RW5kKGVuZDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5lbmQgPSBlbmQ7XG4gIH1cblxuICBwdWJsaWMgcmVzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5zdGFydCA9IDA7XG4gICAgdGhpcy5lbmQgPSAtMTtcbiAgICB0aGlzLnByZXZTZWxlY3Rpb24uc3BsaWNlKDApO1xuICB9XG5cbiAgcHVibGljIGdldFByZXZTZWxlY3Rpb24oKTogbnVtYmVyW10ge1xuICAgIHJldHVybiB0aGlzLnByZXZTZWxlY3Rpb247XG4gIH1cblxuICBwdWJsaWMgZ2V0U2VsZWN0aW9uKG9yZGVyZWRTZWxlY3Rpb246IGJvb2xlYW5bXSk6IG51bWJlcltdIHtcbiAgICBsZXQgc3RhcnQ6IG51bWJlcjtcbiAgICBsZXQgZW5kOiBudW1iZXI7XG5cbiAgICBpZiAodGhpcy5lbmQgPT09IC0xKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmICh0aGlzLmVuZCA8IHRoaXMuc3RhcnQpIHtcbiAgICAgIHN0YXJ0ID0gdGhpcy5lbmQ7XG4gICAgICBlbmQgPSB0aGlzLnN0YXJ0ICsgMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzdGFydCA9IHRoaXMuc3RhcnQ7XG4gICAgICBlbmQgPSB0aGlzLmVuZCArIDE7XG4gICAgfVxuICAgIGNvbnN0IHJhbmdlID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogKGVuZCAtIHN0YXJ0KSB9LCAodiwgaykgPT4gayArIHN0YXJ0KTtcblxuICAgIC8vIEZvciBlYWNoIHNoaWZ0IHNlbGVjdGlvbiBhY3Rpb246IGlmIHRoZSBTaGlmdCBrZXkgaXMgc3RpbGwgaGVsZCwgdGhlIGVuZCBzaGlmdCBwb3MgY2FuIGNoYW5nZVxuICAgIC8vIHdpdGggdGhlIHByZXZpb3VzbHkgKGJlZm9yZS1zaGlmdCkgc2VsZWN0ZWQgZWxlbWVudHMgc3RpbGwgc2VsZWN0ZWQgd2hpbGUgdGhlIGN1cnJlbnQgc2hpZnQgc2VsZWN0aW9ucyB1bnNlbGVjdC5cbiAgICBjb25zdCBzcGVjaWZpY1NlbGVjdGlvbiA9IHJhbmdlLmZpbHRlcihpZHggPT4gIShvcmRlcmVkU2VsZWN0aW9uW2lkeF0pKTtcbiAgICB0aGlzLnByZXZTZWxlY3Rpb24gPSBzcGVjaWZpY1NlbGVjdGlvbjtcbiAgICByZXR1cm4gc3BlY2lmaWNTZWxlY3Rpb247XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXNoYm9hcmRTdGF0ZSB7XG4gIHJvb3Qocm9vdEZvbGRlcj86IElGb2xkZXIpOiBJRm9sZGVyIHwgbnVsbDtcbiAgc2V0RW50cmllcyhlbnRyaWVzOiBJRW50cnlbXSk6IHZvaWQ7XG4gIGdldEVudHJpZXMoKTogSUVudHJ5W107XG4gIGdldEluZGV4QnlFbnRyeU5hbWUobmFtZTogc3RyaW5nKTogbnVtYmVyO1xuICBzZXRTZWxlY3Rpb24oaW5kZXg6IG51bWJlciwgYm9vbDogYm9vbGVhbik6IHZvaWQ7XG4gIGdldFNlbGVjdGlvbigpOiBib29sZWFuW107XG4gIHJlc2V0U2VsZWN0aW9uKCk6IHZvaWQ7XG4gIHNldEZvbGRlclBhdGgocGF0aDogSUZvbGRlcltdKTogdm9pZDtcbiAgZ2V0Rm9sZGVyUGF0aCgpOiBJRm9sZGVyW107XG4gIGdldEZvbGRlclBhdGhOYW1lcygpOiBzdHJpbmdbXTtcbiAgZ2V0Rm9sZGVyUGF0aEJ5TmFtZXMoZm9sZGVyTmFtZXM6IHN0cmluZ1tdKTogSUZvbGRlciB8IHZvaWQ7XG4gIGdldFBhcmVudEZvbGRlcigpOiBJRm9sZGVyIHwgdW5kZWZpbmVkO1xuICBnZXRUcmFzaEZvbGRlcigpOiBJRm9sZGVyO1xuICBnZXRTZWxlY3RlZEVudHJpZXMoKTogSUVudHJ5W107XG4gIGdldFNlbGVjdGVkRm9sZGVycygpOiBJRW50cnlbXTtcbiAgZ2V0U2VsZWN0ZWRUcmFzaCgpOiBJRW50cnlbXTtcbiAgZ2V0U2VsZWN0ZWRGaWxlcygpOiBJRW50cnlbXTtcbiAgaXNJblRyYXNoKCk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkYXNoYm9hcmRTdGF0ZSgpOiBEYXNoYm9hcmRTdGF0ZSB7XG4gIC8vIGFzIGRpc3BsYXllZCBvbiB0aGUgZGFzaGJvYXJkXG4gIGxldCBvcmRlcmVkRW50cmllczogSUVudHJ5W10gPSBbXTtcbiAgbGV0IG9yZGVyZWRTZWxlY3Rpb246IGJvb2xlYW5bXSA9IFtdO1xuICAvLyBjb25zdCBjdXJyZW50RmlsZVNlbGVjdGlvbiA9IFtdOyAvLyBjdXJyZW50bHkgdXNlci1zZWxlY3RlZCBmaWxlc1xuICAvLyBjb25zdCBjdXJyZW50Rm9sZGVyU2VsZWN0aW9uID0gW107IC8vIGN1cnJlbnRseSB1c2VyLXNlbGVjdGVkIGZvbGRlcnNcblxuICAvLyBwYXRoIGxlYWRpbmcgdG8gY3VycmVudCBmb2xkZXJcbiAgbGV0IGZvbGRlclBhdGg6IElGb2xkZXJbXSA9IFtdO1xuICBsZXQgX3Jvb3Q6IElGb2xkZXIgPSBudWxsO1xuXG4gIC8qKiBcbiAgICogU2V0cyBvciBnZXRzIHRoZSByb290IGZvbGRlclxuICAgKiBAcGFyYW0gcm9vdEZvbGRlciAob3B0aW9uYWwpIC0gdGhlIHJvb3QgZm9sZGVyIHRvIHNldFxuICAgKiBAcmV0dXJucyB0aGUgcm9vdCBmb2xkZXJcbiAgICovIFxuICBmdW5jdGlvbiByb290KHJvb3RGb2xkZXI/OiBJRm9sZGVyKSB7XG4gICAgaWYgKHJvb3RGb2xkZXIpIF9yb290ID0gcm9vdEZvbGRlcjtcbiAgICByZXR1cm4gX3Jvb3Q7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRFbnRyaWVzKGVudHJpZXM6IElFbnRyeVtdKSB7XG4gICAgb3JkZXJlZEVudHJpZXMgPSBlbnRyaWVzO1xuICAgIG9yZGVyZWRTZWxlY3Rpb24gPSBBcnJheShlbnRyaWVzLmxlbmd0aCkuZmlsbChmYWxzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRFbnRyaWVzKCkge1xuICAgIHJldHVybiBvcmRlcmVkRW50cmllcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEluZGV4QnlFbnRyeU5hbWUobmFtZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIG9yZGVyZWRFbnRyaWVzLmZpbmRJbmRleChlbnRyeSA9PiBlbnRyeS5uYW1lID09PSBuYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNlbGVjdGlvbihpbmRleDogbnVtYmVyLCBib29sOiBib29sZWFuKSB7XG4gICAgb3JkZXJlZFNlbGVjdGlvbltpbmRleF0gPSBib29sO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKCkge1xuICAgIHJldHVybiBvcmRlcmVkU2VsZWN0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRTZWxlY3Rpb24oKSB7XG4gICAgb3JkZXJlZFNlbGVjdGlvbi5maWxsKGZhbHNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEZvbGRlclBhdGgocGF0aDogSUZvbGRlcltdKSB7XG4gICAgZm9sZGVyUGF0aCA9IHBhdGg7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRGb2xkZXJQYXRoKCkge1xuICAgIHJldHVybiBmb2xkZXJQYXRoO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Rm9sZGVyUGF0aE5hbWVzKCkge1xuICAgIHJldHVybiBmb2xkZXJQYXRoLm1hcChmb2xkZXIgPT4gZm9sZGVyLm5hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Rm9sZGVyUGF0aEJ5TmFtZXMoZm9sZGVyTmFtZXM6IHN0cmluZ1tdKTogSUZvbGRlciB8IHZvaWQge1xuICAgIGxldCBjdXJyZW50Rm9sZGVyID0gcm9vdCgpO1xuICAgIGZvbGRlck5hbWVzID0gZm9sZGVyTmFtZXMuc2xpY2UoMSk7XG5cbiAgICBmb3IgKGNvbnN0IGZvbGRlck5hbWUgb2YgZm9sZGVyTmFtZXMpIHtcbiAgICAgIGNvbnN0IHRhcmdldEZvbGRlciA9IGN1cnJlbnRGb2xkZXIuY2hpbGRyZW4uZmluZChjaGlsZCA9PiBjaGlsZC5uYW1lID09PSBmb2xkZXJOYW1lKTtcbiAgICAgIGlmICh0YXJnZXRGb2xkZXIgJiYgdGFyZ2V0Rm9sZGVyLnR5cGUgPT09ICdmb2xkZXInKSB7XG4gICAgICAgIGN1cnJlbnRGb2xkZXIgPSB0YXJnZXRGb2xkZXIgYXMgSUZvbGRlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ2ZhaWxlZCB0byBmaW5kIGZvbGRlcjogJywgZm9sZGVyTmFtZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudEZvbGRlcjtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gZ2V0UGFyZW50Rm9sZGVyKCkgeyBcbiAgICByZXR1cm4gZm9sZGVyUGF0aC5hdCgtMSk7IFxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VHJhc2hGb2xkZXIoKSB7XG4gICAgY29uc3QgdHJhc2hGb2xkZXJzID0gcm9vdCgpLmNoaWxkcmVuLmZpbHRlcihlbnRyeSA9PiBlbnRyeS50eXBlID09PSAndHJhc2gnKSBhcyBJRm9sZGVyW107XG4gICAgcmV0dXJuIHRyYXNoRm9sZGVyc1swXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlbGVjdGVkRW50cmllcygpIHtcbiAgICByZXR1cm4gb3JkZXJlZEVudHJpZXMuZmlsdGVyKChfLCBpZHgpID0+IG9yZGVyZWRTZWxlY3Rpb25baWR4XSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTZWxlY3RlZEZvbGRlcnMoKSB7XG4gICAgcmV0dXJuIGdldFNlbGVjdGVkRW50cmllcygpLmZpbHRlcihlbnRyeSA9PiBlbnRyeS50eXBlID09PSAnZm9sZGVyJyk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTZWxlY3RlZFRyYXNoKCkge1xuICAgIHJldHVybiBnZXRTZWxlY3RlZEVudHJpZXMoKS5maWx0ZXIoZW50cnkgPT4gZW50cnkudHlwZSA9PT0gJ3RyYXNoJyk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTZWxlY3RlZEZpbGVzKCkge1xuICAgIHJldHVybiBnZXRTZWxlY3RlZEVudHJpZXMoKS5maWx0ZXIoZW50cnkgPT4gZW50cnkudHlwZSA9PT0gJ2ZpbGUnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzSW5UcmFzaCgpIHtcbiAgICBjb25zdCBpc1RyYXNoRm9sZGVyID0gKGZvbGRlcjogSUZvbGRlcik6IGJvb2xlYW4gPT4gZm9sZGVyLnR5cGUgPT09ICd0cmFzaCc7XG4gICAgcmV0dXJuIGZvbGRlclBhdGguc29tZShpc1RyYXNoRm9sZGVyKTtcbiAgfVxuXG4gIC8vIFRPRE86XG4gIC8vIGZ1bmN0aW9uIHNvcnRFbnRyaWVzKCkge31cblxuICByZXR1cm4ge1xuICAgIHJvb3Q6IHJvb3QsXG4gICAgc2V0RW50cmllczogc2V0RW50cmllcyxcbiAgICBnZXRFbnRyaWVzOiBnZXRFbnRyaWVzLFxuICAgIGdldEluZGV4QnlFbnRyeU5hbWU6IGdldEluZGV4QnlFbnRyeU5hbWUsXG4gICAgc2V0U2VsZWN0aW9uOiBzZXRTZWxlY3Rpb24sXG4gICAgZ2V0U2VsZWN0aW9uOiBnZXRTZWxlY3Rpb24sXG4gICAgcmVzZXRTZWxlY3Rpb246IHJlc2V0U2VsZWN0aW9uLFxuICAgIHNldEZvbGRlclBhdGg6IHNldEZvbGRlclBhdGgsXG4gICAgZ2V0Rm9sZGVyUGF0aDogZ2V0Rm9sZGVyUGF0aCxcbiAgICBnZXRGb2xkZXJQYXRoTmFtZXM6IGdldEZvbGRlclBhdGhOYW1lcyxcbiAgICBnZXRGb2xkZXJQYXRoQnlOYW1lczogZ2V0Rm9sZGVyUGF0aEJ5TmFtZXMsXG4gICAgZ2V0UGFyZW50Rm9sZGVyOiBnZXRQYXJlbnRGb2xkZXIsXG4gICAgZ2V0VHJhc2hGb2xkZXI6IGdldFRyYXNoRm9sZGVyLFxuICAgIGdldFNlbGVjdGVkRW50cmllczogZ2V0U2VsZWN0ZWRFbnRyaWVzLFxuICAgIGdldFNlbGVjdGVkRm9sZGVyczogZ2V0U2VsZWN0ZWRGb2xkZXJzLFxuICAgIGdldFNlbGVjdGVkVHJhc2g6IGdldFNlbGVjdGVkVHJhc2gsXG4gICAgZ2V0U2VsZWN0ZWRGaWxlczogZ2V0U2VsZWN0ZWRGaWxlcyxcbiAgICBpc0luVHJhc2g6IGlzSW5UcmFzaCxcbiAgfTtcbn0iLCJpbXBvcnQgeyBNb2RhbFdpbmRvdywgTW9kYWxXaW5kb3dWaWV3IH0gZnJvbSAnLi4vdXRpbHMvTW9kYWxXaW5kb3cnO1xuaW1wb3J0IHsgYWRkTmV3RmlsZXMsIGhhbmRsZVVwbG9hZEFsbERvY3VtZW50cywgaGFuZGxlTWFrZVBhaXIsIHNvcnRGaWxlQnlOYW1lIH0gZnJvbSAnLi9VcGxvYWRUb29scyc7XG5pbXBvcnQgeyB1cGRhdGVEYXNoYm9hcmQgfSBmcm9tICcuL0Rhc2hib2FyZCc7XG5pbXBvcnQgeyBJRm9sZGVyIH0gZnJvbSAnLi9GaWxlU3lzdGVtJztcblxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlVXBsb2FkVXBkYXRlKG1vZGFsV2luZG93OiBNb2RhbFdpbmRvdywgY3VycmVudEZvbGRlcjogSUZvbGRlcikge1xuICBjb25zdCBzcGlubmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VwbG9hZGluZ19zcGlubmVyJyk7XG4gIHNwaW5uZXIuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gIGhhbmRsZVVwbG9hZEFsbERvY3VtZW50cyhjdXJyZW50Rm9sZGVyKVxuICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHVwZGF0ZURhc2hib2FyZCgpO1xuICAgICAgICBzcGlubmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICAgICAgbW9kYWxXaW5kb3cuaGlkZU1vZGFsV2luZG93KCk7XG4gICAgICB9LCAyMDAwKTtcbiAgICB9KVxuICAgIC5jYXRjaCggKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnT25lIG9yIG1vcmUgdXBsb2FkcyByZWplY3RlZDogJywgZXJyb3IpO1xuICAgICAgc2V0VGltZW91dCggYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCB1cGRhdGVEYXNoYm9hcmQoKTtcbiAgICAgICAgc3Bpbm5lci5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICAgIG1vZGFsV2luZG93LmhpZGVNb2RhbFdpbmRvdygpO1xuICAgICAgfSwgMjAwMCk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJbml0VXBsb2FkQXJlYShjdXJyZW50Rm9sZGVyOiBJRm9sZGVyKTogdm9pZCB7XG4gIC8vIGdlbmVyYXRlIG1vZGFsIHdpbmRvd1xuICBjb25zdCBtb2RhbFdpbmRvdyA9IG5ldyBNb2RhbFdpbmRvdygpO1xuICBtb2RhbFdpbmRvdy5zZXRNb2RhbFdpbmRvd1ZpZXcoTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRCk7XG4gIG1vZGFsV2luZG93Lm9wZW5Nb2RhbFdpbmRvdygpO1xuXG4gIGNvbnN0IHBhaXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFrZV9wYWlyJyk7XG4gIGNvbnN0IHVwbG9hZEJ1dHRvbiA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXBsb2FkX2J1dHRvbicpO1xuXG4gIHBhaXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVNYWtlUGFpcik7XG4gIHVwbG9hZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGhhbmRsZVVwbG9hZFVwZGF0ZShtb2RhbFdpbmRvdywgY3VycmVudEZvbGRlcikpO1xuXG4gIC8vIHJlcXVlc3QgdXNlciBmaWxlIHN5c3RlbSB3aGVuIGNsaWNraW5nIG9uIHVwbG9hZCBhcmVhXG4gIGNvbnN0IGZpbGVTZWxlY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGZpbGVTZWxlY3Rvci50eXBlID0gJ2ZpbGUnO1xuICBmaWxlU2VsZWN0b3IubXVsdGlwbGUgPSB0cnVlO1xuICBmaWxlU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gaGFuZGxlRmlsZVNlbGVjdG9yQ2hhbmdlKCkgeyBcbiAgICBjb25zdCBmaWxlTGlzdDogRmlsZUxpc3QgPSBmaWxlU2VsZWN0b3IuZmlsZXM7IFxuICAgIGNvbnN0IGZpbGVzID0gQXJyYXkuZnJvbShmaWxlTGlzdCk7XG4gICAgY29uc3QgcmVqZWN0RmlsZXMgPSBhZGROZXdGaWxlcyhmaWxlcyk7XG4gICAgaWYgKHJlamVjdEZpbGVzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgY29uc3QgZmlsZW5hbWVzID0gcmVqZWN0RmlsZXMubWFwKGZpbGUgPT4gZmlsZS5uYW1lKTtcbiAgICAgIHdpbmRvdy5hbGVydChgVGhlIGZvbGxvd2luZyBmaWxlcyBhcmUgbm90IC5tZWksIC5wbmcsIC5qcGVnLCBvciAuanNvbmxkIGZpbGVzOiBcXG5cXG4ke2ZpbGVuYW1lcy5qb2luKCdcXG4nKX1gKTtcbiAgICB9XG4gICAgLy8gcmVtb3ZlIHNlbGVjdGlvblxuICAgIGZpbGVTZWxlY3Rvci52YWx1ZSA9IG51bGw7XG4gIH0pO1xuXG4gIC8vIEFkZCBldmVudCBsaXN0ZW5lcnMgZm9yIGNsaWNrIGFuZCBkcmFnIGFuZCBkcm9wXG4gIGNvbnN0IHVwbG9hZF9hcmVhOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbml0aWFsX3VwbG9hZF9hcmVhJyk7XG4gIHVwbG9hZF9hcmVhLm9uY2xpY2sgPSAoKSA9PiBmaWxlU2VsZWN0b3IuY2xpY2soKTtcbiAgLy8gYWRkIHZpc3VhbCBjdWVzIGZvciBkcmFnZ2luZyBmaWxlcyBvdmVyIHVwbG9hZCBhcmVhXG4gIHVwbG9hZF9hcmVhLm9uZHJhZ2xlYXZlID0gKCkgPT4gdXBsb2FkX2FyZWEuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcicpOyBcbiAgdXBsb2FkX2FyZWEub25kcmFnb3ZlciA9IChldmVudCkgPT4geyBcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHVwbG9hZF9hcmVhLmNsYXNzTGlzdC5hZGQoJ292ZXInKTtcbiAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdjb3B5JztcbiAgfTtcbiAgLy8gcmVjZWl2ZSBmaWxlcyBvbmNlIGZpbGVzIGFyZSBkcm9wcGVkXG4gIHVwbG9hZF9hcmVhLm9uZHJvcCA9IChldmVudCkgPT4ge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdXBsb2FkX2FyZWEuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcicpO1xuICAgIGNvbnN0IGZpbGVMaXN0ID0gZXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzO1xuICAgIGNvbnN0IGZpbGVzID0gQXJyYXkuZnJvbShmaWxlTGlzdCk7XG4gICAgY29uc3QgcmVqZWN0RmlsZXMgPSBhZGROZXdGaWxlcyhmaWxlcyk7XG4gICAgaWYgKHJlamVjdEZpbGVzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgY29uc3QgZmlsZW5hbWVzID0gcmVqZWN0RmlsZXMubWFwKGZpbGUgPT4gZmlsZS5uYW1lKTtcbiAgICAgIHdpbmRvdy5hbGVydChgVGhlIGZvbGxvd2luZyBmaWxlcyBhcmUgbm90IC5tZWksIC5wbmcsIC5qcGVnLCBvciAuanNvbmxkIGZpbGVzOiBcXG5cXG4ke2ZpbGVuYW1lcy5qb2luKCdcXG4nKX1gKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTGlzdGVuZXIgZm9yIHNvcnRpbmcgZmlsZS9mb2xpb1xuICBjb25zdCBzb3J0QnlOYW1lQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zb3J0X25hbWUnKTtcbiAgc29ydEJ5TmFtZUJ0bnMuZm9yRWFjaChzb3J0QnlOYW1lQnRuID0+IHtcbiAgICBzb3J0QnlOYW1lQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc29ydEZpbGVCeU5hbWUoc29ydEJ5TmFtZUJ0bikpO1xuICB9KTtcbn0iLCJpbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCBVcGxvYWRGaWxlTWFuYWdlciBmcm9tICcuL1VwbG9hZEZpbGVNYW5hZ2VyJztcbmltcG9ydCB7IGNyZWF0ZU1hbmlmZXN0LCBhZGREb2N1bWVudCB9IGZyb20gJy4vU3RvcmFnZSc7XG5pbXBvcnQgeyBJRm9sZGVyLCBGaWxlU3lzdGVtVG9vbHMgfSBmcm9tICcuL0ZpbGVTeXN0ZW0nO1xuXG5jb25zdCBmbSA9IFVwbG9hZEZpbGVNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cbi8vIFNldCBNRUkgdGVtcGxhdGVcbmNvbnN0IHRlbXBsYXRlUGF0aCA9ICdzYW1wbGVzL21laS9tZWlfdGVtcGxhdGUubWVpJztcbmZtLnNldE1laVRlbXBsYXRlKHRlbXBsYXRlUGF0aCk7XG5cbi8vIEFkZHMgbmV3IGZpbGVzIHRvIHVwbG9hZCBwYWlyaW5nIGNvbnRhaW5lciBhbmQgZmlsZW1hbmFnZXIsIHJldHVybnMgbGlzdCBvZiByZWplY3RlZCBmaWxlc1xuZXhwb3J0IGZ1bmN0aW9uIGFkZE5ld0ZpbGVzKCBmaWxlczogRmlsZVtdICk6IEZpbGVbXSB7XG4gIGNvbnN0IG1laV9jb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21laV9saXN0Jyk7XG4gIGNvbnN0IGltYWdlX2NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW1hZ2VfbGlzdCcpO1xuXG4gIGNvbnN0IHJlamVjdEZpbGVzOiBGaWxlW10gPSBbXTtcbiAgZmlsZXMuZm9yRWFjaCggZmlsZSA9PiB7XG4gICAgY29uc3QgZXh0ID0gZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKCk7XG5cbiAgICBpZiAoIGV4dCA9PT0gJ21laScgKSB7XG4gICAgICBjb25zdCB1bnBhaXJlZEl0ZW0gPSBjcmVhdGVVbnBhaXJlZEl0ZW0oZmlsZS5uYW1lLCAnbWVpJyk7XG4gICAgICBtZWlfY29udGFpbmVyLmFwcGVuZENoaWxkKHVucGFpcmVkSXRlbSk7XG4gICAgICBmbS5hZGRGaWxlKGZpbGUpO1xuICAgIH1cbiAgICBlbHNlIGlmICggWydwbmcnLCdqcGcnLCdqcGVnJ10uaW5jbHVkZXMoZXh0KSApIHtcbiAgICAgIGNvbnN0IHVucGFpcmVkSXRlbSA9IGNyZWF0ZVVucGFpcmVkSXRlbShmaWxlLm5hbWUsICdpbWFnZScpO1xuICAgICAgaW1hZ2VfY29udGFpbmVyLmFwcGVuZENoaWxkKHVucGFpcmVkSXRlbSk7XG4gICAgICBmbS5hZGRGaWxlKGZpbGUpO1xuICAgIH1cbiAgICBlbHNlIGlmICggZXh0ID09PSAnanNvbmxkJyApIHtcbiAgICAgIC8vIC8vIHJlbW92ZSBtYW51c2NyaXB0IHN1cHBvcnQgZm9yIHRoZSBpbW1lZGlhdGUgZnV0dXJlIVxuICAgICAgLy8gY29uc3QgbWFudXNjcmlwdEZvbGlvID0gY3JlYXRlTWFudXNjcmlwdEZvbGlvKGZpbGUubmFtZSk7XG4gICAgICAvLyBtYW51c2NyaXB0X2NvbnRhaW5lci5hcHBlbmRDaGlsZChtYW51c2NyaXB0Rm9saW8pO1xuICAgICAgLy8gZm0uYWRkRmlsZShmaWxlKTtcbiAgICAgIC8vIGZtLmFkZE1hbnVzY3JpcHQoZmlsZS5uYW1lKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZWplY3RGaWxlcy5wdXNoKGZpbGUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZWplY3RGaWxlcztcbn0gXG5cbmZ1bmN0aW9uIGNyZWF0ZVVucGFpcmVkSXRlbShmaWxlbmFtZTogc3RyaW5nLCBncm91cDogc3RyaW5nKTogSFRNTERpdkVsZW1lbnQge1xuICBpZiAoZ3JvdXAgIT09ICdtZWknICYmIGdyb3VwICE9PSAnaW1hZ2UnKSByZXR1cm47XG4gIGNvbnN0IHJhZGlvTmFtZSA9ICdtZWknID09PSBncm91cCA/ICdtZWlfcmFkaW9fZ3JvdXAnIDogJ2ltYWdlX3JhZGlvX2dyb3VwJztcbiAgY29uc3QgaWQgPSB1dWlkdjQoKTtcblxuICBjb25zdCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG5vZGUuY2xhc3NOYW1lID0gJ3VucGFpcmVkX2l0ZW1fY29udGFpbmVyJztcblxuICBjb25zdCByYWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHJhZGlvLnR5cGUgPSAncmFkaW8nO1xuICByYWRpby5jbGFzc05hbWUgPSAndW5wYWlyZWRfaXRlbV9yYWRpbyc7XG4gIHJhZGlvLm5hbWUgPSByYWRpb05hbWU7XG4gIHJhZGlvLnZhbHVlID0gZmlsZW5hbWU7XG4gIHJhZGlvLmlkID0gaWQ7XG5cbiAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBsYWJlbC5jbGFzc05hbWUgPSAndW5wYWlyZWRfaXRlbV9sYWJlbCc7XG4gIGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgaWQpO1xuXG4gIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIHRleHQuaW5uZXJUZXh0ID0gZm9ybWF0RmlsZW5hbWUoZmlsZW5hbWUsIDUwKTtcbiAgdGV4dC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ21hcmdpbi10b3A6IGF1dG87IG1hcmdpbi1sZWZ0OiAzcHg7Jyk7XG5cbiAgY29uc3QgZGVsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gIGRlbEJ0bi5jbGFzc05hbWUgPSAndW5wYWlyZWRfZGVsX2J0bic7XG4gIGRlbEJ0bi5zcmMgPSBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvdW5wYWlyZWQtcmVtb3ZlLWRvYy5zdmdgO1xuICBkZWxCdG4udGl0bGUgPSAnZGVsZXRlJztcblxuICBsYWJlbC5hcHBlbmRDaGlsZChyYWRpbyk7XG4gIGxhYmVsLmFwcGVuZENoaWxkKHRleHQpO1xuICBub2RlLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgbm9kZS5hcHBlbmRDaGlsZChkZWxCdG4pO1xuXG4gIGRlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIG5vZGUucmVtb3ZlKCk7XG4gIH0pO1xuXG4gIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlTWFrZVBhaXIoKTogdm9pZCB7XG4gIGNvbnN0IHBhaXJlZF9jb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BhaXJlZF9saXN0Jyk7XG5cbiAgLy8gZ2V0IGFuZCBjaGVjayBpZiBzZWxlY3RlZCByYWRpbyBleGlzdHNcbiAgY29uc3Qgc2VsZWN0ZWRNZWlFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cIm1laV9yYWRpb19ncm91cFwiXTpjaGVja2VkJyk7XG4gIGNvbnN0IHNlbGVjdGVkSW1hZ2VFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImltYWdlX3JhZGlvX2dyb3VwXCJdOmNoZWNrZWQnKTtcbiAgaWYgKHNlbGVjdGVkTWVpRWxlbWVudCA9PT0gbnVsbCB8fCBzZWxlY3RlZEltYWdlRWxlbWVudCA9PT0gbnVsbCkgcmV0dXJuO1xuICBcbiAgbGV0IG1laV9maWxlbmFtZSA9IHNlbGVjdGVkTWVpRWxlbWVudC52YWx1ZTtcbiAgY29uc3QgaW1hZ2VfZmlsZW5hbWUgPSBzZWxlY3RlZEltYWdlRWxlbWVudC52YWx1ZTtcbiAgbGV0IGlzQ3JlYXRlZCA9IGZhbHNlO1xuXG4gIGlmIChzZWxlY3RlZE1laUVsZW1lbnQudmFsdWUgPT09ICdjcmVhdGVfbWVpJyl7XG4gICAgaXNDcmVhdGVkID0gdHJ1ZTtcbiAgICAvLyBDaGFuZ2UgZXh0ZW5zaW9uXG4gICAgY29uc3QgZm4gPSBpbWFnZV9maWxlbmFtZS5zcGxpdCgnLicpO1xuICAgIGlmIChmbi5sZW5ndGggPiAxKSB7XG4gICAgICBmbi5wb3AoKTtcbiAgICB9XG4gICAgZm4ucHVzaCgnbWVpJyk7XG5cbiAgICBtZWlfZmlsZW5hbWUgPSBmbi5qb2luKCcuJyk7XG4gICAgLy8gQ3JlYXRlIG5ldyBNRUkgZmlsZVxuICAgIGZtLmdldEltZ0RpbWVuc2lvbihpbWFnZV9maWxlbmFtZSlcbiAgICAgIC50aGVuKChkaW1lbnNpb25zKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgc3RhZmZTcGFjZSB9ID0gZGltZW5zaW9ucztcbiAgICAgICAgY29uc3QgbmV3TWVpRmlsZSA9IGZtLmNyZWF0ZU1laUZpbGUobWVpX2ZpbGVuYW1lLCB3aWR0aCwgaGVpZ2h0LCBzdGFmZlNwYWNlKTtcbiAgICAgICAgZm0uYWRkRmlsZShuZXdNZWlGaWxlKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICB9KTtcbiAgfVxuICBjb25zdCBmaWxlbmFtZSA9IG1laV9maWxlbmFtZS5zdWJzdHJpbmcoMCwgbWVpX2ZpbGVuYW1lLmxlbmd0aC00KTtcbiAgLy8gbWFrZSBhbmQgYXBwZW5kIFVJIGVsZW1lbnRcbiAgY29uc3QgcGFpcmVkX2VsID0gY3JlYXRlUGFpcmVkRm9saW8oZmlsZW5hbWUsIG1laV9maWxlbmFtZSwgaW1hZ2VfZmlsZW5hbWUpO1xuICBwYWlyZWRfY29udGFpbmVyLmFwcGVuZENoaWxkKHBhaXJlZF9lbCk7XG4gIC8vIHJlZmxlY3QgaW4gZmlsZSBtYW5hZ2VyXG4gIGZtLmFkZEZvbGlvKGZpbGVuYW1lLCBtZWlfZmlsZW5hbWUsIGltYWdlX2ZpbGVuYW1lLCBpc0NyZWF0ZWQpO1xuICAvLyByZW1vdmUgZnJvbSB1bnBhaXJlZCBtZWkgYW5kIGltYWdlIGxpc3RzXG4gIGlmICghaXNDcmVhdGVkKSBzZWxlY3RlZE1laUVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xuICBzZWxlY3RlZEltYWdlRWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhaXJlZEZvbGlvKGZpbGVuYW1lOiBzdHJpbmcsIG1laV9maWxlbmFtZTogc3RyaW5nLCBpbWFnZV9maWxlbmFtZTogc3RyaW5nKTogSFRNTERpdkVsZW1lbnQge1xuICBjb25zdCBtZWlfY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZWlfbGlzdCcpO1xuICBjb25zdCBpbWFnZV9jb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ltYWdlX2xpc3QnKTtcblxuICBjb25zdCBmb2xpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBmb2xpby5jbGFzc05hbWUgPSAnZm9saW9faXRlbSc7XG4gIGZvbGlvLnNldEF0dHJpYnV0ZSgnbWVpJywgbWVpX2ZpbGVuYW1lKTtcbiAgZm9saW8uc2V0QXR0cmlidXRlKCdpbWFnZScsIGltYWdlX2ZpbGVuYW1lKTtcblxuICBjb25zdCBmb2xpb19maWxlbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBmb2xpb19maWxlbmFtZS5jbGFzc0xpc3QuYWRkKCdmb2xpby1maWxlbmFtZScpO1xuICBmb2xpb19maWxlbmFtZS5pbm5lckhUTUwgPSBmb3JtYXRGaWxlbmFtZShmaWxlbmFtZSwgNTApO1xuICBmb2xpby5hcHBlbmRDaGlsZChmb2xpb19maWxlbmFtZSk7IFxuXG4gIGZ1bmN0aW9uIGhhbmRsZVVucGFpcigpIHtcbiAgICAvLyByZW1vdmUgZm9saW8gZnJvbSBVSVxuICAgIGZvbGlvLnJlbW92ZSgpO1xuICAgIC8vIHJlbW92ZSBmb2xpbyBmcm9tIGZpbGUgbWFuYWdlclxuICAgIGNvbnN0IGlzQ3JlYXRlZCA9IGZtLmlzQ3JlYXRlZEZvbGlvKGZpbGVuYW1lKTtcbiAgICBmbS5yZW1vdmVGb2xpbyhmaWxlbmFtZSk7XG4gICAgLy8gYWRkIGl0ZW1zIGJhY2sgdG8gdW5wYWlyZWQgY29udGFpbmVyc1xuICAgIGlmICghaXNDcmVhdGVkKSB7XG4gICAgICBjb25zdCBtZWlJdGVtID0gY3JlYXRlVW5wYWlyZWRJdGVtKG1laV9maWxlbmFtZSwgJ21laScpO1xuICAgICAgbWVpX2NvbnRhaW5lci5hcHBlbmRDaGlsZChtZWlJdGVtKTtcbiAgICB9XG4gICAgY29uc3QgaW1hZ2VJdGVtID0gY3JlYXRlVW5wYWlyZWRJdGVtKGltYWdlX2ZpbGVuYW1lLCAnaW1hZ2UnKTtcbiAgICBpbWFnZV9jb250YWluZXIuYXBwZW5kQ2hpbGQoaW1hZ2VJdGVtKTtcbiAgfVxuXG4gIGNvbnN0IHVucGFpckJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICB1bnBhaXJCdG4uY2xhc3NOYW1lID0gJ3VucGFpcl9idG4nO1xuICB1bnBhaXJCdG4uc3JjID0gYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3VucGFpci1kb2Muc3ZnYDtcbiAgdW5wYWlyQnRuLnRpdGxlID0gJ3VucGFpcic7XG4gIHVucGFpckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVVucGFpcik7XG4gIGZvbGlvLmFwcGVuZENoaWxkKHVucGFpckJ0bik7XG5cbiAgcmV0dXJuIGZvbGlvO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlVXBsb2FkQWxsRG9jdW1lbnRzKGN1cnJlbnRGb2xkZXI6IElGb2xkZXIpOiBQcm9taXNlPHVua25vd24+IHtcbiAgY29uc3QgZm9saW9Qcm9taXNlcyA9IGZtLmdldEZvbGlvcygpXG4gICAgLm1hcCggYXN5bmMgKFtuYW1lLCBtZWksIGltYWdlXTogW3N0cmluZywgRmlsZSwgRmlsZV0pID0+IHtcbiAgICAgIGNvbnN0IGlkID0gdXVpZHY0KCk7XG4gICAgICByZXR1cm4gYXdhaXQgdXBsb2FkRm9saW8oaWQsIG5hbWUsIG1laSwgaW1hZ2UsIGN1cnJlbnRGb2xkZXIpO1xuICAgIH0pO1xuICBcbiAgY29uc3QgbWFudXNjcmlwdFByb21pc2VzID0gW107IC8vZm0uZ2V0TWFudXNjcmlwdHMoKVxuICAvLyAubWFwKCBhc3luYyAoZmlsZTogRmlsZSkgPT4ge1xuICAvLyAgIHJldHVybiBhd2FpdCB1cGxvYWRNYW51c2NyaXB0KGZpbGUpO1xuICAvLyB9KTtcblxuICBjb25zdCBwcm9taXNlcyA9IFsuLi5mb2xpb1Byb21pc2VzLCAuLi5tYW51c2NyaXB0UHJvbWlzZXNdXG4gICAgLm1hcChwID0+IFByb21pc2UucmVzb2x2ZShwKVxuICAgICAgLnRoZW4odmFsdWUgPT4gKHsgc3RhdHVzOiAnZnVsZmlsbGVkJywgdmFsdWUgfSksIHJlYXNvbiA9PiAoeyBzdGF0dXM6ICdyZWplY3RlZCcsIHJlYXNvbiB9KSlcbiAgICApO1xuICBcbiAgZm0uY2xlYXIoKTtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBsb2FkRm9saW8oaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBtZWk6IEZpbGUsIGltYWdlOiBGaWxlLCBjdXJyZW50Rm9sZGVyOiBJRm9sZGVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGNvbnN0IG5ld05hbWUgPSBmbkNvbmZsaWN0SGFuZGxlcihuYW1lLCBGaWxlU3lzdGVtVG9vbHMuZ2V0QWxsTmFtZXMoY3VycmVudEZvbGRlcikpO1xuICByZXR1cm4gY3JlYXRlTWFuaWZlc3QoaWQsIG5ld05hbWUsIG1laSwgaW1hZ2UpXG4gICAgLnRoZW4obWFuaWZlc3QgPT4ge1xuICAgICAgY29uc3QgbWFuaWZlc3RCbG9iID0gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KG1hbmlmZXN0LCBudWxsLCAyKV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2xkK2pzb24nIH0pO1xuICAgICAgY29uc3QgaXNTaW5nbGUgPSB0cnVlO1xuICAgICAgcmV0dXJuIGFkZERvY3VtZW50KGlkLCBuZXdOYW1lLCBtYW5pZmVzdEJsb2IsIGlzU2luZ2xlKTtcbiAgICB9KVxuICAgIC8vIGFkZCB0byBkYXNoYm9hcmQgRmlsZVN5c3RlbVxuICAgIC50aGVuKHN1Y2NlZWRlZCA9PiB7XG4gICAgICBpZiAoc3VjY2VlZGVkKSB7XG4gICAgICAgIGNvbnN0IGRhdGV0aW1lID0gbmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpO1xuICAgICAgICBjb25zdCBmaWxlRW50cnkgPSBGaWxlU3lzdGVtVG9vbHMuY3JlYXRlRmlsZShuZXdOYW1lLCBpZCk7XG4gICAgICAgIGNvbnN0IGZvbGlvRW50cnkgPSBGaWxlU3lzdGVtVG9vbHMuYWRkTWV0YWRhdGEoZmlsZUVudHJ5LCB7IHR5cGU6ICdmb2xpbycsIGNyZWF0ZWRfb246IGRhdGV0aW1lIH0pO1xuICAgICAgICBjb25zdCBpc0FkZGVkID0gRmlsZVN5c3RlbVRvb2xzLmFkZEVudHJ5KGZvbGlvRW50cnksIGN1cnJlbnRGb2xkZXIpO1xuICAgICAgICByZXR1cm4gaXNBZGRlZDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnZmFpbGVkIHRvIHVwbG9hZEZvbGlvOiAnICsgbmFtZSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8gYXN5bmMgZnVuY3Rpb24gdXBsb2FkTWFudXNjcmlwdChtYW51c2NyaXB0OiBGaWxlKTogUHJvbWlzZTxib29sZWFuPiB7XG4vLyAgIHJldHVybiBhZGRFbnRyeShtYW51c2NyaXB0Lm5hbWUsIG1hbnVzY3JpcHQsIGZhbHNlKTtcbi8vIH1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNvcnRGaWxlQnlOYW1lKHNvcnRCeU5hbWVCdG46IEVsZW1lbnQpOiBQcm9taXNlPHZvaWQ+ICB7XG4gIGNvbnN0IGZpbGVMaXN0ID0gc29ydEJ5TmFtZUJ0bi5wYXJlbnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgY29uc3QgZmlsZUVsZW1lbnRzID0gQXJyYXkuZnJvbShmaWxlTGlzdC5jaGlsZHJlbik7XG4gIFxuICBsZXQgaXNBc2NlbmRpbmcgPSBzb3J0QnlOYW1lQnRuLmNsYXNzTGlzdC5jb250YWlucygnYXJyb3ctdXAnKTtcblxuICBpZiAoaXNBc2NlbmRpbmcpIHtcbiAgICBzb3J0QnlOYW1lQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2Fycm93LXVwJyk7XG4gICAgc29ydEJ5TmFtZUJ0bi5jbGFzc0xpc3QuYWRkKCdhcnJvdy1kb3duJyk7XG4gICAgc29ydEJ5TmFtZUJ0bi5pbm5lckhUTUwgPSAnJiN4MjJDMTsnO1xuICB9IGVsc2Uge1xuICAgIHNvcnRCeU5hbWVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYXJyb3ctZG93bicpO1xuICAgIHNvcnRCeU5hbWVCdG4uY2xhc3NMaXN0LmFkZCgnYXJyb3ctdXAnKTtcbiAgICBzb3J0QnlOYW1lQnRuLmlubmVySFRNTCA9ICcmI3gyMkMwOyc7XG4gIH1cblxuICBpc0FzY2VuZGluZyA9ICFpc0FzY2VuZGluZztcblxuICBmaWxlRWxlbWVudHMuc29ydCgoYSwgYikgPT4ge1xuICAgIGNvbnN0IG5hbWVBID0gYS50ZXh0Q29udGVudC50cmltKCk7XG4gICAgY29uc3QgbmFtZUIgPSBiLnRleHRDb250ZW50LnRyaW0oKTtcbiAgICByZXR1cm4gaXNBc2NlbmRpbmcgPyBuYW1lQS5sb2NhbGVDb21wYXJlKG5hbWVCKSA6IG5hbWVCLmxvY2FsZUNvbXBhcmUobmFtZUEpO1xuICB9KTtcblxuICBmaWxlRWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICBmaWxlTGlzdC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfSk7XG5cbiAgc29ydEJ5TmFtZUJ0bi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2NvbG9yOiBibGFjaycpO1xufVxuXG4vLyBhc3luYyBmdW5jdGlvbiB1cGxvYWRNYW51c2NyaXB0KG1hbnVzY3JpcHQ6IEZpbGUsIGN1cnJlbnRGb2xkZXI6IElGb2xkZXIsIGV4aXN0aW5nTmFtZXM6IHN0cmluZ1tdKTogUHJvbWlzZTxib29sZWFuPiB7XG4vLyAgIGNvbnN0IGlzU2luZ2xlID0gZmFsc2U7XG4vLyAgIGNvbnN0IGlkID0gbWFudXNjcmlwdFsnQGlkJ10gIT09IG51bGwgPyBtYW51c2NyaXB0WydAaWQnXSA6IG1hbnVzY3JpcHQubmFtZTtcbi8vICAgcmV0dXJuIGFkZEVudHJ5KGlkLCBtYW51c2NyaXB0Lm5hbWUsIG1hbnVzY3JpcHQsIGlzU2luZ2xlKVxuLy8gICAgIC8vIGFkZCB0byBkYXNoYm9hcmQgRmlsZVN5c3RlbVxuLy8gICAgIC50aGVuKHN1Y2NlZWRlZCA9PiB7XG4vLyAgICAgICBpZiAoc3VjY2VlZGVkKSB7XG4vLyAgICAgICAgIGNvbnN0IG5ld05hbWUgPSBmbkNvbmZsaWN0SGFuZGxlcihtYW51c2NyaXB0Lm5hbWUsIGV4aXN0aW5nTmFtZXMpO1xuLy8gICAgICAgICBjb25zdCBkYXRldGltZSA9IG5ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKTtcbi8vICAgICAgICAgY29uc3QgZmlsZUVudHJ5ID0gRmlsZVN5c3RlbVRvb2xzLmNyZWF0ZUZpbGUobmV3TmFtZSwgaWQpO1xuLy8gICAgICAgICBjb25zdCBtYW51c2NyaXB0RW50cnkgPSBGaWxlU3lzdGVtVG9vbHMuYWRkTWV0YWRhdGEoZmlsZUVudHJ5LCB7IHR5cGU6ICdtYW51c2NyaXB0JywgY3JlYXRlZF9vbjogZGF0ZXRpbWUgfSk7XG4vLyAgICAgICAgIGNvbnN0IGlzQWRkZWQgPSBGaWxlU3lzdGVtVG9vbHMuYWRkRW50cnkobWFudXNjcmlwdEVudHJ5LCBjdXJyZW50Rm9sZGVyKTtcbi8vICAgICAgICAgcmV0dXJuIGlzQWRkZWQ7XG4vLyAgICAgICB9XG4vLyAgICAgICBlbHNlIHtcbi8vICAgICAgICAgY29uc29sZS5sb2coJ2ZhaWxlZCB0byB1cGxvYWRGb2xpbzogJyArIG5hbWUpO1xuLy8gICAgICAgICByZXR1cm4gZmFsc2U7XG4vLyAgICAgICB9XG4vLyAgICAgfSk7XG4vLyB9XG5cbi8vIExpbWl0IGZpbGVuYW1lIGxlbmd0aFxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEZpbGVuYW1lKGZpbGVuYW1lOiBzdHJpbmcsIG1heExlbjogbnVtYmVyKTogc3RyaW5nIHtcbiAgY29uc3QgY2h1bmtMZW4gPSBNYXRoLmZsb29yKG1heExlbi8yKTtcbiAgY29uc3QgbGVuID0gZmlsZW5hbWUubGVuZ3RoO1xuICBpZiAobGVuIDw9IG1heExlbikgcmV0dXJuIGZpbGVuYW1lO1xuICBlbHNlIHJldHVybiBgJHtmaWxlbmFtZS5zdWJzdHJpbmcoMCxjaHVua0xlbi0xKX0uLi4ke2ZpbGVuYW1lLnN1YnN0cmluZyhsZW4tY2h1bmtMZW4rMiwgbGVuKX1gO1xufVxuXG4vLyBSZW5hbWVzIGZpbGUgaWYgdGhlcmUgYXJlIG5hbWluZyBjb25mbGljdHMsIGluIHRoZSBmb3JtIG9mICdmb29iYXIgKDEpJ1xuZXhwb3J0IGZ1bmN0aW9uIGZuQ29uZmxpY3RIYW5kbGVyKGZpbGVuYW1lOiBzdHJpbmcsIGV4aXN0aW5nTmFtZXM6IHN0cmluZ1tdKTogc3RyaW5nIHtcbiAgbGV0IG5ld0ZpbGVuYW1lID0gZmlsZW5hbWU7XG4gIGxldCBjb3VudGVyID0gMTtcblxuICB3aGlsZSAoZXhpc3RpbmdOYW1lcy5pbmNsdWRlcyhuZXdGaWxlbmFtZSkpIHtcbiAgICBuZXdGaWxlbmFtZSA9IGAke2ZpbGVuYW1lfSgke2NvdW50ZXJ9KWA7XG4gICAgY291bnRlcisrO1xuICB9XG4gIHJldHVybiBuZXdGaWxlbmFtZTtcbn0iLCJpbXBvcnQgeyB1dWlkdjQgfSBmcm9tICcuLi91dGlscy9yYW5kb20nO1xuaW1wb3J0ICogYXMgdmtiZWF1dGlmeSBmcm9tICd2a2JlYXV0aWZ5JztcblxuLyoqXG4gKiBNYW5hZ2VyIGZvciBmaWxlIHVwbG9hZGluZyBhbmQgcGFpcmluZyBwcm9jZXNzXG4gKi9cbmNsYXNzIFVwbG9hZEZpbGVNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFVwbG9hZEZpbGVNYW5hZ2VyO1xuXG4gIHByaXZhdGUgYWxsRmlsZXMgPSBuZXcgTWFwPHN0cmluZywge2ZpbGU6IEZpbGUsIGNvdW50OiBudW1iZXJ9PigpO1xuICBwcml2YXRlIGZvbGlvcyA9IG5ldyBBcnJheTxmb2xpbz4oKTsgLy8gZmlsZW5hbWUsIG1laV9maWxlbmFtZSwgaW1hZ2VfZmlsZW5hbWVcbiAgLy8gcHJpdmF0ZSBtYW51c2NyaXB0cyA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XG4gIHByaXZhdGUgbWVpVGVtcGxhdGU6IHN0cmluZztcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7fVxuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogVXBsb2FkRmlsZU1hbmFnZXIge1xuICAgIGlmICghVXBsb2FkRmlsZU1hbmFnZXIuaW5zdGFuY2UpIHtcbiAgICAgIFVwbG9hZEZpbGVNYW5hZ2VyLmluc3RhbmNlID0gbmV3IFVwbG9hZEZpbGVNYW5hZ2VyKCk7XG4gICAgfVxuICAgIHJldHVybiBVcGxvYWRGaWxlTWFuYWdlci5pbnN0YW5jZTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRGaWxlKGZpbGU6IEZpbGUpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuYWxsRmlsZXMuaGFzKGZpbGUubmFtZSkpIHtcbiAgICAgIGNvbnN0IG5ld0VudHJ5ID0geyBmaWxlOiBmaWxlLCBjb3VudDogMSB9O1xuICAgICAgdGhpcy5hbGxGaWxlcy5zZXQoZmlsZS5uYW1lLCBuZXdFbnRyeSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc3QgZXhpc3RpbmdDb3VudCA9IHRoaXMuZ2V0RmlsZUNvdW50KGZpbGUubmFtZSk7XG4gICAgICBjb25zdCB1cGRhdGVkRW50cnkgPSB7IGZpbGU6IGZpbGUsIGNvdW50OiBleGlzdGluZ0NvdW50KzEgfTtcbiAgICAgIHRoaXMuYWxsRmlsZXMuc2V0KGZpbGUubmFtZSwgdXBkYXRlZEVudHJ5KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc2V0TWVpVGVtcGxhdGUodGVtcGxhdGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0ZW1wbGF0ZVBhdGgpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIE1FSSB0ZW1wbGF0ZSBmcm9tICR7dGVtcGxhdGVQYXRofWApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1laVRlbXBsYXRlID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgY3JlYXRlTWVpRmlsZShmaWxlbmFtZTogc3RyaW5nLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgc3RhZmZTcGFjZTogbnVtYmVyKTogRmlsZSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy5tZWlUZW1wbGF0ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIE1FSSB0ZW1wbGF0ZScpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICBjb25zdCBzZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcbiAgICAgIGNvbnN0IG1laURvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcodGhpcy5tZWlUZW1wbGF0ZSwgJ3RleHQveG1sJyk7XG4gICAgICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgICBjb25zdCBtZWlIZWFkID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ21laUhlYWQnKTtcbiAgICAgIG1laUhlYWQuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgY29uc3QgZmlsZURlc2MgPSBtZWkucXVlcnlTZWxlY3RvcignZmlsZURlc2MnKTtcbiAgICAgIGZpbGVEZXNjLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgIGNvbnN0IHRpdGxlU3RtdCA9IG1laS5xdWVyeVNlbGVjdG9yKCd0aXRsZVN0bXQnKTtcbiAgICAgIHRpdGxlU3RtdC5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICBjb25zdCB0aXRsZSA9IG1laS5xdWVyeVNlbGVjdG9yKCd0aXRsZScpO1xuICAgICAgdGl0bGUuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgY29uc3QgcHViU3RtdCA9IG1laS5xdWVyeVNlbGVjdG9yKCdwdWJTdG10Jyk7XG4gICAgICBwdWJTdG10LnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgIGNvbnN0IGZhY3NpbWlsZSA9IG1laS5xdWVyeVNlbGVjdG9yKCdmYWNzaW1pbGUnKTtcbiAgICAgIGZhY3NpbWlsZS5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICBjb25zdCBzdXJmYWNlID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ3N1cmZhY2UnKTtcbiAgICAgIGNvbnN0IHN1cmZhY2VJZCA9ICdtLScgKyB1dWlkdjQoKTtcbiAgICAgIHN1cmZhY2Uuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCBzdXJmYWNlSWQpO1xuICAgICAgc3VyZmFjZS5zZXRBdHRyaWJ1dGUoJ2xyeCcsIHdpZHRoLnRvU3RyaW5nKCkpO1xuICAgICAgc3VyZmFjZS5zZXRBdHRyaWJ1dGUoJ2xyeScsIGhlaWdodC50b1N0cmluZygpKTtcbiAgICAgIFxuICAgICAgY29uc3Qgem9uZSA9IG1laS5xdWVyeVNlbGVjdG9yKCd6b25lJyk7XG4gICAgICBjb25zdCB6b25lSWQgPSAnbS0nICsgdXVpZHY0KCk7XG4gICAgICB6b25lLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgem9uZUlkKTtcbiAgICAgIGNvbnN0IG1hcmdpblJhdGVWID0gMC4xO1xuICAgICAgY29uc3QgbWFyZ2luUmF0ZUggPSAwLjE1O1xuICAgICAgY29uc3QgbWFyZ2luViA9IE1hdGgucm91bmQobWFyZ2luUmF0ZVYgKiB3aWR0aCk7XG4gICAgICBjb25zdCBtYXJnaW5IID0gTWF0aC5yb3VuZChtYXJnaW5SYXRlSCAqIHdpZHRoKTtcbiAgICAgIHpvbmUuc2V0QXR0cmlidXRlKCd1bHgnLCBtYXJnaW5ILnRvU3RyaW5nKCkpO1xuICAgICAgem9uZS5zZXRBdHRyaWJ1dGUoJ3VseScsIG1hcmdpblYudG9TdHJpbmcoKSk7XG4gICAgICB6b25lLnNldEF0dHJpYnV0ZSgnbHJ4JywgKHdpZHRoIC0gbWFyZ2luSCkudG9TdHJpbmcoKSk7XG4gICAgICB6b25lLnNldEF0dHJpYnV0ZSgnbHJ5JywgKG1hcmdpblYgKyAzICogc3RhZmZTcGFjZSkudG9TdHJpbmcoKSk7XG5cbiAgICAgIGNvbnN0IG1kaXYgPSBtZWkucXVlcnlTZWxlY3RvcignbWRpdicpO1xuICAgICAgbWRpdi5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICBjb25zdCBzY29yZSA9IG1laS5xdWVyeVNlbGVjdG9yKCdzY29yZScpO1xuICAgICAgc2NvcmUuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgY29uc3Qgc2NvcmVEZWYgPSBtZWkucXVlcnlTZWxlY3Rvcignc2NvcmVEZWYnKTtcbiAgICAgIHNjb3JlRGVmLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgIGNvbnN0IHN0YWZmR3JwID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ3N0YWZmR3JwJyk7XG4gICAgICBzdGFmZkdycC5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICBjb25zdCBzdGFmZkRlZiA9IG1laS5xdWVyeVNlbGVjdG9yKCdzdGFmZkRlZicpO1xuICAgICAgc3RhZmZEZWYuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgY29uc3Qgc2VjdGlvbiA9IG1laS5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uJyk7XG4gICAgICBzZWN0aW9uLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgIGNvbnN0IHBiID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ3BiJyk7XG4gICAgICBwYi5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICBwYi5zZXRBdHRyaWJ1dGUoJ2ZhY3MnLCAnIycgKyBzdXJmYWNlSWQpO1xuICAgICAgY29uc3Qgc2IgPSBtZWkucXVlcnlTZWxlY3Rvcignc2InKTtcbiAgICAgIHNiLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgIHNiLnNldEF0dHJpYnV0ZSgnZmFjcycsICcjJyArIHpvbmVJZCk7XG5cbiAgICAgIGNvbnN0IG1laUZpbGVDb250ZW50ID0gdmtiZWF1dGlmeS54bWwoc2VyaWFsaXplci5zZXJpYWxpemVUb1N0cmluZyhtZWlEb2MpKTtcbiAgICAgIGNvbnN0IG1laUJsb2IgPSBuZXcgQmxvYihbbWVpRmlsZUNvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L3htbCcgfSk7XG5cbiAgICAgIHJldHVybiBuZXcgRmlsZShbbWVpQmxvYl0sIGZpbGVuYW1lLCB7IHR5cGU6ICd0ZXh0L3htbCcgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfSBcblxuICBwdWJsaWMgZ2V0SW1nRGltZW5zaW9uKGZpbGVuYW1lOiBzdHJpbmcpOiBQcm9taXNlPHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIsIHN0YWZmU3BhY2U6IG51bWJlciB9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGltZ0ZpbGUgPSB0aGlzLmdldEZpbGUoZmlsZW5hbWUpO1xuXG4gICAgICBpZiAoIWltZ0ZpbGUpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgRmlsZSBub3QgZm91bmQ6ICR7ZmlsZW5hbWV9YCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICAgIHJlYWRlci5vbmxvYWQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJywgeyB3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWUgfSk7XG4gICAgICAgICAgaWYgKCFjdHgpIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0NvdWxkIG5vdCBnZXQgMkQgY29udGV4dCcpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7XG4gICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuXG4gICAgICAgICAgLy8gQmluYXJpemF0aW9uXG4gICAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgIGNvbnN0IGJpbmFyeVRocmVzaG9sZCA9IDEyNztcbiAgICAgICAgICBjb25zdCBkYXRhID0gaW1hZ2VEYXRhLmRhdGE7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgICAgICAgICBjb25zdCBncmF5c2NhbGUgPSAoZGF0YVtpXSArIGRhdGFbaSArIDFdICsgZGF0YVtpICsgMl0pIC8gMztcbiAgICAgICAgICAgIGNvbnN0IGJpbmFyeVZhbHVlID0gZ3JheXNjYWxlIDwgYmluYXJ5VGhyZXNob2xkID8gMCA6IDI1NTtcbiAgICAgICAgICAgIGRhdGFbaV0gPSBiaW5hcnlWYWx1ZTtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gYmluYXJ5VmFsdWU7XG4gICAgICAgICAgICBkYXRhW2kgKyAyXSA9IGJpbmFyeVZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdHgucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XG5cbiAgICAgICAgICAvLyBGaW5kaW5nIHN0YWZmIHNwYWNlXG4gICAgICAgICAgY29uc3Qgd2hpdGVSdW5MZW5ndGhzOiBudW1iZXJbXSA9IFtdOyAgXG4gICAgICAgICAgbGV0IGN1cnJTcGFjZUNvdW50ID0gMDtcbiAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGNhbnZhcy53aWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAvLyBuZXcgY3VyclNwYWNlQ291bnQgZm9yIGV2ZXJ5IGNvbHVtblxuICAgICAgICAgICAgY29uc3QgY29sdW1uID0gY3R4LmdldEltYWdlRGF0YSh4LCAwLCAxLCBjYW52YXMuaGVpZ2h0KS5kYXRhO1xuICAgICAgICAgICAgZm9yIChsZXQgcCA9IDA7IHAgPCBjb2x1bW4ubGVuZ3RoOyBwICs9IDQpIHtcbiAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBpeGVsIGlzIGJsYWNrICgwKSBvciB3aGl0ZSAoMjU1KVxuICAgICAgICAgICAgICBpZiAoY29sdW1uW3BdID09PSAwICYmIGN1cnJTcGFjZUNvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIHdoaXRlUnVuTGVuZ3Rocy5wdXNoKGN1cnJTcGFjZUNvdW50KTtcbiAgICAgICAgICAgICAgICBjdXJyU3BhY2VDb3VudCA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VyclNwYWNlQ291bnQrKztcbiAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBHZXQgdGhlIHNlY29uZCBtb3N0IGNvbW1vbiB2YWx1ZSBhcyBzdGFmZiBzcGFjZVxuICAgICAgICAgIGNvbnN0IHN0YWZmU3BhY2UgPSB3aGl0ZVJ1bkxlbmd0aHMubGVuZ3RoID4gMCA/IHRoaXMuZmluZFNlY29uZE1vZGUod2hpdGVSdW5MZW5ndGhzKSA6IDA7XG5cbiAgICAgICAgICByZXNvbHZlKHsgd2lkdGg6IGltZy53aWR0aCwgaGVpZ2h0OiBpbWcuaGVpZ2h0LCBzdGFmZlNwYWNlOiAgc3RhZmZTcGFjZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1nLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgaW1hZ2U6ICR7ZmlsZW5hbWV9YCkpO1xuICAgICAgICB9O1xuICAgICAgICBpbWcuc3JjID0gZXZlbnQudGFyZ2V0LnJlc3VsdCBhcyBzdHJpbmc7XG4gICAgICB9O1xuXG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbWdGaWxlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZFNlY29uZE1vZGUoYXJyOiBudW1iZXJbXSk6IG51bWJlciB7XG4gICAgY29uc3QgY291bnRNYXA6IE1hcDxudW1iZXIsIG51bWJlcj4gPSBuZXcgTWFwKCk7XG5cbiAgICAvLyBDb3VudCBvY2N1cnJlbmNlcyBvZiBlYWNoIGVsZW1lbnRcbiAgICBhcnIuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGNvbnN0IGNvdW50ID0gKGNvdW50TWFwLmdldChlbGVtZW50KSB8fCAwKSArIDE7XG4gICAgICBjb3VudE1hcC5zZXQoZWxlbWVudCwgY291bnQpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgc29ydGVkTWFwID0gQXJyYXkuZnJvbShjb3VudE1hcC5lbnRyaWVzKCkpLnNvcnQoKGEsIGIpID0+IGJbMV0gLSBhWzFdKTtcblxuICAgIHJldHVybiBzb3J0ZWRNYXBbMV1bMF07XG4gIH1cblxuXG4gIHB1YmxpYyBnZXRGaWxlKGtleTogc3RyaW5nKTogRmlsZSB7XG4gICAgaWYgKHRoaXMuYWxsRmlsZXMuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmFsbEZpbGVzLmdldChrZXkpLmZpbGU7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlbW92ZUZpbGUoa2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBjb3VudCA9IHRoaXMuZ2V0RmlsZUNvdW50KGtleSk7XG4gICAgaWYgKGNvdW50ID09PSAwKSByZXR1cm47XG4gICAgZWxzZSBpZiAoY291bnQgPT09IDEpIHtcbiAgICAgIHRoaXMuYWxsRmlsZXMuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc3QgdXBkYXRlZEVudHJ5ID0geyBmaWxlOiB0aGlzLmFsbEZpbGVzLmdldChrZXkpLmZpbGUsIGNvdW50OiBjb3VudC0xIH07XG4gICAgICB0aGlzLmFsbEZpbGVzLnNldChrZXksIHVwZGF0ZWRFbnRyeSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldEZpbGVDb3VudChrZXk6IHN0cmluZyk6IG51bWJlciB7XG4gICAgaWYgKCB0aGlzLmFsbEZpbGVzLmhhcyhrZXkpICkge1xuICAgICAgcmV0dXJuIHRoaXMuYWxsRmlsZXMuZ2V0KGtleSkuY291bnQ7XG4gICAgfVxuICAgIGVsc2UgcmV0dXJuIDA7XG4gIH1cblxuICBwdWJsaWMgYWRkRm9saW8obmFtZTogc3RyaW5nLCBtZWk6IHN0cmluZywgaW1hZ2U6IHN0cmluZywgaXNDcmVhdGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgY29uc3QgbmV3Rm9saW86IGZvbGlvID0ge1xuICAgICAgZmlsZW5hbWU6IG5hbWUsXG4gICAgICBtZWlfZmlsZW5hbWU6IG1laSxcbiAgICAgIGltYWdlX2ZpbGVuYW1lOiBpbWFnZSxcbiAgICAgIGlzQ3JlYXRlZDogaXNDcmVhdGVkLFxuICAgIH07XG4gICAgdGhpcy5mb2xpb3MucHVzaChuZXdGb2xpbyk7XG4gIH1cblxuICAvLyBwdWJsaWMgYWRkTWFudXNjcmlwdChmaWxlbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gIC8vICAgdGhpcy5tYW51c2NyaXB0cy5wdXNoKGZpbGVuYW1lKTtcbiAgLy8gfVxuXG4gIHB1YmxpYyBpc0NyZWF0ZWRGb2xpbyhmaWxlbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZm9saW8gPSB0aGlzLmZvbGlvcy5maW5kKChmb2xpbykgPT4gZm9saW8uZmlsZW5hbWUgPT09IGZpbGVuYW1lKTtcbiAgICByZXR1cm4gZm9saW8gPyBmb2xpby5pc0NyZWF0ZWQgOiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyByZW1vdmVGb2xpbyhmaWxlbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgaWR4ID0gdGhpcy5mb2xpb3MuZmluZEluZGV4KCBmb2xpbyA9PiBmb2xpby5maWxlbmFtZSA9PT0gZmlsZW5hbWUpO1xuICAgIHRoaXMuZm9saW9zLnNwbGljZShpZHgsIDEpO1xuICB9XG5cbiAgLy8gcHVibGljIHJlbW92ZU1hbnVzY3JpcHQoZmlsZW5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAvLyAgIGNvbnN0IGlkeCA9IHRoaXMubWFudXNjcmlwdHMuZmluZEluZGV4KG1hbnVzY3JpcHQgPT4gbWFudXNjcmlwdCA9PT0gZmlsZW5hbWUpO1xuICAvLyAgIHRoaXMubWFudXNjcmlwdHMuc3BsaWNlKGlkeCk7XG4gIC8vICAgdGhpcy5yZW1vdmVGaWxlKGZpbGVuYW1lKTtcbiAgLy8gfVxuXG4gIHB1YmxpYyBnZXRGb2xpb3MoKTogW3N0cmluZywgRmlsZSwgRmlsZV1bXSB7XG4gICAgcmV0dXJuIHRoaXMuZm9saW9zLm1hcCggZm9saW8gPT4ge1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSBmb2xpby5maWxlbmFtZTtcbiAgICAgIGNvbnN0IG1laV9maWxlbmFtZSA9IGZvbGlvLm1laV9maWxlbmFtZTtcbiAgICAgIGNvbnN0IGltYWdlX2ZpbGVuYW1lID0gZm9saW8uaW1hZ2VfZmlsZW5hbWU7XG4gICAgICByZXR1cm4gW2ZpbGVuYW1lLCB0aGlzLmdldEZpbGUobWVpX2ZpbGVuYW1lKSwgdGhpcy5nZXRGaWxlKGltYWdlX2ZpbGVuYW1lKV07XG4gICAgfSk7XG4gIH1cblxuICAvLyBwdWJsaWMgZ2V0TWFudXNjcmlwdHMoKTogRmlsZVtdIHtcbiAgLy8gICByZXR1cm4gdGhpcy5tYW51c2NyaXB0cy5tYXAoIG1hbnVzY3JpcHQgPT4gdGhpcy5nZXRGaWxlKG1hbnVzY3JpcHQpKTtcbiAgLy8gfVxuXG4gIC8vIHB1YmxpYyBjbGVhck1hbnVzY3JpcHRzKCk6IHZvaWQge1xuICAvLyAgIHRoaXMubWFudXNjcmlwdHMuZm9yRWFjaCggZmlsZW5hbWUgPT4ge1xuICAvLyAgICAgdGhpcy5yZW1vdmVGaWxlKGZpbGVuYW1lKTtcbiAgLy8gICB9KTtcbiAgLy8gICB0aGlzLm1hbnVzY3JpcHRzID0gW107XG4gIC8vIH1cbiAgXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLmFsbEZpbGVzLmNsZWFyKCk7XG4gICAgdGhpcy5mb2xpb3Muc3BsaWNlKDApO1xuICB9XG5cbiAgcHVibGljIHByaW50KCk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKHRoaXMuYWxsRmlsZXMpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuZm9saW9zKTtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm1hbnVzY3JpcHRzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBVcGxvYWRGaWxlTWFuYWdlcjtcblxudHlwZSBmb2xpbyA9IHtcbiAgZmlsZW5hbWU6IHN0cmluZyxcbiAgbWVpX2ZpbGVuYW1lOiBzdHJpbmcsXG4gIGltYWdlX2ZpbGVuYW1lOiBzdHJpbmcsXG4gIGlzQ3JlYXRlZDogYm9vbGVhbixcbn07IiwiLy8gSWYgdXNlciByaWdodC1jbGlja3Mgb24gYmFja2dyb3VuZCBhbmQgbm90aGluZyBpcyBzZWxlY3RlZFxuZXhwb3J0IGNvbnN0IGRlZmF1bHRPcHRpb25zID0gXG4gICAgYDxkaXYgaWQ9XCJjbS11cGxvYWQtZG9jLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5VcGxvYWQgZG9jdW1lbnQ8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9uZXctZG9jLnN2Z1wiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJjbS1uZXctZm9sZGVyLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5OZXcgZm9sZGVyPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbmV3LWZvbGRlci5zdmdcIj5cbiAgICA8L2Rpdj5gO1xuXG4vLyBJZiBhIHNpbmdsZSBmaWxlIGlzIHNlbGVjdGVkXG5leHBvcnQgY29uc3Qgc2luZ2xlRmlsZU9wdGlvbnMgPSBcbiAgICBgPGRpdiBpZD1cImNtLW9wZW4tYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPk9wZW48L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9vcGVuLWRvYy5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiY20tcmVtb3ZlLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5Nb3ZlIHRvIFRyYXNoPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcmVtb3ZlLWRvYy5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiY20tcmVuYW1lLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5SZW5hbWU8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9yZW5hbWUtZG9jLnN2Z1wiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJjbS1tb3ZlLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5Nb3ZlPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbW92ZS1kb2MtaWNvbi5zdmdcIj5cbiAgICA8L2Rpdj5gO1xuXG4vLyBJZiBtdWx0aXBsZSBmaWxlcyBhcmUgc2VsZWN0ZWRcbmV4cG9ydCBjb25zdCBtdWx0aUZpbGVPcHRpb25zID0gXG4gICAgYDxkaXYgaWQ9XCJjbS1vcGVuLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5PcGVuPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvb3Blbi1kb2Muc3ZnXCI+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBpZD1cImNtLXJlbW92ZS1idG5cIiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtXCI+TW92ZSB0byBUcmFzaDwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3JlbW92ZS1kb2Muc3ZnXCI+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBpZD1cImNtLW1vdmUtYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPk1vdmU8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9tb3ZlLWRvYy1pY29uLnN2Z1wiPlxuICAgIDwvZGl2PmA7XG5cbi8vIElmIDEgb3IgbW9yZSBmaWxlcyBhbmQgMSBvciBtb3JlIGZvbGRlcnMgYXJlIHNlbGVjdGVkXG5leHBvcnQgY29uc3QgZm9sZGVyQW5kRmlsZU9wdGlvbnMgPSBcbiAgICBgPGRpdiBpZD1cImNtLXJlbW92ZS1idG5cIiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtXCI+RGVsZXRlPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcmVtb3ZlLWRvYy5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiY20tbW92ZS1idG5cIiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtXCI+TW92ZTwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL21vdmUtZG9jLWljb24uc3ZnXCI+XG4gICAgPC9kaXY+YDtcblxuLy8gSWYgb25lIGZvbGRlciBpcyBzZWxlY3RlZFxuZXhwb3J0IGNvbnN0IHNpbmdsZUZvbGRlck9wdGlvbnMgPSBcbiAgICBgPGRpdiBpZD1cImNtLW9wZW4tYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPk9wZW48L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9vcGVuLWRvYy5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiY20tcmVtb3ZlLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5Nb3ZlIHRvIFRyYXNoPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcmVtb3ZlLWRvYy5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiY20tcmVuYW1lLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5SZW5hbWU8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9yZW5hbWUtZG9jLnN2Z1wiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJjbS1tb3ZlLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5Nb3ZlPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbW92ZS1kb2MtaWNvbi5zdmdcIj5cbiAgICA8L2Rpdj5gO1xuXG4vLyBJZiBtdWx0aXBsZSBmb2xkZXJzIGFyZSBzZWxlY3RlZFxuZXhwb3J0IGNvbnN0IG11bHRpRm9sZGVyT3B0aW9ucyA9IFxuICAgIGA8ZGl2IGlkPVwiY20tcmVtb3ZlLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5Nb3ZlIHRvIFRyYXNoPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcmVtb3ZlLWRvYy5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiY20tbW92ZS1idG5cIiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtXCI+TW92ZTwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL21vdmUtZG9jLWljb24uc3ZnXCI+XG4gICAgPC9kaXY+YDtcblxuLy8gSWYgdHJhc2ggZm9sZGVyIGlzIHNlbGVjdGVkXG5leHBvcnQgY29uc3QgdHJhc2hGb2xkZXJPcHRpb25zID0gXG4gICAgYDxkaXYgaWQ9XCJjbS1lbXB0eS10cmFzaC1idG5cIiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtXCI+RW1wdHkgVHJhc2g8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9yZW1vdmUtZG9jLnN2Z1wiPlxuICAgIDwvZGl2PmA7XG5cbi8vIElmIGVudHJ5IGluIHRyYXNoIGZvbGRlciBpcyBzZWxlY3RlZFxuZXhwb3J0IGNvbnN0IHRyYXNoRW50cnlPcHRpb25zID0gXG4gICAgYDxkaXYgaWQ9XCJjbS1yZWNvdmVyLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5QdXQgQmFjazwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3JlY292ZXItZG9jLnN2Z1wiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJjbS1kZWxldGUtYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPkRlbGV0ZTwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3JlbW92ZS1kb2Muc3ZnXCI+XG4gICAgPC9kaXY+YDtcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==